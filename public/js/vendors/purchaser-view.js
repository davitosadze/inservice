/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["purchaser-view"],{

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  props: [\"isVisible\", \"selectedDate\", \"purchaserId\", \"onEdit\", \"eventId\"],\n  data: function data() {\n    return {\n      title: \"\",\n      data: \"2024-01-01\"\n    };\n  },\n  created: function created() {\n    this.initializeModal();\n  },\n  watch: {\n    isVisible: function isVisible(newVal) {\n      if (newVal) {\n        this.initializeModal();\n      }\n    }\n  },\n  methods: {\n    closeModal: function closeModal() {\n      this.$emit(\"close-modal\");\n    },\n    initializeModal: function initializeModal() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var eventResponse, eventData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.onEdit) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"/calendar/events/\".concat(_this.eventId));\n\n              case 4:\n                eventResponse = _context.sent;\n                eventData = eventResponse.data;\n                _this.title = eventData.title;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                console.error(\"Error fetching event data:\", _context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }))();\n    },\n    processEvent: function processEvent() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var csrfToken, endpoint, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.$emit(\"add-event\", {\n                  title: _this2.title,\n                  date: _this2.selectedDate\n                });\n\n                _context2.prev = 1;\n                csrfToken = document.cookie.replace(/(?:(?:^|.*;\\s*)csrfToken\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\");\n                axios.defaults.headers.common[\"X-CSRF-Token\"] = csrfToken;\n                endpoint = _this2.onEdit ? \"/calendar/update-event/\".concat(_this2.eventId) : \"/calendar/add-event\";\n                _context2.next = 7;\n                return axios.post(endpoint, {\n                  date: _this2.selectedDate,\n                  title: _this2.title,\n                  purchaser_id: _this2.purchaserId\n                });\n\n              case 7:\n                response = _context2.sent;\n\n                _this2.$emit(\"eventStored\");\n\n                _this2.isModalVisible = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](1);\n                alert(\"Error: Failed to add event.\");\n\n              case 15:\n                _this2.title = \"\";\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 12]]);\n      }))();\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vcmVzb3VyY2VzL2pzL2FwcC9jb21wb25lbnRzL0NhbGVuZGFyRXZlbnRNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OytDQTJDQTs7Ozs7O0FBQUEsaUVBQWU7RUFDWEEsS0FBSyxFQUFFLENBQUMsV0FBRCxFQUFjLGNBQWQsRUFBOEIsYUFBOUIsRUFBNkMsUUFBN0MsRUFBdUQsU0FBdkQsQ0FESTtFQUVYQyxJQUZXLGtCQUVKO0lBQ0gsT0FBTztNQUNIQyxLQUFLLEVBQUUsRUFESjtNQUVIRCxJQUFJLEVBQUU7SUFGSCxDQUFQO0VBSUgsQ0FQVTtFQVFYRSxPQVJXLHFCQVFEO0lBQ04sS0FBS0MsZUFBTDtFQUNILENBVlU7RUFXWEMsS0FBSyxFQUFFO0lBQ0hDLFNBREcscUJBQ09DLE1BRFAsRUFDZTtNQUNkLElBQUlBLE1BQUosRUFBWTtRQUNSLEtBQUtILGVBQUw7TUFDSjtJQUNIO0VBTEUsQ0FYSTtFQWtCWEksT0FBTyxFQUFFO0lBQ0xDLFVBREssd0JBQ1E7TUFDVCxLQUFLQyxLQUFMLENBQVcsYUFBWDtJQUNILENBSEk7SUFJQ04sZUFKRCw2QkFJbUI7TUFBQTs7TUFBQTtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUEsS0FDaEIsS0FBSSxDQUFDTyxNQURXO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQTtnQkFBQTtnQkFBQSxPQUdnQkMsS0FBSyxDQUFDQyxHQUFOLDRCQUNKLEtBQUksQ0FBQ0MsT0FERCxFQUhoQjs7Y0FBQTtnQkFHTkMsYUFITTtnQkFNTkMsU0FOTSxHQU1NRCxhQUFhLENBQUNkLElBTnBCO2dCQU9aLEtBQUksQ0FBQ0MsS0FBTCxHQUFhYyxTQUFTLENBQUNkLEtBQXZCO2dCQVBZO2dCQUFBOztjQUFBO2dCQUFBO2dCQUFBO2dCQVNaZSxPQUFPLENBQUNDLEtBQVIsQ0FBYyw0QkFBZDs7Y0FUWTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUE7SUFZdkIsQ0FoQkk7SUFpQkNDLFlBakJELDBCQWlCZ0I7TUFBQTs7TUFBQTtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ2pCLE1BQUksQ0FBQ1QsS0FBTCxDQUFXLFdBQVgsRUFBd0I7a0JBQ3BCUixLQUFLLEVBQUUsTUFBSSxDQUFDQSxLQURRO2tCQUVwQmtCLElBQUksRUFBRSxNQUFJLENBQUNDO2dCQUZTLENBQXhCOztnQkFEaUI7Z0JBTVBDLFNBTk8sR0FNS0MsUUFBUSxDQUFDQyxNQUFULENBQWdCQyxPQUFoQixDQUNkLGlEQURjLEVBRWQsSUFGYyxDQU5MO2dCQVViYixLQUFLLENBQUNjLFFBQU4sQ0FBZUMsT0FBZixDQUF1QkMsTUFBdkIsQ0FBOEIsY0FBOUIsSUFBZ0ROLFNBQWhEO2dCQUVNTyxRQVpPLEdBWUksTUFBSSxDQUFDbEIsTUFBTCxvQ0FDZSxNQUFJLENBQUNHLE9BRHBCLElBRVgscUJBZE87Z0JBQUE7Z0JBQUEsT0FnQlVGLEtBQUssQ0FBQ2tCLElBQU4sQ0FBV0QsUUFBWCxFQUFxQjtrQkFDeENULElBQUksRUFBRSxNQUFJLENBQUNDLFlBRDZCO2tCQUV4Q25CLEtBQUssRUFBRSxNQUFJLENBQUNBLEtBRjRCO2tCQUd4QzZCLFlBQVksRUFBRSxNQUFJLENBQUNDO2dCQUhxQixDQUFyQixDQWhCVjs7Y0FBQTtnQkFnQlBDLFFBaEJPOztnQkFxQmIsTUFBSSxDQUFDdkIsS0FBTCxDQUFXLGFBQVg7O2dCQUVBLE1BQUksQ0FBQ3dCLGNBQUwsR0FBc0IsS0FBdEI7Z0JBdkJhO2dCQUFBOztjQUFBO2dCQUFBO2dCQUFBO2dCQXlCYkMsS0FBSyxDQUFDLDZCQUFELENBQUw7O2NBekJhO2dCQTJCakIsTUFBSSxDQUFDakMsS0FBTCxHQUFhLEVBQWI7O2NBM0JpQjtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUE7SUE0QnBCO0VBN0NJO0FBbEJFLENBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZT8xZTE4Il0sInNvdXJjZXNDb250ZW50IjpbIjwhLS0gTmV3RXZlbnRNb2RhbC52dWUgLS0+XG48dGVtcGxhdGU+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsIGZhZGUgc2hvd1wiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgdi1pZj1cImlzVmlzaWJsZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZCBOZXcgRXZlbnQgT24ge3sgdGhpcy5zZWxlY3RlZERhdGUgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImNsb3NlTW9kYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gQHN1Ym1pdC5wcmV2ZW50PVwicHJvY2Vzc0V2ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJldmVudFRpdGxlXCI+VGl0bGU6IDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cInRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJldmVudFRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWl0XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9wczogW1wiaXNWaXNpYmxlXCIsIFwic2VsZWN0ZWREYXRlXCIsIFwicHVyY2hhc2VySWRcIiwgXCJvbkVkaXRcIiwgXCJldmVudElkXCJdLFxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGRhdGE6IFwiMjAyNC0wMS0wMVwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlZCgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kYWwoKTtcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICAgIGlzVmlzaWJsZShuZXdWYWwpIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBjbG9zZU1vZGFsKCkge1xuICAgICAgICAgICAgdGhpcy4kZW1pdChcImNsb3NlLW1vZGFsXCIpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBpbml0aWFsaXplTW9kYWwoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkVkaXQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudFJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYC9jYWxlbmRhci9ldmVudHMvJHt0aGlzLmV2ZW50SWR9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSBldmVudFJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSBldmVudERhdGEudGl0bGU7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGV2ZW50IGRhdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHByb2Nlc3NFdmVudCgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJhZGQtZXZlbnRcIiwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzcmZUb2tlbiA9IGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAvKD86KD86XnwuKjtcXHMqKWNzcmZUb2tlblxccyo9XFxzKihbXjtdKikuKiQpfF4uKiQvLFxuICAgICAgICAgICAgICAgICAgICBcIiQxXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiWC1DU1JGLVRva2VuXCJdID0gY3NyZlRva2VuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLm9uRWRpdFxuICAgICAgICAgICAgICAgICAgICA/IGAvY2FsZW5kYXIvdXBkYXRlLWV2ZW50LyR7dGhpcy5ldmVudElkfWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIi9jYWxlbmRhci9hZGQtZXZlbnRcIjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlcl9pZDogdGhpcy5wdXJjaGFzZXJJZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwiZXZlbnRTdG9yZWRcIik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IEZhaWxlZCB0byBhZGQgZXZlbnQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aXRsZSA9IFwiXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cbiJdLCJuYW1lcyI6WyJwcm9wcyIsImRhdGEiLCJ0aXRsZSIsImNyZWF0ZWQiLCJpbml0aWFsaXplTW9kYWwiLCJ3YXRjaCIsImlzVmlzaWJsZSIsIm5ld1ZhbCIsIm1ldGhvZHMiLCJjbG9zZU1vZGFsIiwiJGVtaXQiLCJvbkVkaXQiLCJheGlvcyIsImdldCIsImV2ZW50SWQiLCJldmVudFJlc3BvbnNlIiwiZXZlbnREYXRhIiwiY29uc29sZSIsImVycm9yIiwicHJvY2Vzc0V2ZW50IiwiZGF0ZSIsInNlbGVjdGVkRGF0ZSIsImNzcmZUb2tlbiIsImRvY3VtZW50IiwiY29va2llIiwicmVwbGFjZSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImVuZHBvaW50IiwicG9zdCIsInB1cmNoYXNlcl9pZCIsInB1cmNoYXNlcklkIiwicmVzcG9uc2UiLCJpc01vZGFsVmlzaWJsZSIsImFsZXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  props: [\"isVisible\", \"file\"],\n  methods: {\n    confirmDelete: function confirmDelete() {\n      if (confirm(\"Are you sure you want to delete this file?\")) {\n        this.deleteFile();\n      }\n    },\n    deleteFile: function deleteFile() {\n      var _this = this;\n\n      console.log(\"Delete\", this.file);\n      axios[\"delete\"](\"/purchaser/media/\".concat(this.file.file.id)).then(function (response) {\n        _this.$emit(\"fileDeleted\");\n\n        _this.closeModal();\n      })[\"catch\"](function (error) {\n        console.error(\"Error deleting file\", error);\n      });\n    },\n    openInNewTab: function openInNewTab() {\n      window.open(this.file.serverId, \"_blank\");\n      this.closeModal();\n    },\n    downloadFile: function downloadFile() {\n      var link = document.createElement(\"a\");\n      link.href = this.file.serverId;\n      link.target = \"_blank\";\n      link.download = this.file.file.name;\n      link.click();\n      this.closeModal();\n    },\n    closeModal: function closeModal() {\n      this.$emit(\"close\");\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vcmVzb3VyY2VzL2pzL2FwcC9jb21wb25lbnRzL0ZpbGVBY3Rpb25zTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFvREEsaUVBQWU7RUFDWEEsS0FBSyxFQUFFLENBQUMsV0FBRCxFQUFjLE1BQWQsQ0FESTtFQUdYQyxPQUFPLEVBQUU7SUFDTEMsYUFESywyQkFDVztNQUNaLElBQUlDLE9BQU8sQ0FBQyw0Q0FBRCxDQUFYLEVBQTJEO1FBQ3ZELEtBQUtDLFVBQUw7TUFDSjtJQUNILENBTEk7SUFNTEEsVUFOSyx3QkFNUTtNQUFBOztNQUNUQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCLEtBQUtDLElBQTNCO01BQ0FDLEtBQUksVUFBSiw0QkFDZ0MsS0FBS0QsSUFBTCxDQUFVQSxJQUFWLENBQWVFLEVBRC9DLEdBRUtDLElBRkwsQ0FFVSxVQUFDQyxRQUFELEVBQWM7UUFDaEIsS0FBSSxDQUFDQyxLQUFMLENBQVcsYUFBWDs7UUFDQSxLQUFJLENBQUNDLFVBQUw7TUFDSCxDQUxMLFdBTVcsVUFBQ0MsS0FBRCxFQUFXO1FBQ2RULE9BQU8sQ0FBQ1MsS0FBUixDQUFjLHFCQUFkLEVBQXFDQSxLQUFyQztNQUNILENBUkw7SUFTSCxDQWpCSTtJQWtCTEMsWUFsQkssMEJBa0JVO01BQ1hDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLEtBQUtWLElBQUwsQ0FBVVcsUUFBdEIsRUFBZ0MsUUFBaEM7TUFDQSxLQUFLTCxVQUFMO0lBQ0gsQ0FyQkk7SUFzQkxNLFlBdEJLLDBCQXNCVTtNQUNYLElBQU1DLElBQUcsR0FBSUMsUUFBUSxDQUFDQyxhQUFULENBQXVCLEdBQXZCLENBQWI7TUFDQUYsSUFBSSxDQUFDRyxJQUFMLEdBQVksS0FBS2hCLElBQUwsQ0FBVVcsUUFBdEI7TUFDQUUsSUFBSSxDQUFDSSxNQUFMLEdBQWMsUUFBZDtNQUNBSixJQUFJLENBQUNLLFFBQUwsR0FBZ0IsS0FBS2xCLElBQUwsQ0FBVUEsSUFBVixDQUFlbUIsSUFBL0I7TUFDQU4sSUFBSSxDQUFDTyxLQUFMO01BQ0EsS0FBS2QsVUFBTDtJQUNILENBN0JJO0lBOEJMQSxVQTlCSyx3QkE4QlE7TUFDVCxLQUFLRCxLQUFMLENBQVcsT0FBWDtJQUNIO0VBaENJO0FBSEUsQ0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9GaWxlQWN0aW9uc01vZGFsLnZ1ZT8wOThjIl0sInNvdXJjZXNDb250ZW50IjpbIjwhLS0gRmlsZUFjdGlvbnNNb2RhbC52dWUgLS0+XG5cbjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwgZmFkZSBzaG93XCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiB2LWlmPVwiaXNWaXNpYmxlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sgdGhpcy5maWxlLmZpbGUubmFtZSB9fVxuICAgICAgICAgICAgICAgICAgICA8L2g1PlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJjbG9zZU1vZGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibW9kYWwtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIOGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDmDoge3sgdGhpcy5maWxlLmZpbGUuY29tbWVudCB9fVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiY29uZmlybURlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5IG1sLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwib3BlbkluTmV3VGFiXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVmlld1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBtbC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImRvd25sb2FkRmlsZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIERvd25sb2FkXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9wczogW1wiaXNWaXNpYmxlXCIsIFwiZmlsZVwiXSxcblxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgY29uZmlybURlbGV0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGZpbGU/XCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVGaWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUZpbGUoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRlbGV0ZVwiLCB0aGlzLmZpbGUpO1xuICAgICAgICAgICAgYXhpb3NcbiAgICAgICAgICAgICAgICAuZGVsZXRlKGAvcHVyY2hhc2VyL21lZGlhLyR7dGhpcy5maWxlLmZpbGUuaWR9YClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdChcImZpbGVEZWxldGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGVcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuSW5OZXdUYWIoKSB7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih0aGlzLmZpbGUuc2VydmVySWQsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRvd25sb2FkRmlsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHRoaXMuZmlsZS5zZXJ2ZXJJZDtcbiAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSB0aGlzLmZpbGUuZmlsZS5uYW1lO1xuICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2xvc2VcIik7XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cbiJdLCJuYW1lcyI6WyJwcm9wcyIsIm1ldGhvZHMiLCJjb25maXJtRGVsZXRlIiwiY29uZmlybSIsImRlbGV0ZUZpbGUiLCJjb25zb2xlIiwibG9nIiwiZmlsZSIsImF4aW9zIiwiaWQiLCJ0aGVuIiwicmVzcG9uc2UiLCIkZW1pdCIsImNsb3NlTW9kYWwiLCJlcnJvciIsIm9wZW5Jbk5ld1RhYiIsIndpbmRvdyIsIm9wZW4iLCJzZXJ2ZXJJZCIsImRvd25sb2FkRmlsZSIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwidGFyZ2V0IiwiZG93bmxvYWQiLCJuYW1lIiwiY2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vendors_vuedraggable_src_vuedraggable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendors/vuedraggable/src/vuedraggable */ \"./resources/js/app/vendors/vuedraggable/src/vuedraggable.js\");\n/* harmony import */ var _vuelidate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vuelidate/core */ \"./node_modules/@vuelidate/core/dist/index.esm.js\");\n/* harmony import */ var vue_upload_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue-upload-component */ \"./node_modules/vue-upload-component/dist/vue-upload-component.js\");\n/* harmony import */ var vue_upload_component__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(vue_upload_component__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var vue3_carousel_dist_carousel_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue3-carousel/dist/carousel.css */ \"./node_modules/vue3-carousel/dist/carousel.css\");\n/* harmony import */ var vue3_carousel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vue3-carousel */ \"./node_modules/vue3-carousel/dist/carousel.es.js\");\n/* harmony import */ var vue_filepond__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue-filepond */ \"./node_modules/vue-filepond/dist/vue-filepond.js\");\n/* harmony import */ var vue_filepond__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(vue_filepond__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var qalendar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qalendar */ \"./node_modules/qalendar/dist/qalendar.es.js\");\n/* harmony import */ var _components_CalendarEventModal_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/CalendarEventModal.vue */ \"./resources/js/app/components/CalendarEventModal.vue\");\n/* harmony import */ var _components_FileActionsModal_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/FileActionsModal.vue */ \"./resources/js/app/components/FileActionsModal.vue\");\n/* harmony import */ var filepond_dist_filepond_min_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! filepond/dist/filepond.min.css */ \"./node_modules/filepond/dist/filepond.min.css\");\n/* harmony import */ var filepond_plugin_image_preview_dist_filepond_plugin_image_preview_min_css__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css */ \"./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\");\n/* harmony import */ var filepond_plugin_image_preview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! filepond-plugin-image-preview */ \"./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js\");\n/* harmony import */ var filepond_plugin_image_preview__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(filepond_plugin_image_preview__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_12__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n // Import FilePond styles\n\n\n\n\n\nvar FilePond = vue_filepond__WEBPACK_IMPORTED_MODULE_5___default()((filepond_plugin_image_preview__WEBPACK_IMPORTED_MODULE_11___default()));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  props: [\"user\", \"model\", \"setting\", \"additional\"],\n  components: {\n    FileUpload: (vue_upload_component__WEBPACK_IMPORTED_MODULE_2___default()),\n    draggable: _vendors_vuedraggable_src_vuedraggable__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    FilePond: FilePond,\n    Carousel: vue3_carousel__WEBPACK_IMPORTED_MODULE_4__.Carousel,\n    Slide: vue3_carousel__WEBPACK_IMPORTED_MODULE_4__.Slide,\n    Pagination: vue3_carousel__WEBPACK_IMPORTED_MODULE_4__.Pagination,\n    Navigation: vue3_carousel__WEBPACK_IMPORTED_MODULE_4__.Navigation,\n    Qalendar: qalendar__WEBPACK_IMPORTED_MODULE_6__.Qalendar,\n    CalendarEventModal: _components_CalendarEventModal_vue__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    FileActionsModal: _components_FileActionsModal_vue__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n  },\n  setup: function setup(props, context) {\n    return {\n      v$: (0,_vuelidate_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\n    };\n  },\n  created: function created() {\n    this.fetchPurchaserFiles();\n    this.fetchGalleryImages();\n    this.m = this.attributeInit;\n  },\n  mounted: function mounted() {\n    this.fetchEvents();\n    this.fetchFolderStructure();\n    this.v$.model.$touch();\n  },\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      selectedQalendarDate: null,\n      isModalVisible: false,\n      activatedFile: null,\n      isFileActionsModalVisible: false,\n      isModalOnEdit: false,\n      eventId: 0,\n      selectedDate: \"\",\n      events: [],\n      purchaserFiles: [],\n      galleryImages: [],\n      config: {\n        defaultMode: \"month\",\n        disableModes: [\"week\", \"day\"]\n      },\n      subjects: [],\n      selector: \"\",\n      step: false,\n      keys: [],\n      isFullScreenOpen: false,\n      fullScreenImageSrc: \"\",\n      selectBuilder: [],\n      // Folder Structure\n      folderStructure: {}\n    }, _defineProperty(_ref, \"selectedDate\", null), _defineProperty(_ref, \"selectedLocation\", null), _defineProperty(_ref, \"selectedImage\", null), _ref;\n  },\n  watch: {},\n  validations: function validations() {\n    return {\n      model: {}\n    };\n  },\n  computed: {\n    attributeInit: function attributeInit() {\n      return this.model;\n    }\n  },\n  methods: {\n    handleEventClick: function handleEventClick(event) {\n      console.log(new Date(2024, 0, 8));\n      console.log(\"Event: \" + event.title + \"\\nTime: \" + event.time.start); // Convert event start time to a Date object\n\n      var eventDate = new Date(event.time.start);\n      this.selectedQalendarDate = new Date(2024, 0, 8); // Set selected date\n\n      console.log(this.selectedQalendarDate);\n    },\n    handleFilePondInit: function handleFilePondInit(pond) {},\n    handleFilePondInitGallery: function handleFilePondInitGallery(pond) {},\n    fetchFolderStructure: function fetchFolderStructure() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(\"/api/folders/\" + _this.m.id);\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context.sent;\n                _this.folderStructure = data;\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Error fetching folder structure:\", _context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 10]]);\n      }))();\n    },\n    toggleLocations: function toggleLocations(date) {\n      this.selectedDate = this.selectedDate === date ? null : date;\n      this.selectedLocation = null;\n    },\n    isDateSelected: function isDateSelected(date) {\n      return this.selectedDate === date;\n    },\n    toggleFiles: function toggleFiles(location) {\n      this.selectedLocation = this.selectedLocation === location ? null : location;\n    },\n    isLocationSelected: function isLocationSelected(location) {\n      return this.selectedLocation === location;\n    },\n    openImage: function openImage(file) {\n      window.open(file.file_url, \"_blank\");\n    },\n    initializeSubjects: function initializeSubjects() {\n      this.subjects = [{\n        id: 1,\n        name: \"Accounting\",\n        geo_name: \"აღრიცხვის ფაილები\",\n        ref: \"accountingPond\",\n        files: this.purchaserFiles ? this.purchaserFiles.AccountingFiles : []\n      }, {\n        id: 2,\n        name: \"Performance Acts\",\n        geo_name: \"შესრულების აქტები\",\n        ref: \"performanceActsPond\",\n        files: this.purchaserFiles ? this.purchaserFiles.performanceActsFiles : []\n      }, {\n        id: 3,\n        name: \"Technical Documentation\",\n        geo_name: \"ტექნიკური დოკუმენტაცია\",\n        ref: \"technicalDocumentationPond\",\n        files: this.purchaserFiles ? this.purchaserFiles.technicalDocumentationFiles : []\n      } // {\n      //     id: 4,\n      //     name: \"Additional Information\",\n      //     geo_name: \"დამატებითი ინფორმაცია/ფაილები\",\n      //     ref: \"additionalInformationPond\",\n      //     files: this.purchaserFiles\n      //         ? this.purchaserFiles.additionalInformationFiles\n      //         : [],\n      // },\n      ];\n    },\n    fetchAfterDelete: function fetchAfterDelete() {\n      this.fetchGalleryImages();\n      this.fetchPurchaserFiles();\n    },\n    fetchPurchaserFiles: function fetchPurchaserFiles() {\n      var _this2 = this;\n\n      axios.get(\"/purchaser/\".concat(this.model.id, \"/files\")).then(function (response) {\n        _this2.purchaserFiles = response.data;\n\n        _this2.initializeSubjects();\n      })[\"catch\"](function (error) {\n        console.error(\"Error fetching purchaser files\", error);\n      });\n    },\n    fetchGalleryImages: function fetchGalleryImages() {\n      var _this3 = this;\n\n      axios.get(\"/purchaserGallery/\".concat(this.model.id)).then(function (response) {\n        _this3.galleryImages = response.data;\n      })[\"catch\"](function (error) {\n        console.error(\"Error fetching purchaser files\", error);\n      });\n    },\n    onActivateFile: function onActivateFile(file) {\n      this.activatedFile = file;\n      this.isFileActionsModalVisible = true;\n      this.fetchPurchaserFiles();\n    },\n    closeFullScreen: function closeFullScreen() {\n      this.isFullScreenOpen = false;\n      this.fullScreenImageSrc = \"\";\n    },\n    onSlideClick: function onSlideClick(imageSrc) {\n      this.isFullScreenOpen = true;\n      this.fullScreenImageSrc = imageSrc;\n    },\n    fileProcessed: function fileProcessed(item, file) {// this.fetchPurchaserFiles();\n      // this.fetchGalleryImages();\n    },\n    handleDateClicked: function handleDateClicked(date) {\n      this.isModalOnEdit = false;\n      this.isModalVisible = true;\n      this.eventId = 0;\n      this.selectedDate = date;\n    },\n    closeModal: function closeModal() {\n      this.isModalVisible = false;\n      this.isFileActionsModalVisible = false;\n    },\n    handleEditEvent: function handleEditEvent(event_id) {\n      this.eventId = event_id;\n      this.isModalVisible = true;\n      this.isModalOnEdit = true;\n    },\n    deleteFile: function deleteFile(file) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var userConfirmed, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                userConfirmed = confirm(\"\\u10D3\\u10D0\\u10E0\\u10EC\\u10DB\\u10E3\\u10DC\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10EE\\u10D0\\u10E0\\u10D7 \\u10E0\\u10DD\\u10DB \\u10D2\\u10D8\\u10DC\\u10D3\\u10D0\\u10D7 \\u10E4\\u10D0\\u10D8\\u10DA\\u10D8\\u10E1 \\u10EC\\u10D0\\u10E8\\u10DA\\u10D0: \".concat(file.file_name, \"?\"));\n\n                if (userConfirmed) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                _context2.next = 6;\n                return fetch(\"/api/delete-file\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    fileName: file.file_name\n                  })\n                });\n\n              case 6:\n                response = _context2.sent;\n\n                if (response.ok) {\n                  _this4.fetchFolderStructure();\n\n                  alert(\"\\u10E4\\u10D0\\u10D8\\u10DA\\u10D8 \".concat(file.file_name, \" \\u10EC\\u10D0\\u10E0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10D8\\u10D7 \\u10EC\\u10D0\\u10D8\\u10E8\\u10D0\\u10DA\\u10D0.\"));\n                } else {\n                  console.error(\"Failed to delete file.\");\n                }\n\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error(\"Error deleting file:\", _context2.t0);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }))();\n    },\n    handleDeleteEvent: function handleDeleteEvent(event_id) {\n      var _this5 = this;\n\n      var isConfirmed = window.confirm(\"Are you sure you want to delete this event?\");\n\n      if (isConfirmed) {\n        axios[\"delete\"](\"/calendar/events/\".concat(event_id)).then(function (response) {\n          console.log(\"Event deleted successfully:\", response.data);\n\n          _this5.fetchEvents();\n        })[\"catch\"](function (error) {\n          console.error(\"Error deleting event:\", error);\n        });\n      } else {\n        console.log(\"Deletion canceled\");\n      }\n    },\n    addEvent: function addEvent(event) {\n      this.fetchEvents();\n      this.isModalVisible = false;\n    },\n    fetchEvents: function fetchEvents() {\n      var _this6 = this;\n\n      axios.get(\"/calendar/events/purchaser/\".concat(this.model.id)).then(function (response) {\n        _this6.events = response.data;\n      })[\"catch\"](function (error) {\n        console.error(\"Error fetching events:\", error);\n      });\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vcmVzb3VyY2VzL2pzL2FwcC9wYWdlcy9QdXJjaGFzZXItVmlldy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7K0NBbVpBOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQU1jLFFBQU8sR0FBSVAsbURBQVcsQ0FBQ0ssdUVBQUQsQ0FBNUI7QUFFQSxpRUFBZTtFQUNYRyxLQUFLLEVBQUUsQ0FBQyxNQUFELEVBQVMsT0FBVCxFQUFrQixTQUFsQixFQUE2QixZQUE3QixDQURJO0VBR1hDLFVBQVUsRUFBRTtJQUNSZCxVQUFVLEVBQVZBLDZEQURRO0lBRVJGLFNBQVMsRUFBVEEsOEVBRlE7SUFHUmMsUUFBUSxFQUFSQSxRQUhRO0lBSVJYLFFBQVEsRUFBUkEsbURBSlE7SUFLUkMsS0FBSyxFQUFMQSxnREFMUTtJQU1SQyxVQUFVLEVBQVZBLHFEQU5RO0lBT1JDLFVBQVUsRUFBVkEscURBUFE7SUFRUkcsUUFBUSxFQUFSQSw4Q0FSUTtJQVNSQyxrQkFBa0IsRUFBbEJBLDBFQVRRO0lBVVJDLGdCQUFnQixFQUFoQkEsd0VBQWdCQTtFQVZSLENBSEQ7RUFlWE0sS0FmVyxpQkFlTEYsS0FmSyxFQWVFRyxPQWZGLEVBZVc7SUFDbEIsT0FBTztNQUNIQyxFQUFFLEVBQUVsQiwyREFBWTtJQURiLENBQVA7RUFHSCxDQW5CVTtFQW9CWG1CLE9BcEJXLHFCQW9CRDtJQUNOLEtBQUtDLG1CQUFMO0lBQ0EsS0FBS0Msa0JBQUw7SUFDQSxLQUFLQyxDQUFMLEdBQVMsS0FBS0MsYUFBZDtF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QUFZLG1CQUFaO01BQ0o7SUFDSCxDQXJNSTtJQXNNTDhELFFBdE1LLG9CQXNNSTNHLEtBdE1KLEVBc01XO01BQ1osS0FBS2EsV0FBTDtNQUNBLEtBQUtNLGNBQUwsR0FBc0IsS0FBdEI7SUFDSCxDQXpNSTtJQTBNTE4sV0ExTUsseUJBME1TO01BQUE7O01BQ1ZtRSxLQUFJLENBQ0NDLEdBREwsc0NBQ3VDLEtBQUtsRSxLQUFMLENBQVd3QyxFQURsRCxHQUVLMkIsSUFGTCxDQUVVLFVBQUMxQixRQUFELEVBQWM7UUFDaEIsTUFBSSxDQUFDL0IsTUFBTCxHQUFjK0IsUUFBUSxDQUFDdkMsSUFBdkI7TUFDSCxDQUpMLFdBS1csVUFBQ3lDLEtBQUQsRUFBVztRQUNkZCxPQUFPLENBQUNjLEtBQVIsQ0FBYyx3QkFBZCxFQUF3Q0EsS0FBeEM7TUFDSCxDQVBMO0lBUUg7RUFuTkk7QUF4RUUsQ0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvcGFnZXMvUHVyY2hhc2VyLVZpZXcudnVlPzk0YzgiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgIDwhLS0gTWFpbiBjb250ZW50IC0tPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludm9pY2UgcC0zIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cInN0YXRpY0VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48Yj7hg5vhg6fhg5jhg5Phg5Xhg5Thg5rhg5jhg6Eg4YOh4YOQ4YOu4YOU4YOa4YOYOjwvYj48L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dDJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOT4YOQ4YOb4YOQ4YOi4YOU4YOR4YOY4YOX4YOYIOGDoeGDkOGDruGDlOGDmuGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJqX25hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDm+GDp+GDmOGDk+GDleGDlOGDmuGDmOGDoSDhg5vhg5jhg6Hhg5Dhg5vhg5Dhg6Dhg5fhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1YmpfYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOh4YOQ4YOY4YOT4YOU4YOc4YOX4YOY4YOk4YOY4YOZ4YOQ4YOq4YOY4YOdIOGDmeGDneGDk+GDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmlkZW50aWZpY2F0aW9uX251bVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOi4YOU4YOl4YOc4YOY4YOZ4YOj4YOg4YOYIOGDm+GDneGDm+GDoeGDkOGDruGDo+GDoOGDlOGDkeGDmOGDoeGDl+GDleGDmOGDoSDhg6Hhg5Dhg63hg5jhg6Dhg50g4YOT4YOg4YOdOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IG1vZGVsLnRlY2huaWNhbF90aW1lIH19IOGDrOGDlzwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg6zhg5vhg5Thg5zhg5Phg5jhg5fhg5gg4YOb4YOd4YOb4YOh4YOQ4YOu4YOj4YOg4YOU4YOR4YOY4YOh4YOX4YOV4YOY4YOhIOGDoeGDkOGDreGDmOGDoOGDnSDhg5Phg6Dhg506PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgbW9kZWwuY2xlYW5pbmdfdGltZSB9fSDhg6zhg5c8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5Dhg6bhg6zhg5Thg6Dhg5A6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XCJtb2RlbC5kZXNjcmlwdGlvblwiPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg57hg5jhg6Dhg5Xhg5Thg5rhg5Dhg5Phg5gg4YOQ4YOm4YOs4YOU4YOg4YOY4YOhIOGDl+GDkOGDoOGDmOGDpuGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cIm1vZGVsLmZpcnN0X3Jldmlld19kYXRlXCI+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cIm1vZGVsLmZpcnN0X3Jldmlld19kZXNjcmlwdGlvblwiPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg6Lhg5Thg6Xhg5zhg5jhg5nhg6Phg6Dhg5gg4YOQ4YOm4YOs4YOU4YOg4YOY4YOhIOGDl+GDkOGDoOGDmOGDpuGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cIm1vZGVsLnRlY2huaWNhbF9yZXZpZXdfZGF0ZVwiPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1odG1sPVwibW9kZWwudGVjaG5pY2FsX3Jldmlld19kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOh4YOQ4YOY4YOc4YOk4YOd4YOg4YOb4YOQ4YOq4YOY4YOdIOGDkeGDkOGDluGDmOGDoSDhg6jhg5Thg6Xhg5vhg5zhg5jhg6Eg4YOX4YOQ4YOg4YOY4YOm4YOYOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1odG1sPVwibW9kZWwuYmFzZV9jcmVhdGlvbl9kYXRlXCI+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cIm1vZGVsLmJhc2VfZGVzY3JpcHRpb25cIj48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOS4YOQ4YOa4YOU4YOg4YOU4YOQOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpbGUtcG9uZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGFjdGl2YXRlZmlsZT1cIm9uQWN0aXZhdGVGaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBwcm9jZXNzZmlsZT1cImZpbGVQcm9jZXNzZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwtaWRsZT1cIuGDkuGDkOGDmuGDlOGDoOGDlOGDkFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicHVyY2hhc2VyR2FsbGVyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VydmVyPVwiYC91cGxvYWRQdXJjaGFzZXJHYWxsZXJ5LyR7bW9kZWwuaWR9YFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJwb25kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphbGxvdy1tdWx0aXBsZT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGVzPVwiZ2FsbGVyeUltYWdlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZW1vdmU9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZXZlcnQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW5pdD1cImhhbmRsZUZpbGVQb25kSW5pdEdhbGxlcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9XCJnYWxsZXJ5SW1hZ2VzLmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cIihmaWxlLCBpbmRleCkgaW4gZ2FsbGVyeUltYWdlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJnYWxsZXJ5SW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogM3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImluZGV4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIm9uU2xpZGVDbGljayhmaWxlLnNvdXJjZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c3JjPVwiZmlsZS5zb3VyY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJ1cGxvYWRlZCBwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMjAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1pZj1cImlzRnVsbFNjcmVlbk9wZW5cIiBjbGFzcz1cImZ1bGwtc2NyZWVuLW1vZGFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbG9zZS1idXR0b25cIiBAY2xpY2s9XCJjbG9zZUZ1bGxTY3JlZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+JnRpbWVzOzwvc3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZnVsbC1zY3JlZW4taW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c3JjPVwiZnVsbFNjcmVlbkltYWdlU3JjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gU2Nyb2xsYWJsZSBvYmplY3Qgd2l0aCBpdGVtcyBmcm9tIGV2ZW50cyAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJvdmVyZmxvdy15OiBhdXRvOyBtYXgtaGVpZ2h0OiAzMDBweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCJldmVudCBpbiBldmVudHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwiZXZlbnQuaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImhhbmRsZUV2ZW50Q2xpY2soZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50aXRsZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50aW1lLnN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtOSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUWFsZW5kYXIgYW5kIGNhbGVuZGFyLWV2ZW50LW1vZGFsIGNvbXBvbmVudHMgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxRYWxlbmRhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmV2ZW50cz1cImV2ZW50c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VsZWN0ZWQtZGF0ZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUWFsZW5kYXJEYXRlIHx8IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y29uZmlnPVwiY29uZmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpkYXktbWluLWhlaWdodD1cIjI1MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZGF0ZS13YXMtY2xpY2tlZD1cImhhbmRsZURhdGVDbGlja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBlZGl0LWV2ZW50PVwiaGFuZGxlRWRpdEV2ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBkZWxldGUtZXZlbnQ9XCJoYW5kbGVEZWxldGVFdmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XCJjYWxlbmRhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjYWxlbmRhci1ldmVudC1tb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGV2ZW50U3RvcmVkPVwiZmV0Y2hFdmVudHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlzLXZpc2libGU9XCJ0aGlzLmlzTW9kYWxWaXNpYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZWxlY3RlZC1kYXRlPVwidGhpcy5zZWxlY3RlZERhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnB1cmNoYXNlci1pZD1cInRoaXMubW9kZWwuaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm9uLWVkaXQ9XCJ0aGlzLmlzTW9kYWxPbkVkaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmV2ZW50LWlkPVwidGhpcy5ldmVudElkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbG9zZS1tb2RhbD1cImNsb3NlTW9kYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGFkZC1ldmVudD1cImFkZEV2ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNSByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwic3ViamVjdCBpbiBzdWJqZWN0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XCJzdWJqZWN0LmlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtbWQtNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmlsZS1wb25kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAYWN0aXZhdGVmaWxlPVwib25BY3RpdmF0ZUZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHByb2Nlc3NmaWxlPVwiZmlsZVByb2Nlc3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bmFtZT1cInN1YmplY3QubmFtZSArICdGaWxlcydcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnJlZj1cInN1YmplY3QucmVmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpsYWJlbC1pZGxlPVwic3ViamVjdC5nZW9fbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VydmVyPVwiYC9wdXJjaGFzZXIvJHt0aGlzLm1vZGVsLmlkfS9maWxlc2BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93LW11bHRpcGxlPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZW1vdmU9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZXZlcnQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZmlsZXM9XCJzdWJqZWN0LmZpbGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbml0PVwiaGFuZGxlRmlsZVBvbmRJbml0KHN1YmplY3QucmVmKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpbGUtYWN0aW9ucy1tb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aXMtdmlzaWJsZT1cImlzRmlsZUFjdGlvbnNNb2RhbFZpc2libGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZmlsZT1cImFjdGl2YXRlZEZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZmlsZURlbGV0ZWQ9XCJmZXRjaEFmdGVyRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsb3NlPVwiY2xvc2VNb2RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZmlsZS1hY3Rpb25zLW1vZGFsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRm9sZGVyIFN0cnVjdHVyZSAtLT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBmaWxlcyBtdC01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PuGDk+GDkOGDm+GDkOGDouGDlOGDkeGDmOGDl+GDmCDhg6Thg5Dhg5jhg5rhg5Thg5Hhg5g6PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwiKGxvY2F0aW9ucywgZGF0ZSkgaW4gZm9sZGVyU3RydWN0dXJlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1iLTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJ0b2dnbGVMb2NhdGlvbnMoZGF0ZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgdy0xMDAgdGV4dC1sZWZ0IHAtMyByb3VuZGVkLXBpbGwgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YXJpYS1leHBhbmRlZD1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGF0ZVNlbGVjdGVkKGRhdGUpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YXJpYS1jb250cm9scz1cIidsb2NhdGlvbnMtJyArIGRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jYWxlbmRhci1kYXkgbXItMlwiPjwvaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGRhdGUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1pZj1cImlzRGF0ZVNlbGVjdGVkKGRhdGUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXVwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1kb3duXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gTG9jYXRpb25zIHNob3duIHdoZW4gYSBkYXRlIGlzIGNsaWNrZWQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtc2hvdz1cImlzRGF0ZVNlbGVjdGVkKGRhdGUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppZD1cIidsb2NhdGlvbnMtJyArIGRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtbC00IG10LTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCIoZmlsZXMsIGxvY2F0aW9uKSBpbiBsb2NhdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XCJsb2NhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cInRvZ2dsZUZpbGVzKGxvY2F0aW9uKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgdy0xMDAgdGV4dC1sZWZ0IGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgcC0zIHJvdW5kZWQtcGlsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1mb2xkZXIgbXItMlwiPjwvaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgbG9jYXRpb24gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2F0aW9uU2VsZWN0ZWQobG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi11cCBtbC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1kb3duIG1sLWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBGaWxlcyBzaG93biB3aGVuIGEgbG9jYXRpb24gaXMgY2xpY2tlZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtc2hvdz1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2NhdGlvblNlbGVjdGVkKGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1sLTQgbXQtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cImZpbGUgaW4gZmlsZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImZpbGUuZmlsZV9uYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWItMiBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIm9wZW5JbWFnZShmaWxlKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgdGV4dC1sZWZ0IGZsZXgtZ3Jvdy0xIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmFzIGZhLWltYWdlIG1yLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgZmlsZS5maWxlX25hbWUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImRlbGV0ZUZpbGUoZmlsZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgbWwtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4YOs4YOQ4YOo4YOa4YOQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRW5kIEZvbGRlciBTdHJ1Y3R1cmUgLS0+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBkcmFnZ2FibGUgZnJvbSBcIi4uL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy92dWVkcmFnZ2FibGVcIjtcbmltcG9ydCB1c2VWdWVsaWRhdGUgZnJvbSBcIkB2dWVsaWRhdGUvY29yZVwiO1xuaW1wb3J0IEZpbGVVcGxvYWQgZnJvbSBcInZ1ZS11cGxvYWQtY29tcG9uZW50XCI7XG5pbXBvcnQgXCJ2dWUzLWNhcm91c2VsL2Rpc3QvY2Fyb3VzZWwuY3NzXCI7XG5pbXBvcnQgeyBDYXJvdXNlbCwgU2xpZGUsIFBhZ2luYXRpb24sIE5hdmlnYXRpb24gfSBmcm9tIFwidnVlMy1jYXJvdXNlbFwiO1xuaW1wb3J0IHZ1ZUZpbGVQb25kLCB7IHNldE9wdGlvbnMgfSBmcm9tIFwidnVlLWZpbGVwb25kXCI7XG5pbXBvcnQgeyBRYWxlbmRhciB9IGZyb20gXCJxYWxlbmRhclwiO1xuaW1wb3J0IENhbGVuZGFyRXZlbnRNb2RhbCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYWxlbmRhckV2ZW50TW9kYWwudnVlXCI7XG5pbXBvcnQgRmlsZUFjdGlvbnNNb2RhbCBmcm9tIFwiLi4vY29tcG9uZW50cy9GaWxlQWN0aW9uc01vZGFsLnZ1ZVwiO1xuLy8gSW1wb3J0IEZpbGVQb25kIHN0eWxlc1xuaW1wb3J0IFwiZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5taW4uY3NzXCI7XG5pbXBvcnQgXCJmaWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3Lm1pbi5jc3NcIjtcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlUHJldmlldyBmcm9tIFwiZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXdcIjtcbmltcG9ydCB7IGV2ZW50IH0gZnJvbSBcImpxdWVyeVwiO1xuXG5jb25zdCBGaWxlUG9uZCA9IHZ1ZUZpbGVQb25kKEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3KTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHByb3BzOiBbXCJ1c2VyXCIsIFwibW9kZWxcIiwgXCJzZXR0aW5nXCIsIFwiYWRkaXRpb25hbFwiXSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgRmlsZVVwbG9hZCxcbiAgICAgICAgZHJhZ2dhYmxlLFxuICAgICAgICBGaWxlUG9uZCxcbiAgICAgICAgQ2Fyb3VzZWwsXG4gICAgICAgIFNsaWRlLFxuICAgICAgICBQYWdpbmF0aW9uLFxuICAgICAgICBOYXZpZ2F0aW9uLFxuICAgICAgICBRYWxlbmRhcixcbiAgICAgICAgQ2FsZW5kYXJFdmVudE1vZGFsLFxuICAgICAgICBGaWxlQWN0aW9uc01vZGFsLFxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHYkOiB1c2VWdWVsaWRhdGUoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZWQoKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hQdXJjaGFzZXJGaWxlcygpO1xuICAgICAgICB0aGlzLmZldGNoR2FsbGVyeUltYWdlcygpO1xuICAgICAgICB0aGlzLm0gPSB0aGlzLmF0dHJpYnV0ZUluaXQ7XG4gICAgfSxcbiAgICBtb3VudGVkKCkge1xuICAgICAgICB0aGlzLmZldGNoRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuZmV0Y2hGb2xkZXJTdHJ1Y3R1cmUoKTtcblxuICAgICAgICB0aGlzLnYkLm1vZGVsLiR0b3VjaCgpO1xuICAgIH0sXG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGVjdGVkUWFsZW5kYXJEYXRlOiBudWxsLFxuICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZhdGVkRmlsZTogbnVsbCxcbiAgICAgICAgICAgIGlzRmlsZUFjdGlvbnNNb2RhbFZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgaXNNb2RhbE9uRWRpdDogZmFsc2UsXG4gICAgICAgICAgICBldmVudElkOiAwLFxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBcIlwiLFxuICAgICAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgICAgIHB1cmNoYXNlckZpbGVzOiBbXSxcbiAgICAgICAgICAgIGdhbGxlcnlJbWFnZXM6IFtdLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdE1vZGU6IFwibW9udGhcIixcbiAgICAgICAgICAgICAgICBkaXNhYmxlTW9kZXM6IFtcIndlZWtcIiwgXCJkYXlcIl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3ViamVjdHM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0b3I6IFwiXCIsXG4gICAgICAgICAgICBzdGVwOiBmYWxzZSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgaXNGdWxsU2NyZWVuT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBmdWxsU2NyZWVuSW1hZ2VTcmM6IFwiXCIsXG4gICAgICAgICAgICBzZWxlY3RCdWlsZGVyOiBbXSxcbiAgICAgICAgICAgIC8vIEZvbGRlciBTdHJ1Y3R1cmVcbiAgICAgICAgICAgIGZvbGRlclN0cnVjdHVyZToge30sXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IG51bGwsXG4gICAgICAgICAgICBzZWxlY3RlZExvY2F0aW9uOiBudWxsLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbWFnZTogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHdhdGNoOiB7fSxcbiAgICB2YWxpZGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB7fSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGF0dHJpYnV0ZUluaXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgaGFuZGxlRXZlbnRDbGljayhldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3IERhdGUoMjAyNCwgMCwgOCkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJFdmVudDogXCIgKyBldmVudC50aXRsZSArIFwiXFxuVGltZTogXCIgKyBldmVudC50aW1lLnN0YXJ0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGV2ZW50IHN0YXJ0IHRpbWUgdG8gYSBEYXRlIG9iamVjdFxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRlID0gbmV3IERhdGUoZXZlbnQudGltZS5zdGFydCk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUWFsZW5kYXJEYXRlID0gbmV3IERhdGUoMjAyNCwgMCwgOCk7IC8vIFNldCBzZWxlY3RlZCBkYXRlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUWFsZW5kYXJEYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVGaWxlUG9uZEluaXQocG9uZCkge30sXG4gICAgICAgIGhhbmRsZUZpbGVQb25kSW5pdEdhbGxlcnkocG9uZCkge30sXG5cbiAgICAgICAgYXN5bmMgZmV0Y2hGb2xkZXJTdHJ1Y3R1cmUoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ZvbGRlcnMvXCIgKyB0aGlzLm0uaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2xkZXJTdHJ1Y3R1cmUgPSBkYXRhO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9sZGVyIHN0cnVjdHVyZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZUxvY2F0aW9ucyhkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlID09PSBkYXRlID8gbnVsbCA6IGRhdGU7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzRGF0ZVNlbGVjdGVkKGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkRGF0ZSA9PT0gZGF0ZTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVGaWxlcyhsb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPT09IGxvY2F0aW9uID8gbnVsbCA6IGxvY2F0aW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzTG9jYXRpb25TZWxlY3RlZChsb2NhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9PT0gbG9jYXRpb247XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbkltYWdlKGZpbGUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGZpbGUuZmlsZV91cmwsIFwiX2JsYW5rXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemVTdWJqZWN0cygpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViamVjdHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50aW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGdlb19uYW1lOiBcIuGDkOGDpuGDoOGDmOGDquGDruGDleGDmOGDoSDhg6Thg5Dhg5jhg5rhg5Thg5Hhg5hcIixcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBcImFjY291bnRpbmdQb25kXCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHVyY2hhc2VyRmlsZXMuQWNjb3VudGluZ0ZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogMixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQZXJmb3JtYW5jZSBBY3RzXCIsXG4gICAgICAgICAgICAgICAgICAgIGdlb19uYW1lOiBcIuGDqOGDlOGDoeGDoOGDo+GDmuGDlOGDkeGDmOGDoSDhg5Dhg6Xhg6Lhg5Thg5Hhg5hcIixcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBcInBlcmZvcm1hbmNlQWN0c1BvbmRcIixcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IHRoaXMucHVyY2hhc2VyRmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wdXJjaGFzZXJGaWxlcy5wZXJmb3JtYW5jZUFjdHNGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVGVjaG5pY2FsIERvY3VtZW50YXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgZ2VvX25hbWU6IFwi4YOi4YOU4YOl4YOc4YOY4YOZ4YOj4YOg4YOYIOGDk+GDneGDmeGDo+GDm+GDlOGDnOGDouGDkOGDquGDmOGDkFwiLFxuICAgICAgICAgICAgICAgICAgICByZWY6IFwidGVjaG5pY2FsRG9jdW1lbnRhdGlvblBvbmRcIixcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IHRoaXMucHVyY2hhc2VyRmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wdXJjaGFzZXJGaWxlcy50ZWNobmljYWxEb2N1bWVudGF0aW9uRmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGlkOiA0LFxuICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIkFkZGl0aW9uYWwgSW5mb3JtYXRpb25cIixcbiAgICAgICAgICAgICAgICAvLyAgICAgZ2VvX25hbWU6IFwi4YOT4YOQ4YOb4YOQ4YOi4YOU4YOR4YOY4YOX4YOYIOGDmOGDnOGDpOGDneGDoOGDm+GDkOGDquGDmOGDkC/hg6Thg5Dhg5jhg5rhg5Thg5Hhg5hcIixcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVmOiBcImFkZGl0aW9uYWxJbmZvcm1hdGlvblBvbmRcIixcbiAgICAgICAgICAgICAgICAvLyAgICAgZmlsZXM6IHRoaXMucHVyY2hhc2VyRmlsZXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgID8gdGhpcy5wdXJjaGFzZXJGaWxlcy5hZGRpdGlvbmFsSW5mb3JtYXRpb25GaWxlc1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hBZnRlckRlbGV0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hHYWxsZXJ5SW1hZ2VzKCk7XG4gICAgICAgICAgICB0aGlzLmZldGNoUHVyY2hhc2VyRmlsZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hQdXJjaGFzZXJGaWxlcygpIHtcbiAgICAgICAgICAgIGF4aW9zXG4gICAgICAgICAgICAgICAgLmdldChgL3B1cmNoYXNlci8ke3RoaXMubW9kZWwuaWR9L2ZpbGVzYClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXJjaGFzZXJGaWxlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN1YmplY3RzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwdXJjaGFzZXIgZmlsZXNcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZldGNoR2FsbGVyeUltYWdlcygpIHtcbiAgICAgICAgICAgIGF4aW9zXG4gICAgICAgICAgICAgICAgLmdldChgL3B1cmNoYXNlckdhbGxlcnkvJHt0aGlzLm1vZGVsLmlkfWApXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeUltYWdlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwdXJjaGFzZXIgZmlsZXNcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQWN0aXZhdGVGaWxlKGZpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVkRmlsZSA9IGZpbGU7XG4gICAgICAgICAgICB0aGlzLmlzRmlsZUFjdGlvbnNNb2RhbFZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5mZXRjaFB1cmNoYXNlckZpbGVzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2VGdWxsU2NyZWVuKCkge1xuICAgICAgICAgICAgdGhpcy5pc0Z1bGxTY3JlZW5PcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZ1bGxTY3JlZW5JbWFnZVNyYyA9IFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2xpZGVDbGljayhpbWFnZVNyYykge1xuICAgICAgICAgICAgdGhpcy5pc0Z1bGxTY3JlZW5PcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZnVsbFNjcmVlbkltYWdlU3JjID0gaW1hZ2VTcmM7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGVQcm9jZXNzZWQoaXRlbSwgZmlsZSkge1xuICAgICAgICAgICAgLy8gdGhpcy5mZXRjaFB1cmNoYXNlckZpbGVzKCk7XG4gICAgICAgICAgICAvLyB0aGlzLmZldGNoR2FsbGVyeUltYWdlcygpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVEYXRlQ2xpY2tlZChkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmlzTW9kYWxPbkVkaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5ldmVudElkID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNGaWxlQWN0aW9uc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVFZGl0RXZlbnQoZXZlbnRfaWQpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRJZCA9IGV2ZW50X2lkO1xuICAgICAgICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzTW9kYWxPbkVkaXQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBkZWxldGVGaWxlKGZpbGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlckNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgICAgICAgICAgICAgIGDhg5Phg5Dhg6Dhg6zhg5vhg6Phg5zhg5Thg5Hhg6Phg5rhg5gg4YOu4YOQ4YOg4YOXIOGDoOGDneGDmyDhg5Lhg5jhg5zhg5Phg5Dhg5cg4YOk4YOQ4YOY4YOa4YOY4YOhIOGDrOGDkOGDqOGDmuGDkDogJHtmaWxlLmZpbGVfbmFtZX0/YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyQ29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RlbGV0ZS1maWxlYCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlTmFtZTogZmlsZS5maWxlX25hbWUgfSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hGb2xkZXJTdHJ1Y3R1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOGDpOGDkOGDmOGDmuGDmCAke2ZpbGUuZmlsZV9uYW1lfSDhg6zhg5Dhg6Dhg5vhg5Dhg6Lhg5Thg5Hhg5jhg5cg4YOs4YOQ4YOY4YOo4YOQ4YOa4YOQLmApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGZpbGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVEZWxldGVFdmVudChldmVudF9pZCkge1xuICAgICAgICAgICAgY29uc3QgaXNDb25maXJtZWQgPSB3aW5kb3cuY29uZmlybShcbiAgICAgICAgICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBldmVudD9cIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGlzQ29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgYXhpb3NcbiAgICAgICAgICAgICAgICAgICAgLmRlbGV0ZShgL2NhbGVuZGFyL2V2ZW50cy8ke2V2ZW50X2lkfWApXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFdmVudCBkZWxldGVkIHN1Y2Nlc3NmdWxseTpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWxldGlvbiBjYW5jZWxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hFdmVudHMoKSB7XG4gICAgICAgICAgICBheGlvc1xuICAgICAgICAgICAgICAgIC5nZXQoYC9jYWxlbmRhci9ldmVudHMvcHVyY2hhc2VyLyR7dGhpcy5tb2RlbC5pZH1gKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBldmVudHM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbjwvc2NyaXB0PlxuPHN0eWxlIHNjb3BlZD5cbkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9zdHlsZS5jc3NcIjtcblxuLmNvbnRhaW5lci5maWxlcyB7XG4gICAgbWF4LWhlaWdodDogNTAwcHg7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cblxuLmNhcm91c2VsX19pdGVtIHtcbiAgICB3aWR0aDogNDAlO1xufVxuLmNhcm91c2VsX19pdGVtIGltZyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbn1cblxuLmNhcm91c2VsX192aWV3cG9ydCB7XG4gICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcbn1cblxuLmNhcm91c2VsX19zbGlkZSB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXMsIG9wYWNpdHkgMC41cztcbn1cblxuLmNhcm91c2VsX19zbGlkZS0tcHJldixcbi5jYXJvdXNlbF9fc2xpZGUtLW5leHQge1xuICAgIG9wYWNpdHk6IDAuOTtcbn1cblxuLmNhcm91c2VsX19zbGlkZS0tYWN0aXZlIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbn1cblxuLyogT3B0aW9uYWw6IEFkZCBhIGhvdmVyIGVmZmVjdCAqL1xuLmNhcm91c2VsX19pdGVtOmhvdmVyIGltZyB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcbn1cblxuLm1vZGFsLmZhZGUuc2hvdyB7XG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7XG59XG4uZnVsbC1zY3JlZW4tbW9kYWwge1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZnVsbC1zY3JlZW4taW1hZ2Uge1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG4uY2xvc2UtYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAyMHB4O1xuICAgIHJpZ2h0OiAyMHB4O1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuPC9zdHlsZT5cbiJdLCJuYW1lcyI6WyJkcmFnZ2FibGUiLCJ1c2VWdWVsaWRhdGUiLCJGaWxlVXBsb2FkIiwiQ2Fyb3VzZWwiLCJTbGlkZSIsIlBhZ2luYXRpb24iLCJOYXZpZ2F0aW9uIiwidnVlRmlsZVBvbmQiLCJzZXRPcHRpb25zIiwiUWFsZW5kYXIiLCJDYWxlbmRhckV2ZW50TW9kYWwiLCJGaWxlQWN0aW9uc01vZGFsIiwiRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXciLCJldmVudCIsIkZpbGVQb25kIiwicHJvcHMiLCJjb21wb25lbnRzIiwic2V0dXAiLCJjb250ZXh0IiwidiQiLCJjcmVhdGVkIiwiZmV0Y2hQdXJjaGFzZXJGaWxlcyIsImZldGNoR2FsbGVyeUltYWdlcyIsIm0iLCJhdHRyaWJ1dGVJbml0IiwibW91bnRlZCIsImZldGNoRXZlbnRzIiwiZmV0Y2hGb2xkZXJTdHJ1Y3R1cmUiLCJtb2RlbCIsIiR0b3VjaCIsImRhdGEiLCJzZWxlY3RlZFFhbGVuZGFyRGF0ZSIsImlzTW9kYWxWaXNpYmxlIiwiYWN0aXZhdGVkRmlsZSIsImlzRmlsZUFjdGlvbnNNb2RhbFZpc2libGUiLCJpc01vZGFsT25FZGl0IiwiZXZlbnRJZCIsInNlbGVjdGVkRGF0ZSIsImV2ZW50cyIsInB1cmNoYXNlckZpbGVzIiwiZ2FsbGVyeUltYWdlcyIsImNvbmZpZyIsImRlZmF1bHRNb2RlIiwiZGlzYWJsZU1vZGVzIiwic3ViamVjdHMiLCJzZWxlY3RvciIsInN0ZXAiLCJrZXlzIiwiaXNGdWxsU2NyZWVuT3BlbiIsImZ1bGxTY3JlZW5JbWFnZVNyYyIsInNlbGVjdEJ1aWxkZXIiLCJmb2xkZXJTdHJ1Y3R1cmUiLCJ3YXRjaCIsInZhbGlkYXRpb25zIiwiY29tcHV0ZWQiLCJtZXRob2RzIiwiaGFuZGxlRXZlbnRDbGljayIsImNvbnNvbGUiLCJsb2ciLCJEYXRlIiwidGl0bGUiLCJ0aW1lIiwic3RhcnQiLCJldmVudERhdGUiLCJoYW5kbGVGaWxlUG9uZEluaXQiLCJwb25kIiwiaGFuZGxlRmlsZVBvbmRJbml0R2FsbGVyeSIsImZldGNoIiwiaWQiLCJyZXNwb25zZSIsImpzb24iLCJlcnJvciIsInRvZ2dsZUxvY2F0aW9ucyIsImRhdGUiLCJzZWxlY3RlZExvY2F0aW9uIiwiaXNEYXRlU2VsZWN0ZWQiLCJ0b2dnbGVGaWxlcyIsImxvY2F0aW9uIiwiaXNMb2NhdGlvblNlbGVjdGVkIiwib3BlbkltYWdlIiwiZmlsZSIsIndpbmRvdyIsIm9wZW4iLCJmaWxlX3VybCIsImluaXRpYWxpemVTdWJqZWN0cyIsIm5hbWUiLCJnZW9fbmFtZSIsInJlZiIsImZpbGVzIiwiQWNjb3VudGluZ0ZpbGVzIiwicGVyZm9ybWFuY2VBY3RzRmlsZXMiLCJ0ZWNobmljYWxEb2N1bWVudGF0aW9uRmlsZXMiLCJmZXRjaEFmdGVyRGVsZXRlIiwiYXhpb3MiLCJnZXQiLCJ0aGVuIiwib25BY3RpdmF0ZUZpbGUiLCJjbG9zZUZ1bGxTY3JlZW4iLCJvblNsaWRlQ2xpY2siLCJpbWFnZVNyYyIsImZpbGVQcm9jZXNzZWQiLCJpdGVtIiwiaGFuZGxlRGF0ZUNsaWNrZWQiLCJjbG9zZU1vZGFsIiwiaGFuZGxlRWRpdEV2ZW50IiwiZXZlbnRfaWQiLCJkZWxldGVGaWxlIiwidXNlckNvbmZpcm1lZCIsImNvbmZpcm0iLCJmaWxlX25hbWUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaWxlTmFtZSIsIm9rIiwiYWxlcnQiLCJoYW5kbGVEZWxldGVFdmVudCIsImlzQ29uZmlybWVkIiwiYWRkRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64":
/*!********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64 ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\n\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"modal fade show\",\n  tabindex: \"-1\",\n  role: \"dialog\"\n};\nvar _hoisted_2 = {\n  \"class\": \"modal-dialog\",\n  role: \"document\"\n};\nvar _hoisted_3 = {\n  \"class\": \"modal-content\"\n};\nvar _hoisted_4 = {\n  \"class\": \"modal-header\"\n};\nvar _hoisted_5 = {\n  \"class\": \"modal-title\"\n};\n\nvar _hoisted_6 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"×\", -1\n/* HOISTED */\n);\n\nvar _hoisted_7 = [_hoisted_6];\nvar _hoisted_8 = {\n  \"class\": \"modal-body\"\n};\nvar _hoisted_9 = {\n  \"class\": \"form-group\"\n};\n\nvar _hoisted_10 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n  \"for\": \"eventTitle\"\n}, \"Title: \", -1\n/* HOISTED */\n);\n\nvar _hoisted_11 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n  type: \"submit\",\n  \"class\": \"btn btn-primary\"\n}, \" Submit \", -1\n/* HOISTED */\n);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.isVisible ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_1, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_3, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_4, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"h5\", _hoisted_5, \" Add New Event On \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(this.selectedDate), 1\n  /* TEXT */\n  ), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n    type: \"button\",\n    \"class\": \"close\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.closeModal && $options.closeModal.apply($options, arguments);\n    }),\n    \"aria-label\": \"Close\"\n  }, [].concat(_hoisted_7))]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_8, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = (0,vue__WEBPACK_IMPORTED_MODULE_0__.withModifiers)(function () {\n      return $options.processEvent && $options.processEvent.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_9, [_hoisted_10, (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.title = $event;\n    }),\n    id: \"eventTitle\",\n    type: \"text\",\n    placeholder: \"Title\",\n    \"class\": \"form-control\",\n    required: \"\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[vue__WEBPACK_IMPORTED_MODULE_0__.vModelText, $data.title]])]), _hoisted_11], 32\n  /* NEED_HYDRATION */\n  )])])])])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvdGVtcGxhdGVMb2FkZXIuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9DYWxlbmRhckV2ZW50TW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWMwZGY4YzY0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0VBRVMsU0FBTTtFQUFrQkEsUUFBUSxFQUFDO0VBQUtDLElBQUksRUFBQzs7O0VBQ3ZDLFNBQU07RUFBZUEsSUFBSSxFQUFDOzs7RUFDdEIsU0FBTTs7O0VBQ0YsU0FBTTs7O0VBQ0gsU0FBTTs7OzhCQVNOQyx1REFBQUEsQ0FBdUMsTUFBdkMsRUFBdUM7RUFBakMsZUFBWTtBQUFxQixDQUF2QyxFQUF5QixHQUF6QixFQUFnQztBQUFBO0FBQWhDOztrQkFBQUM7O0VBR0gsU0FBTTs7O0VBRUUsU0FBTTs7OytCQUNQRCx1REFBQUEsQ0FBdUMsT0FBdkMsRUFBdUM7RUFBaEMsT0FBSTtBQUE0QixDQUF2QyxFQUF3QixTQUF4QixFQUErQjtBQUFBO0FBQS9COzsrQkFXSkEsdURBQUFBLENBRVMsUUFGVCxFQUVTO0VBRkRFLElBQUksRUFBQyxRQUVKO0VBRmEsU0FBTTtBQUVuQixDQUZULEVBQThDLFVBQTlDLEVBRUE7QUFBQTtBQUZBOzs7U0E5QjJDQyxvQkFBQUEsOENBQUFBLElBQS9EQyx1REFBQUEsQ0FxQ00sS0FyQ04sY0FxQ00sQ0FwQ0ZKLHVEQUFBQSxDQW1DTSxLQW5DTixjQW1DTSxDQWxDRkEsdURBQUFBLENBaUNNLEtBakNOLGNBaUNNLENBaENGQSx1REFBQUEsQ0FZTSxLQVpOLGNBWU0sQ0FYRkEsdURBQUFBLENBRUssSUFGTCxjQUF3Qix1QkFDSEssb0RBQUFBLE1BQVFDLFlBQVIsQ0FEckIsRUFDeUM7RUFBQTtFQUR6QyxDQVdFLEVBUkZOLHVEQUFBQSxDQU9TLFFBUFQsRUFPUztJQU5MRSxJQUFJLEVBQUMsUUFNQTtJQUxMLFNBQU0sT0FLRDtJQUpKSyxPQUFLO01BQUEsT0FBRUMscUVBQUY7SUFBQSxFQUlEO0lBSEwsY0FBVztFQUdOLENBUFQsd0JBUUUsQ0FaTixDQWdDRSxFQW5CRlIsdURBQUFBLENBa0JNLEtBbEJOLGNBa0JNLENBakJGQSx1REFBQUEsQ0FnQk8sTUFoQlAsRUFnQk87SUFoQkFTLFFBQU07TUFBQSxPQUFVRCx5RUFBVjtJQUFBLEdBQXNCLFdBQXRCO0VBZ0JOLENBaEJQLEdBQ0lSLHVEQUFBQSxDQVdNLEtBWE4sY0FXTSxDQVZGVSxXQVVFLHNEQVJGVix1REFBQUEsQ0FPRSxPQVBGLEVBT0U7O2FBTldXLGNBQUtDO01BTWhCO0lBTEVDLEVBQUUsRUFBQyxZQUtMO0lBSkVYLElBQUksRUFBQyxNQUlQO0lBSEVZLFdBQVcsRUFBQyxPQUdkO0lBRkUsU0FBTSxjQUVSO0lBREVDLFFBQVEsRUFBUjtFQUNGLENBUEY7O0VBQUEsa0RBQ2FKLGNBT1gsQ0FYTixHQVlBSyxZQWJKOztFQUFBLENBaUJFLENBbEJOLENBbUJFLENBakNOLENBa0NFLENBbkNOLENBb0NFLENBckNOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwcC9jb21wb25lbnRzL0NhbGVuZGFyRXZlbnRNb2RhbC52dWU/MWUxOCJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tIE5ld0V2ZW50TW9kYWwudnVlIC0tPlxuPHRlbXBsYXRlPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlIHNob3dcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIHYtaWY9XCJpc1Zpc2libGVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBBZGQgTmV3IEV2ZW50IE9uIHt7IHRoaXMuc2VsZWN0ZWREYXRlIH19XG4gICAgICAgICAgICAgICAgICAgIDwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJjbG9zZU1vZGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxmb3JtIEBzdWJtaXQucHJldmVudD1cInByb2Nlc3NFdmVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZXZlbnRUaXRsZVwiPlRpdGxlOiA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZXZlbnRUaXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1Ym1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcHJvcHM6IFtcImlzVmlzaWJsZVwiLCBcInNlbGVjdGVkRGF0ZVwiLCBcInB1cmNoYXNlcklkXCIsIFwib25FZGl0XCIsIFwiZXZlbnRJZFwiXSxcbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgICBkYXRhOiBcIjIwMjQtMDEtMDFcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZWQoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGFsKCk7XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICBpc1Zpc2libGUobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJjbG9zZS1tb2RhbFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgaW5pdGlhbGl6ZU1vZGFsKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub25FZGl0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAvY2FsZW5kYXIvZXZlbnRzLyR7dGhpcy5ldmVudElkfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0gZXZlbnRSZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gZXZlbnREYXRhLnRpdGxlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBldmVudCBkYXRhOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBwcm9jZXNzRXZlbnQoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiYWRkLWV2ZW50XCIsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjc3JmVG9rZW4gPSBkb2N1bWVudC5jb29raWUucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgLyg/Oig/Ol58Lio7XFxzKiljc3JmVG9rZW5cXHMqPVxccyooW147XSopLiokKXxeLiokLyxcbiAgICAgICAgICAgICAgICAgICAgXCIkMVwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIlgtQ1NSRi1Ub2tlblwiXSA9IGNzcmZUb2tlbjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5vbkVkaXRcbiAgICAgICAgICAgICAgICAgICAgPyBgL2NhbGVuZGFyL3VwZGF0ZS1ldmVudC8ke3RoaXMuZXZlbnRJZH1gXG4gICAgICAgICAgICAgICAgICAgIDogXCIvY2FsZW5kYXIvYWRkLWV2ZW50XCI7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZXJfaWQ6IHRoaXMucHVyY2hhc2VySWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdChcImV2ZW50U3RvcmVkXCIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBGYWlsZWQgdG8gYWRkIGV2ZW50LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSBcIlwiO1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuPC9zY3JpcHQ+XG4iXSwibmFtZXMiOlsidGFiaW5kZXgiLCJyb2xlIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsIl9ob2lzdGVkXzYiLCJ0eXBlIiwiJHByb3BzIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl90b0Rpc3BsYXlTdHJpbmciLCJzZWxlY3RlZERhdGUiLCJvbkNsaWNrIiwiJG9wdGlvbnMiLCJvblN1Ym1pdCIsIl9ob2lzdGVkXzEwIiwiJGRhdGEiLCIkZXZlbnQiLCJpZCIsInBsYWNlaG9sZGVyIiwicmVxdWlyZWQiLCJfaG9pc3RlZF8xMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e":
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\n\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"modal fade show\",\n  tabindex: \"-1\",\n  role: \"dialog\"\n};\nvar _hoisted_2 = {\n  \"class\": \"modal-dialog\",\n  role: \"document\"\n};\nvar _hoisted_3 = {\n  \"class\": \"modal-content\"\n};\nvar _hoisted_4 = {\n  \"class\": \"modal-header\"\n};\nvar _hoisted_5 = {\n  \"class\": \"modal-title\"\n};\n\nvar _hoisted_6 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"×\", -1\n/* HOISTED */\n);\n\nvar _hoisted_7 = [_hoisted_6];\nvar _hoisted_8 = {\n  \"class\": \"modal-body\"\n};\nvar _hoisted_9 = {\n  \"class\": \"modal-description\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.isVisible ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_1, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_3, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_4, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"h5\", _hoisted_5, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(this.file.file.name), 1\n  /* TEXT */\n  ), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n    type: \"button\",\n    \"class\": \"close\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.closeModal && $options.closeModal.apply($options, arguments);\n    }),\n    \"aria-label\": \"Close\"\n  }, [].concat(_hoisted_7))]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_8, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", _hoisted_9, \" კომენტარი: \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(this.file.file.comment), 1\n  /* TEXT */\n  ), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.confirmDelete && $options.confirmDelete.apply($options, arguments);\n    })\n  }, \" Delete \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-secondary ml-1\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.openInNewTab && $options.openInNewTab.apply($options, arguments);\n    })\n  }, \" View \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-success ml-1\",\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $options.downloadFile && $options.downloadFile.apply($options, arguments);\n    })\n  }, \" Download \")])])])])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvdGVtcGxhdGVMb2FkZXIuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9GaWxlQWN0aW9uc01vZGFsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lZGZhZjI2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztFQUdTLFNBQU07RUFBa0JBLFFBQVEsRUFBQztFQUFLQyxJQUFJLEVBQUM7OztFQUN2QyxTQUFNO0VBQWVBLElBQUksRUFBQzs7O0VBQ3RCLFNBQU07OztFQUNGLFNBQU07OztFQUNILFNBQU07Ozs4QkFVTkMsdURBQUFBLENBQXVDLE1BQXZDLEVBQXVDO0VBQWpDLGVBQVk7QUFBcUIsQ0FBdkMsRUFBeUIsR0FBekIsRUFBZ0M7QUFBQTtBQUFoQzs7a0JBQUFDOztFQUdILFNBQU07OztFQUNKLFNBQU07OztTQWxCc0NDLG9CQUFBQSw4Q0FBQUEsSUFBL0RDLHVEQUFBQSxDQTZDTSxLQTdDTixjQTZDTSxDQTVDRkgsdURBQUFBLENBMkNNLEtBM0NOLGNBMkNNLENBMUNGQSx1REFBQUEsQ0F5Q00sS0F6Q04sY0F5Q00sQ0F4Q0ZBLHVEQUFBQSxDQWFNLEtBYk4sY0FhTSxDQVpGQSx1REFBQUEsQ0FFSyxJQUZMLGNBRUtJLG9EQUFBQSxNQURPQyxJQUNQLENBRFlBLElBQ1osQ0FEaUJDLElBQ2pCLENBRkwsRUFDMEI7RUFBQTtFQUQxQixDQVlFLEVBUkZOLHVEQUFBQSxDQU9TLFFBUFQsRUFPUztJQU5MTyxJQUFJLEVBQUMsUUFNQTtJQUxMLFNBQU0sT0FLRDtJQUpKQyxPQUFLO01BQUEsT0FBRUMscUVBQUY7SUFBQSxFQUlEO0lBSEwsY0FBVztFQUdOLENBUFQsd0JBUUUsQ0FiTixDQXdDRSxFQTFCRlQsdURBQUFBLENBeUJNLEtBekJOLGNBeUJNLENBeEJGQSx1REFBQUEsQ0FFSSxHQUZKLGNBQTZCLGlCQUNkSSxvREFBQUEsTUFBUUMsSUFBUixDQUFhQSxJQUFiLENBQWtCSyxPQUFsQixDQURmLEVBQ3dDO0VBQUE7RUFEeEMsQ0F3QkUsRUFyQkZWLHVEQUFBQSxDQU1TLFFBTlQsRUFNUztJQUxMTyxJQUFJLEVBQUMsUUFLQTtJQUpMLFNBQU0saUJBSUQ7SUFISkMsT0FBSztNQUFBLE9BQUVDLDJFQUFGO0lBQUE7RUFHRCxDQU5ULEVBSUMsVUFKRCxDQXFCRSxFQWRGVCx1REFBQUEsQ0FNUyxRQU5ULEVBTVM7SUFMTE8sSUFBSSxFQUFDLFFBS0E7SUFKTCxTQUFNLHdCQUlEO0lBSEpDLE9BQUs7TUFBQSxPQUFFQyx5RUFBRjtJQUFBO0VBR0QsQ0FOVCxFQUlDLFFBSkQsQ0FjRSxFQVBGVCx1REFBQUEsQ0FNUyxRQU5ULEVBTVM7SUFMTE8sSUFBSSxFQUFDLFFBS0E7SUFKTCxTQUFNLHNCQUlEO0lBSEpDLE9BQUs7TUFBQSxPQUFFQyx5RUFBRjtJQUFBO0VBR0QsQ0FOVCxFQUlDLFlBSkQsQ0FPRSxDQXpCTixDQTBCRSxDQXpDTixDQTBDRSxDQTNDTixDQTRDRSxDQTdDTiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9GaWxlQWN0aW9uc01vZGFsLnZ1ZT8wOThjIl0sInNvdXJjZXNDb250ZW50IjpbIjwhLS0gRmlsZUFjdGlvbnNNb2RhbC52dWUgLS0+XG5cbjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwgZmFkZSBzaG93XCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiB2LWlmPVwiaXNWaXNpYmxlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sgdGhpcy5maWxlLmZpbGUubmFtZSB9fVxuICAgICAgICAgICAgICAgICAgICA8L2g1PlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJjbG9zZU1vZGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibW9kYWwtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIOGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDmDoge3sgdGhpcy5maWxlLmZpbGUuY29tbWVudCB9fVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiY29uZmlybURlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5IG1sLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwib3BlbkluTmV3VGFiXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVmlld1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBtbC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImRvd25sb2FkRmlsZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIERvd25sb2FkXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9wczogW1wiaXNWaXNpYmxlXCIsIFwiZmlsZVwiXSxcblxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgY29uZmlybURlbGV0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGZpbGU/XCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVGaWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUZpbGUoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRlbGV0ZVwiLCB0aGlzLmZpbGUpO1xuICAgICAgICAgICAgYXhpb3NcbiAgICAgICAgICAgICAgICAuZGVsZXRlKGAvcHVyY2hhc2VyL21lZGlhLyR7dGhpcy5maWxlLmZpbGUuaWR9YClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdChcImZpbGVEZWxldGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGVcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuSW5OZXdUYWIoKSB7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih0aGlzLmZpbGUuc2VydmVySWQsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRvd25sb2FkRmlsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHRoaXMuZmlsZS5zZXJ2ZXJJZDtcbiAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSB0aGlzLmZpbGUuZmlsZS5uYW1lO1xuICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2xvc2VcIik7XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cbiJdLCJuYW1lcyI6WyJ0YWJpbmRleCIsInJvbGUiLCJfY3JlYXRlRWxlbWVudFZOb2RlIiwiX2hvaXN0ZWRfNiIsIiRwcm9wcyIsIl9jcmVhdGVFbGVtZW50QmxvY2siLCJfdG9EaXNwbGF5U3RyaW5nIiwiZmlsZSIsIm5hbWUiLCJ0eXBlIiwib25DbGljayIsIiRvcHRpb25zIiwiY29tbWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\n\n\nvar _withScopeId = function _withScopeId(n) {\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)(\"data-v-05f52410\"), n = n(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"container-fluid\"\n};\nvar _hoisted_2 = {\n  \"class\": \"row\"\n};\nvar _hoisted_3 = {\n  \"class\": \"col-12\"\n};\nvar _hoisted_4 = {\n  \"class\": \"invoice p-3 mb-3\"\n};\nvar _hoisted_5 = {\n  style: {}\n};\nvar _hoisted_6 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"for\": \"staticEmail\",\n    \"class\": \"col-sm-3 col-form-label\"\n  }, [/*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"b\", null, \"მყიდველის სახელი:\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_8 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_9 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_10 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput2\"\n  }, \"დამატებითი სახელი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_11 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_12 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_13 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"მყიდველის მისამართი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_15 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_16 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_17 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"საიდენთიფიკაციო კოდი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_18 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_19 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_20 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_21 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"ტექნიკური მომსახურებისთვის საჭირო დრო:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_22 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_23 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_24 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_25 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"წმენდითი მომსახურებისთვის საჭირო დრო:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_26 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_27 = {\n  \"class\": \"col-sm-3 col-form-label\"\n};\nvar _hoisted_28 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_29 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"აღწერა:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_30 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_31 = [\"innerHTML\"];\nvar _hoisted_32 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_33 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"პირველადი აღწერის თარიღი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_34 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_35 = [\"innerHTML\"];\nvar _hoisted_36 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_37 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"კომენტარი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_38 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_39 = [\"innerHTML\"];\nvar _hoisted_40 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_41 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"ტექნიკური აღწერის თარიღი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_42 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_43 = [\"innerHTML\"];\nvar _hoisted_44 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_45 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"კომენტარი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_46 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_47 = [\"innerHTML\"];\nvar _hoisted_48 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_49 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"საინფორმაციო ბაზის შექმნის თარიღი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_50 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_51 = [\"innerHTML\"];\nvar _hoisted_52 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_53 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-3 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"კომენტარი:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_54 = {\n  \"class\": \"col-sm-9\"\n};\nvar _hoisted_55 = [\"innerHTML\"];\nvar _hoisted_56 = {\n  \"class\": \"form-group row\"\n};\n\nvar _hoisted_57 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", {\n    \"class\": \"col-sm-2 col-form-label\",\n    \"for\": \"formGroupExampleInput\"\n  }, \"გალერეა:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_58 = {\n  \"class\": \"col-sm-4\"\n};\nvar _hoisted_59 = {\n  \"class\": \"col-sm-6\"\n};\nvar _hoisted_60 = {\n  key: 0\n};\nvar _hoisted_61 = [\"onClick\", \"src\"];\nvar _hoisted_62 = {\n  key: 0,\n  \"class\": \"full-screen-modal\"\n};\nvar _hoisted_63 = [\"src\"];\nvar _hoisted_64 = {\n  \"class\": \"row\"\n};\nvar _hoisted_65 = {\n  \"class\": \"col\"\n};\nvar _hoisted_66 = {\n  \"class\": \"col-sm\",\n  style: {\n    \"overflow-y\": \"auto\",\n    \"max-height\": \"300px\"\n  }\n};\nvar _hoisted_67 = {\n  \"class\": \"list-group\"\n};\nvar _hoisted_68 = [\"onClick\"];\nvar _hoisted_69 = {\n  \"class\": \"col-md-9 mt-1\"\n};\nvar _hoisted_70 = {\n  \"class\": \"mt-5 row\"\n};\nvar _hoisted_71 = {\n  \"class\": \"container files mt-5\"\n};\n\nvar _hoisted_72 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"h4\", null, \"დამატებითი ფაილები:\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_73 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"hr\", null, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_74 = [\"onClick\", \"aria-expanded\", \"aria-controls\"];\n\nvar _hoisted_75 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"i\", {\n    \"class\": \"fas fa-calendar-day mr-2\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_76 = {\n  key: 0,\n  \"class\": \"fas fa-chevron-up\"\n};\nvar _hoisted_77 = {\n  key: 1,\n  \"class\": \"fas fa-chevron-down\"\n};\nvar _hoisted_78 = [\"id\"];\nvar _hoisted_79 = [\"onClick\"];\n\nvar _hoisted_80 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"i\", {\n    \"class\": \"fas fa-folder mr-2\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_81 = {\n  key: 0,\n  \"class\": \"fas fa-chevron-up ml-auto\"\n};\nvar _hoisted_82 = {\n  key: 1,\n  \"class\": \"fas fa-chevron-down ml-auto\"\n};\nvar _hoisted_83 = {\n  \"class\": \"ml-4 mt-2\"\n};\nvar _hoisted_84 = [\"onClick\"];\n\nvar _hoisted_85 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"i\", {\n    \"class\": \"fas fa-image mr-2\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_86 = [\"onClick\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _this = this;\n\n  var _component_file_pond = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"file-pond\");\n\n  var _component_Qalendar = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Qalendar\");\n\n  var _component_calendar_event_modal = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"calendar-event-modal\");\n\n  var _component_file_actions_modal = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"file-actions-modal\");\n\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_1, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_3, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Main content \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_4, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_5, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_6, [_hoisted_7, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_8, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.name), 1\n  /* TEXT */\n  )]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_9, [_hoisted_10, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_11, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_12, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.subj_name), 1\n  /* TEXT */\n  )])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_13, [_hoisted_14, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_15, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.subj_address), 1\n  /* TEXT */\n  )]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_16, [_hoisted_17, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_18, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_19, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.identification_num), 1\n  /* TEXT */\n  )])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_20, [_hoisted_21, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_22, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_23, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.technical_time) + \" წთ\", 1\n  /* TEXT */\n  )])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_24, [_hoisted_25, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_26, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"label\", _hoisted_27, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)($props.model.cleaning_time) + \" წთ\", 1\n  /* TEXT */\n  )])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_28, [_hoisted_29, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_30, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.description\n  }, null, 8\n  /* PROPS */\n  , _hoisted_31)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_32, [_hoisted_33, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_34, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.first_review_date\n  }, null, 8\n  /* PROPS */\n  , _hoisted_35)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_36, [_hoisted_37, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_38, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.first_review_description\n  }, null, 8\n  /* PROPS */\n  , _hoisted_39)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_40, [_hoisted_41, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_42, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.technical_review_date\n  }, null, 8\n  /* PROPS */\n  , _hoisted_43)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_44, [_hoisted_45, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_46, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.technical_review_description\n  }, null, 8\n  /* PROPS */\n  , _hoisted_47)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_48, [_hoisted_49, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_50, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.base_creation_date\n  }, null, 8\n  /* PROPS */\n  , _hoisted_51)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_52, [_hoisted_53, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_54, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n    innerHTML: $props.model.base_description\n  }, null, 8\n  /* PROPS */\n  , _hoisted_55)])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_56, [_hoisted_57, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_58, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_file_pond, {\n    onActivatefile: $options.onActivateFile,\n    onProcessfile: $options.fileProcessed,\n    \"label-idle\": \"გალერეა\",\n    name: \"purchaserGallery\",\n    server: \"/uploadPurchaserGallery/\".concat($props.model.id),\n    ref: \"pond\",\n    \"allow-multiple\": true,\n    files: $data.galleryImages,\n    allowRemove: false,\n    allowRevert: false,\n    onInit: $options.handleFilePondInitGallery\n  }, null, 8\n  /* PROPS */\n  , [\"onActivatefile\", \"onProcessfile\", \"server\", \"files\", \"onInit\"])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_59, [$data.galleryImages.length > 0 ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_60, [((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)($data.galleryImages, function (file, index) {\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      \"class\": \"galleryImage\",\n      style: {\n        \"display\": \"inline-block\",\n        \"padding\": \"3px\"\n      },\n      key: index\n    }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n      onClick: function onClick($event) {\n        return $options.onSlideClick(file.source);\n      },\n      src: file.source,\n      alt: \"uploaded preview\",\n      style: {\n        \"max-width\": \"200px\",\n        \"max-height\": \"200px\",\n        \"margin-right\": \"10px\"\n      }\n    }, null, 8\n    /* PROPS */\n    , _hoisted_61)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true)])]), $data.isFullScreenOpen ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_62, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", {\n    \"class\": \"close-button\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.closeFullScreen && $options.closeFullScreen.apply($options, arguments);\n    })\n  }, \"×\"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n    \"class\": \"full-screen-image\",\n    src: $data.fullScreenImageSrc\n  }, null, 8\n  /* PROPS */\n  , _hoisted_63)])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_64, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_65, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Scrollable object with items from events \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_66, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"ul\", _hoisted_67, [((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)($data.events, function (event) {\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"li\", {\n      key: event.id,\n      \"class\": \"list-group-item\",\n      onClick: function onClick($event) {\n        return $options.handleEventClick(event);\n      }\n    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(event.title + \" \" + event.time.start), 9\n    /* TEXT, PROPS */\n    , _hoisted_68);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_69, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Qalendar and calendar-event-modal components \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_Qalendar, {\n    events: $data.events,\n    \"selected-date\": $data.selectedQalendarDate || new Date(),\n    config: $data.config,\n    \"day-min-height\": 250,\n    onDateWasClicked: $options.handleDateClicked,\n    onEditEvent: $options.handleEditEvent,\n    onDeleteEvent: $options.handleDeleteEvent,\n    ref: \"calendar\"\n  }, null, 8\n  /* PROPS */\n  , [\"events\", \"selected-date\", \"config\", \"onDateWasClicked\", \"onEditEvent\", \"onDeleteEvent\"]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_calendar_event_modal, {\n    onEventStored: $options.fetchEvents,\n    \"is-visible\": this.isModalVisible,\n    \"selected-date\": this.selectedDate,\n    \"purchaser-id\": this.model.id,\n    \"on-edit\": this.isModalOnEdit,\n    \"event-id\": this.eventId,\n    onCloseModal: $options.closeModal,\n    onAddEvent: $options.addEvent\n  }, null, 8\n  /* PROPS */\n  , [\"onEventStored\", \"is-visible\", \"selected-date\", \"purchaser-id\", \"on-edit\", \"event-id\", \"onCloseModal\", \"onAddEvent\"])])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_70, [((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)($data.subjects, function (subject) {\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: subject.id,\n      \"class\": \"col-md-4\"\n    }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_file_pond, {\n      onActivatefile: $options.onActivateFile,\n      onProcessfile: $options.fileProcessed,\n      name: subject.name + 'Files',\n      ref_for: true,\n      ref: subject.ref,\n      \"label-idle\": subject.geo_name,\n      server: \"/purchaser/\".concat(_this.model.id, \"/files\"),\n      \"allow-multiple\": true,\n      allowRemove: false,\n      allowRevert: false,\n      files: subject.files,\n      onInit: function onInit($event) {\n        return $options.handleFilePondInit(subject.ref);\n      }\n    }, null, 8\n    /* PROPS */\n    , [\"onActivatefile\", \"onProcessfile\", \"name\", \"label-idle\", \"server\", \"files\", \"onInit\"])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_file_actions_modal, {\n    \"is-visible\": $data.isFileActionsModalVisible,\n    file: $data.activatedFile,\n    onFileDeleted: $options.fetchAfterDelete,\n    onClose: $options.closeModal\n  }, null, 8\n  /* PROPS */\n  , [\"is-visible\", \"file\", \"onFileDeleted\", \"onClose\"])]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Folder Structure \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_71, [_hoisted_72, _hoisted_73, ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)($data.folderStructure, function (locations, date) {\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: date,\n      \"class\": \"mb-4\"\n    }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"h3\", {\n      onClick: function onClick($event) {\n        return $options.toggleLocations(date);\n      },\n      \"class\": \"btn btn-primary w-100 text-left p-3 rounded-pill d-flex align-items-center justify-content-between\",\n      \"aria-expanded\": $options.isDateSelected(date).toString(),\n      \"aria-controls\": 'locations-' + date\n    }, [_hoisted_75, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(date) + \" \", 1\n    /* TEXT */\n    ), $options.isDateSelected(date) ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"i\", _hoisted_76)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"i\", _hoisted_77))], 8\n    /* PROPS */\n    , _hoisted_74), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Locations shown when a date is clicked \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", {\n      id: 'locations-' + date,\n      \"class\": \"ml-4 mt-2\"\n    }, [((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(locations, function (files, location) {\n      return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n        key: location,\n        \"class\": \"mb-2\"\n      }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n        onClick: function onClick($event) {\n          return $options.toggleFiles(location);\n        },\n        \"class\": \"btn btn-outline-primary w-100 text-left d-flex align-items-center p-3 rounded-pill\"\n      }, [_hoisted_80, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(location) + \" \", 1\n      /* TEXT */\n      ), $options.isLocationSelected(location) ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"i\", _hoisted_81)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"i\", _hoisted_82))], 8\n      /* PROPS */\n      , _hoisted_79), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" Files shown when a location is clicked \"), (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_83, [((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(files, function (file) {\n        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n          key: file.file_name,\n          \"class\": \"mb-2 d-flex align-items-center\"\n        }, [(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n          onClick: function onClick($event) {\n            return $options.openImage(file);\n          },\n          \"class\": \"btn btn-link text-left flex-grow-1 d-flex align-items-center\"\n        }, [_hoisted_85, (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(file.file_name), 1\n        /* TEXT */\n        )], 8\n        /* PROPS */\n        , _hoisted_84), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n          onClick: function onClick($event) {\n            return $options.deleteFile(file);\n          },\n          \"class\": \"btn btn-danger ml-2\"\n        }, \" წაშლა \", 8\n        /* PROPS */\n        , _hoisted_86)]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))], 512\n      /* NEED_PATCH */\n      ), [[vue__WEBPACK_IMPORTED_MODULE_0__.vShow, $options.isLocationSelected(location)]])]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))], 8\n    /* PROPS */\n    , _hoisted_78), [[vue__WEBPACK_IMPORTED_MODULE_0__.vShow, $options.isDateSelected(date)]])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" End Folder Structure \")])])])])]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvdGVtcGxhdGVMb2FkZXIuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL3Jlc291cmNlcy9qcy9hcHAvcGFnZXMvUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA1ZjUyNDEwJnNjb3BlZD10cnVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztFQUNTLFNBQU07OztFQUNGLFNBQU07OztFQUNGLFNBQU07OztFQUdGLFNBQU07OztFQUNGQSxLQUFRLEVBQVI7OztFQUNJLFNBQU07Ozs7c0JBQ1BDLHVEQUFBQTtJQUNJLE9BQUksYUFEUjtJQUVJLFNBQU07RUFGVixpQkFHS0EsdURBQUFBLENBQXdCLEdBQXhCLEVBQXdCLElBQXhCLEVBQUcsbUJBQUgsRUFITDs7RUFBQTs7OztFQUtPLFNBQU07OztFQUtaLFNBQU07Ozs7c0JBQ1BBLHVEQUFBQTtJQUNJLFNBQU0seUJBRFY7SUFFSSxPQUFJO0VBRlIsR0FHSyxvQkFITCxFQUd1QjtFQUFBO0VBSHZCOzs7O0VBS0ssU0FBTTs7O0VBQ0EsU0FBTTs7O0VBTWhCLFNBQU07Ozs7c0JBQ1BBLHVEQUFBQTtJQUNJLFNBQU0seUJBRFY7SUFFSSxPQUFJO0VBRlIsR0FHSyxzQkFITCxFQUd5QjtFQUFBO0VBSHpCOzs7O0VBS08sU0FBTTs7O0VBSVosU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLHVCQUhMLEVBRzBCO0VBQUE7RUFIMUI7Ozs7RUFNSyxTQUFNOzs7RUFDQSxTQUFNOzs7RUFNaEIsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLHdDQUhMLEVBRzJDO0VBQUE7RUFIM0M7Ozs7RUFNSyxTQUFNOzs7RUFDQSxTQUFNOzs7RUFLaEIsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLHVDQUhMLEVBRzBDO0VBQUE7RUFIMUM7Ozs7RUFNSyxTQUFNOzs7RUFDQSxTQUFNOzs7RUFNaEIsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLFNBSEwsRUFHWTtFQUFBO0VBSFo7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLDJCQUhMLEVBRzhCO0VBQUE7RUFIOUI7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLFlBSEwsRUFHZTtFQUFBO0VBSGY7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLDJCQUhMLEVBRzhCO0VBQUE7RUFIOUI7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLFlBSEwsRUFHZTtFQUFBO0VBSGY7Ozs7RUFNSyxTQUFNOzs7O0VBT1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLG9DQUhMLEVBR3VDO0VBQUE7RUFIdkM7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLFlBSEwsRUFHZTtFQUFBO0VBSGY7Ozs7RUFNSyxTQUFNOzs7O0VBS1YsU0FBTTs7OztzQkFDUEEsdURBQUFBO0lBQ0ksU0FBTSx5QkFEVjtJQUVJLE9BQUk7RUFGUixHQUdLLFVBSEwsRUFHYTtFQUFBO0VBSGI7Ozs7RUFNSyxTQUFNOzs7RUFlTixTQUFNOzs7Ozs7OztFQTBCYyxTQUFNOzs7O0VBVTlCLFNBQU07OztFQUNGLFNBQU07OztFQUdILFNBQU07RUFDTkQsS0FBMkMsRUFBM0M7SUFBQTtJQUFBO0VBQUE7OztFQUVJLFNBQU07Ozs7RUFnQmIsU0FBTTs7O0VBMkJWLFNBQU07OztFQThCTixTQUFNOzs7O3NCQUNQQyx1REFBQUEsQ0FBNEIsSUFBNUIsRUFBNEIsSUFBNUIsRUFBSSxxQkFBSixFQUF1QjtFQUFBO0VBQXZCOzs7O3NCQUNBQSx1REFBQUEsQ0FBTSxJQUFOLEVBQU0sSUFBTixFQUFNLElBQU4sRUFBTTtFQUFBO0VBQU47Ozs7OztzQkFjUUEsdURBQUFBO0lBQUcsU0FBTTtFQUFULEdBQW1DLElBQW5DLEVBQW1DO0VBQUE7RUFBbkM7Ozs7O0VBSUksU0FBTTs7OztFQUVBLFNBQU07Ozs7OztzQkFrQlJBLHVEQUFBQTtJQUFHLFNBQU07RUFBVCxHQUE2QixJQUE3QixFQUE2QjtFQUFBO0VBQTdCOzs7OztFQU1JLFNBQU07Ozs7RUFJTixTQUFNOzs7RUFTVixTQUFNOzs7OztzQkFXRUEsdURBQUFBO0lBQ0ksU0FBTTtFQURWLEdBQzZCLElBRDdCLEVBQzZCO0VBQUE7RUFEN0I7Ozs7Ozs7Ozs7Ozs7OzsyREF4WGhEQyx1REFBQUEsQ0E4WU0sS0E5WU4sY0E4WU0sQ0E3WUZELHVEQUFBQSxDQTRZTSxLQTVZTixjQTRZTSxDQTNZRkEsdURBQUFBLENBMFlNLEtBMVlOLGNBMFlNLENBellGRSx1REFBQUEsa0JBeVlFLEVBdllGRix1REFBQUEsQ0FzWU0sS0F0WU4sY0FzWU0sQ0FyWUZBLHVEQUFBQSxDQW9ZTSxLQXBZTixjQW9ZTSxDQW5ZRkEsdURBQUFBLENBU00sS0FUTixjQVNNLENBUkZHLFVBUUUsRUFIRkgsdURBQUFBLENBRVUsT0FGVixjQUVVSSxvREFBQUEsQ0FETkMsYUFBTUMsSUFDQSxDQUZWLEVBQ2M7RUFBQTtFQURkLENBR0UsQ0FUTixDQW1ZRSxFQXhYRk4sdURBQUFBLENBV00sS0FYTixjQVdNLENBVkZPLFdBVUUsRUFMRlAsdURBQUFBLENBSU0sS0FKTixlQUlNLENBSEZBLHVEQUFBQSxDQUVVLE9BRlYsZUFFVUksb0RBQUFBLENBRE5DLGFBQU1HLFNBQ0EsQ0FGVixFQUNtQjtFQUFBO0VBRG5CLENBR0UsQ0FKTixDQUtFLENBWE4sQ0F3WEUsRUEzV0ZSLHVEQUFBQSxDQVNNLEtBVE4sZUFTTSxDQVJGUyxXQVFFLEVBSEZULHVEQUFBQSxDQUVVLE9BRlYsZUFFVUksb0RBQUFBLENBRE5DLGFBQU1LLFlBQ0EsQ0FGVixFQUNzQjtFQUFBO0VBRHRCLENBR0UsQ0FUTixDQTJXRSxFQWpXRlYsdURBQUFBLENBWU0sS0FaTixlQVlNLENBWEZXLFdBV0UsRUFMRlgsdURBQUFBLENBSU0sS0FKTixlQUlNLENBSEZBLHVEQUFBQSxDQUVVLE9BRlYsZUFFVUksb0RBQUFBLENBRE5DLGFBQU1PLGtCQUNBLENBRlYsRUFDNEI7RUFBQTtFQUQ1QixDQUdFLENBSk4sQ0FLRSxDQVpOLENBaVdFLEVBblZGWix1REFBQUEsQ0FZTSxLQVpOLGVBWU0sQ0FYRmEsV0FXRSxFQUxGYix1REFBQUEsQ0FJTSxLQUpOLGVBSU0sQ0FIRkEsdURBQUFBLHVCQUFBQSxvREFBQUEsQ0FDUUssYUFBTVMsY0FEZCxJQUMrQixLQUQvQixFQUNrQztFQUFBO0VBRGxDLENBR0UsQ0FKTixDQUtFLENBWk4sQ0FtVkUsRUF0VUZkLHVEQUFBQSxDQVlNLEtBWk4sZUFZTSxDQVhGZSxXQVdFLEVBTEZmLHVEQUFBQSxDQUlNLEtBSk4sZUFJTSxDQUhGQSx1REFBQUEsdUJBQUFBLG9EQUFBQSxDQUNRSyxhQUFNVyxhQURkLElBQzhCLEtBRDlCLEVBQ2lDO0VBQUE7RUFEakMsQ0FHRSxDQUpOLENBS0UsQ0FaTixDQXNVRSxFQXhURmhCLHVEQUFBQSxDQVVNLEtBVk4sZUFVTSxDQVRGaUIsV0FTRSxFQUhGakIsdURBQUFBLENBRU0sS0FGTixlQUVNLENBREZBLHVEQUFBQSxDQUFrQyxHQUFsQyxFQUFrQztJQUEvQmtCLFNBQTBCLEVBQWxCYixhQUFNYztFQUFpQixDQUFsQzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBd1RFLEVBNVNGbkIsdURBQUFBLENBVU0sS0FWTixlQVVNLENBVEZvQixXQVNFLEVBSEZwQix1REFBQUEsQ0FFTSxLQUZOLGVBRU0sQ0FERkEsdURBQUFBLENBQXdDLEdBQXhDLEVBQXdDO0lBQXJDa0IsU0FBZ0MsRUFBeEJiLGFBQU1nQjtFQUF1QixDQUF4Qzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBNFNFLEVBaFNGckIsdURBQUFBLENBVU0sS0FWTixlQVVNLENBVEZzQixXQVNFLEVBSEZ0Qix1REFBQUEsQ0FFTSxLQUZOLGVBRU0sQ0FERkEsdURBQUFBLENBQStDLEdBQS9DLEVBQStDO0lBQTVDa0IsU0FBdUMsRUFBL0JiLGFBQU1rQjtFQUE4QixDQUEvQzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBZ1NFLEVBcFJGdkIsdURBQUFBLENBVU0sS0FWTixlQVVNLENBVEZ3QixXQVNFLEVBSEZ4Qix1REFBQUEsQ0FFTSxLQUZOLGVBRU0sQ0FERkEsdURBQUFBLENBQTRDLEdBQTVDLEVBQTRDO0lBQXpDa0IsU0FBb0MsRUFBNUJiLGFBQU1vQjtFQUEyQixDQUE1Qzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBb1JFLEVBeFFGekIsdURBQUFBLENBWU0sS0FaTixlQVlNLENBWEYwQixXQVdFLEVBTEYxQix1REFBQUEsQ0FJTSxLQUpOLGVBSU0sQ0FIRkEsdURBQUFBLENBRUssR0FGTCxFQUVLO0lBRERrQixTQUEyQyxFQUFuQ2IsYUFBTXNCO0VBQ2IsQ0FGTDs7RUFBQSxjQUdFLENBSk4sQ0FLRSxDQVpOLENBd1FFLEVBMVBGM0IsdURBQUFBLENBVU0sS0FWTixlQVVNLENBVEY0QixXQVNFLEVBSEY1Qix1REFBQUEsQ0FFTSxLQUZOLGVBRU0sQ0FERkEsdURBQUFBLENBQXlDLEdBQXpDLEVBQXlDO0lBQXRDa0IsU0FBaUMsRUFBekJiLGFBQU13QjtFQUF3QixDQUF6Qzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBMFBFLEVBOU9GN0IsdURBQUFBLENBVU0sS0FWTixlQVVNLENBVEY4QixXQVNFLEVBSEY5Qix1REFBQUEsQ0FFTSxLQUZOLGVBRU0sQ0FERkEsdURBQUFBLENBQXVDLEdBQXZDLEVBQXVDO0lBQXBDa0IsU0FBK0IsRUFBdkJiLGFBQU0wQjtFQUFzQixDQUF2Qzs7RUFBQSxjQUNFLENBRk4sQ0FHRSxDQVZOLENBOE9FLEVBbE9GL0IsdURBQUFBLENBOENNLEtBOUNOLGVBOENNLENBN0NGZ0MsV0E2Q0UsRUF2Q0ZoQyx1REFBQUEsQ0FjTSxLQWROLGVBY00sQ0FiRmlDLGdEQUFBQSxDQVlFQyxvQkFaRixFQVlFO0lBWEdDLGNBQVksRUFBRUMsdUJBV2pCO0lBVkdDLGFBQVcsRUFBRUQsc0JBVWhCO0lBVEUsY0FBVyxTQVNiO0lBUkU5QixJQUFJLEVBQUMsa0JBUVA7SUFQR2dDLE1BQU0sb0NBQTZCakMsYUFBTWtDLEVBQW5DLENBT1Q7SUFORUMsR0FBRyxFQUFDLE1BTU47SUFMRyxrQkFBZ0IsSUFLbkI7SUFKR0MsS0FBSyxFQUFFQyxtQkFJVjtJQUhHQyxXQUFXLEVBQUUsS0FHaEI7SUFGR0MsV0FBVyxFQUFFLEtBRWhCO0lBREdDLE1BQUksRUFBRVQ7RUFDVCxDQVpGOztFQUFBLG1FQWFFLENBZE4sQ0F1Q0UsRUF4QkZwQyx1REFBQUEsQ0F1Qk0sS0F2Qk4sZUF1Qk0sQ0F0QlMwQyxvQkFBY0ksTUFBZCxHQUFvQix1REFBL0I3Qyx1REFBQUEsQ0FxQk0sS0FyQk4sRUFxQk04QyxXQXJCTixFQXFCTSx3REFwQkY5Qyx1REFBQUEsQ0FtQk0rQyx5Q0FuQk4sRUFtQk0sSUFuQk4sRUFtQk1DLCtDQUFBQSxDQWxCc0JQLG1CQWtCdEIsRUFsQm1DLFVBQTdCUSxJQUE2QixFQUF2QkMsS0FBdUIsRUFBbEI7NkRBRHZCbEQsdURBQUFBLENBbUJNLEtBbkJOLEVBbUJNO01BakJGLFNBQU0sY0FpQko7TUFoQkZGLEtBR0MsRUFIRDtRQUFBO1FBQUE7TUFBQSxDQWdCRTtNQVpEcUQsR0FBRyxFQUFFRDtJQVlKLENBbkJOLEdBU0luRCx1REFBQUEsQ0FTRSxLQVRGLEVBU0U7TUFSR3FELE9BQUs7UUFBQSxPQUFFakIsc0JBQWFjLElBQUksQ0FBQ0ksTUFBbEIsQ0FBRjtNQUFBLENBUVI7TUFQR0MsR0FBRyxFQUFFTCxJQUFJLENBQUNJLE1BT2I7TUFORUUsR0FBRyxFQUFDLGtCQU1OO01BTEV6RCxLQUlDLEVBSkQ7UUFBQTtRQUFBO1FBQUE7TUFBQTtJQUtGLENBVEY7O0lBQUEsZUFUSjtHQW1CTSxDQW5CTjs7RUFBQSxDQW9CRSxFQXJCTiwwRUFzQkUsQ0F2Qk4sQ0F3QkUsQ0E5Q04sQ0FrT0UsRUFsTFMyQywwQkFBQUEsOENBQUFBLElBQVh6Qyx1REFBQUEsQ0FRTSxLQVJOLGVBUU0sQ0FQRkQsdURBQUFBO0lBQU0sU0FBTSxjQUFaO0lBQTRCcUQsT0FBSztNQUFBLE9BQUVqQiwrRUFBRjtJQUFBO0VBQWpDLEdBQ0ssR0FETCxDQU9FLEVBSkZwQyx1REFBQUEsQ0FHRSxLQUhGLEVBR0U7SUFGRSxTQUFNLG1CQUVSO0lBREd1RCxHQUFHLEVBQUViO0VBQ1IsQ0FIRjs7RUFBQSxjQUlFLENBUk4sMEVBa0xFLEVBeEtGMUMsdURBQUFBLENBZ0RNLEtBaEROLGVBZ0RNLENBL0NGQSx1REFBQUEsQ0FxQk0sS0FyQk4sZUFxQk0sQ0FwQkZFLHVEQUFBQSw4Q0FvQkUsRUFuQkZGLHVEQUFBQSxDQWtCTSxLQWxCTixlQWtCTSxDQWRGQSx1REFBQUEsQ0FhSyxJQWJMLGVBYUssd0RBWkRDLHVEQUFBQSxDQVdLK0MseUNBWEwsRUFXSyxJQVhMLEVBV0tDLCtDQUFBQSxDQVZlUCxZQVVmLEVBVnFCLFVBQWZlLEtBQWUsRUFBVjs2REFEaEJ4RCx1REFBQUEsQ0FXSyxJQVhMLEVBV0s7TUFUQW1ELEdBQUcsRUFBRUssS0FBSyxDQUFDbEIsRUFTWDtNQVJELFNBQU0saUJBUUw7TUFQQWMsT0FBSztRQUFBLE9BQUVqQiwwQkFBaUJxQixLQUFqQixDQUFGO01BQUE7SUFPTCxDQVhMLHVEQU9RQSxLQUFLLENBQUNDLEtBQU4sU0FBb0hELEtBQUssQ0FBQ0UsSUFBTixDQUFXQyxNQVB2SSxFQU80STtJQUFBO0lBUDVJLEVBTzRJQyxXQVA1STtHQVdLLENBWEw7O0VBQUEsQ0FZQyxFQWJMLENBY0UsQ0FsQk4sQ0FtQkUsQ0FyQk4sQ0ErQ0UsRUF6QkY3RCx1REFBQUEsQ0F3Qk0sS0F4Qk4sZUF3Qk0sQ0F2QkZFLHVEQUFBQSxrREF1QkUsRUF0QkYrQixnREFBQUEsQ0FXRTZCLG1CQVhGLEVBV0U7SUFWR0MsTUFBTSxFQUFFckIsWUFVWDtJQVRHLGlCQUF3REEsOEJBQW9CLElBQVFzQixJQUFSLEVBUy9FO0lBTkdDLE1BQU0sRUFBRXZCLFlBTVg7SUFMRyxrQkFBZ0IsR0FLbkI7SUFKR3dCLGdCQUFnQixFQUFFOUIsMEJBSXJCO0lBSEcrQixXQUFVLEVBQUUvQix3QkFHZjtJQUZHZ0MsYUFBWSxFQUFFaEMsMEJBRWpCO0lBREVJLEdBQUcsRUFBQztFQUNOLENBWEY7O0VBQUEsNEZBc0JFLEVBVkZQLGdEQUFBQSxDQVNFb0MsK0JBVEYsRUFTRTtJQVJHQyxhQUFXLEVBQUVsQyxvQkFRaEI7SUFQRyxjQUFVLEtBQU9tQyxjQU9wQjtJQU5HLGlCQUFhLEtBQU9DLFlBTXZCO0lBTEcsZ0JBQVksS0FBT0MsS0FBUCxDQUFhbEMsRUFLNUI7SUFKRyxXQUFPLEtBQU9tQyxhQUlqQjtJQUhHLFlBQVEsS0FBT0MsT0FHbEI7SUFGR0MsWUFBVyxFQUFFeEMsbUJBRWhCO0lBREd5QyxVQUFTLEVBQUV6QztFQUNkLENBVEY7O0VBQUEsd0hBVUUsQ0F4Qk4sQ0F5QkUsQ0FoRE4sQ0F3S0UsRUF0SEZwQyx1REFBQUEsQ0EwQk0sS0ExQk4sZUEwQk0sd0RBekJGQyx1REFBQUEsQ0FrQk0rQyx5Q0FsQk4sRUFrQk0sSUFsQk4sRUFrQk1DLCtDQUFBQSxDQWpCZ0JQLGNBaUJoQixFQWpCd0IsVUFBbkJvQyxPQUFtQixFQUFaOzZEQURsQjdFLHVEQUFBQSxDQWtCTSxLQWxCTixFQWtCTTtNQWhCRG1ELEdBQUcsRUFBRTBCLE9BQU8sQ0FBQ3ZDLEVBZ0JaO01BZkYsU0FBTTtJQWVKLENBbEJOLEdBS0lOLGdEQUFBQSxDQVlFQyxvQkFaRixFQVlFO01BWEdDLGNBQVksRUFBRUMsdUJBV2pCO01BVkdDLGFBQVcsRUFBRUQsc0JBVWhCO01BVEc5QixJQUFJLEVBQUV3RSxPQUFPLENBQUN4RSxJQUFSLEdBQVksT0FTckI7bUJBQUE7TUFSR2tDLEdBQUcsRUFBRXNDLE9BQU8sQ0FBQ3RDLEdBUWhCO01BUEcsY0FBWXNDLE9BQU8sQ0FBQ0MsUUFPdkI7TUFOR3pDLE1BQU0sNkJBQXFCbUMsS0FBckIsQ0FBMkJsQyxFQUEzQixXQU1UO01BTEcsa0JBQWdCLElBS25CO01BSkdJLFdBQVcsRUFBRSxLQUloQjtNQUhHQyxXQUFXLEVBQUUsS0FHaEI7TUFGR0gsS0FBSyxFQUFFcUMsT0FBTyxDQUFDckMsS0FFbEI7TUFER0ksTUFBSTtRQUFBLE9BQUVULDRCQUFtQjBDLE9BQU8sQ0FBQ3RDLEdBQTNCLENBQUY7TUFBQTtJQUNQLENBWkY7O0lBQUEsMEZBTEo7R0FrQk0sQ0FsQk47O0VBQUEsQ0F5QkUsR0FORlAsZ0RBQUFBLENBS3NCK0MsNkJBTHRCLEVBS3NCO0lBSmpCLGNBQVl0QywrQkFJSztJQUhqQlEsSUFBSSxFQUFFUixtQkFHVztJQUZqQnVDLGFBQVcsRUFBRTdDLHlCQUVJO0lBRGpCOEMsT0FBSyxFQUFFOUM7RUFDVSxDQUx0Qjs7RUFBQSxxREFNRSxDQTFCTixDQXNIRSxFQTFGRmxDLHVEQUFBQSxzQkEwRkUsRUF4RkZGLHVEQUFBQSxDQXNGTSxLQXRGTixlQXNGTSxDQXJGRm1GLFdBcUZFLEVBcEZGQyxXQW9GRSx5REFuRkZuRix1REFBQUEsQ0FrRk0rQyx5Q0FsRk4sRUFrRk0sSUFsRk4sRUFrRk1DLCtDQUFBQSxDQWpGMEJQLHFCQWlGMUIsRUFqRnlDLFVBQW5DMkMsU0FBbUMsRUFBeEJDLElBQXdCLEVBQXBCOzZEQUQzQnJGLHVEQUFBQSxDQWtGTSxLQWxGTixFQWtGTTtNQWhGRG1ELEdBQUcsRUFBRWtDLElBZ0ZKO01BL0VGLFNBQU07SUErRUosQ0FsRk4sR0FLSXRGLHVEQUFBQSxDQWVLLElBZkwsRUFlSztNQWRBcUQsT0FBSztRQUFBLE9BQUVqQix5QkFBZ0JrRCxJQUFoQixDQUFGO01BQUEsQ0FjTDtNQWJELFNBQU0sb0dBYUw7TUFaQSxpQkFBd0RsRCx3QkFBZWtELElBQWYsRUFBcUJDLFFBQXJCLEVBWXhEO01BVEEsaUJBQWEsZUFBaUJEO0lBUzlCLENBZkwsR0FRSUUsYUFBQUEsb0RBQUFBLENBQUFBLG9EQUFBQSxDQUNJRixRQUFPLEtBQ1g7SUFBQTtPQUNVbEQsd0JBQWVrRCxJQUFmLHVEQURWckYsdURBQUFBLENBR0ssR0FITCxxRUFJQUEsdURBQUFBLENBQTBDLEdBQTFDLGdCQWRKOztJQUFBLGdCQWlCQUMsdURBQUFBLDhDQUFBQSxtREFBQUEsQ0FDQUYsdURBQUFBLENBMERNLEtBMUROLEVBMERNO01BeEREdUMsRUFBRSxpQkFBaUIrQyxJQXdEbEI7TUF2REYsU0FBTTtJQXVESixDQTFETiwwREFLSXJGLHVEQUFBQSxDQW9ETStDLHlDQXBETixFQW9ETSxJQXBETixFQW9ETUMsK0NBQUFBLENBbkQwQm9DLFNBbUQxQixFQW5EbUMsVUFBN0I1QyxLQUE2QixFQUF0QmdELFFBQXNCLEVBQWQ7K0RBRDNCeEYsdURBQUFBLENBb0RNLEtBcEROLEVBb0RNO1FBbEREbUQsR0FBRyxFQUFFcUMsUUFrREo7UUFqREYsU0FBTTtNQWlESixDQXBETixHQUtJekYsdURBQUFBLENBZ0JTLFFBaEJULEVBZ0JTO1FBZkpxRCxPQUFLO1VBQUEsT0FBRWpCLHFCQUFZcUQsUUFBWixDQUFGO1FBQUEsQ0FlRDtRQWRMLFNBQU07TUFjRCxDQWhCVCxHQUlJQyxhQUFBQSxvREFBQUEsQ0FBQUEsb0RBQUFBLENBQ0lELFlBQVcsS0FDZjtNQUFBO1NBQytEckQsNEJBQW1CcUQsUUFBbkIsdURBRC9EeEYsdURBQUFBLENBS0ssR0FMTCxxRUFNQUEsdURBQUFBLENBR0ssR0FITCxnQkFaSjs7TUFBQSxnQkFrQkFDLHVEQUFBQSw4Q0FBQUEsbURBQUFBLENBQ0FGLHVEQUFBQSxDQTJCTSxLQTNCTixlQTJCTSx3REFyQkZDLHVEQUFBQSxDQW9CTStDLHlDQXBCTixFQW9CTSxJQXBCTixFQW9CTUMsK0NBQUFBLENBbkJhUixLQW1CYixFQW5Ca0IsVUFBYlMsSUFBYSxFQUFUO2lFQURmakQsdURBQUFBLENBb0JNLEtBcEJOLEVBb0JNO1VBbEJEbUQsR0FBRyxFQUFFRixJQUFJLENBQUN5QyxTQWtCVDtVQWpCRixTQUFNO1FBaUJKLENBcEJOLEdBS0kzRix1REFBQUEsQ0FRUyxRQVJULEVBUVM7VUFQSnFELE9BQUs7WUFBQSxPQUFFakIsbUJBQVVjLElBQVYsQ0FBRjtVQUFBLENBT0Q7VUFOTCxTQUFNO1FBTUQsQ0FSVCxHQUlJMEMsYUFBQUEsb0RBQUFBLENBQUFBLG9EQUFBQSxDQUdJMUMsSUFBSSxDQUFDeUMsWUFBUztRQUFBO1VBUHRCOztRQUFBLGdCQVNBM0YsdURBQUFBLENBS1MsUUFMVCxFQUtTO1VBSkpxRCxPQUFLO1lBQUEsT0FBRWpCLG9CQUFXYyxJQUFYLENBQUY7VUFBQSxDQUlEO1VBSEwsU0FBTTtRQUdELENBTFQsRUFHQyxTQUhELEVBS0E7UUFBQTtRQUxBLEVBS0EyQyxXQUxBLEVBZEo7T0FvQk0sQ0FwQk47O01BQUEsQ0FxQkUsRUEzQk47O01BQUEsNkNBQzZEekQsNEJBQW1CcUQsUUFBbkIsS0F6QmpFO0tBb0RNLENBcEROOztJQUFBLEdBTEo7O0lBQUEsMERBQ1lyRCx3QkFBZWtELElBQWYsS0F4QmhCO0dBa0ZNLENBbEZOOztFQUFBLENBbUZFLEVBdEZOLENBd0ZFLEVBREZwRix1REFBQUEsMEJBQ0UsQ0FwWU4sQ0FxWUUsQ0F0WU4sQ0F1WUUsQ0ExWU4sQ0EyWUUsQ0E1WU4sQ0E2WUUsQ0E5WU4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3BhZ2VzL1B1cmNoYXNlci1WaWV3LnZ1ZT85NGM4Il0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICA8IS0tIE1haW4gY29udGVudCAtLT5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnZvaWNlIHAtMyBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJzdGF0aWNFbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PGI+4YOb4YOn4YOY4YOT4YOV4YOU4YOa4YOY4YOhIOGDoeGDkOGDruGDlOGDmuGDmDo8L2I+PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXQyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDk+GDkOGDm+GDkOGDouGDlOGDkeGDmOGDl+GDmCDhg6Hhg5Dhg67hg5Thg5rhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIj57e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3Vial9uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5vhg6fhg5jhg5Phg5Xhg5Thg5rhg5jhg6Eg4YOb4YOY4YOh4YOQ4YOb4YOQ4YOg4YOX4YOYOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIj57e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJqX2FkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDoeGDkOGDmOGDk+GDlOGDnOGDl+GDmOGDpOGDmOGDmeGDkOGDquGDmOGDnSDhg5nhg53hg5Phg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5pZGVudGlmaWNhdGlvbl9udW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDouGDlOGDpeGDnOGDmOGDmeGDo+GDoOGDmCDhg5vhg53hg5vhg6Hhg5Dhg67hg6Phg6Dhg5Thg5Hhg5jhg6Hhg5fhg5Xhg5jhg6Eg4YOh4YOQ4YOt4YOY4YOg4YOdIOGDk+GDoOGDnTo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57eyBtb2RlbC50ZWNobmljYWxfdGltZSB9fSDhg6zhg5c8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOs4YOb4YOU4YOc4YOT4YOY4YOX4YOYIOGDm+GDneGDm+GDoeGDkOGDruGDo+GDoOGDlOGDkeGDmOGDoeGDl+GDleGDmOGDoSDhg6Hhg5Dhg63hg5jhg6Dhg50g4YOT4YOg4YOdOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IG1vZGVsLmNsZWFuaW5nX3RpbWUgfX0g4YOs4YOXPC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOQ4YOm4YOs4YOU4YOg4YOQOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1odG1sPVwibW9kZWwuZGVzY3JpcHRpb25cIj48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOe4YOY4YOg4YOV4YOU4YOa4YOQ4YOT4YOYIOGDkOGDpuGDrOGDlOGDoOGDmOGDoSDhg5fhg5Dhg6Dhg5jhg6bhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XCJtb2RlbC5maXJzdF9yZXZpZXdfZGF0ZVwiPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XCJtb2RlbC5maXJzdF9yZXZpZXdfZGVzY3JpcHRpb25cIj48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOi4YOU4YOl4YOc4YOY4YOZ4YOj4YOg4YOYIOGDkOGDpuGDrOGDlOGDoOGDmOGDoSDhg5fhg5Dhg6Dhg5jhg6bhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XCJtb2RlbC50ZWNobmljYWxfcmV2aWV3X2RhdGVcIj48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOZ4YOd4YOb4YOU4YOc4YOi4YOQ4YOg4YOYOjwvbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaHRtbD1cIm1vZGVsLnRlY2huaWNhbF9yZXZpZXdfZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDoeGDkOGDmOGDnOGDpOGDneGDoOGDm+GDkOGDquGDmOGDnSDhg5Hhg5Dhg5bhg5jhg6Eg4YOo4YOU4YOl4YOb4YOc4YOY4YOhIOGDl+GDkOGDoOGDmOGDpuGDmDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cIm1vZGVsLmJhc2VfY3JlYXRpb25fZGF0ZVwiPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImZvcm1Hcm91cEV4YW1wbGVJbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5g6PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XCJtb2RlbC5iYXNlX2Rlc2NyaXB0aW9uXCI+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDkuGDkOGDmuGDlOGDoOGDlOGDkDo8L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWxlLXBvbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBhY3RpdmF0ZWZpbGU9XCJvbkFjdGl2YXRlRmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcHJvY2Vzc2ZpbGU9XCJmaWxlUHJvY2Vzc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLWlkbGU9XCLhg5Lhg5Dhg5rhg5Thg6Dhg5Thg5BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInB1cmNoYXNlckdhbGxlcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlcnZlcj1cImAvdXBsb2FkUHVyY2hhc2VyR2FsbGVyeS8ke21vZGVsLmlkfWBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwicG9uZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3ctbXVsdGlwbGU9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpmaWxlcz1cImdhbGxlcnlJbWFnZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93UmVtb3ZlPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93UmV2ZXJ0PVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGluaXQ9XCJoYW5kbGVGaWxlUG9uZEluaXRHYWxsZXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiZ2FsbGVyeUltYWdlcy5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCIoZmlsZSwgaW5kZXgpIGluIGdhbGxlcnlJbWFnZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZ2FsbGVyeUltYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XCJpbmRleFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJvblNsaWRlQ2xpY2soZmlsZS5zb3VyY2UpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNyYz1cImZpbGUuc291cmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwidXBsb2FkZWQgcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDIwMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9XCJpc0Z1bGxTY3JlZW5PcGVuXCIgY2xhc3M9XCJmdWxsLXNjcmVlbi1tb2RhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2xvc2UtYnV0dG9uXCIgQGNsaWNrPVwiY2xvc2VGdWxsU2NyZWVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPiZ0aW1lczs8L3NwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZ1bGwtc2NyZWVuLWltYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNyYz1cImZ1bGxTY3JlZW5JbWFnZVNyY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFNjcm9sbGFibGUgb2JqZWN0IHdpdGggaXRlbXMgZnJvbSBldmVudHMgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwib3ZlcmZsb3cteTogYXV0bzsgbWF4LWhlaWdodDogMzAwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwiZXZlbnQgaW4gZXZlbnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImV2ZW50LmlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVFdmVudENsaWNrKGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGl0bGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGltZS5zdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTkgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFFhbGVuZGFyIGFuZCBjYWxlbmRhci1ldmVudC1tb2RhbCBjb21wb25lbnRzIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UWFsZW5kYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpldmVudHM9XCJldmVudHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlbGVjdGVkLWRhdGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFFhbGVuZGFyRGF0ZSB8fCBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNvbmZpZz1cImNvbmZpZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZGF5LW1pbi1oZWlnaHQ9XCIyNTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGRhdGUtd2FzLWNsaWNrZWQ9XCJoYW5kbGVEYXRlQ2xpY2tlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZWRpdC1ldmVudD1cImhhbmRsZUVkaXRFdmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZGVsZXRlLWV2ZW50PVwiaGFuZGxlRGVsZXRlRXZlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwiY2FsZW5kYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2FsZW5kYXItZXZlbnQtbW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBldmVudFN0b3JlZD1cImZldGNoRXZlbnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppcy12aXNpYmxlPVwidGhpcy5pc01vZGFsVmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VsZWN0ZWQtZGF0ZT1cInRoaXMuc2VsZWN0ZWREYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpwdXJjaGFzZXItaWQ9XCJ0aGlzLm1vZGVsLmlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpvbi1lZGl0PVwidGhpcy5pc01vZGFsT25FZGl0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpldmVudC1pZD1cInRoaXMuZXZlbnRJZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xvc2UtbW9kYWw9XCJjbG9zZU1vZGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBhZGQtZXZlbnQ9XCJhZGRFdmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTUgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cInN1YmplY3QgaW4gc3ViamVjdHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwic3ViamVjdC5pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLW1kLTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpbGUtcG9uZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGFjdGl2YXRlZmlsZT1cIm9uQWN0aXZhdGVGaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBwcm9jZXNzZmlsZT1cImZpbGVQcm9jZXNzZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5hbWU9XCJzdWJqZWN0Lm5hbWUgKyAnRmlsZXMnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpyZWY9XCJzdWJqZWN0LnJlZlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bGFiZWwtaWRsZT1cInN1YmplY3QuZ2VvX25hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlcnZlcj1cImAvcHVyY2hhc2VyLyR7dGhpcy5tb2RlbC5pZH0vZmlsZXNgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphbGxvdy1tdWx0aXBsZT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93UmVtb3ZlPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93UmV2ZXJ0PVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGVzPVwic3ViamVjdC5maWxlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW5pdD1cImhhbmRsZUZpbGVQb25kSW5pdChzdWJqZWN0LnJlZilcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWxlLWFjdGlvbnMtbW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlzLXZpc2libGU9XCJpc0ZpbGVBY3Rpb25zTW9kYWxWaXNpYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGU9XCJhY3RpdmF0ZWRGaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGZpbGVEZWxldGVkPVwiZmV0Y2hBZnRlckRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbG9zZT1cImNsb3NlTW9kYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2ZpbGUtYWN0aW9ucy1tb2RhbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEZvbGRlciBTdHJ1Y3R1cmUgLS0+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgZmlsZXMgbXQtNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND7hg5Phg5Dhg5vhg5Dhg6Lhg5Thg5Hhg5jhg5fhg5gg4YOk4YOQ4YOY4YOa4YOU4YOR4YOYOjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cIihsb2NhdGlvbnMsIGRhdGUpIGluIGZvbGRlclN0cnVjdHVyZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XCJkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtYi00XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwidG9nZ2xlTG9jYXRpb25zKGRhdGUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHctMTAwIHRleHQtbGVmdCBwLTMgcm91bmRlZC1waWxsIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFyaWEtZXhwYW5kZWQ9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RhdGVTZWxlY3RlZChkYXRlKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFyaWEtY29udHJvbHM9XCInbG9jYXRpb25zLScgKyBkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2FsZW5kYXItZGF5IG1yLTJcIj48L2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57eyBkYXRlIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XCJpc0RhdGVTZWxlY3RlZChkYXRlKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi11cFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgdi1lbHNlIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tZG93blwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIExvY2F0aW9ucyBzaG93biB3aGVuIGEgZGF0ZSBpcyBjbGlja2VkIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LXNob3c9XCJpc0RhdGVTZWxlY3RlZChkYXRlKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCInbG9jYXRpb25zLScgKyBkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWwtNCBtdC0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwiKGZpbGVzLCBsb2NhdGlvbikgaW4gbG9jYXRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwibG9jYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJ0b2dnbGVGaWxlcyhsb2NhdGlvbilcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IHctMTAwIHRleHQtbGVmdCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHAtMyByb3VuZGVkLXBpbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZm9sZGVyIG1yLTJcIj48L2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGxvY2F0aW9uIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWlmPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2NhdGlvblNlbGVjdGVkKGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tdXAgbWwtYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tZG93biBtbC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRmlsZXMgc2hvd24gd2hlbiBhIGxvY2F0aW9uIGlzIGNsaWNrZWQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LXNob3c9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9jYXRpb25TZWxlY3RlZChsb2NhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtbC00IG10LTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCJmaWxlIGluIGZpbGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XCJmaWxlLmZpbGVfbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1iLTIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJvcGVuSW1hZ2UoZmlsZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIHRleHQtbGVmdCBmbGV4LWdyb3ctMSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZhcyBmYS1pbWFnZSBtci0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGZpbGUuZmlsZV9uYW1lIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJkZWxldGVGaWxlKGZpbGUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIG1sLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOGDrOGDkOGDqOGDmuGDkFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEVuZCBGb2xkZXIgU3RydWN0dXJlIC0tPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgZHJhZ2dhYmxlIGZyb20gXCIuLi92ZW5kb3JzL3Z1ZWRyYWdnYWJsZS9zcmMvdnVlZHJhZ2dhYmxlXCI7XG5pbXBvcnQgdXNlVnVlbGlkYXRlIGZyb20gXCJAdnVlbGlkYXRlL2NvcmVcIjtcbmltcG9ydCBGaWxlVXBsb2FkIGZyb20gXCJ2dWUtdXBsb2FkLWNvbXBvbmVudFwiO1xuaW1wb3J0IFwidnVlMy1jYXJvdXNlbC9kaXN0L2Nhcm91c2VsLmNzc1wiO1xuaW1wb3J0IHsgQ2Fyb3VzZWwsIFNsaWRlLCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uIH0gZnJvbSBcInZ1ZTMtY2Fyb3VzZWxcIjtcbmltcG9ydCB2dWVGaWxlUG9uZCwgeyBzZXRPcHRpb25zIH0gZnJvbSBcInZ1ZS1maWxlcG9uZFwiO1xuaW1wb3J0IHsgUWFsZW5kYXIgfSBmcm9tIFwicWFsZW5kYXJcIjtcbmltcG9ydCBDYWxlbmRhckV2ZW50TW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZVwiO1xuaW1wb3J0IEZpbGVBY3Rpb25zTW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvRmlsZUFjdGlvbnNNb2RhbC52dWVcIjtcbi8vIEltcG9ydCBGaWxlUG9uZCBzdHlsZXNcbmltcG9ydCBcImZpbGVwb25kL2Rpc3QvZmlsZXBvbmQubWluLmNzc1wiO1xuaW1wb3J0IFwiZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5taW4uY3NzXCI7XG5pbXBvcnQgRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXcgZnJvbSBcImZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3XCI7XG5pbXBvcnQgeyBldmVudCB9IGZyb20gXCJqcXVlcnlcIjtcblxuY29uc3QgRmlsZVBvbmQgPSB2dWVGaWxlUG9uZChGaWxlUG9uZFBsdWdpbkltYWdlUHJldmlldyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9wczogW1widXNlclwiLCBcIm1vZGVsXCIsIFwic2V0dGluZ1wiLCBcImFkZGl0aW9uYWxcIl0sXG5cbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIEZpbGVVcGxvYWQsXG4gICAgICAgIGRyYWdnYWJsZSxcbiAgICAgICAgRmlsZVBvbmQsXG4gICAgICAgIENhcm91c2VsLFxuICAgICAgICBTbGlkZSxcbiAgICAgICAgUGFnaW5hdGlvbixcbiAgICAgICAgTmF2aWdhdGlvbixcbiAgICAgICAgUWFsZW5kYXIsXG4gICAgICAgIENhbGVuZGFyRXZlbnRNb2RhbCxcbiAgICAgICAgRmlsZUFjdGlvbnNNb2RhbCxcbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2JDogdXNlVnVlbGlkYXRlKCksXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVkKCkge1xuICAgICAgICB0aGlzLmZldGNoUHVyY2hhc2VyRmlsZXMoKTtcbiAgICAgICAgdGhpcy5mZXRjaEdhbGxlcnlJbWFnZXMoKTtcbiAgICAgICAgdGhpcy5tID0gdGhpcy5hdHRyaWJ1dGVJbml0O1xuICAgIH0sXG4gICAgbW91bnRlZCgpIHtcbiAgICAgICAgdGhpcy5mZXRjaEV2ZW50cygpO1xuICAgICAgICB0aGlzLmZldGNoRm9sZGVyU3RydWN0dXJlKCk7XG5cbiAgICAgICAgdGhpcy52JC5tb2RlbC4kdG91Y2goKTtcbiAgICB9LFxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWxlY3RlZFFhbGVuZGFyRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGlzTW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjdGl2YXRlZEZpbGU6IG51bGwsXG4gICAgICAgICAgICBpc0ZpbGVBY3Rpb25zTW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTW9kYWxPbkVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnRJZDogMCxcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICAgIGV2ZW50czogW10sXG4gICAgICAgICAgICBwdXJjaGFzZXJGaWxlczogW10sXG4gICAgICAgICAgICBnYWxsZXJ5SW1hZ2VzOiBbXSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNb2RlOiBcIm1vbnRoXCIsXG4gICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVzOiBbXCJ3ZWVrXCIsIFwiZGF5XCJdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YmplY3RzOiBbXSxcbiAgICAgICAgICAgIHNlbGVjdG9yOiBcIlwiLFxuICAgICAgICAgICAgc3RlcDogZmFsc2UsXG4gICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbk9wZW46IGZhbHNlLFxuICAgICAgICAgICAgZnVsbFNjcmVlbkltYWdlU3JjOiBcIlwiLFxuICAgICAgICAgICAgc2VsZWN0QnVpbGRlcjogW10sXG4gICAgICAgICAgICAvLyBGb2xkZXIgU3RydWN0dXJlXG4gICAgICAgICAgICBmb2xkZXJTdHJ1Y3R1cmU6IHt9LFxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBudWxsLFxuICAgICAgICAgICAgc2VsZWN0ZWRMb2NhdGlvbjogbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdGVkSW1hZ2U6IG51bGwsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB3YXRjaDoge30sXG4gICAgdmFsaWRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbDoge30sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgICBhdHRyaWJ1dGVJbml0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWw7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGhhbmRsZUV2ZW50Q2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKDIwMjQsIDAsIDgpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiRXZlbnQ6IFwiICsgZXZlbnQudGl0bGUgKyBcIlxcblRpbWU6IFwiICsgZXZlbnQudGltZS5zdGFydFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCBldmVudCBzdGFydCB0aW1lIHRvIGEgRGF0ZSBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0ZSA9IG5ldyBEYXRlKGV2ZW50LnRpbWUuc3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFFhbGVuZGFyRGF0ZSA9IG5ldyBEYXRlKDIwMjQsIDAsIDgpOyAvLyBTZXQgc2VsZWN0ZWQgZGF0ZVxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFFhbGVuZGFyRGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFuZGxlRmlsZVBvbmRJbml0KHBvbmQpIHt9LFxuICAgICAgICBoYW5kbGVGaWxlUG9uZEluaXRHYWxsZXJ5KHBvbmQpIHt9LFxuXG4gICAgICAgIGFzeW5jIGZldGNoRm9sZGVyU3RydWN0dXJlKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9mb2xkZXJzL1wiICsgdGhpcy5tLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9sZGVyU3RydWN0dXJlID0gZGF0YTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvbGRlciBzdHJ1Y3R1cmU6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVMb2NhdGlvbnMoZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSA9PT0gZGF0ZSA/IG51bGwgOiBkYXRlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0RhdGVTZWxlY3RlZChkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZERhdGUgPT09IGRhdGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlRmlsZXMobG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID09PSBsb2NhdGlvbiA/IG51bGwgOiBsb2NhdGlvbjtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0xvY2F0aW9uU2VsZWN0ZWQobG9jYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPT09IGxvY2F0aW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW5JbWFnZShmaWxlKSB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihmaWxlLmZpbGVfdXJsLCBcIl9ibGFua1wiKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplU3ViamVjdHMoKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmplY3RzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBnZW9fbmFtZTogXCLhg5Dhg6bhg6Dhg5jhg6rhg67hg5Xhg5jhg6Eg4YOk4YOQ4YOY4YOa4YOU4YOR4YOYXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZjogXCJhY2NvdW50aW5nUG9uZFwiLFxuICAgICAgICAgICAgICAgICAgICBmaWxlczogdGhpcy5wdXJjaGFzZXJGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnB1cmNoYXNlckZpbGVzLkFjY291bnRpbmdGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUGVyZm9ybWFuY2UgQWN0c1wiLFxuICAgICAgICAgICAgICAgICAgICBnZW9fbmFtZTogXCLhg6jhg5Thg6Hhg6Dhg6Phg5rhg5Thg5Hhg5jhg6Eg4YOQ4YOl4YOi4YOU4YOR4YOYXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZjogXCJwZXJmb3JtYW5jZUFjdHNQb25kXCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHVyY2hhc2VyRmlsZXMucGVyZm9ybWFuY2VBY3RzRmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlRlY2huaWNhbCBEb2N1bWVudGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGdlb19uYW1lOiBcIuGDouGDlOGDpeGDnOGDmOGDmeGDo+GDoOGDmCDhg5Phg53hg5nhg6Phg5vhg5Thg5zhg6Lhg5Dhg6rhg5jhg5BcIixcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBcInRlY2huaWNhbERvY3VtZW50YXRpb25Qb25kXCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHVyY2hhc2VyRmlsZXMudGVjaG5pY2FsRG9jdW1lbnRhdGlvbkZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICBpZDogNCxcbiAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJBZGRpdGlvbmFsIEluZm9ybWF0aW9uXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgIGdlb19uYW1lOiBcIuGDk+GDkOGDm+GDkOGDouGDlOGDkeGDmOGDl+GDmCDhg5jhg5zhg6Thg53hg6Dhg5vhg5Dhg6rhg5jhg5Av4YOk4YOQ4YOY4YOa4YOU4YOR4YOYXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlZjogXCJhZGRpdGlvbmFsSW5mb3JtYXRpb25Qb25kXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICA/IHRoaXMucHVyY2hhc2VyRmlsZXMuYWRkaXRpb25hbEluZm9ybWF0aW9uRmlsZXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoQWZ0ZXJEZWxldGUoKSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoR2FsbGVyeUltYWdlcygpO1xuICAgICAgICAgICAgdGhpcy5mZXRjaFB1cmNoYXNlckZpbGVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoUHVyY2hhc2VyRmlsZXMoKSB7XG4gICAgICAgICAgICBheGlvc1xuICAgICAgICAgICAgICAgIC5nZXQoYC9wdXJjaGFzZXIvJHt0aGlzLm1vZGVsLmlkfS9maWxlc2ApXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVyY2hhc2VyRmlsZXMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdWJqZWN0cygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHVyY2hhc2VyIGZpbGVzXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBmZXRjaEdhbGxlcnlJbWFnZXMoKSB7XG4gICAgICAgICAgICBheGlvc1xuICAgICAgICAgICAgICAgIC5nZXQoYC9wdXJjaGFzZXJHYWxsZXJ5LyR7dGhpcy5tb2RlbC5pZH1gKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlJbWFnZXMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHVyY2hhc2VyIGZpbGVzXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkFjdGl2YXRlRmlsZShmaWxlKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZEZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgdGhpcy5pc0ZpbGVBY3Rpb25zTW9kYWxWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hQdXJjaGFzZXJGaWxlcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlRnVsbFNjcmVlbigpIHtcbiAgICAgICAgICAgIHRoaXMuaXNGdWxsU2NyZWVuT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mdWxsU2NyZWVuSW1hZ2VTcmMgPSBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBvblNsaWRlQ2xpY2soaW1hZ2VTcmMpIHtcbiAgICAgICAgICAgIHRoaXMuaXNGdWxsU2NyZWVuT3BlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZ1bGxTY3JlZW5JbWFnZVNyYyA9IGltYWdlU3JjO1xuICAgICAgICB9LFxuICAgICAgICBmaWxlUHJvY2Vzc2VkKGl0ZW0sIGZpbGUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZmV0Y2hQdXJjaGFzZXJGaWxlcygpO1xuICAgICAgICAgICAgLy8gdGhpcy5mZXRjaEdhbGxlcnlJbWFnZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlRGF0ZUNsaWNrZWQoZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc01vZGFsT25FZGl0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRJZCA9IDA7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRmlsZUFjdGlvbnNNb2RhbFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlRWRpdEV2ZW50KGV2ZW50X2lkKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50SWQgPSBldmVudF9pZDtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc01vZGFsT25FZGl0ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZGVsZXRlRmlsZShmaWxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJDb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgICAgICAgICAgICAgICBg4YOT4YOQ4YOg4YOs4YOb4YOj4YOc4YOU4YOR4YOj4YOa4YOYIOGDruGDkOGDoOGDlyDhg6Dhg53hg5sg4YOS4YOY4YOc4YOT4YOQ4YOXIOGDpOGDkOGDmOGDmuGDmOGDoSDhg6zhg5Dhg6jhg5rhg5A6ICR7ZmlsZS5maWxlX25hbWV9P2BcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICghdXNlckNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kZWxldGUtZmlsZWAsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZmlsZU5hbWU6IGZpbGUuZmlsZV9uYW1lIH0pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRm9sZGVyU3RydWN0dXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGDhg6Thg5Dhg5jhg5rhg5ggJHtmaWxlLmZpbGVfbmFtZX0g4YOs4YOQ4YOg4YOb4YOQ4YOi4YOU4YOR4YOY4YOXIOGDrOGDkOGDmOGDqOGDkOGDmuGDkC5gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGRlbGV0ZSBmaWxlLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFuZGxlRGVsZXRlRXZlbnQoZXZlbnRfaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oXG4gICAgICAgICAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgZXZlbnQ/XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpc0NvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgIGF4aW9zXG4gICAgICAgICAgICAgICAgICAgIC5kZWxldGUoYC9jYWxlbmRhci9ldmVudHMvJHtldmVudF9pZH1gKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRXZlbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHk6XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZXZlbnQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGVsZXRpb24gY2FuY2VsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoRXZlbnRzKCk7XG4gICAgICAgICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoRXZlbnRzKCkge1xuICAgICAgICAgICAgYXhpb3NcbiAgICAgICAgICAgICAgICAuZ2V0KGAvY2FsZW5kYXIvZXZlbnRzL3B1cmNoYXNlci8ke3RoaXMubW9kZWwuaWR9YClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZXZlbnRzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cbjxzdHlsZSBzY29wZWQ+XG5AaW1wb3J0IFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3FhbGVuZGFyL2Rpc3Qvc3R5bGUuY3NzXCI7XG5cbi5jb250YWluZXIuZmlsZXMge1xuICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG59XG5cbi5jYXJvdXNlbF9faXRlbSB7XG4gICAgd2lkdGg6IDQwJTtcbn1cbi5jYXJvdXNlbF9faXRlbSBpbWcge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbi5jYXJvdXNlbF9fdmlld3BvcnQge1xuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG59XG5cbi5jYXJvdXNlbF9fc2xpZGUge1xuICAgIG9wYWNpdHk6IDE7XG4gICAgdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjVzLCBvcGFjaXR5IDAuNXM7XG59XG5cbi5jYXJvdXNlbF9fc2xpZGUtLXByZXYsXG4uY2Fyb3VzZWxfX3NsaWRlLS1uZXh0IHtcbiAgICBvcGFjaXR5OiAwLjk7XG59XG5cbi5jYXJvdXNlbF9fc2xpZGUtLWFjdGl2ZSB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG59XG5cbi8qIE9wdGlvbmFsOiBBZGQgYSBob3ZlciBlZmZlY3QgKi9cbi5jYXJvdXNlbF9faXRlbTpob3ZlciBpbWcge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3M7XG59XG5cbi5tb2RhbC5mYWRlLnNob3cge1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpO1xufVxuLmZ1bGwtc2NyZWVuLW1vZGFsIHtcbiAgICB6LWluZGV4OiA5OTk5O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmZ1bGwtc2NyZWVuLWltYWdlIHtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbn1cblxuLmNsb3NlLWJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMjBweDtcbiAgICByaWdodDogMjBweDtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cbjwvc3R5bGU+XG4iXSwibmFtZXMiOlsic3R5bGUiLCJfY3JlYXRlRWxlbWVudFZOb2RlIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl9jcmVhdGVDb21tZW50Vk5vZGUiLCJfaG9pc3RlZF83IiwiX3RvRGlzcGxheVN0cmluZyIsIiRwcm9wcyIsIm5hbWUiLCJfaG9pc3RlZF8xMCIsInN1YmpfbmFtZSIsIl9ob2lzdGVkXzE0Iiwic3Vial9hZGRyZXNzIiwiX2hvaXN0ZWRfMTciLCJpZGVudGlmaWNhdGlvbl9udW0iLCJfaG9pc3RlZF8yMSIsInRlY2huaWNhbF90aW1lIiwiX2hvaXN0ZWRfMjUiLCJjbGVhbmluZ190aW1lIiwiX2hvaXN0ZWRfMjkiLCJpbm5lckhUTUwiLCJkZXNjcmlwdGlvbiIsIl9ob2lzdGVkXzMzIiwiZmlyc3RfcmV2aWV3X2RhdGUiLCJfaG9pc3RlZF8zNyIsImZpcnN0X3Jldmlld19kZXNjcmlwdGlvbiIsIl9ob2lzdGVkXzQxIiwidGVjaG5pY2FsX3Jldmlld19kYXRlIiwiX2hvaXN0ZWRfNDUiLCJ0ZWNobmljYWxfcmV2aWV3X2Rlc2NyaXB0aW9uIiwiX2hvaXN0ZWRfNDkiLCJiYXNlX2NyZWF0aW9uX2RhdGUiLCJfaG9pc3RlZF81MyIsImJhc2VfZGVzY3JpcHRpb24iLCJfaG9pc3RlZF81NyIsIl9jcmVhdGVWTm9kZSIsIl9jb21wb25lbnRfZmlsZV9wb25kIiwib25BY3RpdmF0ZWZpbGUiLCIkb3B0aW9ucyIsIm9uUHJvY2Vzc2ZpbGUiLCJzZXJ2ZXIiLCJpZCIsInJlZiIsImZpbGVzIiwiJGRhdGEiLCJhbGxvd1JlbW92ZSIsImFsbG93UmV2ZXJ0Iiwib25Jbml0IiwibGVuZ3RoIiwiX2hvaXN0ZWRfNjAiLCJfRnJhZ21lbnQiLCJfcmVuZGVyTGlzdCIsImZpbGUiLCJpbmRleCIsImtleSIsIm9uQ2xpY2siLCJzb3VyY2UiLCJzcmMiLCJhbHQiLCJldmVudCIsInRpdGxlIiwidGltZSIsInN0YXJ0IiwiX2hvaXN0ZWRfNjgiLCJfY29tcG9uZW50X1FhbGVuZGFyIiwiZXZlbnRzIiwiRGF0ZSIsImNvbmZpZyIsIm9uRGF0ZVdhc0NsaWNrZWQiLCJvbkVkaXRFdmVudCIsIm9uRGVsZXRlRXZlbnQiLCJfY29tcG9uZW50X2NhbGVuZGFyX2V2ZW50X21vZGFsIiwib25FdmVudFN0b3JlZCIsImlzTW9kYWxWaXNpYmxlIiwic2VsZWN0ZWREYXRlIiwibW9kZWwiLCJpc01vZGFsT25FZGl0IiwiZXZlbnRJZCIsIm9uQ2xvc2VNb2RhbCIsIm9uQWRkRXZlbnQiLCJzdWJqZWN0IiwiZ2VvX25hbWUiLCJfY29tcG9uZW50X2ZpbGVfYWN0aW9uc19tb2RhbCIsIm9uRmlsZURlbGV0ZWQiLCJvbkNsb3NlIiwiX2hvaXN0ZWRfNzIiLCJfaG9pc3RlZF83MyIsImxvY2F0aW9ucyIsImRhdGUiLCJ0b1N0cmluZyIsIl9ob2lzdGVkXzc1IiwibG9jYXRpb24iLCJfaG9pc3RlZF84MCIsImZpbGVfbmFtZSIsIl9ob2lzdGVkXzg1IiwiX2hvaXN0ZWRfODYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/core/componentBuilderHelper.js":
/*!**********************************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/core/componentBuilderHelper.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createSortableOption\": () => (/* binding */ createSortableOption),\n/* harmony export */   \"getComponentAttributes\": () => (/* binding */ getComponentAttributes),\n/* harmony export */   \"getValidSortableEntries\": () => (/* binding */ getValidSortableEntries)\n/* harmony export */ });\n/* harmony import */ var _util_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/string */ \"./resources/js/app/vendors/vuedraggable/src/util/string.js\");\n/* harmony import */ var _sortableEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sortableEvents */ \"./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js\");\n/* harmony import */ var _util_tags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/tags */ \"./resources/js/app/vendors/vuedraggable/src/util/tags.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nfunction project(entries) {\n  return entries.reduce(function (res, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    res[key] = value;\n    return res;\n  }, {});\n}\n\nfunction getComponentAttributes(_ref3) {\n  var $attrs = _ref3.$attrs,\n      _ref3$componentData = _ref3.componentData,\n      componentData = _ref3$componentData === void 0 ? {} : _ref3$componentData;\n  var attributes = project(Object.entries($attrs).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        _ = _ref5[1];\n\n    return (0,_util_tags__WEBPACK_IMPORTED_MODULE_2__.isHtmlAttribute)(key);\n  }));\n  return _objectSpread(_objectSpread({}, attributes), componentData);\n}\n\nfunction createSortableOption(_ref6) {\n  var $attrs = _ref6.$attrs,\n      callBackBuilder = _ref6.callBackBuilder;\n  var options = project(getValidSortableEntries($attrs));\n  Object.entries(callBackBuilder).forEach(function (_ref7) {\n    var _ref8 = _slicedToArray(_ref7, 2),\n        eventType = _ref8[0],\n        eventBuilder = _ref8[1];\n\n    _sortableEvents__WEBPACK_IMPORTED_MODULE_1__.events[eventType].forEach(function (event) {\n      options[\"on\".concat(event)] = eventBuilder(event);\n    });\n  });\n  var draggable = \"[data-draggable]\".concat(options.draggable || \"\");\n  return _objectSpread(_objectSpread({}, options), {}, {\n    draggable: draggable\n  });\n}\n\nfunction getValidSortableEntries(value) {\n  return Object.entries(value).filter(function (_ref9) {\n    var _ref10 = _slicedToArray(_ref9, 2),\n        key = _ref10[0],\n        _ = _ref10[1];\n\n    return !(0,_util_tags__WEBPACK_IMPORTED_MODULE_2__.isHtmlAttribute)(key);\n  }).map(function (_ref11) {\n    var _ref12 = _slicedToArray(_ref11, 2),\n        key = _ref12[0],\n        value = _ref12[1];\n\n    return [(0,_util_string__WEBPACK_IMPORTED_MODULE_0__.camelize)(key), value];\n  }).filter(function (_ref13) {\n    var _ref14 = _slicedToArray(_ref13, 2),\n        key = _ref14[0],\n        _ = _ref14[1];\n\n    return !(0,_sortableEvents__WEBPACK_IMPORTED_MODULE_1__.isReadOnly)(key);\n  });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy9jb3JlL2NvbXBvbmVudEJ1aWxkZXJIZWxwZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUVBLFNBQVNJLE9BQVQsQ0FBaUJDLE9BQWpCLEVBQTBCO0VBQ3hCLE9BQU9BLE9BQU8sQ0FBQ0MsTUFBUixDQUFlLFVBQUNDLEdBQUQsUUFBdUI7SUFBQTtJQUFBLElBQWhCQyxHQUFnQjtJQUFBLElBQVhDLEtBQVc7O0lBQzNDRixHQUFHLENBQUNDLEdBQUQsQ0FBSCxHQUFXQyxLQUFYO0lBQ0EsT0FBT0YsR0FBUDtFQUNELENBSE0sRUFHSixFQUhJLENBQVA7QUFJRDs7QUFFRCxTQUFTRyxzQkFBVCxRQUFnRTtFQUFBLElBQTlCQyxNQUE4QixTQUE5QkEsTUFBOEI7RUFBQSxnQ0FBdEJDLGFBQXNCO0VBQUEsSUFBdEJBLGFBQXNCLG9DQUFOLEVBQU07RUFDOUQsSUFBTUMsVUFBVSxHQUFHVCxPQUFPLENBQ3hCVSxNQUFNLENBQUNULE9BQVAsQ0FBZU0sTUFBZixFQUF1QkksTUFBdkIsQ0FBOEI7SUFBQTtJQUFBLElBQUVQLEdBQUY7SUFBQSxJQUFPUSxDQUFQOztJQUFBLE9BQWNiLDJEQUFlLENBQUNLLEdBQUQsQ0FBN0I7RUFBQSxDQUE5QixDQUR3QixDQUExQjtFQUdBLHVDQUNLSyxVQURMLEdBRUtELGFBRkw7QUFJRDs7QUFFRCxTQUFTSyxvQkFBVCxRQUEyRDtFQUFBLElBQTNCTixNQUEyQixTQUEzQkEsTUFBMkI7RUFBQSxJQUFuQk8sZUFBbUIsU0FBbkJBLGVBQW1CO0VBQ3pELElBQU1DLE9BQU8sR0FBR2YsT0FBTyxDQUFDZ0IsdUJBQXVCLENBQUNULE1BQUQsQ0FBeEIsQ0FBdkI7RUFDQUcsTUFBTSxDQUFDVCxPQUFQLENBQWVhLGVBQWYsRUFBZ0NHLE9BQWhDLENBQXdDLGlCQUErQjtJQUFBO0lBQUEsSUFBN0JDLFNBQTZCO0lBQUEsSUFBbEJDLFlBQWtCOztJQUNyRXRCLG1EQUFNLENBQUNxQixTQUFELENBQU4sQ0FBa0JELE9BQWxCLENBQTBCLFVBQUFHLEtBQUssRUFBSTtNQUNqQ0wsT0FBTyxhQUFNSyxLQUFOLEVBQVAsR0FBd0JELFlBQVksQ0FBQ0MsS0FBRCxDQUFwQztJQUNELENBRkQ7RUFHRCxDQUpEO0VBS0EsSUFBTUMsU0FBUyw2QkFBc0JOLE9BQU8sQ0FBQ00sU0FBUixJQUFxQixFQUEzQyxDQUFmO0VBQ0EsdUNBQ0tOLE9BREw7SUFFRU0sU0FBUyxFQUFUQTtFQUZGO0FBSUQ7O0FBRUQsU0FBU0wsdUJBQVQsQ0FBaUNYLEtBQWpDLEVBQXdDO0VBQ3RDLE9BQU9LLE1BQU0sQ0FBQ1QsT0FBUCxDQUFlSSxLQUFmLEVBQ0pNLE1BREksQ0FDRztJQUFBO0lBQUEsSUFBRVAsR0FBRjtJQUFBLElBQU9RLENBQVA7O0lBQUEsT0FBYyxDQUFDYiwyREFBZSxDQUFDSyxHQUFELENBQTlCO0VBQUEsQ0FESCxFQUVKa0IsR0FGSSxDQUVBO0lBQUE7SUFBQSxJQUFFbEIsR0FBRjtJQUFBLElBQU9DLEtBQVA7O0lBQUEsT0FBa0IsQ0FBQ1Qsc0RBQVEsQ0FBQ1EsR0FBRCxDQUFULEVBQWdCQyxLQUFoQixDQUFsQjtFQUFBLENBRkEsRUFHSk0sTUFISSxDQUdHO0lBQUE7SUFBQSxJQUFFUCxHQUFGO0lBQUEsSUFBT1EsQ0FBUDs7SUFBQSxPQUFjLENBQUNkLDJEQUFVLENBQUNNLEdBQUQsQ0FBekI7RUFBQSxDQUhILENBQVA7QUFJRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvdmVuZG9ycy92dWVkcmFnZ2FibGUvc3JjL2NvcmUvY29tcG9uZW50QnVpbGRlckhlbHBlci5qcz8wMzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbWVsaXplIH0gZnJvbSBcIi4uL3V0aWwvc3RyaW5nXCI7XG5pbXBvcnQgeyBldmVudHMsIGlzUmVhZE9ubHkgfSBmcm9tIFwiLi9zb3J0YWJsZUV2ZW50c1wiO1xuaW1wb3J0IHsgaXNIdG1sQXR0cmlidXRlIH0gZnJvbSBcIi4uL3V0aWwvdGFnc1wiO1xuXG5mdW5jdGlvbiBwcm9qZWN0KGVudHJpZXMpIHtcbiAgcmV0dXJuIGVudHJpZXMucmVkdWNlKChyZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHJlc1trZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnRBdHRyaWJ1dGVzKHsgJGF0dHJzLCBjb21wb25lbnREYXRhID0ge30gfSkge1xuICBjb25zdCBhdHRyaWJ1dGVzID0gcHJvamVjdChcbiAgICBPYmplY3QuZW50cmllcygkYXR0cnMpLmZpbHRlcigoW2tleSwgX10pID0+IGlzSHRtbEF0dHJpYnV0ZShrZXkpKVxuICApO1xuICByZXR1cm4ge1xuICAgIC4uLmF0dHJpYnV0ZXMsXG4gICAgLi4uY29tcG9uZW50RGF0YVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTb3J0YWJsZU9wdGlvbih7ICRhdHRycywgY2FsbEJhY2tCdWlsZGVyIH0pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHByb2plY3QoZ2V0VmFsaWRTb3J0YWJsZUVudHJpZXMoJGF0dHJzKSk7XG4gIE9iamVjdC5lbnRyaWVzKGNhbGxCYWNrQnVpbGRlcikuZm9yRWFjaCgoW2V2ZW50VHlwZSwgZXZlbnRCdWlsZGVyXSkgPT4ge1xuICAgIGV2ZW50c1tldmVudFR5cGVdLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgb3B0aW9uc1tgb24ke2V2ZW50fWBdID0gZXZlbnRCdWlsZGVyKGV2ZW50KTtcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGRyYWdnYWJsZSA9IGBbZGF0YS1kcmFnZ2FibGVdJHtvcHRpb25zLmRyYWdnYWJsZSB8fCBcIlwifWA7XG4gIHJldHVybiB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBkcmFnZ2FibGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsaWRTb3J0YWJsZUVudHJpZXModmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHZhbHVlKVxuICAgIC5maWx0ZXIoKFtrZXksIF9dKSA9PiAhaXNIdG1sQXR0cmlidXRlKGtleSkpXG4gICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbY2FtZWxpemUoa2V5KSwgdmFsdWVdKVxuICAgIC5maWx0ZXIoKFtrZXksIF9dKSA9PiAhaXNSZWFkT25seShrZXkpKTtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0Q29tcG9uZW50QXR0cmlidXRlcyxcbiAgY3JlYXRlU29ydGFibGVPcHRpb24sXG4gIGdldFZhbGlkU29ydGFibGVFbnRyaWVzXG59O1xuIl0sIm5hbWVzIjpbImNhbWVsaXplIiwiZXZlbnRzIiwiaXNSZWFkT25seSIsImlzSHRtbEF0dHJpYnV0ZSIsInByb2plY3QiLCJlbnRyaWVzIiwicmVkdWNlIiwicmVzIiwia2V5IiwidmFsdWUiLCJnZXRDb21wb25lbnRBdHRyaWJ1dGVzIiwiJGF0dHJzIiwiY29tcG9uZW50RGF0YSIsImF0dHJpYnV0ZXMiLCJPYmplY3QiLCJmaWx0ZXIiLCJfIiwiY3JlYXRlU29ydGFibGVPcHRpb24iLCJjYWxsQmFja0J1aWxkZXIiLCJvcHRpb25zIiwiZ2V0VmFsaWRTb3J0YWJsZUVudHJpZXMiLCJmb3JFYWNoIiwiZXZlbnRUeXBlIiwiZXZlbnRCdWlsZGVyIiwiZXZlbnQiLCJkcmFnZ2FibGUiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/core/componentBuilderHelper.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/core/componentStructure.js":
/*!******************************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/core/componentStructure.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComponentStructure\": () => (/* binding */ ComponentStructure)\n/* harmony export */ });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar getHtmlElementFromNode = function getHtmlElementFromNode(_ref) {\n  var el = _ref.el;\n  return el;\n};\n\nvar addContext = function addContext(domElement, context) {\n  return domElement.__draggable_context = context;\n};\n\nvar getContext = function getContext(domElement) {\n  return domElement.__draggable_context;\n};\n\nvar ComponentStructure = /*#__PURE__*/function () {\n  function ComponentStructure(_ref2) {\n    var _ref2$nodes = _ref2.nodes,\n        header = _ref2$nodes.header,\n        defaultNodes = _ref2$nodes[\"default\"],\n        footer = _ref2$nodes.footer,\n        root = _ref2.root,\n        realList = _ref2.realList;\n\n    _classCallCheck(this, ComponentStructure);\n\n    this.defaultNodes = defaultNodes;\n    this.children = [].concat(_toConsumableArray(header), _toConsumableArray(defaultNodes), _toConsumableArray(footer));\n    this.externalComponent = root.externalComponent;\n    this.rootTransition = root.transition;\n    this.tag = root.tag;\n    this.realList = realList;\n  }\n\n  _createClass(ComponentStructure, [{\n    key: \"_isRootComponent\",\n    get: function get() {\n      return this.externalComponent || this.rootTransition;\n    }\n  }, {\n    key: \"render\",\n    value: function render(h, attributes) {\n      var tag = this.tag,\n          children = this.children,\n          _isRootComponent = this._isRootComponent;\n      var option = !_isRootComponent ? children : {\n        \"default\": function _default() {\n          return children;\n        }\n      };\n      return h(tag, attributes, option);\n    }\n  }, {\n    key: \"updated\",\n    value: function updated() {\n      var defaultNodes = this.defaultNodes,\n          realList = this.realList;\n      defaultNodes.forEach(function (node, index) {\n        addContext(getHtmlElementFromNode(node), {\n          element: realList[index],\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"getUnderlyingVm\",\n    value: function getUnderlyingVm(domElement) {\n      return getContext(domElement);\n    }\n  }, {\n    key: \"getVmIndexFromDomIndex\",\n    value: function getVmIndexFromDomIndex(domIndex, element) {\n      var defaultNodes = this.defaultNodes;\n      var length = defaultNodes.length;\n      var domChildren = element.children;\n      var domElement = domChildren.item(domIndex);\n\n      if (domElement === null) {\n        return length;\n      }\n\n      var context = getContext(domElement);\n\n      if (context) {\n        return context.index;\n      }\n\n      if (length === 0) {\n        return 0;\n      }\n\n      var firstDomListElement = getHtmlElementFromNode(defaultNodes[0]);\n\n      var indexFirstDomListElement = _toConsumableArray(domChildren).findIndex(function (element) {\n        return element === firstDomListElement;\n      });\n\n      return domIndex < indexFirstDomListElement ? 0 : length;\n    }\n  }]);\n\n  return ComponentStructure;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy9jb3JlL2NvbXBvbmVudFN0cnVjdHVyZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QjtFQUFBLElBQUdDLEVBQUgsUUFBR0EsRUFBSDtFQUFBLE9BQVlBLEVBQVo7QUFBQSxDQUEvQjs7QUFDQSxJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFDQyxVQUFELEVBQWFDLE9BQWI7RUFBQSxPQUNoQkQsVUFBVSxDQUFDRSxtQkFBWCxHQUFpQ0QsT0FEakI7QUFBQSxDQUFuQjs7QUFFQSxJQUFNRSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFBSCxVQUFVO0VBQUEsT0FBSUEsVUFBVSxDQUFDRSxtQkFBZjtBQUFBLENBQTdCOztJQUVNRTtFQUNKLG1DQUlHO0lBQUEsd0JBSERDLEtBR0M7SUFBQSxJQUhRQyxNQUdSLGVBSFFBLE1BR1I7SUFBQSxJQUh5QkMsWUFHekI7SUFBQSxJQUh1Q0MsTUFHdkMsZUFIdUNBLE1BR3ZDO0lBQUEsSUFGREMsSUFFQyxTQUZEQSxJQUVDO0lBQUEsSUFEREMsUUFDQyxTQUREQSxRQUNDOztJQUFBOztJQUNELEtBQUtILFlBQUwsR0FBb0JBLFlBQXBCO0lBQ0EsS0FBS0ksUUFBTCxnQ0FBb0JMLE1BQXBCLHNCQUErQkMsWUFBL0Isc0JBQWdEQyxNQUFoRDtJQUNBLEtBQUtJLGlCQUFMLEdBQXlCSCxJQUFJLENBQUNHLGlCQUE5QjtJQUNBLEtBQUtDLGNBQUwsR0FBc0JKLElBQUksQ0FBQ0ssVUFBM0I7SUFDQSxLQUFLQyxHQUFMLEdBQVdOLElBQUksQ0FBQ00sR0FBaEI7SUFDQSxLQUFLTCxRQUFMLEdBQWdCQSxRQUFoQjtFQUNEOzs7O1NBRUQsZUFBdUI7TUFDckIsT0FBTyxLQUFLRSxpQkFBTCxJQUEwQixLQUFLQyxjQUF0QztJQUNEOzs7V0FFRCxnQkFBT0csQ0FBUCxFQUFVQyxVQUFWLEVBQXNCO01BQ3BCLElBQVFGLEdBQVIsR0FBNEMsSUFBNUMsQ0FBUUEsR0FBUjtNQUFBLElBQWFKLFFBQWIsR0FBNEMsSUFBNUMsQ0FBYUEsUUFBYjtNQUFBLElBQXVCTyxnQkFBdkIsR0FBNEMsSUFBNUMsQ0FBdUJBLGdCQUF2QjtNQUNBLElBQU1DLE1BQU0sR0FBRyxDQUFDRCxnQkFBRCxHQUFvQlAsUUFBcEIsR0FBK0I7UUFBRSxXQUFTO1VBQUEsT0FBTUEsUUFBTjtRQUFBO01BQVgsQ0FBOUM7TUFDQSxPQUFPSyxDQUFDLENBQUNELEdBQUQsRUFBTUUsVUFBTixFQUFrQkUsTUFBbEIsQ0FBUjtJQUNEOzs7V0FFRCxtQkFBVTtNQUNSLElBQVFaLFlBQVIsR0FBbUMsSUFBbkMsQ0FBUUEsWUFBUjtNQUFBLElBQXNCRyxRQUF0QixHQUFtQyxJQUFuQyxDQUFzQkEsUUFBdEI7TUFDQUgsWUFBWSxDQUFDYSxPQUFiLENBQXFCLFVBQUNDLElBQUQsRUFBT0MsS0FBUCxFQUFpQjtRQUNwQ3ZCLFVBQVUsQ0FBQ0Ysc0JBQXNCLENBQUN3QixJQUFELENBQXZCLEVBQStCO1VBQ3ZDRSxPQUFPLEVBQUViLFFBQVEsQ0FBQ1ksS0FBRCxDQURzQjtVQUV2Q0EsS0FBSyxFQUFMQTtRQUZ1QyxDQUEvQixDQUFWO01BSUQsQ0FMRDtJQU1EOzs7V0FFRCx5QkFBZ0J0QixVQUFoQixFQUE0QjtNQUMxQixPQUFPRyxVQUFVLENBQUNILFVBQUQsQ0FBakI7SUFDRDs7O1dBRUQsZ0NBQXVCd0IsUUFBdkIsRUFBaUNELE9BQWpDLEVBQTBDO01BQ3hDLElBQVFoQixZQUFSLEdBQXlCLElBQXpCLENBQVFBLFlBQVI7TUFDQSxJQUFRa0IsTUFBUixHQUFtQmxCLFlBQW5CLENBQVFrQixNQUFSO01BQ0EsSUFBTUMsV0FBVyxHQUFHSCxPQUFPLENBQUNaLFFBQTVCO01BQ0EsSUFBTVgsVUFBVSxHQUFHMEIsV0FBVyxDQUFDQyxJQUFaLENBQWlCSCxRQUFqQixDQUFuQjs7TUFFQSxJQUFJeEIsVUFBVSxLQUFLLElBQW5CLEVBQXlCO1FBQ3ZCLE9BQU95QixNQUFQO01BQ0Q7O01BQ0QsSUFBTXhCLE9BQU8sR0FBR0UsVUFBVSxDQUFDSCxVQUFELENBQTFCOztNQUNBLElBQUlDLE9BQUosRUFBYTtRQUNYLE9BQU9BLE9BQU8sQ0FBQ3FCLEtBQWY7TUFDRDs7TUFFRCxJQUFJRyxNQUFNLEtBQUssQ0FBZixFQUFrQjtRQUNoQixPQUFPLENBQVA7TUFDRDs7TUFDRCxJQUFNRyxtQkFBbUIsR0FBRy9CLHNCQUFzQixDQUFDVSxZQUFZLENBQUMsQ0FBRCxDQUFiLENBQWxEOztNQUNBLElBQU1zQix3QkFBd0IsR0FBRyxtQkFBSUgsV0FBSixFQUFpQkksU0FBakIsQ0FDL0IsVUFBQVAsT0FBTztRQUFBLE9BQUlBLE9BQU8sS0FBS0ssbUJBQWhCO01BQUEsQ0FEd0IsQ0FBakM7O01BR0EsT0FBT0osUUFBUSxHQUFHSyx3QkFBWCxHQUFzQyxDQUF0QyxHQUEwQ0osTUFBakQ7SUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvdmVuZG9ycy92dWVkcmFnZ2FibGUvc3JjL2NvcmUvY29tcG9uZW50U3RydWN0dXJlLmpzP2M3MGQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2V0SHRtbEVsZW1lbnRGcm9tTm9kZSA9ICh7IGVsIH0pID0+IGVsO1xuY29uc3QgYWRkQ29udGV4dCA9IChkb21FbGVtZW50LCBjb250ZXh0KSA9PlxuICAoZG9tRWxlbWVudC5fX2RyYWdnYWJsZV9jb250ZXh0ID0gY29udGV4dCk7XG5jb25zdCBnZXRDb250ZXh0ID0gZG9tRWxlbWVudCA9PiBkb21FbGVtZW50Ll9fZHJhZ2dhYmxlX2NvbnRleHQ7XG5cbmNsYXNzIENvbXBvbmVudFN0cnVjdHVyZSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBub2RlczogeyBoZWFkZXIsIGRlZmF1bHQ6IGRlZmF1bHROb2RlcywgZm9vdGVyIH0sXG4gICAgcm9vdCxcbiAgICByZWFsTGlzdFxuICB9KSB7XG4gICAgdGhpcy5kZWZhdWx0Tm9kZXMgPSBkZWZhdWx0Tm9kZXM7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFsuLi5oZWFkZXIsIC4uLmRlZmF1bHROb2RlcywgLi4uZm9vdGVyXTtcbiAgICB0aGlzLmV4dGVybmFsQ29tcG9uZW50ID0gcm9vdC5leHRlcm5hbENvbXBvbmVudDtcbiAgICB0aGlzLnJvb3RUcmFuc2l0aW9uID0gcm9vdC50cmFuc2l0aW9uO1xuICAgIHRoaXMudGFnID0gcm9vdC50YWc7XG4gICAgdGhpcy5yZWFsTGlzdCA9IHJlYWxMaXN0O1xuICB9XG5cbiAgZ2V0IF9pc1Jvb3RDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZXJuYWxDb21wb25lbnQgfHwgdGhpcy5yb290VHJhbnNpdGlvbjtcbiAgfVxuXG4gIHJlbmRlcihoLCBhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgeyB0YWcsIGNoaWxkcmVuLCBfaXNSb290Q29tcG9uZW50IH0gPSB0aGlzO1xuICAgIGNvbnN0IG9wdGlvbiA9ICFfaXNSb290Q29tcG9uZW50ID8gY2hpbGRyZW4gOiB7IGRlZmF1bHQ6ICgpID0+IGNoaWxkcmVuIH07XG4gICAgcmV0dXJuIGgodGFnLCBhdHRyaWJ1dGVzLCBvcHRpb24pO1xuICB9XG5cbiAgdXBkYXRlZCgpIHtcbiAgICBjb25zdCB7IGRlZmF1bHROb2RlcywgcmVhbExpc3QgfSA9IHRoaXM7XG4gICAgZGVmYXVsdE5vZGVzLmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XG4gICAgICBhZGRDb250ZXh0KGdldEh0bWxFbGVtZW50RnJvbU5vZGUobm9kZSksIHtcbiAgICAgICAgZWxlbWVudDogcmVhbExpc3RbaW5kZXhdLFxuICAgICAgICBpbmRleFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRVbmRlcmx5aW5nVm0oZG9tRWxlbWVudCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KGRvbUVsZW1lbnQpO1xuICB9XG5cbiAgZ2V0Vm1JbmRleEZyb21Eb21JbmRleChkb21JbmRleCwgZWxlbWVudCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdE5vZGVzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBkZWZhdWx0Tm9kZXM7XG4gICAgY29uc3QgZG9tQ2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSBkb21DaGlsZHJlbi5pdGVtKGRvbUluZGV4KTtcblxuICAgIGlmIChkb21FbGVtZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dChkb21FbGVtZW50KTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuaW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0RG9tTGlzdEVsZW1lbnQgPSBnZXRIdG1sRWxlbWVudEZyb21Ob2RlKGRlZmF1bHROb2Rlc1swXSk7XG4gICAgY29uc3QgaW5kZXhGaXJzdERvbUxpc3RFbGVtZW50ID0gWy4uLmRvbUNoaWxkcmVuXS5maW5kSW5kZXgoXG4gICAgICBlbGVtZW50ID0+IGVsZW1lbnQgPT09IGZpcnN0RG9tTGlzdEVsZW1lbnRcbiAgICApO1xuICAgIHJldHVybiBkb21JbmRleCA8IGluZGV4Rmlyc3REb21MaXN0RWxlbWVudCA/IDAgOiBsZW5ndGg7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ29tcG9uZW50U3RydWN0dXJlIH07XG4iXSwibmFtZXMiOlsiZ2V0SHRtbEVsZW1lbnRGcm9tTm9kZSIsImVsIiwiYWRkQ29udGV4dCIsImRvbUVsZW1lbnQiLCJjb250ZXh0IiwiX19kcmFnZ2FibGVfY29udGV4dCIsImdldENvbnRleHQiLCJDb21wb25lbnRTdHJ1Y3R1cmUiLCJub2RlcyIsImhlYWRlciIsImRlZmF1bHROb2RlcyIsImZvb3RlciIsInJvb3QiLCJyZWFsTGlzdCIsImNoaWxkcmVuIiwiZXh0ZXJuYWxDb21wb25lbnQiLCJyb290VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJ0YWciLCJoIiwiYXR0cmlidXRlcyIsIl9pc1Jvb3RDb21wb25lbnQiLCJvcHRpb24iLCJmb3JFYWNoIiwibm9kZSIsImluZGV4IiwiZWxlbWVudCIsImRvbUluZGV4IiwibGVuZ3RoIiwiZG9tQ2hpbGRyZW4iLCJpdGVtIiwiZmlyc3REb21MaXN0RWxlbWVudCIsImluZGV4Rmlyc3REb21MaXN0RWxlbWVudCIsImZpbmRJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/core/componentStructure.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/core/renderHelper.js":
/*!************************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/core/renderHelper.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeComponentStructure\": () => (/* binding */ computeComponentStructure)\n/* harmony export */ });\n/* harmony import */ var _componentStructure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./componentStructure */ \"./resources/js/app/vendors/vuedraggable/src/core/componentStructure.js\");\n/* harmony import */ var _util_tags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/tags */ \"./resources/js/app/vendors/vuedraggable/src/util/tags.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nfunction getSlot(slots, key) {\n  var slotValue = slots[key];\n  return slotValue ? slotValue() : [];\n}\n\nfunction computeNodes(_ref) {\n  var $slots = _ref.$slots,\n      realList = _ref.realList,\n      getKey = _ref.getKey;\n  var normalizedList = realList || [];\n\n  var _map = [\"header\", \"footer\"].map(function (name) {\n    return getSlot($slots, name);\n  }),\n      _map2 = _slicedToArray(_map, 2),\n      header = _map2[0],\n      footer = _map2[1];\n\n  var item = $slots.item;\n\n  if (!item) {\n    throw new Error(\"draggable element must have an item slot\");\n  }\n\n  var defaultNodes = normalizedList.flatMap(function (element, index) {\n    return item({\n      element: element,\n      index: index\n    }).map(function (node) {\n      node.key = getKey(element);\n      node.props = _objectSpread(_objectSpread({}, node.props || {}), {}, {\n        \"data-draggable\": true\n      });\n      return node;\n    });\n  });\n\n  if (defaultNodes.length !== normalizedList.length) {\n    throw new Error(\"Item slot must have only one child\");\n  }\n\n  return {\n    header: header,\n    footer: footer,\n    \"default\": defaultNodes\n  };\n}\n\nfunction getRootInformation(tag) {\n  var transition = (0,_util_tags__WEBPACK_IMPORTED_MODULE_1__.isTransition)(tag);\n  var externalComponent = !(0,_util_tags__WEBPACK_IMPORTED_MODULE_1__.isHtmlTag)(tag) && !transition;\n  return {\n    transition: transition,\n    externalComponent: externalComponent,\n    tag: externalComponent ? (0,vue__WEBPACK_IMPORTED_MODULE_2__.resolveComponent)(tag) : transition ? vue__WEBPACK_IMPORTED_MODULE_2__.TransitionGroup : tag\n  };\n}\n\nfunction computeComponentStructure(_ref2) {\n  var $slots = _ref2.$slots,\n      tag = _ref2.tag,\n      realList = _ref2.realList,\n      getKey = _ref2.getKey;\n  var nodes = computeNodes({\n    $slots: $slots,\n    realList: realList,\n    getKey: getKey\n  });\n  var root = getRootInformation(tag);\n  return new _componentStructure__WEBPACK_IMPORTED_MODULE_0__.ComponentStructure({\n    nodes: nodes,\n    root: root,\n    realList: realList\n  });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy9jb3JlL3JlbmRlckhlbHBlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUVBLFNBQVNLLE9BQVQsQ0FBaUJDLEtBQWpCLEVBQXdCQyxHQUF4QixFQUE2QjtFQUMzQixJQUFNQyxTQUFTLEdBQUdGLEtBQUssQ0FBQ0MsR0FBRCxDQUF2QjtFQUNBLE9BQU9DLFNBQVMsR0FBR0EsU0FBUyxFQUFaLEdBQWlCLEVBQWpDO0FBQ0Q7O0FBRUQsU0FBU0MsWUFBVCxPQUFvRDtFQUFBLElBQTVCQyxNQUE0QixRQUE1QkEsTUFBNEI7RUFBQSxJQUFwQkMsUUFBb0IsUUFBcEJBLFFBQW9CO0VBQUEsSUFBVkMsTUFBVSxRQUFWQSxNQUFVO0VBQ2xELElBQU1DLGNBQWMsR0FBR0YsUUFBUSxJQUFJLEVBQW5DOztFQUNBLFdBQXlCLENBQUMsUUFBRCxFQUFXLFFBQVgsRUFBcUJHLEdBQXJCLENBQXlCLFVBQUFDLElBQUk7SUFBQSxPQUNwRFYsT0FBTyxDQUFDSyxNQUFELEVBQVNLLElBQVQsQ0FENkM7RUFBQSxDQUE3QixDQUF6QjtFQUFBO0VBQUEsSUFBT0MsTUFBUDtFQUFBLElBQWVDLE1BQWY7O0VBR0EsSUFBUUMsSUFBUixHQUFpQlIsTUFBakIsQ0FBUVEsSUFBUjs7RUFDQSxJQUFJLENBQUNBLElBQUwsRUFBVztJQUNULE1BQU0sSUFBSUMsS0FBSixDQUFVLDBDQUFWLENBQU47RUFDRDs7RUFDRCxJQUFNQyxZQUFZLEdBQUdQLGNBQWMsQ0FBQ1EsT0FBZixDQUF1QixVQUFDQyxPQUFELEVBQVVDLEtBQVY7SUFBQSxPQUMxQ0wsSUFBSSxDQUFDO01BQUVJLE9BQU8sRUFBUEEsT0FBRjtNQUFXQyxLQUFLLEVBQUxBO0lBQVgsQ0FBRCxDQUFKLENBQXlCVCxHQUF6QixDQUE2QixVQUFBVSxJQUFJLEVBQUk7TUFDbkNBLElBQUksQ0FBQ2pCLEdBQUwsR0FBV0ssTUFBTSxDQUFDVSxPQUFELENBQWpCO01BQ0FFLElBQUksQ0FBQ0MsS0FBTCxtQ0FBbUJELElBQUksQ0FBQ0MsS0FBTCxJQUFjLEVBQWpDO1FBQXNDLGtCQUFrQjtNQUF4RDtNQUNBLE9BQU9ELElBQVA7SUFDRCxDQUpELENBRDBDO0VBQUEsQ0FBdkIsQ0FBckI7O0VBT0EsSUFBSUosWUFBWSxDQUFDTSxNQUFiLEtBQXdCYixjQUFjLENBQUNhLE1BQTNDLEVBQW1EO0lBQ2pELE1BQU0sSUFBSVAsS0FBSixDQUFVLG9DQUFWLENBQU47RUFDRDs7RUFDRCxPQUFPO0lBQ0xILE1BQU0sRUFBTkEsTUFESztJQUVMQyxNQUFNLEVBQU5BLE1BRks7SUFHTCxXQUFTRztFQUhKLENBQVA7QUFLRDs7QUFFRCxTQUFTTyxrQkFBVCxDQUE0QkMsR0FBNUIsRUFBaUM7RUFDL0IsSUFBTUMsVUFBVSxHQUFHM0Isd0RBQVksQ0FBQzBCLEdBQUQsQ0FBL0I7RUFDQSxJQUFNRSxpQkFBaUIsR0FBRyxDQUFDN0IscURBQVMsQ0FBQzJCLEdBQUQsQ0FBVixJQUFtQixDQUFDQyxVQUE5QztFQUNBLE9BQU87SUFDTEEsVUFBVSxFQUFWQSxVQURLO0lBRUxDLGlCQUFpQixFQUFqQkEsaUJBRks7SUFHTEYsR0FBRyxFQUFFRSxpQkFBaUIsR0FDbEIzQixxREFBZ0IsQ0FBQ3lCLEdBQUQsQ0FERSxHQUVsQkMsVUFBVSxHQUNWekIsZ0RBRFUsR0FFVndCO0VBUEMsQ0FBUDtBQVNEOztBQUVELFNBQVNHLHlCQUFULFFBQXNFO0VBQUEsSUFBakNyQixNQUFpQyxTQUFqQ0EsTUFBaUM7RUFBQSxJQUF6QmtCLEdBQXlCLFNBQXpCQSxHQUF5QjtFQUFBLElBQXBCakIsUUFBb0IsU0FBcEJBLFFBQW9CO0VBQUEsSUFBVkMsTUFBVSxTQUFWQSxNQUFVO0VBQ3BFLElBQU1vQixLQUFLLEdBQUd2QixZQUFZLENBQUM7SUFBRUMsTUFBTSxFQUFOQSxNQUFGO0lBQVVDLFFBQVEsRUFBUkEsUUFBVjtJQUFvQkMsTUFBTSxFQUFOQTtFQUFwQixDQUFELENBQTFCO0VBQ0EsSUFBTXFCLElBQUksR0FBR04sa0JBQWtCLENBQUNDLEdBQUQsQ0FBL0I7RUFDQSxPQUFPLElBQUk1QixtRUFBSixDQUF1QjtJQUFFZ0MsS0FBSyxFQUFMQSxLQUFGO0lBQVNDLElBQUksRUFBSkEsSUFBVDtJQUFldEIsUUFBUSxFQUFSQTtFQUFmLENBQXZCLENBQVA7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvdmVuZG9ycy92dWVkcmFnZ2FibGUvc3JjL2NvcmUvcmVuZGVySGVscGVyLmpzP2MyZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50U3RydWN0dXJlIH0gZnJvbSBcIi4vY29tcG9uZW50U3RydWN0dXJlXCI7XG5pbXBvcnQgeyBpc0h0bWxUYWcsIGlzVHJhbnNpdGlvbiB9IGZyb20gXCIuLi91dGlsL3RhZ3NcIjtcbmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQsIFRyYW5zaXRpb25Hcm91cCB9IGZyb20gXCJ2dWVcIjtcblxuZnVuY3Rpb24gZ2V0U2xvdChzbG90cywga2V5KSB7XG4gIGNvbnN0IHNsb3RWYWx1ZSA9IHNsb3RzW2tleV07XG4gIHJldHVybiBzbG90VmFsdWUgPyBzbG90VmFsdWUoKSA6IFtdO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlTm9kZXMoeyAkc2xvdHMsIHJlYWxMaXN0LCBnZXRLZXkgfSkge1xuICBjb25zdCBub3JtYWxpemVkTGlzdCA9IHJlYWxMaXN0IHx8IFtdO1xuICBjb25zdCBbaGVhZGVyLCBmb290ZXJdID0gW1wiaGVhZGVyXCIsIFwiZm9vdGVyXCJdLm1hcChuYW1lID0+XG4gICAgZ2V0U2xvdCgkc2xvdHMsIG5hbWUpXG4gICk7XG4gIGNvbnN0IHsgaXRlbSB9ID0gJHNsb3RzO1xuICBpZiAoIWl0ZW0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkcmFnZ2FibGUgZWxlbWVudCBtdXN0IGhhdmUgYW4gaXRlbSBzbG90XCIpO1xuICB9XG4gIGNvbnN0IGRlZmF1bHROb2RlcyA9IG5vcm1hbGl6ZWRMaXN0LmZsYXRNYXAoKGVsZW1lbnQsIGluZGV4KSA9PlxuICAgIGl0ZW0oeyBlbGVtZW50LCBpbmRleCB9KS5tYXAobm9kZSA9PiB7XG4gICAgICBub2RlLmtleSA9IGdldEtleShlbGVtZW50KTtcbiAgICAgIG5vZGUucHJvcHMgPSB7IC4uLihub2RlLnByb3BzIHx8IHt9KSwgXCJkYXRhLWRyYWdnYWJsZVwiOiB0cnVlIH07XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KVxuICApO1xuICBpZiAoZGVmYXVsdE5vZGVzLmxlbmd0aCAhPT0gbm9ybWFsaXplZExpc3QubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXRlbSBzbG90IG11c3QgaGF2ZSBvbmx5IG9uZSBjaGlsZFwiKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhlYWRlcixcbiAgICBmb290ZXIsXG4gICAgZGVmYXVsdDogZGVmYXVsdE5vZGVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJvb3RJbmZvcm1hdGlvbih0YWcpIHtcbiAgY29uc3QgdHJhbnNpdGlvbiA9IGlzVHJhbnNpdGlvbih0YWcpO1xuICBjb25zdCBleHRlcm5hbENvbXBvbmVudCA9ICFpc0h0bWxUYWcodGFnKSAmJiAhdHJhbnNpdGlvbjtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2l0aW9uLFxuICAgIGV4dGVybmFsQ29tcG9uZW50LFxuICAgIHRhZzogZXh0ZXJuYWxDb21wb25lbnRcbiAgICAgID8gcmVzb2x2ZUNvbXBvbmVudCh0YWcpXG4gICAgICA6IHRyYW5zaXRpb25cbiAgICAgID8gVHJhbnNpdGlvbkdyb3VwXG4gICAgICA6IHRhZ1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlQ29tcG9uZW50U3RydWN0dXJlKHsgJHNsb3RzLCB0YWcsIHJlYWxMaXN0LCBnZXRLZXkgfSkge1xuICBjb25zdCBub2RlcyA9IGNvbXB1dGVOb2Rlcyh7ICRzbG90cywgcmVhbExpc3QsIGdldEtleSB9KTtcbiAgY29uc3Qgcm9vdCA9IGdldFJvb3RJbmZvcm1hdGlvbih0YWcpO1xuICByZXR1cm4gbmV3IENvbXBvbmVudFN0cnVjdHVyZSh7IG5vZGVzLCByb290LCByZWFsTGlzdCB9KTtcbn1cblxuZXhwb3J0IHsgY29tcHV0ZUNvbXBvbmVudFN0cnVjdHVyZSB9O1xuIl0sIm5hbWVzIjpbIkNvbXBvbmVudFN0cnVjdHVyZSIsImlzSHRtbFRhZyIsImlzVHJhbnNpdGlvbiIsInJlc29sdmVDb21wb25lbnQiLCJUcmFuc2l0aW9uR3JvdXAiLCJnZXRTbG90Iiwic2xvdHMiLCJrZXkiLCJzbG90VmFsdWUiLCJjb21wdXRlTm9kZXMiLCIkc2xvdHMiLCJyZWFsTGlzdCIsImdldEtleSIsIm5vcm1hbGl6ZWRMaXN0IiwibWFwIiwibmFtZSIsImhlYWRlciIsImZvb3RlciIsIml0ZW0iLCJFcnJvciIsImRlZmF1bHROb2RlcyIsImZsYXRNYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJub2RlIiwicHJvcHMiLCJsZW5ndGgiLCJnZXRSb290SW5mb3JtYXRpb24iLCJ0YWciLCJ0cmFuc2l0aW9uIiwiZXh0ZXJuYWxDb21wb25lbnQiLCJjb21wdXRlQ29tcG9uZW50U3RydWN0dXJlIiwibm9kZXMiLCJyb290Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/core/renderHelper.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js":
/*!**************************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"events\": () => (/* binding */ events),\n/* harmony export */   \"isReadOnly\": () => (/* binding */ isReadOnly)\n/* harmony export */ });\nvar manageAndEmit = [\"Start\", \"Add\", \"Remove\", \"Update\", \"End\"];\nvar emit = [\"Choose\", \"Unchoose\", \"Sort\", \"Filter\", \"Clone\"];\nvar manage = [\"Move\"];\nvar eventHandlerNames = [manage, manageAndEmit, emit].flatMap(function (events) {\n  return events;\n}).map(function (evt) {\n  return \"on\".concat(evt);\n});\nvar events = {\n  manage: manage,\n  manageAndEmit: manageAndEmit,\n  emit: emit\n};\n\nfunction isReadOnly(eventName) {\n  return eventHandlerNames.indexOf(eventName) !== -1;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy9jb3JlL3NvcnRhYmxlRXZlbnRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSxHQUFHLENBQUMsT0FBRCxFQUFVLEtBQVYsRUFBaUIsUUFBakIsRUFBMkIsUUFBM0IsRUFBcUMsS0FBckMsQ0FBdEI7QUFDQSxJQUFNQyxJQUFJLEdBQUcsQ0FBQyxRQUFELEVBQVcsVUFBWCxFQUF1QixNQUF2QixFQUErQixRQUEvQixFQUF5QyxPQUF6QyxDQUFiO0FBQ0EsSUFBTUMsTUFBTSxHQUFHLENBQUMsTUFBRCxDQUFmO0FBQ0EsSUFBTUMsaUJBQWlCLEdBQUcsQ0FBQ0QsTUFBRCxFQUFTRixhQUFULEVBQXdCQyxJQUF4QixFQUN2QkcsT0FEdUIsQ0FDZixVQUFBQyxNQUFNO0VBQUEsT0FBSUEsTUFBSjtBQUFBLENBRFMsRUFFdkJDLEdBRnVCLENBRW5CLFVBQUFDLEdBQUc7RUFBQSxtQkFBU0EsR0FBVDtBQUFBLENBRmdCLENBQTFCO0FBSUEsSUFBTUYsTUFBTSxHQUFHO0VBQ2JILE1BQU0sRUFBTkEsTUFEYTtFQUViRixhQUFhLEVBQWJBLGFBRmE7RUFHYkMsSUFBSSxFQUFKQTtBQUhhLENBQWY7O0FBTUEsU0FBU08sVUFBVCxDQUFvQkMsU0FBcEIsRUFBK0I7RUFDN0IsT0FBT04saUJBQWlCLENBQUNPLE9BQWxCLENBQTBCRCxTQUExQixNQUF5QyxDQUFDLENBQWpEO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy9jb3JlL3NvcnRhYmxlRXZlbnRzLmpzPzgzYTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWFuYWdlQW5kRW1pdCA9IFtcIlN0YXJ0XCIsIFwiQWRkXCIsIFwiUmVtb3ZlXCIsIFwiVXBkYXRlXCIsIFwiRW5kXCJdO1xuY29uc3QgZW1pdCA9IFtcIkNob29zZVwiLCBcIlVuY2hvb3NlXCIsIFwiU29ydFwiLCBcIkZpbHRlclwiLCBcIkNsb25lXCJdO1xuY29uc3QgbWFuYWdlID0gW1wiTW92ZVwiXTtcbmNvbnN0IGV2ZW50SGFuZGxlck5hbWVzID0gW21hbmFnZSwgbWFuYWdlQW5kRW1pdCwgZW1pdF1cbiAgLmZsYXRNYXAoZXZlbnRzID0+IGV2ZW50cylcbiAgLm1hcChldnQgPT4gYG9uJHtldnR9YCk7XG5cbmNvbnN0IGV2ZW50cyA9IHtcbiAgbWFuYWdlLFxuICBtYW5hZ2VBbmRFbWl0LFxuICBlbWl0XG59O1xuXG5mdW5jdGlvbiBpc1JlYWRPbmx5KGV2ZW50TmFtZSkge1xuICByZXR1cm4gZXZlbnRIYW5kbGVyTmFtZXMuaW5kZXhPZihldmVudE5hbWUpICE9PSAtMTtcbn1cblxuZXhwb3J0IHsgZXZlbnRzLCBpc1JlYWRPbmx5IH07XG4iXSwibmFtZXMiOlsibWFuYWdlQW5kRW1pdCIsImVtaXQiLCJtYW5hZ2UiLCJldmVudEhhbmRsZXJOYW1lcyIsImZsYXRNYXAiLCJldmVudHMiLCJtYXAiLCJldnQiLCJpc1JlYWRPbmx5IiwiZXZlbnROYW1lIiwiaW5kZXhPZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/util/console.js":
/*!*******************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/util/console.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"console\": () => (/* binding */ console)\n/* harmony export */ });\nfunction getConsole() {\n  if (typeof window !== \"undefined\") {\n    return window.console;\n  }\n\n  return __webpack_require__.g.console;\n}\n\nvar console = getConsole();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL2NvbnNvbGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFNBQVNBLFVBQVQsR0FBc0I7RUFDcEIsSUFBSSxPQUFPQyxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0lBQ2pDLE9BQU9BLE1BQU0sQ0FBQ0MsT0FBZDtFQUNEOztFQUNELE9BQU9DLHFCQUFNLENBQUNELE9BQWQ7QUFDRDs7QUFDRCxJQUFNQSxPQUFPLEdBQUdGLFVBQVUsRUFBMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL2NvbnNvbGUuanM/MmYwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRDb25zb2xlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB3aW5kb3cuY29uc29sZTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsLmNvbnNvbGU7XG59XG5jb25zdCBjb25zb2xlID0gZ2V0Q29uc29sZSgpO1xuXG5leHBvcnQgeyBjb25zb2xlIH07XG4iXSwibmFtZXMiOlsiZ2V0Q29uc29sZSIsIndpbmRvdyIsImNvbnNvbGUiLCJnbG9iYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/util/console.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/util/htmlHelper.js":
/*!**********************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/util/htmlHelper.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"insertNodeAt\": () => (/* binding */ insertNodeAt),\n/* harmony export */   \"removeNode\": () => (/* binding */ removeNode)\n/* harmony export */ });\nfunction removeNode(node) {\n  if (node.parentElement !== null) {\n    node.parentElement.removeChild(node);\n  }\n}\n\nfunction insertNodeAt(fatherNode, node, position) {\n  var refNode = position === 0 ? fatherNode.children[0] : fatherNode.children[position - 1].nextSibling;\n  fatherNode.insertBefore(node, refNode);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL2h0bWxIZWxwZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxVQUFULENBQW9CQyxJQUFwQixFQUEwQjtFQUN4QixJQUFJQSxJQUFJLENBQUNDLGFBQUwsS0FBdUIsSUFBM0IsRUFBaUM7SUFDL0JELElBQUksQ0FBQ0MsYUFBTCxDQUFtQkMsV0FBbkIsQ0FBK0JGLElBQS9CO0VBQ0Q7QUFDRjs7QUFFRCxTQUFTRyxZQUFULENBQXNCQyxVQUF0QixFQUFrQ0osSUFBbEMsRUFBd0NLLFFBQXhDLEVBQWtEO0VBQ2hELElBQU1DLE9BQU8sR0FDWEQsUUFBUSxLQUFLLENBQWIsR0FDSUQsVUFBVSxDQUFDRyxRQUFYLENBQW9CLENBQXBCLENBREosR0FFSUgsVUFBVSxDQUFDRyxRQUFYLENBQW9CRixRQUFRLEdBQUcsQ0FBL0IsRUFBa0NHLFdBSHhDO0VBSUFKLFVBQVUsQ0FBQ0ssWUFBWCxDQUF3QlQsSUFBeEIsRUFBOEJNLE9BQTlCO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL2h0bWxIZWxwZXIuanM/ZmQwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgaWYgKG5vZGUucGFyZW50RWxlbWVudCAhPT0gbnVsbCkge1xuICAgIG5vZGUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnROb2RlQXQoZmF0aGVyTm9kZSwgbm9kZSwgcG9zaXRpb24pIHtcbiAgY29uc3QgcmVmTm9kZSA9XG4gICAgcG9zaXRpb24gPT09IDBcbiAgICAgID8gZmF0aGVyTm9kZS5jaGlsZHJlblswXVxuICAgICAgOiBmYXRoZXJOb2RlLmNoaWxkcmVuW3Bvc2l0aW9uIC0gMV0ubmV4dFNpYmxpbmc7XG4gIGZhdGhlck5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZk5vZGUpO1xufVxuXG5leHBvcnQgeyBpbnNlcnROb2RlQXQsIHJlbW92ZU5vZGUgfTtcbiJdLCJuYW1lcyI6WyJyZW1vdmVOb2RlIiwibm9kZSIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImluc2VydE5vZGVBdCIsImZhdGhlck5vZGUiLCJwb3NpdGlvbiIsInJlZk5vZGUiLCJjaGlsZHJlbiIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/util/htmlHelper.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/util/string.js":
/*!******************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/util/string.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"camelize\": () => (/* binding */ camelize)\n/* harmony export */ });\nfunction cached(fn) {\n  var cache = Object.create(null);\n  return function cachedFn(str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\n\nvar regex = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(regex, function (_, c) {\n    return c.toUpperCase();\n  });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL3N0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsU0FBU0EsTUFBVCxDQUFnQkMsRUFBaEIsRUFBb0I7RUFDbEIsSUFBTUMsS0FBSyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxJQUFkLENBQWQ7RUFDQSxPQUFPLFNBQVNDLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCO0lBQzVCLElBQU1DLEdBQUcsR0FBR0wsS0FBSyxDQUFDSSxHQUFELENBQWpCO0lBQ0EsT0FBT0MsR0FBRyxLQUFLTCxLQUFLLENBQUNJLEdBQUQsQ0FBTCxHQUFhTCxFQUFFLENBQUNLLEdBQUQsQ0FBcEIsQ0FBVjtFQUNELENBSEQ7QUFJRDs7QUFFRCxJQUFNRSxLQUFLLEdBQUcsUUFBZDtBQUNBLElBQU1DLFFBQVEsR0FBR1QsTUFBTSxDQUFDLFVBQUFNLEdBQUc7RUFBQSxPQUFJQSxHQUFHLENBQUNJLE9BQUosQ0FBWUYsS0FBWixFQUFtQixVQUFDRyxDQUFELEVBQUlDLENBQUo7SUFBQSxPQUFVQSxDQUFDLENBQUNDLFdBQUYsRUFBVjtFQUFBLENBQW5CLENBQUo7QUFBQSxDQUFKLENBQXZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwcC92ZW5kb3JzL3Z1ZWRyYWdnYWJsZS9zcmMvdXRpbC9zdHJpbmcuanM/ZjYyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjYWNoZWQoZm4pIHtcbiAgY29uc3QgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gZnVuY3Rpb24gY2FjaGVkRm4oc3RyKSB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59XG5cbmNvbnN0IHJlZ2V4ID0gLy0oXFx3KS9nO1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZWQoc3RyID0+IHN0ci5yZXBsYWNlKHJlZ2V4LCAoXywgYykgPT4gYy50b1VwcGVyQ2FzZSgpKSk7XG5cbmV4cG9ydCB7IGNhbWVsaXplIH07XG4iXSwibmFtZXMiOlsiY2FjaGVkIiwiZm4iLCJjYWNoZSIsIk9iamVjdCIsImNyZWF0ZSIsImNhY2hlZEZuIiwic3RyIiwiaGl0IiwicmVnZXgiLCJjYW1lbGl6ZSIsInJlcGxhY2UiLCJfIiwiYyIsInRvVXBwZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/util/string.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/util/tags.js":
/*!****************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/util/tags.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isHtmlAttribute\": () => (/* binding */ isHtmlAttribute),\n/* harmony export */   \"isHtmlTag\": () => (/* binding */ isHtmlTag),\n/* harmony export */   \"isTransition\": () => (/* binding */ isTransition)\n/* harmony export */ });\nvar tags = [\"a\", \"abbr\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"bdi\", \"bdo\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"cite\", \"code\", \"col\", \"colgroup\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"math\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"pre\", \"progress\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"slot\", \"small\", \"source\", \"span\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"svg\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"];\n\nfunction isHtmlTag(name) {\n  return tags.includes(name);\n}\n\nfunction isTransition(name) {\n  return [\"transition-group\", \"TransitionGroup\"].includes(name);\n}\n\nfunction isHtmlAttribute(value) {\n  return [\"id\", \"class\", \"role\", \"style\"].includes(value) || value.startsWith(\"data-\") || value.startsWith(\"aria-\") || value.startsWith(\"on\");\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL3RhZ3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBTUEsSUFBSSxHQUFHLENBQ1gsR0FEVyxFQUVYLE1BRlcsRUFHWCxTQUhXLEVBSVgsTUFKVyxFQUtYLFNBTFcsRUFNWCxPQU5XLEVBT1gsT0FQVyxFQVFYLEdBUlcsRUFTWCxNQVRXLEVBVVgsS0FWVyxFQVdYLEtBWFcsRUFZWCxZQVpXLEVBYVgsTUFiVyxFQWNYLElBZFcsRUFlWCxRQWZXLEVBZ0JYLFFBaEJXLEVBaUJYLFNBakJXLEVBa0JYLE1BbEJXLEVBbUJYLE1BbkJXLEVBb0JYLEtBcEJXLEVBcUJYLFVBckJXLEVBc0JYLE1BdEJXLEVBdUJYLFVBdkJXLEVBd0JYLElBeEJXLEVBeUJYLEtBekJXLEVBMEJYLFNBMUJXLEVBMkJYLEtBM0JXLEVBNEJYLFFBNUJXLEVBNkJYLEtBN0JXLEVBOEJYLElBOUJXLEVBK0JYLElBL0JXLEVBZ0NYLElBaENXLEVBaUNYLE9BakNXLEVBa0NYLFVBbENXLEVBbUNYLFlBbkNXLEVBb0NYLFFBcENXLEVBcUNYLFFBckNXLEVBc0NYLE1BdENXLEVBdUNYLElBdkNXLEVBd0NYLElBeENXLEVBeUNYLElBekNXLEVBMENYLElBMUNXLEVBMkNYLElBM0NXLEVBNENYLElBNUNXLEVBNkNYLE1BN0NXLEVBOENYLFFBOUNXLEVBK0NYLFFBL0NXLEVBZ0RYLElBaERXLEVBaURYLE1BakRXLEVBa0RYLEdBbERXLEVBbURYLFFBbkRXLEVBb0RYLEtBcERXLEVBcURYLE9BckRXLEVBc0RYLEtBdERXLEVBdURYLEtBdkRXLEVBd0RYLE9BeERXLEVBeURYLFFBekRXLEVBMERYLElBMURXLEVBMkRYLE1BM0RXLEVBNERYLE1BNURXLEVBNkRYLEtBN0RXLEVBOERYLE1BOURXLEVBK0RYLE1BL0RXLEVBZ0VYLE1BaEVXLEVBaUVYLFVBakVXLEVBa0VYLE1BbEVXLEVBbUVYLE9BbkVXLEVBb0VYLEtBcEVXLEVBcUVYLFVBckVXLEVBc0VYLFFBdEVXLEVBdUVYLElBdkVXLEVBd0VYLFVBeEVXLEVBeUVYLFFBekVXLEVBMEVYLFFBMUVXLEVBMkVYLEdBM0VXLEVBNEVYLE9BNUVXLEVBNkVYLFNBN0VXLEVBOEVYLEtBOUVXLEVBK0VYLFVBL0VXLEVBZ0ZYLEdBaEZXLEVBaUZYLElBakZXLEVBa0ZYLElBbEZXLEVBbUZYLElBbkZXLEVBb0ZYLEtBcEZXLEVBcUZYLE1BckZXLEVBc0ZYLEdBdEZXLEVBdUZYLE1BdkZXLEVBd0ZYLFFBeEZXLEVBeUZYLFNBekZXLEVBMEZYLFFBMUZXLEVBMkZYLE1BM0ZXLEVBNEZYLE9BNUZXLEVBNkZYLFFBN0ZXLEVBOEZYLE1BOUZXLEVBK0ZYLFFBL0ZXLEVBZ0dYLE9BaEdXLEVBaUdYLEtBakdXLEVBa0dYLFNBbEdXLEVBbUdYLEtBbkdXLEVBb0dYLEtBcEdXLEVBcUdYLE9BckdXLEVBc0dYLE9BdEdXLEVBdUdYLElBdkdXLEVBd0dYLFVBeEdXLEVBeUdYLFVBekdXLEVBMEdYLE9BMUdXLEVBMkdYLElBM0dXLEVBNEdYLE9BNUdXLEVBNkdYLE1BN0dXLEVBOEdYLE9BOUdXLEVBK0dYLElBL0dXLEVBZ0hYLE9BaEhXLEVBaUhYLEdBakhXLEVBa0hYLElBbEhXLEVBbUhYLEtBbkhXLEVBb0hYLE9BcEhXLEVBcUhYLEtBckhXLENBQWI7O0FBd0hBLFNBQVNDLFNBQVQsQ0FBbUJDLElBQW5CLEVBQXlCO0VBQ3ZCLE9BQU9GLElBQUksQ0FBQ0csUUFBTCxDQUFjRCxJQUFkLENBQVA7QUFDRDs7QUFFRCxTQUFTRSxZQUFULENBQXNCRixJQUF0QixFQUE0QjtFQUMxQixPQUFPLENBQUMsa0JBQUQsRUFBcUIsaUJBQXJCLEVBQXdDQyxRQUF4QyxDQUFpREQsSUFBakQsQ0FBUDtBQUNEOztBQUVELFNBQVNHLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDO0VBQzlCLE9BQ0UsQ0FBQyxJQUFELEVBQU8sT0FBUCxFQUFnQixNQUFoQixFQUF3QixPQUF4QixFQUFpQ0gsUUFBakMsQ0FBMENHLEtBQTFDLEtBQ0FBLEtBQUssQ0FBQ0MsVUFBTixDQUFpQixPQUFqQixDQURBLElBRUFELEtBQUssQ0FBQ0MsVUFBTixDQUFpQixPQUFqQixDQUZBLElBR0FELEtBQUssQ0FBQ0MsVUFBTixDQUFpQixJQUFqQixDQUpGO0FBTUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy91dGlsL3RhZ3MuanM/YzE3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0YWdzID0gW1xuICBcImFcIixcbiAgXCJhYmJyXCIsXG4gIFwiYWRkcmVzc1wiLFxuICBcImFyZWFcIixcbiAgXCJhcnRpY2xlXCIsXG4gIFwiYXNpZGVcIixcbiAgXCJhdWRpb1wiLFxuICBcImJcIixcbiAgXCJiYXNlXCIsXG4gIFwiYmRpXCIsXG4gIFwiYmRvXCIsXG4gIFwiYmxvY2txdW90ZVwiLFxuICBcImJvZHlcIixcbiAgXCJiclwiLFxuICBcImJ1dHRvblwiLFxuICBcImNhbnZhc1wiLFxuICBcImNhcHRpb25cIixcbiAgXCJjaXRlXCIsXG4gIFwiY29kZVwiLFxuICBcImNvbFwiLFxuICBcImNvbGdyb3VwXCIsXG4gIFwiZGF0YVwiLFxuICBcImRhdGFsaXN0XCIsXG4gIFwiZGRcIixcbiAgXCJkZWxcIixcbiAgXCJkZXRhaWxzXCIsXG4gIFwiZGZuXCIsXG4gIFwiZGlhbG9nXCIsXG4gIFwiZGl2XCIsXG4gIFwiZGxcIixcbiAgXCJkdFwiLFxuICBcImVtXCIsXG4gIFwiZW1iZWRcIixcbiAgXCJmaWVsZHNldFwiLFxuICBcImZpZ2NhcHRpb25cIixcbiAgXCJmaWd1cmVcIixcbiAgXCJmb290ZXJcIixcbiAgXCJmb3JtXCIsXG4gIFwiaDFcIixcbiAgXCJoMlwiLFxuICBcImgzXCIsXG4gIFwiaDRcIixcbiAgXCJoNVwiLFxuICBcImg2XCIsXG4gIFwiaGVhZFwiLFxuICBcImhlYWRlclwiLFxuICBcImhncm91cFwiLFxuICBcImhyXCIsXG4gIFwiaHRtbFwiLFxuICBcImlcIixcbiAgXCJpZnJhbWVcIixcbiAgXCJpbWdcIixcbiAgXCJpbnB1dFwiLFxuICBcImluc1wiLFxuICBcImtiZFwiLFxuICBcImxhYmVsXCIsXG4gIFwibGVnZW5kXCIsXG4gIFwibGlcIixcbiAgXCJsaW5rXCIsXG4gIFwibWFpblwiLFxuICBcIm1hcFwiLFxuICBcIm1hcmtcIixcbiAgXCJtYXRoXCIsXG4gIFwibWVudVwiLFxuICBcIm1lbnVpdGVtXCIsXG4gIFwibWV0YVwiLFxuICBcIm1ldGVyXCIsXG4gIFwibmF2XCIsXG4gIFwibm9zY3JpcHRcIixcbiAgXCJvYmplY3RcIixcbiAgXCJvbFwiLFxuICBcIm9wdGdyb3VwXCIsXG4gIFwib3B0aW9uXCIsXG4gIFwib3V0cHV0XCIsXG4gIFwicFwiLFxuICBcInBhcmFtXCIsXG4gIFwicGljdHVyZVwiLFxuICBcInByZVwiLFxuICBcInByb2dyZXNzXCIsXG4gIFwicVwiLFxuICBcInJiXCIsXG4gIFwicnBcIixcbiAgXCJydFwiLFxuICBcInJ0Y1wiLFxuICBcInJ1YnlcIixcbiAgXCJzXCIsXG4gIFwic2FtcFwiLFxuICBcInNjcmlwdFwiLFxuICBcInNlY3Rpb25cIixcbiAgXCJzZWxlY3RcIixcbiAgXCJzbG90XCIsXG4gIFwic21hbGxcIixcbiAgXCJzb3VyY2VcIixcbiAgXCJzcGFuXCIsXG4gIFwic3Ryb25nXCIsXG4gIFwic3R5bGVcIixcbiAgXCJzdWJcIixcbiAgXCJzdW1tYXJ5XCIsXG4gIFwic3VwXCIsXG4gIFwic3ZnXCIsXG4gIFwidGFibGVcIixcbiAgXCJ0Ym9keVwiLFxuICBcInRkXCIsXG4gIFwidGVtcGxhdGVcIixcbiAgXCJ0ZXh0YXJlYVwiLFxuICBcInRmb290XCIsXG4gIFwidGhcIixcbiAgXCJ0aGVhZFwiLFxuICBcInRpbWVcIixcbiAgXCJ0aXRsZVwiLFxuICBcInRyXCIsXG4gIFwidHJhY2tcIixcbiAgXCJ1XCIsXG4gIFwidWxcIixcbiAgXCJ2YXJcIixcbiAgXCJ2aWRlb1wiLFxuICBcIndiclwiXG5dO1xuXG5mdW5jdGlvbiBpc0h0bWxUYWcobmFtZSkge1xuICByZXR1cm4gdGFncy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuZnVuY3Rpb24gaXNUcmFuc2l0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIFtcInRyYW5zaXRpb24tZ3JvdXBcIiwgXCJUcmFuc2l0aW9uR3JvdXBcIl0uaW5jbHVkZXMobmFtZSk7XG59XG5cbmZ1bmN0aW9uIGlzSHRtbEF0dHJpYnV0ZSh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIFtcImlkXCIsIFwiY2xhc3NcIiwgXCJyb2xlXCIsIFwic3R5bGVcIl0uaW5jbHVkZXModmFsdWUpIHx8XG4gICAgdmFsdWUuc3RhcnRzV2l0aChcImRhdGEtXCIpIHx8XG4gICAgdmFsdWUuc3RhcnRzV2l0aChcImFyaWEtXCIpIHx8XG4gICAgdmFsdWUuc3RhcnRzV2l0aChcIm9uXCIpXG4gICk7XG59XG5cbmV4cG9ydCB7IGlzSHRtbFRhZywgaXNIdG1sQXR0cmlidXRlLCBpc1RyYW5zaXRpb24gfTtcbiJdLCJuYW1lcyI6WyJ0YWdzIiwiaXNIdG1sVGFnIiwibmFtZSIsImluY2x1ZGVzIiwiaXNUcmFuc2l0aW9uIiwiaXNIdG1sQXR0cmlidXRlIiwidmFsdWUiLCJzdGFydHNXaXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/util/tags.js\n");

/***/ }),

/***/ "./resources/js/app/vendors/vuedraggable/src/vuedraggable.js":
/*!*******************************************************************!*\
  !*** ./resources/js/app/vendors/vuedraggable/src/vuedraggable.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ \"./node_modules/sortablejs/modular/sortable.esm.js\");\n/* harmony import */ var _util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/htmlHelper */ \"./resources/js/app/vendors/vuedraggable/src/util/htmlHelper.js\");\n/* harmony import */ var _util_console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/console */ \"./resources/js/app/vendors/vuedraggable/src/util/console.js\");\n/* harmony import */ var _core_componentBuilderHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/componentBuilderHelper */ \"./resources/js/app/vendors/vuedraggable/src/core/componentBuilderHelper.js\");\n/* harmony import */ var _core_renderHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/renderHelper */ \"./resources/js/app/vendors/vuedraggable/src/core/renderHelper.js\");\n/* harmony import */ var _core_sortableEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/sortableEvents */ \"./resources/js/app/vendors/vuedraggable/src/core/sortableEvents.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n\nfunction _emit(evtName, evtData) {\n  var _this = this;\n\n  (0,vue__WEBPACK_IMPORTED_MODULE_6__.nextTick)(function () {\n    return _this.$emit(evtName.toLowerCase(), evtData);\n  });\n}\n\nfunction _manage(evtName) {\n  var _this2 = this;\n\n  return function (evtData, originalElement) {\n    if (_this2.realList !== null) {\n      return _this2[\"onDrag\".concat(evtName)](evtData, originalElement);\n    }\n  };\n}\n\nfunction _manageAndEmit(evtName) {\n  var _this3 = this;\n\n  var delegateCallBack = _manage.call(this, evtName);\n\n  return function (evtData, originalElement) {\n    delegateCallBack.call(_this3, evtData, originalElement);\n\n    _emit.call(_this3, evtName, evtData);\n  };\n}\n\nvar draggingElement = null;\nvar props = {\n  list: {\n    type: Array,\n    required: false,\n    \"default\": null\n  },\n  modelValue: {\n    type: Array,\n    required: false,\n    \"default\": null\n  },\n  itemKey: {\n    type: [String, Function],\n    required: true\n  },\n  clone: {\n    type: Function,\n    \"default\": function _default(original) {\n      return original;\n    }\n  },\n  tag: {\n    type: String,\n    \"default\": \"div\"\n  },\n  move: {\n    type: Function,\n    \"default\": null\n  },\n  componentData: {\n    type: Object,\n    required: false,\n    \"default\": null\n  }\n};\nvar emits = [\"update:modelValue\", \"change\"].concat(_toConsumableArray([].concat(_toConsumableArray(_core_sortableEvents__WEBPACK_IMPORTED_MODULE_5__.events.manageAndEmit), _toConsumableArray(_core_sortableEvents__WEBPACK_IMPORTED_MODULE_5__.events.emit)).map(function (evt) {\n  return evt.toLowerCase();\n})));\nvar draggableComponent = (0,vue__WEBPACK_IMPORTED_MODULE_6__.defineComponent)({\n  name: \"draggable\",\n  inheritAttrs: false,\n  props: props,\n  emits: emits,\n  data: function data() {\n    return {\n      error: false\n    };\n  },\n  render: function render() {\n    try {\n      this.error = false;\n      var $slots = this.$slots,\n          $attrs = this.$attrs,\n          tag = this.tag,\n          componentData = this.componentData,\n          realList = this.realList,\n          getKey = this.getKey;\n      var componentStructure = (0,_core_renderHelper__WEBPACK_IMPORTED_MODULE_4__.computeComponentStructure)({\n        $slots: $slots,\n        tag: tag,\n        realList: realList,\n        getKey: getKey\n      });\n      this.componentStructure = componentStructure;\n      var attributes = (0,_core_componentBuilderHelper__WEBPACK_IMPORTED_MODULE_3__.getComponentAttributes)({\n        $attrs: $attrs,\n        componentData: componentData\n      });\n      return componentStructure.render(vue__WEBPACK_IMPORTED_MODULE_6__.h, attributes);\n    } catch (err) {\n      this.error = true;\n      return (0,vue__WEBPACK_IMPORTED_MODULE_6__.h)(\"pre\", {\n        style: {\n          color: \"red\"\n        }\n      }, err.stack);\n    }\n  },\n  created: function created() {\n    if (this.list !== null && this.modelValue !== null) {\n      _util_console__WEBPACK_IMPORTED_MODULE_2__.console.error(\"modelValue and list props are mutually exclusive! Please set one or another.\");\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    if (this.error) {\n      return;\n    }\n\n    var $attrs = this.$attrs,\n        $el = this.$el,\n        componentStructure = this.componentStructure;\n    componentStructure.updated();\n    var sortableOptions = (0,_core_componentBuilderHelper__WEBPACK_IMPORTED_MODULE_3__.createSortableOption)({\n      $attrs: $attrs,\n      callBackBuilder: {\n        manageAndEmit: function manageAndEmit(event) {\n          return _manageAndEmit.call(_this4, event);\n        },\n        emit: function emit(event) {\n          return _emit.bind(_this4, event);\n        },\n        manage: function manage(event) {\n          return _manage.call(_this4, event);\n        }\n      }\n    });\n    var targetDomElement = $el.nodeType === 1 ? $el : $el.parentElement;\n    this._sortable = new sortablejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"](targetDomElement, sortableOptions);\n    this.targetDomElement = targetDomElement;\n    targetDomElement.__draggable_component__ = this;\n  },\n  updated: function updated() {\n    this.componentStructure.updated();\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this._sortable !== undefined) this._sortable.destroy();\n  },\n  computed: {\n    realList: function realList() {\n      var list = this.list;\n      return list ? list : this.modelValue;\n    },\n    getKey: function getKey() {\n      var itemKey = this.itemKey;\n\n      if (typeof itemKey === \"function\") {\n        return itemKey;\n      }\n\n      return function (element) {\n        return element[itemKey];\n      };\n    }\n  },\n  watch: {\n    $attrs: {\n      handler: function handler(newOptionValue) {\n        var _sortable = this._sortable;\n        if (!_sortable) return;\n        (0,_core_componentBuilderHelper__WEBPACK_IMPORTED_MODULE_3__.getValidSortableEntries)(newOptionValue).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          _sortable.option(key, value);\n        });\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getUnderlyingVm: function getUnderlyingVm(domElement) {\n      return this.componentStructure.getUnderlyingVm(domElement) || null;\n    },\n    getUnderlyingPotencialDraggableComponent: function getUnderlyingPotencialDraggableComponent(htmElement) {\n      //TODO check case where you need to see component children\n      return htmElement.__draggable_component__;\n    },\n    emitChanges: function emitChanges(evt) {\n      var _this5 = this;\n\n      (0,vue__WEBPACK_IMPORTED_MODULE_6__.nextTick)(function () {\n        return _this5.$emit(\"change\", evt);\n      });\n    },\n    alterList: function alterList(onList) {\n      if (this.list) {\n        onList(this.list);\n        return;\n      }\n\n      var newList = _toConsumableArray(this.modelValue);\n\n      onList(newList);\n      this.$emit(\"update:modelValue\", newList);\n    },\n    spliceList: function spliceList() {\n      var _arguments = arguments;\n\n      var spliceList = function spliceList(list) {\n        return list.splice.apply(list, _toConsumableArray(_arguments));\n      };\n\n      this.alterList(spliceList);\n    },\n    updatePosition: function updatePosition(oldIndex, newIndex) {\n      var updatePosition = function updatePosition(list) {\n        return list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]);\n      };\n\n      this.alterList(updatePosition);\n    },\n    getRelatedContextFromMoveEvent: function getRelatedContextFromMoveEvent(_ref3) {\n      var to = _ref3.to,\n          related = _ref3.related;\n      var component = this.getUnderlyingPotencialDraggableComponent(to);\n\n      if (!component) {\n        return {\n          component: component\n        };\n      }\n\n      var list = component.realList;\n      var context = {\n        list: list,\n        component: component\n      };\n\n      if (to !== related && list) {\n        var destination = component.getUnderlyingVm(related) || {};\n        return _objectSpread(_objectSpread({}, destination), context);\n      }\n\n      return context;\n    },\n    getVmIndexFromDomIndex: function getVmIndexFromDomIndex(domIndex) {\n      return this.componentStructure.getVmIndexFromDomIndex(domIndex, this.targetDomElement);\n    },\n    onDragStart: function onDragStart(evt) {\n      this.context = this.getUnderlyingVm(evt.item);\n      evt.item._underlying_vm_ = this.clone(this.context.element);\n      draggingElement = evt.item;\n    },\n    onDragAdd: function onDragAdd(evt) {\n      var element = evt.item._underlying_vm_;\n\n      if (element === undefined) {\n        return;\n      }\n\n      (0,_util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__.removeNode)(evt.item);\n      var newIndex = this.getVmIndexFromDomIndex(evt.newIndex);\n      this.spliceList(newIndex, 0, element);\n      var added = {\n        element: element,\n        newIndex: newIndex\n      };\n      this.emitChanges({\n        added: added\n      });\n    },\n    onDragRemove: function onDragRemove(evt) {\n      (0,_util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__.insertNodeAt)(this.$el, evt.item, evt.oldIndex);\n\n      if (evt.pullMode === \"clone\") {\n        (0,_util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__.removeNode)(evt.clone);\n        return;\n      }\n\n      var _this$context = this.context,\n          oldIndex = _this$context.index,\n          element = _this$context.element;\n      this.spliceList(oldIndex, 1);\n      var removed = {\n        element: element,\n        oldIndex: oldIndex\n      };\n      this.emitChanges({\n        removed: removed\n      });\n    },\n    onDragUpdate: function onDragUpdate(evt) {\n      (0,_util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__.removeNode)(evt.item);\n      (0,_util_htmlHelper__WEBPACK_IMPORTED_MODULE_1__.insertNodeAt)(evt.from, evt.item, evt.oldIndex);\n      var oldIndex = this.context.index;\n      var newIndex = this.getVmIndexFromDomIndex(evt.newIndex);\n      this.updatePosition(oldIndex, newIndex);\n      var moved = {\n        element: this.context.element,\n        oldIndex: oldIndex,\n        newIndex: newIndex\n      };\n      this.emitChanges({\n        moved: moved\n      });\n    },\n    computeFutureIndex: function computeFutureIndex(relatedContext, evt) {\n      if (!relatedContext.element) {\n        return 0;\n      }\n\n      var domChildren = _toConsumableArray(evt.to.children).filter(function (el) {\n        return el.style[\"display\"] !== \"none\";\n      });\n\n      var currentDomIndex = domChildren.indexOf(evt.related);\n      var currentIndex = relatedContext.component.getVmIndexFromDomIndex(currentDomIndex);\n      var draggedInList = domChildren.indexOf(draggingElement) !== -1;\n      return draggedInList || !evt.willInsertAfter ? currentIndex : currentIndex + 1;\n    },\n    onDragMove: function onDragMove(evt, originalEvent) {\n      var move = this.move,\n          realList = this.realList;\n\n      if (!move || !realList) {\n        return true;\n      }\n\n      var relatedContext = this.getRelatedContextFromMoveEvent(evt);\n      var futureIndex = this.computeFutureIndex(relatedContext, evt);\n\n      var draggedContext = _objectSpread(_objectSpread({}, this.context), {}, {\n        futureIndex: futureIndex\n      });\n\n      var sendEvent = _objectSpread(_objectSpread({}, evt), {}, {\n        relatedContext: relatedContext,\n        draggedContext: draggedContext\n      });\n\n      return move(sendEvent, originalEvent);\n    },\n    onDragEnd: function onDragEnd() {\n      draggingElement = null;\n    }\n  }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (draggableComponent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy92dWVkcmFnZ2FibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUVBLFNBQVNZLEtBQVQsQ0FBY0MsT0FBZCxFQUF1QkMsT0FBdkIsRUFBZ0M7RUFBQTs7RUFDOUJILDZDQUFRLENBQUM7SUFBQSxPQUFNLEtBQUksQ0FBQ0ksS0FBTCxDQUFXRixPQUFPLENBQUNHLFdBQVIsRUFBWCxFQUFrQ0YsT0FBbEMsQ0FBTjtFQUFBLENBQUQsQ0FBUjtBQUNEOztBQUVELFNBQVNHLE9BQVQsQ0FBZ0JKLE9BQWhCLEVBQXlCO0VBQUE7O0VBQ3ZCLE9BQU8sVUFBQ0MsT0FBRCxFQUFVSSxlQUFWLEVBQThCO0lBQ25DLElBQUksTUFBSSxDQUFDQyxRQUFMLEtBQWtCLElBQXRCLEVBQTRCO01BQzFCLE9BQU8sTUFBSSxpQkFBVU4sT0FBVixFQUFKLENBQXlCQyxPQUF6QixFQUFrQ0ksZUFBbEMsQ0FBUDtJQUNEO0VBQ0YsQ0FKRDtBQUtEOztBQUVELFNBQVNFLGNBQVQsQ0FBdUJQLE9BQXZCLEVBQWdDO0VBQUE7O0VBQzlCLElBQU1RLGdCQUFnQixHQUFHSixPQUFNLENBQUNLLElBQVAsQ0FBWSxJQUFaLEVBQWtCVCxPQUFsQixDQUF6Qjs7RUFDQSxPQUFPLFVBQUNDLE9BQUQsRUFBVUksZUFBVixFQUE4QjtJQUNuQ0csZ0JBQWdCLENBQUNDLElBQWpCLENBQXNCLE1BQXRCLEVBQTRCUixPQUE1QixFQUFxQ0ksZUFBckM7O0lBQ0FOLEtBQUksQ0FBQ1UsSUFBTCxDQUFVLE1BQVYsRUFBZ0JULE9BQWhCLEVBQXlCQyxPQUF6QjtFQUNELENBSEQ7QUFJRDs7QUFFRCxJQUFJUyxlQUFlLEdBQUcsSUFBdEI7QUFFQSxJQUFNQyxLQUFLLEdBQUc7RUFDWkMsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsS0FERjtJQUVKQyxRQUFRLEVBQUUsS0FGTjtJQUdKLFdBQVM7RUFITCxDQURNO0VBTVpDLFVBQVUsRUFBRTtJQUNWSCxJQUFJLEVBQUVDLEtBREk7SUFFVkMsUUFBUSxFQUFFLEtBRkE7SUFHVixXQUFTO0VBSEMsQ0FOQTtFQVdaRSxPQUFPLEVBQUU7SUFDUEosSUFBSSxFQUFFLENBQUNLLE1BQUQsRUFBU0MsUUFBVCxDQURDO0lBRVBKLFFBQVEsRUFBRTtFQUZILENBWEc7RUFlWkssS0FBSyxFQUFFO0lBQ0xQLElBQUksRUFBRU0sUUFERDtJQUVMLFdBQVMsa0JBQUFFLFFBQVEsRUFBSTtNQUNuQixPQUFPQSxRQUFQO0lBQ0Q7RUFKSSxDQWZLO0VBcUJaQyxHQUFHLEVBQUU7SUFDSFQsSUFBSSxFQUFFSyxNQURIO0lBRUgsV0FBUztFQUZOLENBckJPO0VBeUJaSyxJQUFJLEVBQUU7SUFDSlYsSUFBSSxFQUFFTSxRQURGO0lBRUosV0FBUztFQUZMLENBekJNO0VBNkJaSyxhQUFhLEVBQUU7SUFDYlgsSUFBSSxFQUFFWSxNQURPO0lBRWJWLFFBQVEsRUFBRSxLQUZHO0lBR2IsV0FBUztFQUhJO0FBN0JILENBQWQ7QUFvQ0EsSUFBTVcsS0FBSyxJQUNULG1CQURTLEVBRVQsUUFGUyw0QkFHTiw2QkFBSS9CLHNFQUFKLHNCQUE2QkEsNkRBQTdCLEdBQTBDZ0MsR0FBMUMsQ0FBOEMsVUFBQUMsR0FBRztFQUFBLE9BQUlBLEdBQUcsQ0FBQ3pCLFdBQUosRUFBSjtBQUFBLENBQWpELENBSE0sRUFBWDtBQU1BLElBQU0wQixrQkFBa0IsR0FBR2hDLG9EQUFlLENBQUM7RUFDekNpQyxJQUFJLEVBQUUsV0FEbUM7RUFHekNDLFlBQVksRUFBRSxLQUgyQjtFQUt6Q3BCLEtBQUssRUFBTEEsS0FMeUM7RUFPekNlLEtBQUssRUFBTEEsS0FQeUM7RUFTekNNLElBVHlDLGtCQVNsQztJQUNMLE9BQU87TUFDTEMsS0FBSyxFQUFFO0lBREYsQ0FBUDtFQUdELENBYndDO0VBZXpDQyxNQWZ5QyxvQkFlaEM7SUFDUCxJQUFJO01BQ0YsS0FBS0QsS0FBTCxHQUFhLEtBQWI7TUFDQSxJQUFRRSxNQUFSLEdBQWlFLElBQWpFLENBQVFBLE1BQVI7TUFBQSxJQUFnQkMsTUFBaEIsR0FBaUUsSUFBakUsQ0FBZ0JBLE1BQWhCO01BQUEsSUFBd0JkLEdBQXhCLEdBQWlFLElBQWpFLENBQXdCQSxHQUF4QjtNQUFBLElBQTZCRSxhQUE3QixHQUFpRSxJQUFqRSxDQUE2QkEsYUFBN0I7TUFBQSxJQUE0Q2xCLFFBQTVDLEdBQWlFLElBQWpFLENBQTRDQSxRQUE1QztNQUFBLElBQXNEK0IsTUFBdEQsR0FBaUUsSUFBakUsQ0FBc0RBLE1BQXREO01BQ0EsSUFBTUMsa0JBQWtCLEdBQUc1Qyw2RUFBeUIsQ0FBQztRQUNuRHlDLE1BQU0sRUFBTkEsTUFEbUQ7UUFFbkRiLEdBQUcsRUFBSEEsR0FGbUQ7UUFHbkRoQixRQUFRLEVBQVJBLFFBSG1EO1FBSW5EK0IsTUFBTSxFQUFOQTtNQUptRCxDQUFELENBQXBEO01BTUEsS0FBS0Msa0JBQUwsR0FBMEJBLGtCQUExQjtNQUNBLElBQU1DLFVBQVUsR0FBR2hELG9GQUFzQixDQUFDO1FBQUU2QyxNQUFNLEVBQU5BLE1BQUY7UUFBVVosYUFBYSxFQUFiQTtNQUFWLENBQUQsQ0FBekM7TUFDQSxPQUFPYyxrQkFBa0IsQ0FBQ0osTUFBbkIsQ0FBMEJ0QyxrQ0FBMUIsRUFBNkIyQyxVQUE3QixDQUFQO0lBQ0QsQ0FaRCxDQVlFLE9BQU9DLEdBQVAsRUFBWTtNQUNaLEtBQUtQLEtBQUwsR0FBYSxJQUFiO01BQ0EsT0FBT3JDLHNDQUFDLENBQUMsS0FBRCxFQUFRO1FBQUU2QyxLQUFLLEVBQUU7VUFBRUMsS0FBSyxFQUFFO1FBQVQ7TUFBVCxDQUFSLEVBQXFDRixHQUFHLENBQUNHLEtBQXpDLENBQVI7SUFDRDtFQUNGLENBaEN3QztFQWtDekNDLE9BbEN5QyxxQkFrQy9CO0lBQ1IsSUFBSSxLQUFLaEMsSUFBTCxLQUFjLElBQWQsSUFBc0IsS0FBS0ksVUFBTCxLQUFvQixJQUE5QyxFQUFvRDtNQUNsRDFCLHdEQUFBLENBQ0UsOEVBREY7SUFHRDtFQUNGLENBeEN3QztFQTBDekN1RCxPQTFDeUMscUJBMEMvQjtJQUFBOztJQUNSLElBQUksS0FBS1osS0FBVCxFQUFnQjtNQUNkO0lBQ0Q7O0lBRUQsSUFBUUcsTUFBUixHQUE0QyxJQUE1QyxDQUFRQSxNQUFSO0lBQUEsSUFBZ0JVLEdBQWhCLEdBQTRDLElBQTVDLENBQWdCQSxHQUFoQjtJQUFBLElBQXFCUixrQkFBckIsR0FBNEMsSUFBNUMsQ0FBcUJBLGtCQUFyQjtJQUNBQSxrQkFBa0IsQ0FBQ1MsT0FBbkI7SUFFQSxJQUFNQyxlQUFlLEdBQUd4RCxrRkFBb0IsQ0FBQztNQUMzQzRDLE1BQU0sRUFBTkEsTUFEMkM7TUFFM0NhLGVBQWUsRUFBRTtRQUNmMUMsYUFBYSxFQUFFLHVCQUFBMkMsS0FBSztVQUFBLE9BQUkzQyxjQUFhLENBQUNFLElBQWQsQ0FBbUIsTUFBbkIsRUFBeUJ5QyxLQUF6QixDQUFKO1FBQUEsQ0FETDtRQUVmbkQsSUFBSSxFQUFFLGNBQUFtRCxLQUFLO1VBQUEsT0FBSW5ELEtBQUksQ0FBQ29ELElBQUwsQ0FBVSxNQUFWLEVBQWdCRCxLQUFoQixDQUFKO1FBQUEsQ0FGSTtRQUdmOUMsTUFBTSxFQUFFLGdCQUFBOEMsS0FBSztVQUFBLE9BQUk5QyxPQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQWtCeUMsS0FBbEIsQ0FBSjtRQUFBO01BSEU7SUFGMEIsQ0FBRCxDQUE1QztJQVFBLElBQU1FLGdCQUFnQixHQUFHTixHQUFHLENBQUNPLFFBQUosS0FBaUIsQ0FBakIsR0FBcUJQLEdBQXJCLEdBQTJCQSxHQUFHLENBQUNRLGFBQXhEO0lBQ0EsS0FBS0MsU0FBTCxHQUFpQixJQUFJcEUsa0RBQUosQ0FBYWlFLGdCQUFiLEVBQStCSixlQUEvQixDQUFqQjtJQUNBLEtBQUtJLGdCQUFMLEdBQXdCQSxnQkFBeEI7SUFDQUEsZ0JBQWdCLENBQUNJLHVCQUFqQixHQUEyQyxJQUEzQztFQUNELENBOUR3QztFQWdFekNULE9BaEV5QyxxQkFnRS9CO0lBQ1IsS0FBS1Qsa0JBQUwsQ0FBd0JTLE9BQXhCO0VBQ0QsQ0FsRXdDO0VBb0V6Q1UsYUFwRXlDLDJCQW9FekI7SUFDZCxJQUFJLEtBQUtGLFNBQUwsS0FBbUJHLFNBQXZCLEVBQWtDLEtBQUtILFNBQUwsQ0FBZUksT0FBZjtFQUNuQyxDQXRFd0M7RUF3RXpDQyxRQUFRLEVBQUU7SUFDUnRELFFBRFEsc0JBQ0c7TUFDVCxJQUFRTSxJQUFSLEdBQWlCLElBQWpCLENBQVFBLElBQVI7TUFDQSxPQUFPQSxJQUFJLEdBQUdBLElBQUgsR0FBVSxLQUFLSSxVQUExQjtJQUNELENBSk87SUFNUnFCLE1BTlEsb0JBTUM7TUFDUCxJQUFRcEIsT0FBUixHQUFvQixJQUFwQixDQUFRQSxPQUFSOztNQUNBLElBQUksT0FBT0EsT0FBUCxLQUFtQixVQUF2QixFQUFtQztRQUNqQyxPQUFPQSxPQUFQO01BQ0Q7O01BQ0QsT0FBTyxVQUFBNEMsT0FBTztRQUFBLE9BQUlBLE9BQU8sQ0FBQzVDLE9BQUQsQ0FBWDtNQUFBLENBQWQ7SUFDRDtFQVpPLENBeEUrQjtFQXVGekM2QyxLQUFLLEVBQUU7SUFDTDFCLE1BQU0sRUFBRTtNQUNOMkIsT0FETSxtQkFDRUMsY0FERixFQUNrQjtRQUN0QixJQUFRVCxTQUFSLEdBQXNCLElBQXRCLENBQVFBLFNBQVI7UUFDQSxJQUFJLENBQUNBLFNBQUwsRUFBZ0I7UUFDaEI5RCxxRkFBdUIsQ0FBQ3VFLGNBQUQsQ0FBdkIsQ0FBd0NDLE9BQXhDLENBQWdELGdCQUFrQjtVQUFBO1VBQUEsSUFBaEJDLEdBQWdCO1VBQUEsSUFBWEMsS0FBVzs7VUFDaEVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQkYsR0FBakIsRUFBc0JDLEtBQXRCO1FBQ0QsQ0FGRDtNQUdELENBUEs7TUFRTkUsSUFBSSxFQUFFO0lBUkE7RUFESCxDQXZGa0M7RUFvR3pDQyxPQUFPLEVBQUU7SUFDUEMsZUFETywyQkFDU0MsVUFEVCxFQUNxQjtNQUMxQixPQUFPLEtBQUtsQyxrQkFBTCxDQUF3QmlDLGVBQXhCLENBQXdDQyxVQUF4QyxLQUF1RCxJQUE5RDtJQUNELENBSE07SUFLUEMsd0NBTE8sb0RBS2tDQyxVQUxsQyxFQUs4QztNQUNuRDtNQUNBLE9BQU9BLFVBQVUsQ0FBQ2xCLHVCQUFsQjtJQUNELENBUk07SUFVUG1CLFdBVk8sdUJBVUsvQyxHQVZMLEVBVVU7TUFBQTs7TUFDZjlCLDZDQUFRLENBQUM7UUFBQSxPQUFNLE1BQUksQ0FBQ0ksS0FBTCxDQUFXLFFBQVgsRUFBcUIwQixHQUFyQixDQUFOO01BQUEsQ0FBRCxDQUFSO0lBQ0QsQ0FaTTtJQWNQZ0QsU0FkTyxxQkFjR0MsTUFkSCxFQWNXO01BQ2hCLElBQUksS0FBS2pFLElBQVQsRUFBZTtRQUNiaUUsTUFBTSxDQUFDLEtBQUtqRSxJQUFOLENBQU47UUFDQTtNQUNEOztNQUNELElBQU1rRSxPQUFPLHNCQUFPLEtBQUs5RCxVQUFaLENBQWI7O01BQ0E2RCxNQUFNLENBQUNDLE9BQUQsQ0FBTjtNQUNBLEtBQUs1RSxLQUFMLENBQVcsbUJBQVgsRUFBZ0M0RSxPQUFoQztJQUNELENBdEJNO0lBd0JQQyxVQXhCTyx3QkF3Qk07TUFBQTs7TUFDWCxJQUFNQSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFBbkUsSUFBSTtRQUFBLE9BQUlBLElBQUksQ0FBQ29FLE1BQUwsT0FBQXBFLElBQUkscUJBQVdxRSxVQUFYLEVBQVI7TUFBQSxDQUF2Qjs7TUFDQSxLQUFLTCxTQUFMLENBQWVHLFVBQWY7SUFDRCxDQTNCTTtJQTZCUEcsY0E3Qk8sMEJBNkJRQyxRQTdCUixFQTZCa0JDLFFBN0JsQixFQTZCNEI7TUFDakMsSUFBTUYsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFBdEUsSUFBSTtRQUFBLE9BQ3pCQSxJQUFJLENBQUNvRSxNQUFMLENBQVlJLFFBQVosRUFBc0IsQ0FBdEIsRUFBeUJ4RSxJQUFJLENBQUNvRSxNQUFMLENBQVlHLFFBQVosRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsQ0FBekIsQ0FEeUI7TUFBQSxDQUEzQjs7TUFFQSxLQUFLUCxTQUFMLENBQWVNLGNBQWY7SUFDRCxDQWpDTTtJQW1DUEcsOEJBbkNPLGlEQW1DeUM7TUFBQSxJQUFmQyxFQUFlLFNBQWZBLEVBQWU7TUFBQSxJQUFYQyxPQUFXLFNBQVhBLE9BQVc7TUFDOUMsSUFBTUMsU0FBUyxHQUFHLEtBQUtmLHdDQUFMLENBQThDYSxFQUE5QyxDQUFsQjs7TUFDQSxJQUFJLENBQUNFLFNBQUwsRUFBZ0I7UUFDZCxPQUFPO1VBQUVBLFNBQVMsRUFBVEE7UUFBRixDQUFQO01BQ0Q7O01BQ0QsSUFBTTVFLElBQUksR0FBRzRFLFNBQVMsQ0FBQ2xGLFFBQXZCO01BQ0EsSUFBTW1GLE9BQU8sR0FBRztRQUFFN0UsSUFBSSxFQUFKQSxJQUFGO1FBQVE0RSxTQUFTLEVBQVRBO01BQVIsQ0FBaEI7O01BQ0EsSUFBSUYsRUFBRSxLQUFLQyxPQUFQLElBQWtCM0UsSUFBdEIsRUFBNEI7UUFDMUIsSUFBTThFLFdBQVcsR0FBR0YsU0FBUyxDQUFDakIsZUFBVixDQUEwQmdCLE9BQTFCLEtBQXNDLEVBQTFEO1FBQ0EsdUNBQVlHLFdBQVosR0FBNEJELE9BQTVCO01BQ0Q7O01BQ0QsT0FBT0EsT0FBUDtJQUNELENBL0NNO0lBaURQRSxzQkFqRE8sa0NBaURnQkMsUUFqRGhCLEVBaUQwQjtNQUMvQixPQUFPLEtBQUt0RCxrQkFBTCxDQUF3QnFELHNCQUF4QixDQUNMQyxRQURLLEVBRUwsS0FBS3hDLGdCQUZBLENBQVA7SUFJRCxDQXRETTtJQXdEUHlDLFdBeERPLHVCQXdES2pFLEdBeERMLEVBd0RVO01BQ2YsS0FBSzZELE9BQUwsR0FBZSxLQUFLbEIsZUFBTCxDQUFxQjNDLEdBQUcsQ0FBQ2tFLElBQXpCLENBQWY7TUFDQWxFLEdBQUcsQ0FBQ2tFLElBQUosQ0FBU0MsZUFBVCxHQUEyQixLQUFLM0UsS0FBTCxDQUFXLEtBQUtxRSxPQUFMLENBQWE1QixPQUF4QixDQUEzQjtNQUNBbkQsZUFBZSxHQUFHa0IsR0FBRyxDQUFDa0UsSUFBdEI7SUFDRCxDQTVETTtJQThEUEUsU0E5RE8scUJBOERHcEUsR0E5REgsRUE4RFE7TUFDYixJQUFNaUMsT0FBTyxHQUFHakMsR0FBRyxDQUFDa0UsSUFBSixDQUFTQyxlQUF6Qjs7TUFDQSxJQUFJbEMsT0FBTyxLQUFLSCxTQUFoQixFQUEyQjtRQUN6QjtNQUNEOztNQUNEckUsNERBQVUsQ0FBQ3VDLEdBQUcsQ0FBQ2tFLElBQUwsQ0FBVjtNQUNBLElBQU1WLFFBQVEsR0FBRyxLQUFLTyxzQkFBTCxDQUE0Qi9ELEdBQUcsQ0FBQ3dELFFBQWhDLENBQWpCO01BQ0EsS0FBS0wsVUFBTCxDQUFnQkssUUFBaEIsRUFBMEIsQ0FBMUIsRUFBNkJ2QixPQUE3QjtNQUNBLElBQU1vQyxLQUFLLEdBQUc7UUFBRXBDLE9BQU8sRUFBUEEsT0FBRjtRQUFXdUIsUUFBUSxFQUFSQTtNQUFYLENBQWQ7TUFDQSxLQUFLVCxXQUFMLENBQWlCO1FBQUVzQixLQUFLLEVBQUxBO01BQUYsQ0FBakI7SUFDRCxDQXhFTTtJQTBFUEMsWUExRU8sd0JBMEVNdEUsR0ExRU4sRUEwRVc7TUFDaEJ4Qyw4REFBWSxDQUFDLEtBQUswRCxHQUFOLEVBQVdsQixHQUFHLENBQUNrRSxJQUFmLEVBQXFCbEUsR0FBRyxDQUFDdUQsUUFBekIsQ0FBWjs7TUFDQSxJQUFJdkQsR0FBRyxDQUFDdUUsUUFBSixLQUFpQixPQUFyQixFQUE4QjtRQUM1QjlHLDREQUFVLENBQUN1QyxHQUFHLENBQUNSLEtBQUwsQ0FBVjtRQUNBO01BQ0Q7O01BQ0Qsb0JBQXFDLEtBQUtxRSxPQUExQztNQUFBLElBQWVOLFFBQWYsaUJBQVFpQixLQUFSO01BQUEsSUFBeUJ2QyxPQUF6QixpQkFBeUJBLE9BQXpCO01BQ0EsS0FBS2tCLFVBQUwsQ0FBZ0JJLFFBQWhCLEVBQTBCLENBQTFCO01BQ0EsSUFBTWtCLE9BQU8sR0FBRztRQUFFeEMsT0FBTyxFQUFQQSxPQUFGO1FBQVdzQixRQUFRLEVBQVJBO01BQVgsQ0FBaEI7TUFDQSxLQUFLUixXQUFMLENBQWlCO1FBQUUwQixPQUFPLEVBQVBBO01BQUYsQ0FBakI7SUFDRCxDQXBGTTtJQXNGUEMsWUF0Rk8sd0JBc0ZNMUUsR0F0Rk4sRUFzRlc7TUFDaEJ2Qyw0REFBVSxDQUFDdUMsR0FBRyxDQUFDa0UsSUFBTCxDQUFWO01BQ0ExRyw4REFBWSxDQUFDd0MsR0FBRyxDQUFDMkUsSUFBTCxFQUFXM0UsR0FBRyxDQUFDa0UsSUFBZixFQUFxQmxFLEdBQUcsQ0FBQ3VELFFBQXpCLENBQVo7TUFDQSxJQUFNQSxRQUFRLEdBQUcsS0FBS00sT0FBTCxDQUFhVyxLQUE5QjtNQUNBLElBQU1oQixRQUFRLEdBQUcsS0FBS08sc0JBQUwsQ0FBNEIvRCxHQUFHLENBQUN3RCxRQUFoQyxDQUFqQjtNQUNBLEtBQUtGLGNBQUwsQ0FBb0JDLFFBQXBCLEVBQThCQyxRQUE5QjtNQUNBLElBQU1vQixLQUFLLEdBQUc7UUFBRTNDLE9BQU8sRUFBRSxLQUFLNEIsT0FBTCxDQUFhNUIsT0FBeEI7UUFBaUNzQixRQUFRLEVBQVJBLFFBQWpDO1FBQTJDQyxRQUFRLEVBQVJBO01BQTNDLENBQWQ7TUFDQSxLQUFLVCxXQUFMLENBQWlCO1FBQUU2QixLQUFLLEVBQUxBO01BQUYsQ0FBakI7SUFDRCxDQTlGTTtJQWdHUEMsa0JBaEdPLDhCQWdHWUMsY0FoR1osRUFnRzRCOUUsR0FoRzVCLEVBZ0dpQztNQUN0QyxJQUFJLENBQUM4RSxjQUFjLENBQUM3QyxPQUFwQixFQUE2QjtRQUMzQixPQUFPLENBQVA7TUFDRDs7TUFDRCxJQUFNOEMsV0FBVyxHQUFHLG1CQUFJL0UsR0FBRyxDQUFDMEQsRUFBSixDQUFPc0IsUUFBWCxFQUFxQkMsTUFBckIsQ0FDbEIsVUFBQUMsRUFBRTtRQUFBLE9BQUlBLEVBQUUsQ0FBQ3JFLEtBQUgsQ0FBUyxTQUFULE1BQXdCLE1BQTVCO01BQUEsQ0FEZ0IsQ0FBcEI7O01BR0EsSUFBTXNFLGVBQWUsR0FBR0osV0FBVyxDQUFDSyxPQUFaLENBQW9CcEYsR0FBRyxDQUFDMkQsT0FBeEIsQ0FBeEI7TUFDQSxJQUFNMEIsWUFBWSxHQUFHUCxjQUFjLENBQUNsQixTQUFmLENBQXlCRyxzQkFBekIsQ0FDbkJvQixlQURtQixDQUFyQjtNQUdBLElBQU1HLGFBQWEsR0FBR1AsV0FBVyxDQUFDSyxPQUFaLENBQW9CdEcsZUFBcEIsTUFBeUMsQ0FBQyxDQUFoRTtNQUNBLE9BQU93RyxhQUFhLElBQUksQ0FBQ3RGLEdBQUcsQ0FBQ3VGLGVBQXRCLEdBQ0hGLFlBREcsR0FFSEEsWUFBWSxHQUFHLENBRm5CO0lBR0QsQ0EvR007SUFpSFBHLFVBakhPLHNCQWlISXhGLEdBakhKLEVBaUhTeUYsYUFqSFQsRUFpSHdCO01BQzdCLElBQVE5RixJQUFSLEdBQTJCLElBQTNCLENBQVFBLElBQVI7TUFBQSxJQUFjakIsUUFBZCxHQUEyQixJQUEzQixDQUFjQSxRQUFkOztNQUNBLElBQUksQ0FBQ2lCLElBQUQsSUFBUyxDQUFDakIsUUFBZCxFQUF3QjtRQUN0QixPQUFPLElBQVA7TUFDRDs7TUFFRCxJQUFNb0csY0FBYyxHQUFHLEtBQUtyQiw4QkFBTCxDQUFvQ3pELEdBQXBDLENBQXZCO01BQ0EsSUFBTTBGLFdBQVcsR0FBRyxLQUFLYixrQkFBTCxDQUF3QkMsY0FBeEIsRUFBd0M5RSxHQUF4QyxDQUFwQjs7TUFDQSxJQUFNMkYsY0FBYyxtQ0FDZixLQUFLOUIsT0FEVTtRQUVsQjZCLFdBQVcsRUFBWEE7TUFGa0IsRUFBcEI7O01BSUEsSUFBTUUsU0FBUyxtQ0FDVjVGLEdBRFU7UUFFYjhFLGNBQWMsRUFBZEEsY0FGYTtRQUdiYSxjQUFjLEVBQWRBO01BSGEsRUFBZjs7TUFLQSxPQUFPaEcsSUFBSSxDQUFDaUcsU0FBRCxFQUFZSCxhQUFaLENBQVg7SUFDRCxDQW5JTTtJQXFJUEksU0FySU8sdUJBcUlLO01BQ1YvRyxlQUFlLEdBQUcsSUFBbEI7SUFDRDtFQXZJTTtBQXBHZ0MsQ0FBRCxDQUExQztBQStPQSxpRUFBZW1CLGtCQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwcC92ZW5kb3JzL3Z1ZWRyYWdnYWJsZS9zcmMvdnVlZHJhZ2dhYmxlLmpzP2M2NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvcnRhYmxlIGZyb20gXCJzb3J0YWJsZWpzXCI7XG5pbXBvcnQgeyBpbnNlcnROb2RlQXQsIHJlbW92ZU5vZGUgfSBmcm9tIFwiLi91dGlsL2h0bWxIZWxwZXJcIjtcbmltcG9ydCB7IGNvbnNvbGUgfSBmcm9tIFwiLi91dGlsL2NvbnNvbGVcIjtcbmltcG9ydCB7XG4gIGdldENvbXBvbmVudEF0dHJpYnV0ZXMsXG4gIGNyZWF0ZVNvcnRhYmxlT3B0aW9uLFxuICBnZXRWYWxpZFNvcnRhYmxlRW50cmllc1xufSBmcm9tIFwiLi9jb3JlL2NvbXBvbmVudEJ1aWxkZXJIZWxwZXJcIjtcbmltcG9ydCB7IGNvbXB1dGVDb21wb25lbnRTdHJ1Y3R1cmUgfSBmcm9tIFwiLi9jb3JlL3JlbmRlckhlbHBlclwiO1xuaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSBcIi4vY29yZS9zb3J0YWJsZUV2ZW50c1wiO1xuaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCBuZXh0VGljayB9IGZyb20gXCJ2dWVcIjtcblxuZnVuY3Rpb24gZW1pdChldnROYW1lLCBldnREYXRhKSB7XG4gIG5leHRUaWNrKCgpID0+IHRoaXMuJGVtaXQoZXZ0TmFtZS50b0xvd2VyQ2FzZSgpLCBldnREYXRhKSk7XG59XG5cbmZ1bmN0aW9uIG1hbmFnZShldnROYW1lKSB7XG4gIHJldHVybiAoZXZ0RGF0YSwgb3JpZ2luYWxFbGVtZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucmVhbExpc3QgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzW2BvbkRyYWcke2V2dE5hbWV9YF0oZXZ0RGF0YSwgb3JpZ2luYWxFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hbmFnZUFuZEVtaXQoZXZ0TmFtZSkge1xuICBjb25zdCBkZWxlZ2F0ZUNhbGxCYWNrID0gbWFuYWdlLmNhbGwodGhpcywgZXZ0TmFtZSk7XG4gIHJldHVybiAoZXZ0RGF0YSwgb3JpZ2luYWxFbGVtZW50KSA9PiB7XG4gICAgZGVsZWdhdGVDYWxsQmFjay5jYWxsKHRoaXMsIGV2dERhdGEsIG9yaWdpbmFsRWxlbWVudCk7XG4gICAgZW1pdC5jYWxsKHRoaXMsIGV2dE5hbWUsIGV2dERhdGEpO1xuICB9O1xufVxuXG5sZXQgZHJhZ2dpbmdFbGVtZW50ID0gbnVsbDtcblxuY29uc3QgcHJvcHMgPSB7XG4gIGxpc3Q6IHtcbiAgICB0eXBlOiBBcnJheSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBtb2RlbFZhbHVlOiB7XG4gICAgdHlwZTogQXJyYXksXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgaXRlbUtleToge1xuICAgIHR5cGU6IFtTdHJpbmcsIEZ1bmN0aW9uXSxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBjbG9uZToge1xuICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgIGRlZmF1bHQ6IG9yaWdpbmFsID0+IHtcbiAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgICB9XG4gIH0sXG4gIHRhZzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBcImRpdlwiXG4gIH0sXG4gIG1vdmU6IHtcbiAgICB0eXBlOiBGdW5jdGlvbixcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGNvbXBvbmVudERhdGE6IHtcbiAgICB0eXBlOiBPYmplY3QsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfVxufTtcblxuY29uc3QgZW1pdHMgPSBbXG4gIFwidXBkYXRlOm1vZGVsVmFsdWVcIixcbiAgXCJjaGFuZ2VcIixcbiAgLi4uWy4uLmV2ZW50cy5tYW5hZ2VBbmRFbWl0LCAuLi5ldmVudHMuZW1pdF0ubWFwKGV2dCA9PiBldnQudG9Mb3dlckNhc2UoKSlcbl07XG5cbmNvbnN0IGRyYWdnYWJsZUNvbXBvbmVudCA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiZHJhZ2dhYmxlXCIsXG5cbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcblxuICBwcm9wcyxcblxuICBlbWl0cyxcblxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZmFsc2VcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgICAgY29uc3QgeyAkc2xvdHMsICRhdHRycywgdGFnLCBjb21wb25lbnREYXRhLCByZWFsTGlzdCwgZ2V0S2V5IH0gPSB0aGlzO1xuICAgICAgY29uc3QgY29tcG9uZW50U3RydWN0dXJlID0gY29tcHV0ZUNvbXBvbmVudFN0cnVjdHVyZSh7XG4gICAgICAgICRzbG90cyxcbiAgICAgICAgdGFnLFxuICAgICAgICByZWFsTGlzdCxcbiAgICAgICAgZ2V0S2V5XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29tcG9uZW50U3RydWN0dXJlID0gY29tcG9uZW50U3RydWN0dXJlO1xuICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdldENvbXBvbmVudEF0dHJpYnV0ZXMoeyAkYXR0cnMsIGNvbXBvbmVudERhdGEgfSk7XG4gICAgICByZXR1cm4gY29tcG9uZW50U3RydWN0dXJlLnJlbmRlcihoLCBhdHRyaWJ1dGVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGgoXCJwcmVcIiwgeyBzdHlsZTogeyBjb2xvcjogXCJyZWRcIiB9IH0sIGVyci5zdGFjayk7XG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZWQoKSB7XG4gICAgaWYgKHRoaXMubGlzdCAhPT0gbnVsbCAmJiB0aGlzLm1vZGVsVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwibW9kZWxWYWx1ZSBhbmQgbGlzdCBwcm9wcyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlISBQbGVhc2Ugc2V0IG9uZSBvciBhbm90aGVyLlwiXG4gICAgICApO1xuICAgIH1cbiAgfSxcblxuICBtb3VudGVkKCkge1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyAkYXR0cnMsICRlbCwgY29tcG9uZW50U3RydWN0dXJlIH0gPSB0aGlzO1xuICAgIGNvbXBvbmVudFN0cnVjdHVyZS51cGRhdGVkKCk7XG5cbiAgICBjb25zdCBzb3J0YWJsZU9wdGlvbnMgPSBjcmVhdGVTb3J0YWJsZU9wdGlvbih7XG4gICAgICAkYXR0cnMsXG4gICAgICBjYWxsQmFja0J1aWxkZXI6IHtcbiAgICAgICAgbWFuYWdlQW5kRW1pdDogZXZlbnQgPT4gbWFuYWdlQW5kRW1pdC5jYWxsKHRoaXMsIGV2ZW50KSxcbiAgICAgICAgZW1pdDogZXZlbnQgPT4gZW1pdC5iaW5kKHRoaXMsIGV2ZW50KSxcbiAgICAgICAgbWFuYWdlOiBldmVudCA9PiBtYW5hZ2UuY2FsbCh0aGlzLCBldmVudClcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCB0YXJnZXREb21FbGVtZW50ID0gJGVsLm5vZGVUeXBlID09PSAxID8gJGVsIDogJGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgdGhpcy5fc29ydGFibGUgPSBuZXcgU29ydGFibGUodGFyZ2V0RG9tRWxlbWVudCwgc29ydGFibGVPcHRpb25zKTtcbiAgICB0aGlzLnRhcmdldERvbUVsZW1lbnQgPSB0YXJnZXREb21FbGVtZW50O1xuICAgIHRhcmdldERvbUVsZW1lbnQuX19kcmFnZ2FibGVfY29tcG9uZW50X18gPSB0aGlzO1xuICB9LFxuXG4gIHVwZGF0ZWQoKSB7XG4gICAgdGhpcy5jb21wb25lbnRTdHJ1Y3R1cmUudXBkYXRlZCgpO1xuICB9LFxuXG4gIGJlZm9yZVVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX3NvcnRhYmxlICE9PSB1bmRlZmluZWQpIHRoaXMuX3NvcnRhYmxlLmRlc3Ryb3koKTtcbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIHJlYWxMaXN0KCkge1xuICAgICAgY29uc3QgeyBsaXN0IH0gPSB0aGlzO1xuICAgICAgcmV0dXJuIGxpc3QgPyBsaXN0IDogdGhpcy5tb2RlbFZhbHVlO1xuICAgIH0sXG5cbiAgICBnZXRLZXkoKSB7XG4gICAgICBjb25zdCB7IGl0ZW1LZXkgfSA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIGl0ZW1LZXkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlbUtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50ID0+IGVsZW1lbnRbaXRlbUtleV07XG4gICAgfVxuICB9LFxuXG4gIHdhdGNoOiB7XG4gICAgJGF0dHJzOiB7XG4gICAgICBoYW5kbGVyKG5ld09wdGlvblZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgX3NvcnRhYmxlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIV9zb3J0YWJsZSkgcmV0dXJuO1xuICAgICAgICBnZXRWYWxpZFNvcnRhYmxlRW50cmllcyhuZXdPcHRpb25WYWx1ZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgX3NvcnRhYmxlLm9wdGlvbihrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZGVlcDogdHJ1ZVxuICAgIH1cbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgZ2V0VW5kZXJseWluZ1ZtKGRvbUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFN0cnVjdHVyZS5nZXRVbmRlcmx5aW5nVm0oZG9tRWxlbWVudCkgfHwgbnVsbDtcbiAgICB9LFxuXG4gICAgZ2V0VW5kZXJseWluZ1BvdGVuY2lhbERyYWdnYWJsZUNvbXBvbmVudChodG1FbGVtZW50KSB7XG4gICAgICAvL1RPRE8gY2hlY2sgY2FzZSB3aGVyZSB5b3UgbmVlZCB0byBzZWUgY29tcG9uZW50IGNoaWxkcmVuXG4gICAgICByZXR1cm4gaHRtRWxlbWVudC5fX2RyYWdnYWJsZV9jb21wb25lbnRfXztcbiAgICB9LFxuXG4gICAgZW1pdENoYW5nZXMoZXZ0KSB7XG4gICAgICBuZXh0VGljaygoKSA9PiB0aGlzLiRlbWl0KFwiY2hhbmdlXCIsIGV2dCkpO1xuICAgIH0sXG5cbiAgICBhbHRlckxpc3Qob25MaXN0KSB7XG4gICAgICBpZiAodGhpcy5saXN0KSB7XG4gICAgICAgIG9uTGlzdCh0aGlzLmxpc3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdMaXN0ID0gWy4uLnRoaXMubW9kZWxWYWx1ZV07XG4gICAgICBvbkxpc3QobmV3TGlzdCk7XG4gICAgICB0aGlzLiRlbWl0KFwidXBkYXRlOm1vZGVsVmFsdWVcIiwgbmV3TGlzdCk7XG4gICAgfSxcblxuICAgIHNwbGljZUxpc3QoKSB7XG4gICAgICBjb25zdCBzcGxpY2VMaXN0ID0gbGlzdCA9PiBsaXN0LnNwbGljZSguLi5hcmd1bWVudHMpO1xuICAgICAgdGhpcy5hbHRlckxpc3Qoc3BsaWNlTGlzdCk7XG4gICAgfSxcblxuICAgIHVwZGF0ZVBvc2l0aW9uKG9sZEluZGV4LCBuZXdJbmRleCkge1xuICAgICAgY29uc3QgdXBkYXRlUG9zaXRpb24gPSBsaXN0ID0+XG4gICAgICAgIGxpc3Quc3BsaWNlKG5ld0luZGV4LCAwLCBsaXN0LnNwbGljZShvbGRJbmRleCwgMSlbMF0pO1xuICAgICAgdGhpcy5hbHRlckxpc3QodXBkYXRlUG9zaXRpb24pO1xuICAgIH0sXG5cbiAgICBnZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQoeyB0bywgcmVsYXRlZCB9KSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldFVuZGVybHlpbmdQb3RlbmNpYWxEcmFnZ2FibGVDb21wb25lbnQodG8pO1xuICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIHsgY29tcG9uZW50IH07XG4gICAgICB9XG4gICAgICBjb25zdCBsaXN0ID0gY29tcG9uZW50LnJlYWxMaXN0O1xuICAgICAgY29uc3QgY29udGV4dCA9IHsgbGlzdCwgY29tcG9uZW50IH07XG4gICAgICBpZiAodG8gIT09IHJlbGF0ZWQgJiYgbGlzdCkge1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGNvbXBvbmVudC5nZXRVbmRlcmx5aW5nVm0ocmVsYXRlZCkgfHwge307XG4gICAgICAgIHJldHVybiB7IC4uLmRlc3RpbmF0aW9uLCAuLi5jb250ZXh0IH07XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9LFxuXG4gICAgZ2V0Vm1JbmRleEZyb21Eb21JbmRleChkb21JbmRleCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50U3RydWN0dXJlLmdldFZtSW5kZXhGcm9tRG9tSW5kZXgoXG4gICAgICAgIGRvbUluZGV4LFxuICAgICAgICB0aGlzLnRhcmdldERvbUVsZW1lbnRcbiAgICAgICk7XG4gICAgfSxcblxuICAgIG9uRHJhZ1N0YXJ0KGV2dCkge1xuICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5nZXRVbmRlcmx5aW5nVm0oZXZ0Lml0ZW0pO1xuICAgICAgZXZ0Lml0ZW0uX3VuZGVybHlpbmdfdm1fID0gdGhpcy5jbG9uZSh0aGlzLmNvbnRleHQuZWxlbWVudCk7XG4gICAgICBkcmFnZ2luZ0VsZW1lbnQgPSBldnQuaXRlbTtcbiAgICB9LFxuXG4gICAgb25EcmFnQWRkKGV2dCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGV2dC5pdGVtLl91bmRlcmx5aW5nX3ZtXztcbiAgICAgIGlmIChlbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVtb3ZlTm9kZShldnQuaXRlbSk7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHRoaXMuZ2V0Vm1JbmRleEZyb21Eb21JbmRleChldnQubmV3SW5kZXgpO1xuICAgICAgdGhpcy5zcGxpY2VMaXN0KG5ld0luZGV4LCAwLCBlbGVtZW50KTtcbiAgICAgIGNvbnN0IGFkZGVkID0geyBlbGVtZW50LCBuZXdJbmRleCB9O1xuICAgICAgdGhpcy5lbWl0Q2hhbmdlcyh7IGFkZGVkIH0pO1xuICAgIH0sXG5cbiAgICBvbkRyYWdSZW1vdmUoZXZ0KSB7XG4gICAgICBpbnNlcnROb2RlQXQodGhpcy4kZWwsIGV2dC5pdGVtLCBldnQub2xkSW5kZXgpO1xuICAgICAgaWYgKGV2dC5wdWxsTW9kZSA9PT0gXCJjbG9uZVwiKSB7XG4gICAgICAgIHJlbW92ZU5vZGUoZXZ0LmNsb25lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBpbmRleDogb2xkSW5kZXgsIGVsZW1lbnQgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgIHRoaXMuc3BsaWNlTGlzdChvbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCByZW1vdmVkID0geyBlbGVtZW50LCBvbGRJbmRleCB9O1xuICAgICAgdGhpcy5lbWl0Q2hhbmdlcyh7IHJlbW92ZWQgfSk7XG4gICAgfSxcblxuICAgIG9uRHJhZ1VwZGF0ZShldnQpIHtcbiAgICAgIHJlbW92ZU5vZGUoZXZ0Lml0ZW0pO1xuICAgICAgaW5zZXJ0Tm9kZUF0KGV2dC5mcm9tLCBldnQuaXRlbSwgZXZ0Lm9sZEluZGV4KTtcbiAgICAgIGNvbnN0IG9sZEluZGV4ID0gdGhpcy5jb250ZXh0LmluZGV4O1xuICAgICAgY29uc3QgbmV3SW5kZXggPSB0aGlzLmdldFZtSW5kZXhGcm9tRG9tSW5kZXgoZXZ0Lm5ld0luZGV4KTtcbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24ob2xkSW5kZXgsIG5ld0luZGV4KTtcbiAgICAgIGNvbnN0IG1vdmVkID0geyBlbGVtZW50OiB0aGlzLmNvbnRleHQuZWxlbWVudCwgb2xkSW5kZXgsIG5ld0luZGV4IH07XG4gICAgICB0aGlzLmVtaXRDaGFuZ2VzKHsgbW92ZWQgfSk7XG4gICAgfSxcblxuICAgIGNvbXB1dGVGdXR1cmVJbmRleChyZWxhdGVkQ29udGV4dCwgZXZ0KSB7XG4gICAgICBpZiAoIXJlbGF0ZWRDb250ZXh0LmVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBjb25zdCBkb21DaGlsZHJlbiA9IFsuLi5ldnQudG8uY2hpbGRyZW5dLmZpbHRlcihcbiAgICAgICAgZWwgPT4gZWwuc3R5bGVbXCJkaXNwbGF5XCJdICE9PSBcIm5vbmVcIlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGN1cnJlbnREb21JbmRleCA9IGRvbUNoaWxkcmVuLmluZGV4T2YoZXZ0LnJlbGF0ZWQpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gcmVsYXRlZENvbnRleHQuY29tcG9uZW50LmdldFZtSW5kZXhGcm9tRG9tSW5kZXgoXG4gICAgICAgIGN1cnJlbnREb21JbmRleFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGRyYWdnZWRJbkxpc3QgPSBkb21DaGlsZHJlbi5pbmRleE9mKGRyYWdnaW5nRWxlbWVudCkgIT09IC0xO1xuICAgICAgcmV0dXJuIGRyYWdnZWRJbkxpc3QgfHwgIWV2dC53aWxsSW5zZXJ0QWZ0ZXJcbiAgICAgICAgPyBjdXJyZW50SW5kZXhcbiAgICAgICAgOiBjdXJyZW50SW5kZXggKyAxO1xuICAgIH0sXG5cbiAgICBvbkRyYWdNb3ZlKGV2dCwgb3JpZ2luYWxFdmVudCkge1xuICAgICAgY29uc3QgeyBtb3ZlLCByZWFsTGlzdCB9ID0gdGhpcztcbiAgICAgIGlmICghbW92ZSB8fCAhcmVhbExpc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlbGF0ZWRDb250ZXh0ID0gdGhpcy5nZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQoZXZ0KTtcbiAgICAgIGNvbnN0IGZ1dHVyZUluZGV4ID0gdGhpcy5jb21wdXRlRnV0dXJlSW5kZXgocmVsYXRlZENvbnRleHQsIGV2dCk7XG4gICAgICBjb25zdCBkcmFnZ2VkQ29udGV4dCA9IHtcbiAgICAgICAgLi4udGhpcy5jb250ZXh0LFxuICAgICAgICBmdXR1cmVJbmRleFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNlbmRFdmVudCA9IHtcbiAgICAgICAgLi4uZXZ0LFxuICAgICAgICByZWxhdGVkQ29udGV4dCxcbiAgICAgICAgZHJhZ2dlZENvbnRleHRcbiAgICAgIH07XG4gICAgICByZXR1cm4gbW92ZShzZW5kRXZlbnQsIG9yaWdpbmFsRXZlbnQpO1xuICAgIH0sXG5cbiAgICBvbkRyYWdFbmQoKSB7XG4gICAgICBkcmFnZ2luZ0VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYWdnYWJsZUNvbXBvbmVudDtcbiJdLCJuYW1lcyI6WyJTb3J0YWJsZSIsImluc2VydE5vZGVBdCIsInJlbW92ZU5vZGUiLCJjb25zb2xlIiwiZ2V0Q29tcG9uZW50QXR0cmlidXRlcyIsImNyZWF0ZVNvcnRhYmxlT3B0aW9uIiwiZ2V0VmFsaWRTb3J0YWJsZUVudHJpZXMiLCJjb21wdXRlQ29tcG9uZW50U3RydWN0dXJlIiwiZXZlbnRzIiwiaCIsImRlZmluZUNvbXBvbmVudCIsIm5leHRUaWNrIiwiZW1pdCIsImV2dE5hbWUiLCJldnREYXRhIiwiJGVtaXQiLCJ0b0xvd2VyQ2FzZSIsIm1hbmFnZSIsIm9yaWdpbmFsRWxlbWVudCIsInJlYWxMaXN0IiwibWFuYWdlQW5kRW1pdCIsImRlbGVnYXRlQ2FsbEJhY2siLCJjYWxsIiwiZHJhZ2dpbmdFbGVtZW50IiwicHJvcHMiLCJsaXN0IiwidHlwZSIsIkFycmF5IiwicmVxdWlyZWQiLCJtb2RlbFZhbHVlIiwiaXRlbUtleSIsIlN0cmluZyIsIkZ1bmN0aW9uIiwiY2xvbmUiLCJvcmlnaW5hbCIsInRhZyIsIm1vdmUiLCJjb21wb25lbnREYXRhIiwiT2JqZWN0IiwiZW1pdHMiLCJtYXAiLCJldnQiLCJkcmFnZ2FibGVDb21wb25lbnQiLCJuYW1lIiwiaW5oZXJpdEF0dHJzIiwiZGF0YSIsImVycm9yIiwicmVuZGVyIiwiJHNsb3RzIiwiJGF0dHJzIiwiZ2V0S2V5IiwiY29tcG9uZW50U3RydWN0dXJlIiwiYXR0cmlidXRlcyIsImVyciIsInN0eWxlIiwiY29sb3IiLCJzdGFjayIsImNyZWF0ZWQiLCJtb3VudGVkIiwiJGVsIiwidXBkYXRlZCIsInNvcnRhYmxlT3B0aW9ucyIsImNhbGxCYWNrQnVpbGRlciIsImV2ZW50IiwiYmluZCIsInRhcmdldERvbUVsZW1lbnQiLCJub2RlVHlwZSIsInBhcmVudEVsZW1lbnQiLCJfc29ydGFibGUiLCJfX2RyYWdnYWJsZV9jb21wb25lbnRfXyIsImJlZm9yZVVubW91bnQiLCJ1bmRlZmluZWQiLCJkZXN0cm95IiwiY29tcHV0ZWQiLCJlbGVtZW50Iiwid2F0Y2giLCJoYW5kbGVyIiwibmV3T3B0aW9uVmFsdWUiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJvcHRpb24iLCJkZWVwIiwibWV0aG9kcyIsImdldFVuZGVybHlpbmdWbSIsImRvbUVsZW1lbnQiLCJnZXRVbmRlcmx5aW5nUG90ZW5jaWFsRHJhZ2dhYmxlQ29tcG9uZW50IiwiaHRtRWxlbWVudCIsImVtaXRDaGFuZ2VzIiwiYWx0ZXJMaXN0Iiwib25MaXN0IiwibmV3TGlzdCIsInNwbGljZUxpc3QiLCJzcGxpY2UiLCJhcmd1bWVudHMiLCJ1cGRhdGVQb3NpdGlvbiIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJnZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQiLCJ0byIsInJlbGF0ZWQiLCJjb21wb25lbnQiLCJjb250ZXh0IiwiZGVzdGluYXRpb24iLCJnZXRWbUluZGV4RnJvbURvbUluZGV4IiwiZG9tSW5kZXgiLCJvbkRyYWdTdGFydCIsIml0ZW0iLCJfdW5kZXJseWluZ192bV8iLCJvbkRyYWdBZGQiLCJhZGRlZCIsIm9uRHJhZ1JlbW92ZSIsInB1bGxNb2RlIiwiaW5kZXgiLCJyZW1vdmVkIiwib25EcmFnVXBkYXRlIiwiZnJvbSIsIm1vdmVkIiwiY29tcHV0ZUZ1dHVyZUluZGV4IiwicmVsYXRlZENvbnRleHQiLCJkb21DaGlsZHJlbiIsImNoaWxkcmVuIiwiZmlsdGVyIiwiZWwiLCJjdXJyZW50RG9tSW5kZXgiLCJpbmRleE9mIiwiY3VycmVudEluZGV4IiwiZHJhZ2dlZEluTGlzdCIsIndpbGxJbnNlcnRBZnRlciIsIm9uRHJhZ01vdmUiLCJvcmlnaW5hbEV2ZW50IiwiZnV0dXJlSW5kZXgiLCJkcmFnZ2VkQ29udGV4dCIsInNlbmRFdmVudCIsIm9uRHJhZ0VuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app/vendors/vuedraggable/src/vuedraggable.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/cssWithMappingToString.js */ \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*!\\n * FilePondPluginImagePreview 4.6.12\\n * Licensed under MIT, https://opensource.org/licenses/MIT/\\n * Please visit https://pqina.nl/filepond/ for details.\\n */\\n\\n/* eslint-disable */\\n.filepond--image-preview-markup{position:absolute;left:0;top:0}.filepond--image-preview-wrapper{z-index:2}.filepond--image-preview-overlay{display:block;position:absolute;left:0;top:0;width:100%;min-height:5rem;max-height:7rem;margin:0;opacity:0;z-index:2;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--image-preview-overlay svg{width:100%;height:auto;color:inherit;max-height:inherit}.filepond--image-preview-overlay-idle{mix-blend-mode:multiply;color:rgba(40,40,40,.85)}.filepond--image-preview-overlay-success{mix-blend-mode:normal;color:#369763}.filepond--image-preview-overlay-failure{mix-blend-mode:normal;color:#c44e47}@supports (-webkit-marquee-repetition:infinite) and ((-o-object-fit: fill) or (object-fit: fill)){.filepond--image-preview-overlay-idle{mix-blend-mode:normal}}.filepond--image-preview-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;top:0;right:0;height:100%;margin:0;border-radius:.45em;overflow:hidden;background:rgba(0,0,0,.01)}.filepond--image-preview{position:absolute;left:0;top:0;z-index:1;display:flex;align-items:center;height:100%;width:100%;pointer-events:none;background:#222;will-change:transform,opacity}.filepond--image-clip{position:relative;overflow:hidden;margin:0 auto}.filepond--image-clip[data-transparency-indicator=grid] canvas,.filepond--image-clip[data-transparency-indicator=grid] img{background-color:#fff;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' fill='%23eee'%3E%3Cpath d='M0 0h50v50H0M50 50h50v50H50'/%3E%3C/svg%3E\\\");background-size:1.25em 1.25em}.filepond--image-bitmap,.filepond--image-vector{position:absolute;left:0;top:0;will-change:transform}.filepond--root[data-style-panel-layout~=integrated] .filepond--image-preview-wrapper{border-radius:0}.filepond--root[data-style-panel-layout~=integrated] .filepond--image-preview{height:100%;display:flex;justify-content:center;align-items:center}.filepond--root[data-style-panel-layout~=circle] .filepond--image-preview-wrapper{border-radius:99999rem}.filepond--root[data-style-panel-layout~=circle] .filepond--image-preview-overlay{top:auto;bottom:0;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.filepond--root[data-style-panel-layout~=circle] .filepond--file .filepond--file-action-button[data-align*=bottom]:not([data-align*=center]){margin-bottom:.325em}.filepond--root[data-style-panel-layout~=circle] .filepond--file [data-align*=left]{left:calc(50% - 3em)}.filepond--root[data-style-panel-layout~=circle] .filepond--file [data-align*=right]{right:calc(50% - 3em)}.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=left],.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=right]{margin-bottom:.5125em}.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=center]{margin-top:0;margin-bottom:.1875em;margin-left:.1875em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\"],\"names\":[],\"mappings\":\"AAAA;;;;EAIE;;AAEF,mBAAmB;AACnB,gCAAgC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,SAAS,CAAC,iCAAiC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,eAAe,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,qCAAqC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,kBAAkB,CAAC,sCAAsC,uBAAuB,CAAC,wBAAwB,CAAC,yCAAyC,qBAAqB,CAAC,aAAa,CAAC,yCAAyC,qBAAqB,CAAC,aAAa,CAAC,kGAAgG,sCAAsC,qBAAqB,CAAC,CAAC,iCAAiC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,mBAAmB,CAAC,eAAe,CAAC,0BAA0B,CAAC,yBAAyB,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC,eAAe,CAAC,6BAA6B,CAAC,sBAAsB,iBAAiB,CAAC,eAAe,CAAC,aAAa,CAAC,2HAA2H,qBAAqB,CAAC,8LAA8L,CAAC,6BAA6B,CAAC,gDAAgD,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,CAAC,sFAAsF,eAAe,CAAC,8EAA8E,WAAW,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,kFAAkF,sBAAsB,CAAC,kFAAkF,QAAQ,CAAC,QAAQ,CAAC,4BAA4B,CAAC,oBAAoB,CAAC,6IAA6I,oBAAoB,CAAC,oFAAoF,oBAAoB,CAAC,qFAAqF,qBAAqB,CAAC,2OAA2O,qBAAqB,CAAC,uHAAuH,YAAY,CAAC,qBAAqB,CAAC,mBAAmB\",\"sourcesContent\":[\"/*!\\n * FilePondPluginImagePreview 4.6.12\\n * Licensed under MIT, https://opensource.org/licenses/MIT/\\n * Please visit https://pqina.nl/filepond/ for details.\\n */\\n\\n/* eslint-disable */\\n.filepond--image-preview-markup{position:absolute;left:0;top:0}.filepond--image-preview-wrapper{z-index:2}.filepond--image-preview-overlay{display:block;position:absolute;left:0;top:0;width:100%;min-height:5rem;max-height:7rem;margin:0;opacity:0;z-index:2;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--image-preview-overlay svg{width:100%;height:auto;color:inherit;max-height:inherit}.filepond--image-preview-overlay-idle{mix-blend-mode:multiply;color:rgba(40,40,40,.85)}.filepond--image-preview-overlay-success{mix-blend-mode:normal;color:#369763}.filepond--image-preview-overlay-failure{mix-blend-mode:normal;color:#c44e47}@supports (-webkit-marquee-repetition:infinite) and ((-o-object-fit:fill) or (object-fit:fill)){.filepond--image-preview-overlay-idle{mix-blend-mode:normal}}.filepond--image-preview-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;top:0;right:0;height:100%;margin:0;border-radius:.45em;overflow:hidden;background:rgba(0,0,0,.01)}.filepond--image-preview{position:absolute;left:0;top:0;z-index:1;display:flex;align-items:center;height:100%;width:100%;pointer-events:none;background:#222;will-change:transform,opacity}.filepond--image-clip{position:relative;overflow:hidden;margin:0 auto}.filepond--image-clip[data-transparency-indicator=grid] canvas,.filepond--image-clip[data-transparency-indicator=grid] img{background-color:#fff;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' fill='%23eee'%3E%3Cpath d='M0 0h50v50H0M50 50h50v50H50'/%3E%3C/svg%3E\\\");background-size:1.25em 1.25em}.filepond--image-bitmap,.filepond--image-vector{position:absolute;left:0;top:0;will-change:transform}.filepond--root[data-style-panel-layout~=integrated] .filepond--image-preview-wrapper{border-radius:0}.filepond--root[data-style-panel-layout~=integrated] .filepond--image-preview{height:100%;display:flex;justify-content:center;align-items:center}.filepond--root[data-style-panel-layout~=circle] .filepond--image-preview-wrapper{border-radius:99999rem}.filepond--root[data-style-panel-layout~=circle] .filepond--image-preview-overlay{top:auto;bottom:0;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.filepond--root[data-style-panel-layout~=circle] .filepond--file .filepond--file-action-button[data-align*=bottom]:not([data-align*=center]){margin-bottom:.325em}.filepond--root[data-style-panel-layout~=circle] .filepond--file [data-align*=left]{left:calc(50% - 3em)}.filepond--root[data-style-panel-layout~=circle] .filepond--file [data-align*=right]{right:calc(50% - 3em)}.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=left],.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=right]{margin-bottom:.5125em}.filepond--root[data-style-panel-layout~=circle] .filepond--progress-indicator[data-align*=bottom][data-align*=center]{margin-top:0;margin-bottom:.1875em;margin-left:.1875em}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzJdIS4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3L2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcubWluLmNzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQzRHO0FBQzdCO0FBQy9FLDhCQUE4QixzRUFBMkIsQ0FBQywyRkFBcUM7QUFDL0Y7QUFDQSx3UUFBd1Esa0JBQWtCLE9BQU8sTUFBTSxpQ0FBaUMsVUFBVSxpQ0FBaUMsY0FBYyxrQkFBa0IsT0FBTyxNQUFNLFdBQVcsZ0JBQWdCLGdCQUFnQixTQUFTLFVBQVUsVUFBVSxvQkFBb0IseUJBQXlCLHNCQUFzQixxQkFBcUIsaUJBQWlCLHFDQUFxQyxXQUFXLFlBQVksY0FBYyxtQkFBbUIsc0NBQXNDLHdCQUF3Qix5QkFBeUIseUNBQXlDLHNCQUFzQixjQUFjLHlDQUF5QyxzQkFBc0IsY0FBYyxrR0FBa0csc0NBQXNDLHVCQUF1QixpQ0FBaUMseUJBQXlCLHNCQUFzQixxQkFBcUIsaUJBQWlCLGtCQUFrQixPQUFPLE1BQU0sUUFBUSxZQUFZLFNBQVMsb0JBQW9CLGdCQUFnQiwyQkFBMkIseUJBQXlCLGtCQUFrQixPQUFPLE1BQU0sVUFBVSxhQUFhLG1CQUFtQixZQUFZLFdBQVcsb0JBQW9CLGdCQUFnQiw4QkFBOEIsc0JBQXNCLGtCQUFrQixnQkFBZ0IsY0FBYywySEFBMkgsc0JBQXNCLDBDQUEwQyx1SkFBdUosOEJBQThCLGdEQUFnRCxrQkFBa0IsT0FBTyxNQUFNLHNCQUFzQixzRkFBc0YsZ0JBQWdCLDhFQUE4RSxZQUFZLGFBQWEsdUJBQXVCLG1CQUFtQixrRkFBa0YsdUJBQXVCLGtGQUFrRixTQUFTLFNBQVMsNkJBQTZCLHFCQUFxQiw2SUFBNkkscUJBQXFCLG9GQUFvRixxQkFBcUIscUZBQXFGLHNCQUFzQiwyT0FBMk8sc0JBQXNCLHVIQUF1SCxhQUFhLHNCQUFzQixvQkFBb0IsT0FBTywySkFBMkosTUFBTSxZQUFZLHF4Q0FBcXhDLGtCQUFrQixPQUFPLE1BQU0saUNBQWlDLFVBQVUsaUNBQWlDLGNBQWMsa0JBQWtCLE9BQU8sTUFBTSxXQUFXLGdCQUFnQixnQkFBZ0IsU0FBUyxVQUFVLFVBQVUsb0JBQW9CLHlCQUF5QixzQkFBc0IscUJBQXFCLGlCQUFpQixxQ0FBcUMsV0FBVyxZQUFZLGNBQWMsbUJBQW1CLHNDQUFzQyx3QkFBd0IseUJBQXlCLHlDQUF5QyxzQkFBc0IsY0FBYyx5Q0FBeUMsc0JBQXNCLGNBQWMsZ0dBQWdHLHNDQUFzQyx1QkFBdUIsaUNBQWlDLHlCQUF5QixzQkFBc0IscUJBQXFCLGlCQUFpQixrQkFBa0IsT0FBTyxNQUFNLFFBQVEsWUFBWSxTQUFTLG9CQUFvQixnQkFBZ0IsMkJBQTJCLHlCQUF5QixrQkFBa0IsT0FBTyxNQUFNLFVBQVUsYUFBYSxtQkFBbUIsWUFBWSxXQUFXLG9CQUFvQixnQkFBZ0IsOEJBQThCLHNCQUFzQixrQkFBa0IsZ0JBQWdCLGNBQWMsMkhBQTJILHNCQUFzQiwwQ0FBMEMsdUpBQXVKLDhCQUE4QixnREFBZ0Qsa0JBQWtCLE9BQU8sTUFBTSxzQkFBc0Isc0ZBQXNGLGdCQUFnQiw4RUFBOEUsWUFBWSxhQUFhLHVCQUF1QixtQkFBbUIsa0ZBQWtGLHVCQUF1QixrRkFBa0YsU0FBUyxTQUFTLDZCQUE2QixxQkFBcUIsNklBQTZJLHFCQUFxQixvRkFBb0YscUJBQXFCLHFGQUFxRixzQkFBc0IsMk9BQTJPLHNCQUFzQix1SEFBdUgsYUFBYSxzQkFBc0Isb0JBQW9CLG1CQUFtQjtBQUNseFA7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3Lm1pbi5jc3M/YmRjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvKiFcXG4gKiBGaWxlUG9uZFBsdWdpbkltYWdlUHJldmlldyA0LjYuMTJcXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xcbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cXG4gKi9cXG5cXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xcbi5maWxlcG9uZC0taW1hZ2UtcHJldmlldy1tYXJrdXB7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowfS5maWxlcG9uZC0taW1hZ2UtcHJldmlldy13cmFwcGVye3otaW5kZXg6Mn0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6NXJlbTttYXgtaGVpZ2h0OjdyZW07bWFyZ2luOjA7b3BhY2l0eTowO3otaW5kZXg6Mjtwb2ludGVyLWV2ZW50czpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheSBzdmd7d2lkdGg6MTAwJTtoZWlnaHQ6YXV0bztjb2xvcjppbmhlcml0O21heC1oZWlnaHQ6aW5oZXJpdH0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheS1pZGxle21peC1ibGVuZC1tb2RlOm11bHRpcGx5O2NvbG9yOnJnYmEoNDAsNDAsNDAsLjg1KX0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheS1zdWNjZXNze21peC1ibGVuZC1tb2RlOm5vcm1hbDtjb2xvcjojMzY5NzYzfS5maWxlcG9uZC0taW1hZ2UtcHJldmlldy1vdmVybGF5LWZhaWx1cmV7bWl4LWJsZW5kLW1vZGU6bm9ybWFsO2NvbG9yOiNjNDRlNDd9QHN1cHBvcnRzICgtd2Via2l0LW1hcnF1ZWUtcmVwZXRpdGlvbjppbmZpbml0ZSkgYW5kICgoLW8tb2JqZWN0LWZpdDogZmlsbCkgb3IgKG9iamVjdC1maXQ6IGZpbGwpKXsuZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheS1pZGxle21peC1ibGVuZC1tb2RlOm5vcm1hbH19LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LXdyYXBwZXJ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2hlaWdodDoxMDAlO21hcmdpbjowO2JvcmRlci1yYWRpdXM6LjQ1ZW07b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMDEpfS5maWxlcG9uZC0taW1hZ2UtcHJldmlld3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7ei1pbmRleDoxO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQ6IzIyMjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sb3BhY2l0eX0uZmlsZXBvbmQtLWltYWdlLWNsaXB7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbjowIGF1dG99LmZpbGVwb25kLS1pbWFnZS1jbGlwW2RhdGEtdHJhbnNwYXJlbmN5LWluZGljYXRvcj1ncmlkXSBjYW52YXMsLmZpbGVwb25kLS1pbWFnZS1jbGlwW2RhdGEtdHJhbnNwYXJlbmN5LWluZGljYXRvcj1ncmlkXSBpbWd7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgdmlld0JveD0nMCAwIDEwMCAxMDAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZWVlJyUzRSUzQ3BhdGggZD0nTTAgMGg1MHY1MEgwTTUwIDUwaDUwdjUwSDUwJy8lM0UlM0Mvc3ZnJTNFXFxcIik7YmFja2dyb3VuZC1zaXplOjEuMjVlbSAxLjI1ZW19LmZpbGVwb25kLS1pbWFnZS1iaXRtYXAsLmZpbGVwb25kLS1pbWFnZS12ZWN0b3J7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0taW1hZ2UtcHJldmlldy13cmFwcGVye2JvcmRlci1yYWRpdXM6MH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0taW1hZ2UtcHJldmlld3toZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0taW1hZ2UtcHJldmlldy13cmFwcGVye2JvcmRlci1yYWRpdXM6OTk5OTlyZW19LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0taW1hZ2UtcHJldmlldy1vdmVybGF5e3RvcDphdXRvO2JvdHRvbTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlWSgtMSk7dHJhbnNmb3JtOnNjYWxlWSgtMSl9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZmlsZSAuZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbltkYXRhLWFsaWduKj1ib3R0b21dOm5vdChbZGF0YS1hbGlnbio9Y2VudGVyXSl7bWFyZ2luLWJvdHRvbTouMzI1ZW19LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9bGVmdF17bGVmdDpjYWxjKDUwJSAtIDNlbSl9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9cmlnaHRde3JpZ2h0OmNhbGMoNTAlIC0gM2VtKX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3JbZGF0YS1hbGlnbio9Ym90dG9tXVtkYXRhLWFsaWduKj1sZWZ0XSwuZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3JbZGF0YS1hbGlnbio9Ym90dG9tXVtkYXRhLWFsaWduKj1yaWdodF17bWFyZ2luLWJvdHRvbTouNTEyNWVtfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcltkYXRhLWFsaWduKj1ib3R0b21dW2RhdGEtYWxpZ24qPWNlbnRlcl17bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206LjE4NzVlbTttYXJnaW4tbGVmdDouMTg3NWVtfVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3Lm1pbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7RUFJRTs7QUFFRixtQkFBbUI7QUFDbkIsZ0NBQWdDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLFNBQVMsQ0FBQyxpQ0FBaUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLENBQUMscUNBQXFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHNDQUFzQyx1QkFBdUIsQ0FBQyx3QkFBd0IsQ0FBQyx5Q0FBeUMscUJBQXFCLENBQUMsYUFBYSxDQUFDLHlDQUF5QyxxQkFBcUIsQ0FBQyxhQUFhLENBQUMsa0dBQWdHLHNDQUFzQyxxQkFBcUIsQ0FBQyxDQUFDLGlDQUFpQyx3QkFBd0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLGVBQWUsQ0FBQywwQkFBMEIsQ0FBQyx5QkFBeUIsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsbUJBQW1CLENBQUMsZUFBZSxDQUFDLDZCQUE2QixDQUFDLHNCQUFzQixpQkFBaUIsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLDJIQUEySCxxQkFBcUIsQ0FBQyw4TEFBOEwsQ0FBQyw2QkFBNkIsQ0FBQyxnREFBZ0QsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxzRkFBc0YsZUFBZSxDQUFDLDhFQUE4RSxXQUFXLENBQUMsWUFBWSxDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDLGtGQUFrRixzQkFBc0IsQ0FBQyxrRkFBa0YsUUFBUSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxvQkFBb0IsQ0FBQyw2SUFBNkksb0JBQW9CLENBQUMsb0ZBQW9GLG9CQUFvQixDQUFDLHFGQUFxRixxQkFBcUIsQ0FBQywyT0FBMk8scUJBQXFCLENBQUMsdUhBQXVILFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxtQkFBbUJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyohXFxuICogRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXcgNC42LjEyXFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXFxuICovXFxuXFxuLyogZXNsaW50LWRpc2FibGUgKi9cXG4uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctbWFya3Vwe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MH0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctd3JhcHBlcnt6LWluZGV4OjJ9LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXl7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTttaW4taGVpZ2h0OjVyZW07bWF4LWhlaWdodDo3cmVtO21hcmdpbjowO29wYWNpdHk6MDt6LWluZGV4OjI7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXkgc3Zne3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87Y29sb3I6aW5oZXJpdDttYXgtaGVpZ2h0OmluaGVyaXR9LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktaWRsZXttaXgtYmxlbmQtbW9kZTptdWx0aXBseTtjb2xvcjpyZ2JhKDQwLDQwLDQwLC44NSl9LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktc3VjY2Vzc3ttaXgtYmxlbmQtbW9kZTpub3JtYWw7Y29sb3I6IzM2OTc2M30uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheS1mYWlsdXJle21peC1ibGVuZC1tb2RlOm5vcm1hbDtjb2xvcjojYzQ0ZTQ3fUBzdXBwb3J0cyAoLXdlYmtpdC1tYXJxdWVlLXJlcGV0aXRpb246aW5maW5pdGUpIGFuZCAoKC1vLW9iamVjdC1maXQ6ZmlsbCkgb3IgKG9iamVjdC1maXQ6ZmlsbCkpey5maWxlcG9uZC0taW1hZ2UtcHJldmlldy1vdmVybGF5LWlkbGV7bWl4LWJsZW5kLW1vZGU6bm9ybWFsfX0uZmlsZXBvbmQtLWltYWdlLXByZXZpZXctd3JhcHBlcnstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7Ym9yZGVyLXJhZGl1czouNDVlbTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4wMSl9LmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt6LWluZGV4OjE7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2dyb3VuZDojMjIyO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0taW1hZ2UtY2xpcHtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW47bWFyZ2luOjAgYXV0b30uZmlsZXBvbmQtLWltYWdlLWNsaXBbZGF0YS10cmFuc3BhcmVuY3ktaW5kaWNhdG9yPWdyaWRdIGNhbnZhcywuZmlsZXBvbmQtLWltYWdlLWNsaXBbZGF0YS10cmFuc3BhcmVuY3ktaW5kaWNhdG9yPWdyaWRdIGltZ3tiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB2aWV3Qm94PScwIDAgMTAwIDEwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlZWUnJTNFJTNDcGF0aCBkPSdNMCAwaDUwdjUwSDBNNTAgNTBoNTB2NTBINTAnLyUzRSUzQy9zdmclM0VcXFwiKTtiYWNrZ3JvdW5kLXNpemU6MS4yNWVtIDEuMjVlbX0uZmlsZXBvbmQtLWltYWdlLWJpdG1hcCwuZmlsZXBvbmQtLWltYWdlLXZlY3Rvcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LXdyYXBwZXJ7Ym9yZGVyLXJhZGl1czowfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3e2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LXdyYXBwZXJ7Ym9yZGVyLXJhZGl1czo5OTk5OXJlbX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXl7dG9wOmF1dG87Ym90dG9tOjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGVZKC0xKTt0cmFuc2Zvcm06c2NhbGVZKC0xKX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uW2RhdGEtYWxpZ24qPWJvdHRvbV06bm90KFtkYXRhLWFsaWduKj1jZW50ZXJdKXttYXJnaW4tYm90dG9tOi4zMjVlbX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduKj1sZWZ0XXtsZWZ0OmNhbGMoNTAlIC0gM2VtKX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduKj1yaWdodF17cmlnaHQ6Y2FsYyg1MCUgLSAzZW0pfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcltkYXRhLWFsaWduKj1ib3R0b21dW2RhdGEtYWxpZ24qPWxlZnRdLC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcltkYXRhLWFsaWduKj1ib3R0b21dW2RhdGEtYWxpZ24qPXJpZ2h0XXttYXJnaW4tYm90dG9tOi41MTI1ZW19LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9yW2RhdGEtYWxpZ24qPWJvdHRvbV1bZGF0YS1hbGlnbio9Y2VudGVyXXttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTouMTg3NWVtO21hcmdpbi1sZWZ0Oi4xODc1ZW19XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond/dist/filepond.min.css":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond/dist/filepond.min.css ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/cssWithMappingToString.js */ \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*!\\n * FilePond 4.30.6\\n * Licensed under MIT, https://opensource.org/licenses/MIT/\\n * Please visit https://pqina.nl/filepond/ for details.\\n */\\n\\n/* eslint-disable */\\n.filepond--assistant{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--browser.filepond--browser{position:absolute;margin:0;padding:0;left:1em;top:1.75em;width:calc(100% - 2em);opacity:0;font-size:0}.filepond--data{position:absolute;width:0;height:0;padding:0;margin:0;border:none;visibility:hidden;pointer-events:none;contain:strict}.filepond--drip{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:.1;pointer-events:none;border-radius:.5em;background:rgba(0,0,0,.01)}.filepond--drip-blob{-webkit-transform-origin:center center;transform-origin:center center;width:8em;height:8em;margin-left:-4em;margin-top:-4em;background:#292625;border-radius:50%}.filepond--drip-blob,.filepond--drop-label{position:absolute;top:0;left:0;will-change:transform,opacity}.filepond--drop-label{right:0;margin:0;color:#4f4f4f;display:flex;justify-content:center;align-items:center;height:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--drop-label.filepond--drop-label label{display:block;margin:0;padding:.5em}.filepond--drop-label label{cursor:default;font-size:.875em;font-weight:400;text-align:center;line-height:1.5}.filepond--label-action{text-decoration:underline;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto;-webkit-text-decoration-color:#a7a4a4;text-decoration-color:#a7a4a4;cursor:pointer}.filepond--root[data-disabled] .filepond--drop-label label{opacity:.5}.filepond--file-action-button.filepond--file-action-button{font-size:1em;width:1.625em;height:1.625em;font-family:inherit;line-height:inherit;margin:0;padding:0;border:none;outline:none;will-change:transform,opacity}.filepond--file-action-button.filepond--file-action-button span{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file-action-button.filepond--file-action-button svg{width:100%;height:100%}.filepond--file-action-button.filepond--file-action-button:after{position:absolute;left:-.75em;right:-.75em;top:-.75em;bottom:-.75em;content:\\\"\\\"}.filepond--file-action-button{cursor:auto;color:#fff;border-radius:50%;background-color:rgba(0,0,0,.5);background-image:none;box-shadow:0 0 0 0 hsla(0,0%,100%,0);transition:box-shadow .25s ease-in}.filepond--file-action-button:focus,.filepond--file-action-button:hover{box-shadow:0 0 0 .125em hsla(0,0%,100%,.9)}.filepond--file-action-button[disabled]{color:hsla(0,0%,100%,.5);background-color:rgba(0,0,0,.25)}.filepond--file-action-button[hidden]{display:none}.filepond--action-edit-item.filepond--action-edit-item{width:2em;height:2em;padding:.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=center]{margin-left:-.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=bottom]{margin-bottom:-.1875em}.filepond--action-edit-item-alt{border:none;line-height:inherit;background:transparent;font-family:inherit;color:inherit;outline:none;padding:0;margin:0 0 0 .25em;pointer-events:all;position:absolute}.filepond--action-edit-item-alt svg{width:1.3125em;height:1.3125em}.filepond--action-edit-item-alt span{font-size:0;opacity:0}.filepond--file-info{position:static;display:flex;flex-direction:column;align-items:flex-start;flex:1;margin:0 .5em 0 0;min-width:0;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-info *{margin:0}.filepond--file-info .filepond--file-info-main{font-size:.75em;line-height:1.2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.filepond--file-info .filepond--file-info-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out;white-space:nowrap}.filepond--file-info .filepond--file-info-sub:empty{display:none}.filepond--file-status{position:static;display:flex;flex-direction:column;align-items:flex-end;flex-grow:0;flex-shrink:0;margin:0;min-width:2.25em;text-align:right;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-status *{margin:0;white-space:nowrap}.filepond--file-status .filepond--file-status-main{font-size:.75em;line-height:1.2}.filepond--file-status .filepond--file-status-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out}.filepond--file-wrapper.filepond--file-wrapper{border:none;margin:0;padding:0;min-width:0;height:100%}.filepond--file-wrapper.filepond--file-wrapper>legend{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file{position:static;display:flex;height:100%;align-items:flex-start;padding:.5625em;color:#fff;border-radius:.5em}.filepond--file .filepond--file-status{margin-left:auto;margin-right:2.25em}.filepond--file .filepond--processing-complete-indicator{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:3}.filepond--file .filepond--file-action-button,.filepond--file .filepond--processing-complete-indicator,.filepond--file .filepond--progress-indicator{position:absolute}.filepond--file [data-align*=left]{left:.5625em}.filepond--file [data-align*=right]{right:.5625em}.filepond--file [data-align*=center]{left:calc(50% - .8125em)}.filepond--file [data-align*=bottom]{bottom:1.125em}.filepond--file [data-align=center]{top:calc(50% - .8125em)}.filepond--file .filepond--progress-indicator{margin-top:.1875em}.filepond--file .filepond--progress-indicator[data-align*=right]{margin-right:.1875em}.filepond--file .filepond--progress-indicator[data-align*=left]{margin-left:.1875em}[data-filepond-item-state*=error] .filepond--file-info,[data-filepond-item-state*=invalid] .filepond--file-info,[data-filepond-item-state=cancelled] .filepond--file-info{margin-right:2.25em}[data-filepond-item-state~=processing] .filepond--file-status-sub{opacity:0}[data-filepond-item-state~=processing] .filepond--action-abort-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-error] .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-error] .filepond--action-retry-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing svg{-webkit-animation:fall .5s linear .125s both;animation:fall .5s linear .125s both}[data-filepond-item-state=processing-complete] .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--file-info-sub,[data-filepond-item-state=processing-complete] .filepond--processing-complete-indicator:not([style*=hidden])~.filepond--file-status .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing~.filepond--file-info .filepond--file-info-sub{opacity:.5}[data-filepond-item-state*=error] .filepond--file-wrapper,[data-filepond-item-state*=error] .filepond--panel,[data-filepond-item-state*=invalid] .filepond--file-wrapper,[data-filepond-item-state*=invalid] .filepond--panel{-webkit-animation:shake .65s linear both;animation:shake .65s linear both}[data-filepond-item-state*=busy] .filepond--progress-indicator svg{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@-webkit-keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}@keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}.filepond--hopper[data-hopper-state=drag-over]>*{pointer-events:none}.filepond--hopper[data-hopper-state=drag-over]:after{content:\\\"\\\";position:absolute;left:0;top:0;right:0;bottom:0;z-index:100}.filepond--progress-indicator{z-index:103}.filepond--file-action-button{z-index:102}.filepond--file-status{z-index:101}.filepond--file-info{z-index:100}.filepond--item{position:absolute;top:0;left:0;right:0;z-index:1;padding:0;margin:.25em;will-change:transform,opacity}.filepond--item>.filepond--panel{z-index:-1}.filepond--item>.filepond--panel .filepond--panel-bottom{box-shadow:0 .0625em .125em -.0625em rgba(0,0,0,.25)}.filepond--item>.filepond--file-wrapper,.filepond--item>.filepond--panel{transition:opacity .15s ease-out}.filepond--item[data-drag-state]{cursor:-webkit-grab;cursor:grab}.filepond--item[data-drag-state]>.filepond--panel{transition:box-shadow .125s ease-in-out;box-shadow:0 0 0 transparent}.filepond--item[data-drag-state=drag]{cursor:-webkit-grabbing;cursor:grabbing}.filepond--item[data-drag-state=drag]>.filepond--panel{box-shadow:0 .125em .3125em rgba(0,0,0,.325)}.filepond--item[data-drag-state]:not([data-drag-state=idle]){z-index:2}.filepond--item-panel{background-color:#64605e}[data-filepond-item-state=processing-complete] .filepond--item-panel{background-color:#369763}[data-filepond-item-state*=error] .filepond--item-panel,[data-filepond-item-state*=invalid] .filepond--item-panel{background-color:#c44e47}.filepond--item-panel{border-radius:.5em;transition:background-color .25s}.filepond--list-scroller{position:absolute;top:0;left:0;right:0;margin:0;will-change:transform}.filepond--list-scroller[data-state=overflow] .filepond--list{bottom:0;right:0}.filepond--list-scroller[data-state=overflow]{overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;-webkit-mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent);mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent)}.filepond--list-scroller::-webkit-scrollbar{background:transparent}.filepond--list-scroller::-webkit-scrollbar:vertical{width:1em}.filepond--list-scroller::-webkit-scrollbar:horizontal{height:0}.filepond--list-scroller::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:99999px;border:.3125em solid transparent;background-clip:content-box}.filepond--list.filepond--list{position:absolute;top:0;margin:0;padding:0;list-style-type:none;will-change:transform}.filepond--list{left:.75em;right:.75em}.filepond--root[data-style-panel-layout~=integrated]{width:100%;height:100%;max-width:none;margin:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root{border-radius:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root>*,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{bottom:0;height:auto;display:flex;justify-content:center;align-items:center;z-index:7}.filepond--root[data-style-panel-layout~=circle] .filepond--item-panel,.filepond--root[data-style-panel-layout~=integrated] .filepond--item-panel{display:none}.filepond--root[data-style-panel-layout~=compact] .filepond--list-scroller,.filepond--root[data-style-panel-layout~=integrated] .filepond--list-scroller{overflow:hidden;height:100%;margin-top:0;margin-bottom:0}.filepond--root[data-style-panel-layout~=compact] .filepond--list,.filepond--root[data-style-panel-layout~=integrated] .filepond--list{left:0;right:0;height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--item,.filepond--root[data-style-panel-layout~=integrated] .filepond--item{margin:0}.filepond--root[data-style-panel-layout~=compact] .filepond--file-wrapper,.filepond--root[data-style-panel-layout~=integrated] .filepond--file-wrapper{height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{z-index:7}.filepond--root[data-style-panel-layout~=circle]{border-radius:99999rem;overflow:hidden}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel{border-radius:inherit}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--file-info,.filepond--root[data-style-panel-layout~=circle] .filepond--file-status{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--action-edit-item{opacity:1!important;visibility:visible!important}@media not all and (-webkit-min-device-pixel-ratio:0), not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.filepond--root[data-style-panel-layout~=circle]{will-change:transform}}}.filepond--panel-root{border-radius:.5em;background-color:#f1f0ef}.filepond--panel{position:absolute;left:0;top:0;right:0;margin:0;height:100%!important;pointer-events:none}.filepond-panel:not([data-scalable=false]){height:auto!important}.filepond--panel[data-scalable=false]>div{display:none}.filepond--panel[data-scalable=true]{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;background-color:transparent!important;border:none!important}.filepond--panel-bottom,.filepond--panel-center,.filepond--panel-top{position:absolute;left:0;top:0;right:0;margin:0;padding:0}.filepond--panel-bottom,.filepond--panel-top{height:.5em}.filepond--panel-top{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:none!important}.filepond--panel-top:after{content:\\\"\\\";position:absolute;height:2px;left:0;right:0;bottom:-1px;background-color:inherit}.filepond--panel-bottom,.filepond--panel-center{will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:translate3d(0,.5em,0);transform:translate3d(0,.5em,0)}.filepond--panel-bottom{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}.filepond--panel-bottom:before{content:\\\"\\\";position:absolute;height:2px;left:0;right:0;top:-1px;background-color:inherit}.filepond--panel-center{height:100px!important;border-top:none!important;border-bottom:none!important;border-radius:0!important}.filepond--panel-center:not([style]){visibility:hidden}.filepond--progress-indicator{position:static;width:1.25em;height:1.25em;color:#fff;margin:0;pointer-events:none;will-change:transform,opacity}.filepond--progress-indicator svg{width:100%;height:100%;vertical-align:top;transform-box:fill-box}.filepond--progress-indicator path{fill:none;stroke:currentColor}.filepond--list-scroller{z-index:6}.filepond--drop-label{z-index:5}.filepond--drip{z-index:3}.filepond--root>.filepond--panel{z-index:2}.filepond--browser{z-index:1}.filepond--root{box-sizing:border-box;position:relative;margin-bottom:1em;font-size:1rem;line-height:normal;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:450;text-align:left;text-rendering:optimizeLegibility;direction:ltr;contain:layout style size}.filepond--root *{box-sizing:inherit;line-height:inherit}.filepond--root :not(text){font-size:inherit}.filepond--root[data-disabled]{pointer-events:none}.filepond--root[data-disabled] .filepond--list-scroller{pointer-events:all}.filepond--root[data-disabled] .filepond--list{pointer-events:none}.filepond--root .filepond--drop-label{min-height:4.75em}.filepond--root .filepond--list-scroller{margin-top:1em;margin-bottom:1em}.filepond--root .filepond--credits{position:absolute;right:0;opacity:.175;line-height:.85;font-size:11px;color:inherit;text-decoration:none;z-index:3;bottom:-14px}.filepond--root .filepond--credits[style]{top:0;bottom:auto;margin-top:14px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/filepond/dist/filepond.min.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*!\\n * FilePond 4.30.6\\n * Licensed under MIT, https://opensource.org/licenses/MIT/\\n * Please visit https://pqina.nl/filepond/ for details.\\n */\\n\\n/* eslint-disable */\\n.filepond--assistant{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--browser.filepond--browser{position:absolute;margin:0;padding:0;left:1em;top:1.75em;width:calc(100% - 2em);opacity:0;font-size:0}.filepond--data{position:absolute;width:0;height:0;padding:0;margin:0;border:none;visibility:hidden;pointer-events:none;contain:strict}.filepond--drip{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:.1;pointer-events:none;border-radius:.5em;background:rgba(0,0,0,.01)}.filepond--drip-blob{-webkit-transform-origin:center center;transform-origin:center center;width:8em;height:8em;margin-left:-4em;margin-top:-4em;background:#292625;border-radius:50%}.filepond--drip-blob,.filepond--drop-label{position:absolute;top:0;left:0;will-change:transform,opacity}.filepond--drop-label{right:0;margin:0;color:#4f4f4f;display:flex;justify-content:center;align-items:center;height:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--drop-label.filepond--drop-label label{display:block;margin:0;padding:.5em}.filepond--drop-label label{cursor:default;font-size:.875em;font-weight:400;text-align:center;line-height:1.5}.filepond--label-action{text-decoration:underline;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto;-webkit-text-decoration-color:#a7a4a4;text-decoration-color:#a7a4a4;cursor:pointer}.filepond--root[data-disabled] .filepond--drop-label label{opacity:.5}.filepond--file-action-button.filepond--file-action-button{font-size:1em;width:1.625em;height:1.625em;font-family:inherit;line-height:inherit;margin:0;padding:0;border:none;outline:none;will-change:transform,opacity}.filepond--file-action-button.filepond--file-action-button span{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file-action-button.filepond--file-action-button svg{width:100%;height:100%}.filepond--file-action-button.filepond--file-action-button:after{position:absolute;left:-.75em;right:-.75em;top:-.75em;bottom:-.75em;content:\\\"\\\"}.filepond--file-action-button{cursor:auto;color:#fff;border-radius:50%;background-color:rgba(0,0,0,.5);background-image:none;box-shadow:0 0 0 0 hsla(0,0%,100%,0);transition:box-shadow .25s ease-in}.filepond--file-action-button:focus,.filepond--file-action-button:hover{box-shadow:0 0 0 .125em hsla(0,0%,100%,.9)}.filepond--file-action-button[disabled]{color:hsla(0,0%,100%,.5);background-color:rgba(0,0,0,.25)}.filepond--file-action-button[hidden]{display:none}.filepond--action-edit-item.filepond--action-edit-item{width:2em;height:2em;padding:.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=center]{margin-left:-.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=bottom]{margin-bottom:-.1875em}.filepond--action-edit-item-alt{border:none;line-height:inherit;background:transparent;font-family:inherit;color:inherit;outline:none;padding:0;margin:0 0 0 .25em;pointer-events:all;position:absolute}.filepond--action-edit-item-alt svg{width:1.3125em;height:1.3125em}.filepond--action-edit-item-alt span{font-size:0;opacity:0}.filepond--file-info{position:static;display:flex;flex-direction:column;align-items:flex-start;flex:1;margin:0 .5em 0 0;min-width:0;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-info *{margin:0}.filepond--file-info .filepond--file-info-main{font-size:.75em;line-height:1.2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.filepond--file-info .filepond--file-info-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out;white-space:nowrap}.filepond--file-info .filepond--file-info-sub:empty{display:none}.filepond--file-status{position:static;display:flex;flex-direction:column;align-items:flex-end;flex-grow:0;flex-shrink:0;margin:0;min-width:2.25em;text-align:right;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-status *{margin:0;white-space:nowrap}.filepond--file-status .filepond--file-status-main{font-size:.75em;line-height:1.2}.filepond--file-status .filepond--file-status-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out}.filepond--file-wrapper.filepond--file-wrapper{border:none;margin:0;padding:0;min-width:0;height:100%}.filepond--file-wrapper.filepond--file-wrapper>legend{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file{position:static;display:flex;height:100%;align-items:flex-start;padding:.5625em;color:#fff;border-radius:.5em}.filepond--file .filepond--file-status{margin-left:auto;margin-right:2.25em}.filepond--file .filepond--processing-complete-indicator{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:3}.filepond--file .filepond--file-action-button,.filepond--file .filepond--processing-complete-indicator,.filepond--file .filepond--progress-indicator{position:absolute}.filepond--file [data-align*=left]{left:.5625em}.filepond--file [data-align*=right]{right:.5625em}.filepond--file [data-align*=center]{left:calc(50% - .8125em)}.filepond--file [data-align*=bottom]{bottom:1.125em}.filepond--file [data-align=center]{top:calc(50% - .8125em)}.filepond--file .filepond--progress-indicator{margin-top:.1875em}.filepond--file .filepond--progress-indicator[data-align*=right]{margin-right:.1875em}.filepond--file .filepond--progress-indicator[data-align*=left]{margin-left:.1875em}[data-filepond-item-state*=error] .filepond--file-info,[data-filepond-item-state*=invalid] .filepond--file-info,[data-filepond-item-state=cancelled] .filepond--file-info{margin-right:2.25em}[data-filepond-item-state~=processing] .filepond--file-status-sub{opacity:0}[data-filepond-item-state~=processing] .filepond--action-abort-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-error] .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-error] .filepond--action-retry-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing svg{-webkit-animation:fall .5s linear .125s both;animation:fall .5s linear .125s both}[data-filepond-item-state=processing-complete] .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--file-info-sub,[data-filepond-item-state=processing-complete] .filepond--processing-complete-indicator:not([style*=hidden])~.filepond--file-status .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing~.filepond--file-info .filepond--file-info-sub{opacity:.5}[data-filepond-item-state*=error] .filepond--file-wrapper,[data-filepond-item-state*=error] .filepond--panel,[data-filepond-item-state*=invalid] .filepond--file-wrapper,[data-filepond-item-state*=invalid] .filepond--panel{-webkit-animation:shake .65s linear both;animation:shake .65s linear both}[data-filepond-item-state*=busy] .filepond--progress-indicator svg{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@-webkit-keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}@keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}.filepond--hopper[data-hopper-state=drag-over]>*{pointer-events:none}.filepond--hopper[data-hopper-state=drag-over]:after{content:\\\"\\\";position:absolute;left:0;top:0;right:0;bottom:0;z-index:100}.filepond--progress-indicator{z-index:103}.filepond--file-action-button{z-index:102}.filepond--file-status{z-index:101}.filepond--file-info{z-index:100}.filepond--item{position:absolute;top:0;left:0;right:0;z-index:1;padding:0;margin:.25em;will-change:transform,opacity}.filepond--item>.filepond--panel{z-index:-1}.filepond--item>.filepond--panel .filepond--panel-bottom{box-shadow:0 .0625em .125em -.0625em rgba(0,0,0,.25)}.filepond--item>.filepond--file-wrapper,.filepond--item>.filepond--panel{transition:opacity .15s ease-out}.filepond--item[data-drag-state]{cursor:-webkit-grab;cursor:grab}.filepond--item[data-drag-state]>.filepond--panel{transition:box-shadow .125s ease-in-out;box-shadow:0 0 0 transparent}.filepond--item[data-drag-state=drag]{cursor:-webkit-grabbing;cursor:grabbing}.filepond--item[data-drag-state=drag]>.filepond--panel{box-shadow:0 .125em .3125em rgba(0,0,0,.325)}.filepond--item[data-drag-state]:not([data-drag-state=idle]){z-index:2}.filepond--item-panel{background-color:#64605e}[data-filepond-item-state=processing-complete] .filepond--item-panel{background-color:#369763}[data-filepond-item-state*=error] .filepond--item-panel,[data-filepond-item-state*=invalid] .filepond--item-panel{background-color:#c44e47}.filepond--item-panel{border-radius:.5em;transition:background-color .25s}.filepond--list-scroller{position:absolute;top:0;left:0;right:0;margin:0;will-change:transform}.filepond--list-scroller[data-state=overflow] .filepond--list{bottom:0;right:0}.filepond--list-scroller[data-state=overflow]{overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;-webkit-mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent);mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent)}.filepond--list-scroller::-webkit-scrollbar{background:transparent}.filepond--list-scroller::-webkit-scrollbar:vertical{width:1em}.filepond--list-scroller::-webkit-scrollbar:horizontal{height:0}.filepond--list-scroller::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:99999px;border:.3125em solid transparent;background-clip:content-box}.filepond--list.filepond--list{position:absolute;top:0;margin:0;padding:0;list-style-type:none;will-change:transform}.filepond--list{left:.75em;right:.75em}.filepond--root[data-style-panel-layout~=integrated]{width:100%;height:100%;max-width:none;margin:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root{border-radius:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root>*,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{bottom:0;height:auto;display:flex;justify-content:center;align-items:center;z-index:7}.filepond--root[data-style-panel-layout~=circle] .filepond--item-panel,.filepond--root[data-style-panel-layout~=integrated] .filepond--item-panel{display:none}.filepond--root[data-style-panel-layout~=compact] .filepond--list-scroller,.filepond--root[data-style-panel-layout~=integrated] .filepond--list-scroller{overflow:hidden;height:100%;margin-top:0;margin-bottom:0}.filepond--root[data-style-panel-layout~=compact] .filepond--list,.filepond--root[data-style-panel-layout~=integrated] .filepond--list{left:0;right:0;height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--item,.filepond--root[data-style-panel-layout~=integrated] .filepond--item{margin:0}.filepond--root[data-style-panel-layout~=compact] .filepond--file-wrapper,.filepond--root[data-style-panel-layout~=integrated] .filepond--file-wrapper{height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{z-index:7}.filepond--root[data-style-panel-layout~=circle]{border-radius:99999rem;overflow:hidden}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel{border-radius:inherit}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--file-info,.filepond--root[data-style-panel-layout~=circle] .filepond--file-status{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--action-edit-item{opacity:1!important;visibility:visible!important}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.filepond--root[data-style-panel-layout~=circle]{will-change:transform}}}.filepond--panel-root{border-radius:.5em;background-color:#f1f0ef}.filepond--panel{position:absolute;left:0;top:0;right:0;margin:0;height:100%!important;pointer-events:none}.filepond-panel:not([data-scalable=false]){height:auto!important}.filepond--panel[data-scalable=false]>div{display:none}.filepond--panel[data-scalable=true]{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;background-color:transparent!important;border:none!important}.filepond--panel-bottom,.filepond--panel-center,.filepond--panel-top{position:absolute;left:0;top:0;right:0;margin:0;padding:0}.filepond--panel-bottom,.filepond--panel-top{height:.5em}.filepond--panel-top{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:none!important}.filepond--panel-top:after{content:\\\"\\\";position:absolute;height:2px;left:0;right:0;bottom:-1px;background-color:inherit}.filepond--panel-bottom,.filepond--panel-center{will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:translate3d(0,.5em,0);transform:translate3d(0,.5em,0)}.filepond--panel-bottom{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}.filepond--panel-bottom:before{content:\\\"\\\";position:absolute;height:2px;left:0;right:0;top:-1px;background-color:inherit}.filepond--panel-center{height:100px!important;border-top:none!important;border-bottom:none!important;border-radius:0!important}.filepond--panel-center:not([style]){visibility:hidden}.filepond--progress-indicator{position:static;width:1.25em;height:1.25em;color:#fff;margin:0;pointer-events:none;will-change:transform,opacity}.filepond--progress-indicator svg{width:100%;height:100%;vertical-align:top;transform-box:fill-box}.filepond--progress-indicator path{fill:none;stroke:currentColor}.filepond--list-scroller{z-index:6}.filepond--drop-label{z-index:5}.filepond--drip{z-index:3}.filepond--root>.filepond--panel{z-index:2}.filepond--browser{z-index:1}.filepond--root{box-sizing:border-box;position:relative;margin-bottom:1em;font-size:1rem;line-height:normal;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:450;text-align:left;text-rendering:optimizeLegibility;direction:ltr;contain:layout style size}.filepond--root *{box-sizing:inherit;line-height:inherit}.filepond--root :not(text){font-size:inherit}.filepond--root[data-disabled]{pointer-events:none}.filepond--root[data-disabled] .filepond--list-scroller{pointer-events:all}.filepond--root[data-disabled] .filepond--list{pointer-events:none}.filepond--root .filepond--drop-label{min-height:4.75em}.filepond--root .filepond--list-scroller{margin-top:1em;margin-bottom:1em}.filepond--root .filepond--credits{position:absolute;right:0;opacity:.175;line-height:.85;font-size:11px;color:inherit;text-decoration:none;z-index:3;bottom:-14px}.filepond--root .filepond--credits[style]{top:0;bottom:auto;margin-top:14px}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzJdIS4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2Rpc3QvZmlsZXBvbmQubWluLmNzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQzRHO0FBQzdCO0FBQy9FLDhCQUE4QixzRUFBMkIsQ0FBQywyRkFBcUM7QUFDL0Y7QUFDQSwyT0FBMk8sa0JBQWtCLGdCQUFnQixXQUFXLFVBQVUsVUFBVSxTQUFTLDJCQUEyQiw2QkFBNkIscUJBQXFCLG1CQUFtQixxQ0FBcUMsa0JBQWtCLFNBQVMsVUFBVSxTQUFTLFdBQVcsdUJBQXVCLFVBQVUsWUFBWSxnQkFBZ0Isa0JBQWtCLFFBQVEsU0FBUyxVQUFVLFNBQVMsWUFBWSxrQkFBa0Isb0JBQW9CLGVBQWUsZ0JBQWdCLGtCQUFrQixNQUFNLE9BQU8sUUFBUSxTQUFTLGdCQUFnQixXQUFXLG9CQUFvQixtQkFBbUIsMkJBQTJCLHFCQUFxQix1Q0FBdUMsK0JBQStCLFVBQVUsV0FBVyxpQkFBaUIsZ0JBQWdCLG1CQUFtQixrQkFBa0IsMkNBQTJDLGtCQUFrQixNQUFNLE9BQU8sOEJBQThCLHNCQUFzQixRQUFRLFNBQVMsY0FBYyxhQUFhLHVCQUF1QixtQkFBbUIsU0FBUyx5QkFBeUIsc0JBQXNCLHFCQUFxQixpQkFBaUIsaURBQWlELGNBQWMsU0FBUyxhQUFhLDRCQUE0QixlQUFlLGlCQUFpQixnQkFBZ0Isa0JBQWtCLGdCQUFnQix3QkFBd0IsMEJBQTBCLGlDQUFpQyw4QkFBOEIsc0NBQXNDLDhCQUE4QixlQUFlLDJEQUEyRCxXQUFXLDJEQUEyRCxjQUFjLGNBQWMsZUFBZSxvQkFBb0Isb0JBQW9CLFNBQVMsVUFBVSxZQUFZLGFBQWEsOEJBQThCLGdFQUFnRSxrQkFBa0IsZ0JBQWdCLFdBQVcs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QXVCLG1DQUFtQyxVQUFVLG9CQUFvQix5QkFBeUIsVUFBVSxzQkFBc0IsVUFBVSxnQkFBZ0IsVUFBVSxpQ0FBaUMsVUFBVSxtQkFBbUIsVUFBVSxnQkFBZ0Isc0JBQXNCLGtCQUFrQixrQkFBa0IsZUFBZSxtQkFBbUIseUlBQXlJLGdCQUFnQixnQkFBZ0Isa0NBQWtDLGNBQWMsMEJBQTBCLGtCQUFrQixtQkFBbUIsb0JBQW9CLDJCQUEyQixrQkFBa0IsK0JBQStCLG9CQUFvQix3REFBd0QsbUJBQW1CLCtDQUErQyxvQkFBb0Isc0NBQXNDLGtCQUFrQix5Q0FBeUMsZUFBZSxrQkFBa0IsbUNBQW1DLGtCQUFrQixRQUFRLGFBQWEsZ0JBQWdCLGVBQWUsY0FBYyxxQkFBcUIsVUFBVSxhQUFhLDBDQUEwQyxNQUFNLFlBQVksZ0JBQWdCLG1CQUFtQjtBQUN2c3hDO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5taW4uY3NzP2FmZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLyohXFxuICogRmlsZVBvbmQgNC4zMC42XFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXFxuICovXFxuXFxuLyogZXNsaW50LWRpc2FibGUgKi9cXG4uZmlsZXBvbmQtLWFzc2lzdGFudHtwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjFweDt3aWR0aDoxcHg7cGFkZGluZzowO2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7d2hpdGUtc3BhY2U6bm93cmFwfS5maWxlcG9uZC0tYnJvd3Nlci5maWxlcG9uZC0tYnJvd3Nlcntwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MDtwYWRkaW5nOjA7bGVmdDoxZW07dG9wOjEuNzVlbTt3aWR0aDpjYWxjKDEwMCUgLSAyZW0pO29wYWNpdHk6MDtmb250LXNpemU6MH0uZmlsZXBvbmQtLWRhdGF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOm5vbmU7dmlzaWJpbGl0eTpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZTtjb250YWluOnN0cmljdH0uZmlsZXBvbmQtLWRyaXB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7b3ZlcmZsb3c6aGlkZGVuO29wYWNpdHk6LjE7cG9pbnRlci1ldmVudHM6bm9uZTtib3JkZXItcmFkaXVzOi41ZW07YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4wMSl9LmZpbGVwb25kLS1kcmlwLWJsb2J7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgY2VudGVyO3dpZHRoOjhlbTtoZWlnaHQ6OGVtO21hcmdpbi1sZWZ0Oi00ZW07bWFyZ2luLXRvcDotNGVtO2JhY2tncm91bmQ6IzI5MjYyNTtib3JkZXItcmFkaXVzOjUwJX0uZmlsZXBvbmQtLWRyaXAtYmxvYiwuZmlsZXBvbmQtLWRyb3AtbGFiZWx7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tZHJvcC1sYWJlbHtyaWdodDowO21hcmdpbjowO2NvbG9yOiM0ZjRmNGY7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDowOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uZmlsZXBvbmQtLWRyb3AtbGFiZWwuZmlsZXBvbmQtLWRyb3AtbGFiZWwgbGFiZWx7ZGlzcGxheTpibG9jazttYXJnaW46MDtwYWRkaW5nOi41ZW19LmZpbGVwb25kLS1kcm9wLWxhYmVsIGxhYmVse2N1cnNvcjpkZWZhdWx0O2ZvbnQtc2l6ZTouODc1ZW07Zm9udC13ZWlnaHQ6NDAwO3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjEuNX0uZmlsZXBvbmQtLWxhYmVsLWFjdGlvbnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uLXNraXA6aW5rO3RleHQtZGVjb3JhdGlvbi1za2lwLWluazphdXRvOy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiNhN2E0YTQ7dGV4dC1kZWNvcmF0aW9uLWNvbG9yOiNhN2E0YTQ7Y3Vyc29yOnBvaW50ZXJ9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCBsYWJlbHtvcGFjaXR5Oi41fS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257Zm9udC1zaXplOjFlbTt3aWR0aDoxLjYyNWVtO2hlaWdodDoxLjYyNWVtO2ZvbnQtZmFtaWx5OmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24gc3Bhbntwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjFweDt3aWR0aDoxcHg7cGFkZGluZzowO2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7d2hpdGUtc3BhY2U6bm93cmFwfS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24gc3Zne3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0uNzVlbTtyaWdodDotLjc1ZW07dG9wOi0uNzVlbTtib3R0b206LS43NWVtO2NvbnRlbnQ6XFxcIlxcXCJ9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257Y3Vyc29yOmF1dG87Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpO2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3gtc2hhZG93OjAgMCAwIDAgaHNsYSgwLDAlLDEwMCUsMCk7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4yNXMgZWFzZS1pbn0uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjpmb2N1cywuZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjpob3Zlcntib3gtc2hhZG93OjAgMCAwIC4xMjVlbSBoc2xhKDAsMCUsMTAwJSwuOSl9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b25bZGlzYWJsZWRde2NvbG9yOmhzbGEoMCwwJSwxMDAlLC41KTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjI1KX0uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbltoaWRkZW5de2Rpc3BsYXk6bm9uZX0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW17d2lkdGg6MmVtO2hlaWdodDoyZW07cGFkZGluZzouMTg3NWVtfS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbVtkYXRhLWFsaWduKj1jZW50ZXJde21hcmdpbi1sZWZ0Oi0uMTg3NWVtfS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbVtkYXRhLWFsaWduKj1ib3R0b21de21hcmdpbi1ib3R0b206LS4xODc1ZW19LmZpbGVwb25kLS1hY3Rpb24tZWRpdC1pdGVtLWFsdHtib3JkZXI6bm9uZTtsaW5lLWhlaWdodDppbmhlcml0O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Zm9udC1mYW1pbHk6aW5oZXJpdDtjb2xvcjppbmhlcml0O291dGxpbmU6bm9uZTtwYWRkaW5nOjA7bWFyZ2luOjAgMCAwIC4yNWVtO3BvaW50ZXItZXZlbnRzOmFsbDtwb3NpdGlvbjphYnNvbHV0ZX0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0tYWx0IHN2Z3t3aWR0aDoxLjMxMjVlbTtoZWlnaHQ6MS4zMTI1ZW19LmZpbGVwb25kLS1hY3Rpb24tZWRpdC1pdGVtLWFsdCBzcGFue2ZvbnQtc2l6ZTowO29wYWNpdHk6MH0uZmlsZXBvbmQtLWZpbGUtaW5mb3twb3NpdGlvbjpzdGF0aWM7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O2ZsZXg6MTttYXJnaW46MCAuNWVtIDAgMDttaW4td2lkdGg6MDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sb3BhY2l0eTtwb2ludGVyLWV2ZW50czpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uZmlsZXBvbmQtLWZpbGUtaW5mbyAqe21hcmdpbjowfS5maWxlcG9uZC0tZmlsZS1pbmZvIC5maWxlcG9uZC0tZmlsZS1pbmZvLW1haW57Zm9udC1zaXplOi43NWVtO2xpbmUtaGVpZ2h0OjEuMjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7d2lkdGg6MTAwJX0uZmlsZXBvbmQtLWZpbGUtaW5mbyAuZmlsZXBvbmQtLWZpbGUtaW5mby1zdWJ7Zm9udC1zaXplOi42MjVlbTtvcGFjaXR5Oi41O3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UtaW4tb3V0O3doaXRlLXNwYWNlOm5vd3JhcH0uZmlsZXBvbmQtLWZpbGUtaW5mbyAuZmlsZXBvbmQtLWZpbGUtaW5mby1zdWI6ZW1wdHl7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tZmlsZS1zdGF0dXN7cG9zaXRpb246c3RhdGljO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6ZmxleC1lbmQ7ZmxleC1ncm93OjA7ZmxleC1zaHJpbms6MDttYXJnaW46MDttaW4td2lkdGg6Mi4yNWVtO3RleHQtYWxpZ246cmlnaHQ7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmZpbGVwb25kLS1maWxlLXN0YXR1cyAqe21hcmdpbjowO3doaXRlLXNwYWNlOm5vd3JhcH0uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtbWFpbntmb250LXNpemU6Ljc1ZW07bGluZS1oZWlnaHQ6MS4yfS5maWxlcG9uZC0tZmlsZS1zdGF0dXMgLmZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWJ7Zm9udC1zaXplOi42MjVlbTtvcGFjaXR5Oi41O3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UtaW4tb3V0fS5maWxlcG9uZC0tZmlsZS13cmFwcGVyLmZpbGVwb25kLS1maWxlLXdyYXBwZXJ7Ym9yZGVyOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO21pbi13aWR0aDowO2hlaWdodDoxMDAlfS5maWxlcG9uZC0tZmlsZS13cmFwcGVyLmZpbGVwb25kLS1maWxlLXdyYXBwZXI+bGVnZW5ke3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MXB4O3dpZHRoOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjA7Y2xpcDpyZWN0KDFweCwxcHgsMXB4LDFweCk7LXdlYmtpdC1jbGlwLXBhdGg6aW5zZXQoNTAlKTtjbGlwLXBhdGg6aW5zZXQoNTAlKTt3aGl0ZS1zcGFjZTpub3dyYXB9LmZpbGVwb25kLS1maWxle3Bvc2l0aW9uOnN0YXRpYztkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7YWxpZ24taXRlbXM6ZmxleC1zdGFydDtwYWRkaW5nOi41NjI1ZW07Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOi41ZW19LmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tZmlsZS1zdGF0dXN7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6Mi4yNWVtfS5maWxlcG9uZC0tZmlsZSAuZmlsZXBvbmQtLXByb2Nlc3NpbmctY29tcGxldGUtaW5kaWNhdG9ye3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6M30uZmlsZXBvbmQtLWZpbGUgLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24sLmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvY2Vzc2luZy1jb21wbGV0ZS1pbmRpY2F0b3IsLmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9ye3Bvc2l0aW9uOmFic29sdXRlfS5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9bGVmdF17bGVmdDouNTYyNWVtfS5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9cmlnaHRde3JpZ2h0Oi41NjI1ZW19LmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduKj1jZW50ZXJde2xlZnQ6Y2FsYyg1MCUgLSAuODEyNWVtKX0uZmlsZXBvbmQtLWZpbGUgW2RhdGEtYWxpZ24qPWJvdHRvbV17Ym90dG9tOjEuMTI1ZW19LmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduPWNlbnRlcl17dG9wOmNhbGMoNTAlIC0gLjgxMjVlbSl9LmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9ye21hcmdpbi10b3A6LjE4NzVlbX0uZmlsZXBvbmQtLWZpbGUgLmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3JbZGF0YS1hbGlnbio9cmlnaHRde21hcmdpbi1yaWdodDouMTg3NWVtfS5maWxlcG9uZC0tZmlsZSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcltkYXRhLWFsaWduKj1sZWZ0XXttYXJnaW4tbGVmdDouMTg3NWVtfVtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWVycm9yXSAuZmlsZXBvbmQtLWZpbGUtaW5mbyxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1pbnZhbGlkXSAuZmlsZXBvbmQtLWZpbGUtaW5mbyxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPWNhbmNlbGxlZF0gLmZpbGVwb25kLS1maWxlLWluZm97bWFyZ2luLXJpZ2h0OjIuMjVlbX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlfj1wcm9jZXNzaW5nXSAuZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1YntvcGFjaXR5OjB9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZX49cHJvY2Vzc2luZ10gLmZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1wcm9jZXNzaW5nfi5maWxlcG9uZC0tZmlsZS1zdGF0dXMgLmZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWJ7b3BhY2l0eTouNX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctZXJyb3JdIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6MH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctZXJyb3JdIC5maWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tcHJvY2Vzc2luZ34uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6LjV9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZT1wcm9jZXNzaW5nLWNvbXBsZXRlXSAuZmlsZXBvbmQtLWFjdGlvbi1yZXZlcnQtaXRlbS1wcm9jZXNzaW5nIHN2Z3std2Via2l0LWFuaW1hdGlvbjpmYWxsIC41cyBsaW5lYXIgLjEyNXMgYm90aDthbmltYXRpb246ZmFsbCAuNXMgbGluZWFyIC4xMjVzIGJvdGh9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZT1wcm9jZXNzaW5nLWNvbXBsZXRlXSAuZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1YntvcGFjaXR5Oi41fVtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGU9cHJvY2Vzc2luZy1jb21wbGV0ZV0gLmZpbGVwb25kLS1maWxlLWluZm8tc3ViLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGU9cHJvY2Vzc2luZy1jb21wbGV0ZV0gLmZpbGVwb25kLS1wcm9jZXNzaW5nLWNvbXBsZXRlLWluZGljYXRvcjpub3QoW3N0eWxlKj1oaWRkZW5dKX4uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6MH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctY29tcGxldGVdIC5maWxlcG9uZC0tYWN0aW9uLXJldmVydC1pdGVtLXByb2Nlc3Npbmd+LmZpbGVwb25kLS1maWxlLWluZm8gLmZpbGVwb25kLS1maWxlLWluZm8tc3Vie29wYWNpdHk6LjV9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZSo9ZXJyb3JdIC5maWxlcG9uZC0tZmlsZS13cmFwcGVyLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWVycm9yXSAuZmlsZXBvbmQtLXBhbmVsLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWludmFsaWRdIC5maWxlcG9uZC0tZmlsZS13cmFwcGVyLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWludmFsaWRdIC5maWxlcG9uZC0tcGFuZWx7LXdlYmtpdC1hbmltYXRpb246c2hha2UgLjY1cyBsaW5lYXIgYm90aDthbmltYXRpb246c2hha2UgLjY1cyBsaW5lYXIgYm90aH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1idXN5XSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvciBzdmd7LXdlYmtpdC1hbmltYXRpb246c3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOnNwaW4gMXMgbGluZWFyIGluZmluaXRlfUAtd2Via2l0LWtleWZyYW1lcyBzcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxdHVybik7dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMXR1cm4pO3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2hha2V7MTAlLDkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMDYyNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtLjA2MjVlbSl9MjAlLDgwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC4xMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjEyNWVtKX0zMCUsNTAlLDcwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4yNWVtKX00MCUsNjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjI1ZW0pO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC4yNWVtKX19QGtleWZyYW1lcyBzaGFrZXsxMCUsOTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4wNjI1ZW0pO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMDYyNWVtKX0yMCUsODAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjEyNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCguMTI1ZW0pfTMwJSw1MCUsNzAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4yNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtLjI1ZW0pfTQwJSw2MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCguMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjI1ZW0pfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFsbHswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXR9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH19QGtleWZyYW1lcyBmYWxsezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXR9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0fX0uZmlsZXBvbmQtLWhvcHBlcltkYXRhLWhvcHBlci1zdGF0ZT1kcmFnLW92ZXJdPip7cG9pbnRlci1ldmVudHM6bm9uZX0uZmlsZXBvbmQtLWhvcHBlcltkYXRhLWhvcHBlci1zdGF0ZT1kcmFnLW92ZXJdOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxMDB9LmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3J7ei1pbmRleDoxMDN9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257ei1pbmRleDoxMDJ9LmZpbGVwb25kLS1maWxlLXN0YXR1c3t6LWluZGV4OjEwMX0uZmlsZXBvbmQtLWZpbGUtaW5mb3t6LWluZGV4OjEwMH0uZmlsZXBvbmQtLWl0ZW17cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDoxO3BhZGRpbmc6MDttYXJnaW46LjI1ZW07d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHl9LmZpbGVwb25kLS1pdGVtPi5maWxlcG9uZC0tcGFuZWx7ei1pbmRleDotMX0uZmlsZXBvbmQtLWl0ZW0+LmZpbGVwb25kLS1wYW5lbCAuZmlsZXBvbmQtLXBhbmVsLWJvdHRvbXtib3gtc2hhZG93OjAgLjA2MjVlbSAuMTI1ZW0gLS4wNjI1ZW0gcmdiYSgwLDAsMCwuMjUpfS5maWxlcG9uZC0taXRlbT4uZmlsZXBvbmQtLWZpbGUtd3JhcHBlciwuZmlsZXBvbmQtLWl0ZW0+LmZpbGVwb25kLS1wYW5lbHt0cmFuc2l0aW9uOm9wYWNpdHkgLjE1cyBlYXNlLW91dH0uZmlsZXBvbmQtLWl0ZW1bZGF0YS1kcmFnLXN0YXRlXXtjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFifS5maWxlcG9uZC0taXRlbVtkYXRhLWRyYWctc3RhdGVdPi5maWxlcG9uZC0tcGFuZWx7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4xMjVzIGVhc2UtaW4tb3V0O2JveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnR9LmZpbGVwb25kLS1pdGVtW2RhdGEtZHJhZy1zdGF0ZT1kcmFnXXtjdXJzb3I6LXdlYmtpdC1ncmFiYmluZztjdXJzb3I6Z3JhYmJpbmd9LmZpbGVwb25kLS1pdGVtW2RhdGEtZHJhZy1zdGF0ZT1kcmFnXT4uZmlsZXBvbmQtLXBhbmVse2JveC1zaGFkb3c6MCAuMTI1ZW0gLjMxMjVlbSByZ2JhKDAsMCwwLC4zMjUpfS5maWxlcG9uZC0taXRlbVtkYXRhLWRyYWctc3RhdGVdOm5vdChbZGF0YS1kcmFnLXN0YXRlPWlkbGVdKXt6LWluZGV4OjJ9LmZpbGVwb25kLS1pdGVtLXBhbmVse2JhY2tncm91bmQtY29sb3I6IzY0NjA1ZX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctY29tcGxldGVdIC5maWxlcG9uZC0taXRlbS1wYW5lbHtiYWNrZ3JvdW5kLWNvbG9yOiMzNjk3NjN9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZSo9ZXJyb3JdIC5maWxlcG9uZC0taXRlbS1wYW5lbCxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1pbnZhbGlkXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWx7YmFja2dyb3VuZC1jb2xvcjojYzQ0ZTQ3fS5maWxlcG9uZC0taXRlbS1wYW5lbHtib3JkZXItcmFkaXVzOi41ZW07dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4yNXN9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO21hcmdpbjowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uZmlsZXBvbmQtLWxpc3Qtc2Nyb2xsZXJbZGF0YS1zdGF0ZT1vdmVyZmxvd10gLmZpbGVwb25kLS1saXN0e2JvdHRvbTowO3JpZ2h0OjB9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyW2RhdGEtc3RhdGU9b3ZlcmZsb3dde292ZXJmbG93LXk6c2Nyb2xsO292ZXJmbG93LXg6aGlkZGVuOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy13ZWJraXQtbWFzazpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCMwMDAgY2FsYygxMDAlIC0gLjVlbSksdHJhbnNwYXJlbnQpO21hc2s6bGluZWFyLWdyYWRpZW50KDE4MGRlZywjMDAwIGNhbGMoMTAwJSAtIC41ZW0pLHRyYW5zcGFyZW50KX0uZmlsZXBvbmQtLWxpc3Qtc2Nyb2xsZXI6Oi13ZWJraXQtc2Nyb2xsYmFye2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhcjp2ZXJ0aWNhbHt3aWR0aDoxZW19LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhcjpob3Jpem9udGFse2hlaWdodDowfS5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4zKTtib3JkZXItcmFkaXVzOjk5OTk5cHg7Ym9yZGVyOi4zMTI1ZW0gc29saWQgdHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jbGlwOmNvbnRlbnQtYm94fS5maWxlcG9uZC0tbGlzdC5maWxlcG9uZC0tbGlzdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZS10eXBlOm5vbmU7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5maWxlcG9uZC0tbGlzdHtsZWZ0Oi43NWVtO3JpZ2h0Oi43NWVtfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF17d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXgtd2lkdGg6bm9uZTttYXJnaW46MH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wYW5lbC1yb290LC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1wYW5lbC1yb290e2JvcmRlci1yYWRpdXM6MH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wYW5lbC1yb290PiosLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLXBhbmVsLXJvb3Q+KntkaXNwbGF5Om5vbmV9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCwuZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbHtib3R0b206MDtoZWlnaHQ6YXV0bztkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ei1pbmRleDo3fS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWwsLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWx7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1saXN0LXNjcm9sbGVyLC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1saXN0LXNjcm9sbGVye292ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MTAwJTttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1saXN0LC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1saXN0e2xlZnQ6MDtyaWdodDowO2hlaWdodDoxMDAlfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1pdGVtLC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1pdGVte21hcmdpbjowfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1maWxlLXdyYXBwZXIsLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLWZpbGUtd3JhcHBlcntoZWlnaHQ6MTAwJX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNvbXBhY3RdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCwuZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbHt6LWluZGV4Ojd9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVde2JvcmRlci1yYWRpdXM6OTk5OTlyZW07b3ZlcmZsb3c6aGlkZGVufS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXT4uZmlsZXBvbmQtLXBhbmVse2JvcmRlci1yYWRpdXM6aW5oZXJpdH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0+LmZpbGVwb25kLS1wYW5lbD4qe2Rpc3BsYXk6bm9uZX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1maWxlLWluZm8sLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZmlsZS1zdGF0dXN7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW17b3BhY2l0eToxIWltcG9ydGFudDt2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50fUBtZWRpYSBub3QgYWxsIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjApLCBub3QgYWxsIGFuZCAobWluLXJlc29sdXRpb246MC4wMDFkcGNtKXtAc3VwcG9ydHMgKC13ZWJraXQtYXBwZWFyYW5jZTpub25lKSBhbmQgKHN0cm9rZS1jb2xvcjp0cmFuc3BhcmVudCl7LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVde3dpbGwtY2hhbmdlOnRyYW5zZm9ybX19fS5maWxlcG9uZC0tcGFuZWwtcm9vdHtib3JkZXItcmFkaXVzOi41ZW07YmFja2dyb3VuZC1jb2xvcjojZjFmMGVmfS5maWxlcG9uZC0tcGFuZWx7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7bWFyZ2luOjA7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmV9LmZpbGVwb25kLXBhbmVsOm5vdChbZGF0YS1zY2FsYWJsZT1mYWxzZV0pe2hlaWdodDphdXRvIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsW2RhdGEtc2NhbGFibGU9ZmFsc2VdPmRpdntkaXNwbGF5Om5vbmV9LmZpbGVwb25kLS1wYW5lbFtkYXRhLXNjYWxhYmxlPXRydWVdey13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOnByZXNlcnZlLTNkO3RyYW5zZm9ybS1zdHlsZTpwcmVzZXJ2ZS0zZDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnR9LmZpbGVwb25kLS1wYW5lbC1ib3R0b20sLmZpbGVwb25kLS1wYW5lbC1jZW50ZXIsLmZpbGVwb25kLS1wYW5lbC10b3B7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7bWFyZ2luOjA7cGFkZGluZzowfS5maWxlcG9uZC0tcGFuZWwtYm90dG9tLC5maWxlcG9uZC0tcGFuZWwtdG9we2hlaWdodDouNWVtfS5maWxlcG9uZC0tcGFuZWwtdG9we2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbTpub25lIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsLXRvcDphZnRlcntjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoycHg7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOi0xcHg7YmFja2dyb3VuZC1jb2xvcjppbmhlcml0fS5maWxlcG9uZC0tcGFuZWwtYm90dG9tLC5maWxlcG9uZC0tcGFuZWwtY2VudGVye3dpbGwtY2hhbmdlOnRyYW5zZm9ybTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgdG9wOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLjVlbSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwuNWVtLDApfS5maWxlcG9uZC0tcGFuZWwtYm90dG9te2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcDpub25lIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsLWJvdHRvbTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MnB4O2xlZnQ6MDtyaWdodDowO3RvcDotMXB4O2JhY2tncm91bmQtY29sb3I6aW5oZXJpdH0uZmlsZXBvbmQtLXBhbmVsLWNlbnRlcntoZWlnaHQ6MTAwcHghaW1wb3J0YW50O2JvcmRlci10b3A6bm9uZSFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbTpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAhaW1wb3J0YW50fS5maWxlcG9uZC0tcGFuZWwtY2VudGVyOm5vdChbc3R5bGVdKXt2aXNpYmlsaXR5OmhpZGRlbn0uZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcntwb3NpdGlvbjpzdGF0aWM7d2lkdGg6MS4yNWVtO2hlaWdodDoxLjI1ZW07Y29sb3I6I2ZmZjttYXJnaW46MDtwb2ludGVyLWV2ZW50czpub25lO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9yIHN2Z3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3ZlcnRpY2FsLWFsaWduOnRvcDt0cmFuc2Zvcm0tYm94OmZpbGwtYm94fS5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9yIHBhdGh7ZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3J9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVye3otaW5kZXg6Nn0uZmlsZXBvbmQtLWRyb3AtbGFiZWx7ei1pbmRleDo1fS5maWxlcG9uZC0tZHJpcHt6LWluZGV4OjN9LmZpbGVwb25kLS1yb290Pi5maWxlcG9uZC0tcGFuZWx7ei1pbmRleDoyfS5maWxlcG9uZC0tYnJvd3Nlcnt6LWluZGV4OjF9LmZpbGVwb25kLS1yb290e2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tYm90dG9tOjFlbTtmb250LXNpemU6MXJlbTtsaW5lLWhlaWdodDpub3JtYWw7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbDtmb250LXdlaWdodDo0NTA7dGV4dC1hbGlnbjpsZWZ0O3RleHQtcmVuZGVyaW5nOm9wdGltaXplTGVnaWJpbGl0eTtkaXJlY3Rpb246bHRyO2NvbnRhaW46bGF5b3V0IHN0eWxlIHNpemV9LmZpbGVwb25kLS1yb290ICp7Ym94LXNpemluZzppbmhlcml0O2xpbmUtaGVpZ2h0OmluaGVyaXR9LmZpbGVwb25kLS1yb290IDpub3QodGV4dCl7Zm9udC1zaXplOmluaGVyaXR9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRde3BvaW50ZXItZXZlbnRzOm5vbmV9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcntwb2ludGVyLWV2ZW50czphbGx9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tbGlzdHtwb2ludGVyLWV2ZW50czpub25lfS5maWxlcG9uZC0tcm9vdCAuZmlsZXBvbmQtLWRyb3AtbGFiZWx7bWluLWhlaWdodDo0Ljc1ZW19LmZpbGVwb25kLS1yb290IC5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcnttYXJnaW4tdG9wOjFlbTttYXJnaW4tYm90dG9tOjFlbX0uZmlsZXBvbmQtLXJvb3QgLmZpbGVwb25kLS1jcmVkaXRze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7b3BhY2l0eTouMTc1O2xpbmUtaGVpZ2h0Oi44NTtmb250LXNpemU6MTFweDtjb2xvcjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjpub25lO3otaW5kZXg6Mztib3R0b206LTE0cHh9LmZpbGVwb25kLS1yb290IC5maWxlcG9uZC0tY3JlZGl0c1tzdHlsZV17dG9wOjA7Ym90dG9tOmF1dG87bWFyZ2luLXRvcDoxNHB4fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9kaXN0L2ZpbGVwb25kLm1pbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7RUFJRTs7QUFFRixtQkFBbUI7QUFDbkIscUJBQXFCLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsMEJBQTBCLENBQUMsNEJBQTRCLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMscUNBQXFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLGdCQUFnQixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMs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LENBQUMsNEJBQTRCLENBQUMseUJBQXlCLENBQUMscUNBQXFDLGlCQUFpQixDQUFDLDhCQUE4QixlQUFlLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLDZCQUE2QixDQUFDLGtDQUFrQyxVQUFVLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLHNCQUFzQixDQUFDLG1DQUFtQyxTQUFTLENBQUMsbUJBQW1CLENBQUMseUJBQXlCLFNBQVMsQ0FBQyxzQkFBc0IsU0FBUyxDQUFDLGdCQUFnQixTQUFTLENBQUMsaUNBQWlDLFNBQVMsQ0FBQyxtQkFBbUIsU0FBUyxDQUFDLGdCQUFnQixxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsd0lBQXdJLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxpQ0FBaUMsQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUMsa0JBQWtCLGtCQUFrQixDQUFDLG1CQUFtQixDQUFDLDJCQUEyQixpQkFBaUIsQ0FBQywrQkFBK0IsbUJBQW1CLENBQUMsd0RBQXdELGtCQUFrQixDQUFDLCtDQUErQyxtQkFBbUIsQ0FBQyxzQ0FBc0MsaUJBQWlCLENBQUMseUNBQXlDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBbUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLDBDQUEwQyxLQUFLLENBQUMsV0FBVyxDQUFDLGVBQWVcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyohXFxuICogRmlsZVBvbmQgNC4zMC42XFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXFxuICovXFxuXFxuLyogZXNsaW50LWRpc2FibGUgKi9cXG4uZmlsZXBvbmQtLWFzc2lzdGFudHtwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjFweDt3aWR0aDoxcHg7cGFkZGluZzowO2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7d2hpdGUtc3BhY2U6bm93cmFwfS5maWxlcG9uZC0tYnJvd3Nlci5maWxlcG9uZC0tYnJvd3Nlcntwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MDtwYWRkaW5nOjA7bGVmdDoxZW07dG9wOjEuNzVlbTt3aWR0aDpjYWxjKDEwMCUgLSAyZW0pO29wYWNpdHk6MDtmb250LXNpemU6MH0uZmlsZXBvbmQtLWRhdGF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOm5vbmU7dmlzaWJpbGl0eTpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZTtjb250YWluOnN0cmljdH0uZmlsZXBvbmQtLWRyaXB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7b3ZlcmZsb3c6aGlkZGVuO29wYWNpdHk6LjE7cG9pbnRlci1ldmVudHM6bm9uZTtib3JkZXItcmFkaXVzOi41ZW07YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4wMSl9LmZpbGVwb25kLS1kcmlwLWJsb2J7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgY2VudGVyO3dpZHRoOjhlbTtoZWlnaHQ6OGVtO21hcmdpbi1sZWZ0Oi00ZW07bWFyZ2luLXRvcDotNGVtO2JhY2tncm91bmQ6IzI5MjYyNTtib3JkZXItcmFkaXVzOjUwJX0uZmlsZXBvbmQtLWRyaXAtYmxvYiwuZmlsZXBvbmQtLWRyb3AtbGFiZWx7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tZHJvcC1sYWJlbHtyaWdodDowO21hcmdpbjowO2NvbG9yOiM0ZjRmNGY7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDowOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uZmlsZXBvbmQtLWRyb3AtbGFiZWwuZmlsZXBvbmQtLWRyb3AtbGFiZWwgbGFiZWx7ZGlzcGxheTpibG9jazttYXJnaW46MDtwYWRkaW5nOi41ZW19LmZpbGVwb25kLS1kcm9wLWxhYmVsIGxhYmVse2N1cnNvcjpkZWZhdWx0O2ZvbnQtc2l6ZTouODc1ZW07Zm9udC13ZWlnaHQ6NDAwO3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjEuNX0uZmlsZXBvbmQtLWxhYmVsLWFjdGlvbnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uLXNraXA6aW5rO3RleHQtZGVjb3JhdGlvbi1za2lwLWluazphdXRvOy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiNhN2E0YTQ7dGV4dC1kZWNvcmF0aW9uLWNvbG9yOiNhN2E0YTQ7Y3Vyc29yOnBvaW50ZXJ9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCBsYWJlbHtvcGFjaXR5Oi41fS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257Zm9udC1zaXplOjFlbTt3aWR0aDoxLjYyNWVtO2hlaWdodDoxLjYyNWVtO2ZvbnQtZmFtaWx5OmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24gc3Bhbntwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjFweDt3aWR0aDoxcHg7cGFkZGluZzowO2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7d2hpdGUtc3BhY2U6bm93cmFwfS5maWxlcG9uZC0tZmlsZS1hY3Rpb24tYnV0dG9uLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24gc3Zne3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0uNzVlbTtyaWdodDotLjc1ZW07dG9wOi0uNzVlbTtib3R0b206LS43NWVtO2NvbnRlbnQ6XFxcIlxcXCJ9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257Y3Vyc29yOmF1dG87Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpO2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3gtc2hhZG93OjAgMCAwIDAgaHNsYSgwLDAlLDEwMCUsMCk7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4yNXMgZWFzZS1pbn0uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjpmb2N1cywuZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbjpob3Zlcntib3gtc2hhZG93OjAgMCAwIC4xMjVlbSBoc2xhKDAsMCUsMTAwJSwuOSl9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b25bZGlzYWJsZWRde2NvbG9yOmhzbGEoMCwwJSwxMDAlLC41KTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjI1KX0uZmlsZXBvbmQtLWZpbGUtYWN0aW9uLWJ1dHRvbltoaWRkZW5de2Rpc3BsYXk6bm9uZX0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW17d2lkdGg6MmVtO2hlaWdodDoyZW07cGFkZGluZzouMTg3NWVtfS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbVtkYXRhLWFsaWduKj1jZW50ZXJde21hcmdpbi1sZWZ0Oi0uMTg3NWVtfS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbS5maWxlcG9uZC0tYWN0aW9uLWVkaXQtaXRlbVtkYXRhLWFsaWduKj1ib3R0b21de21hcmdpbi1ib3R0b206LS4xODc1ZW19LmZpbGVwb25kLS1hY3Rpb24tZWRpdC1pdGVtLWFsdHtib3JkZXI6bm9uZTtsaW5lLWhlaWdodDppbmhlcml0O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Zm9udC1mYW1pbHk6aW5oZXJpdDtjb2xvcjppbmhlcml0O291dGxpbmU6bm9uZTtwYWRkaW5nOjA7bWFyZ2luOjAgMCAwIC4yNWVtO3BvaW50ZXItZXZlbnRzOmFsbDtwb3NpdGlvbjphYnNvbHV0ZX0uZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0tYWx0IHN2Z3t3aWR0aDoxLjMxMjVlbTtoZWlnaHQ6MS4zMTI1ZW19LmZpbGVwb25kLS1hY3Rpb24tZWRpdC1pdGVtLWFsdCBzcGFue2ZvbnQtc2l6ZTowO29wYWNpdHk6MH0uZmlsZXBvbmQtLWZpbGUtaW5mb3twb3NpdGlvbjpzdGF0aWM7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O2ZsZXg6MTttYXJnaW46MCAuNWVtIDAgMDttaW4td2lkdGg6MDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sb3BhY2l0eTtwb2ludGVyLWV2ZW50czpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uZmlsZXBvbmQtLWZpbGUtaW5mbyAqe21hcmdpbjowfS5maWxlcG9uZC0tZmlsZS1pbmZvIC5maWxlcG9uZC0tZmlsZS1pbmZvLW1haW57Zm9udC1zaXplOi43NWVtO2xpbmUtaGVpZ2h0OjEuMjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7d2lkdGg6MTAwJX0uZmlsZXBvbmQtLWZpbGUtaW5mbyAuZmlsZXBvbmQtLWZpbGUtaW5mby1zdWJ7Zm9udC1zaXplOi42MjVlbTtvcGFjaXR5Oi41O3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UtaW4tb3V0O3doaXRlLXNwYWNlOm5vd3JhcH0uZmlsZXBvbmQtLWZpbGUtaW5mbyAuZmlsZXBvbmQtLWZpbGUtaW5mby1zdWI6ZW1wdHl7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tZmlsZS1zdGF0dXN7cG9zaXRpb246c3RhdGljO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6ZmxleC1lbmQ7ZmxleC1ncm93OjA7ZmxleC1zaHJpbms6MDttYXJnaW46MDttaW4td2lkdGg6Mi4yNWVtO3RleHQtYWxpZ246cmlnaHQ7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmZpbGVwb25kLS1maWxlLXN0YXR1cyAqe21hcmdpbjowO3doaXRlLXNwYWNlOm5vd3JhcH0uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtbWFpbntmb250LXNpemU6Ljc1ZW07bGluZS1oZWlnaHQ6MS4yfS5maWxlcG9uZC0tZmlsZS1zdGF0dXMgLmZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWJ7Zm9udC1zaXplOi42MjVlbTtvcGFjaXR5Oi41O3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2UtaW4tb3V0fS5maWxlcG9uZC0tZmlsZS13cmFwcGVyLmZpbGVwb25kLS1maWxlLXdyYXBwZXJ7Ym9yZGVyOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO21pbi13aWR0aDowO2hlaWdodDoxMDAlfS5maWxlcG9uZC0tZmlsZS13cmFwcGVyLmZpbGVwb25kLS1maWxlLXdyYXBwZXI+bGVnZW5ke3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MXB4O3dpZHRoOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjA7Y2xpcDpyZWN0KDFweCwxcHgsMXB4LDFweCk7LXdlYmtpdC1jbGlwLXBhdGg6aW5zZXQoNTAlKTtjbGlwLXBhdGg6aW5zZXQoNTAlKTt3aGl0ZS1zcGFjZTpub3dyYXB9LmZpbGVwb25kLS1maWxle3Bvc2l0aW9uOnN0YXRpYztkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7YWxpZ24taXRlbXM6ZmxleC1zdGFydDtwYWRkaW5nOi41NjI1ZW07Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOi41ZW19LmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tZmlsZS1zdGF0dXN7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6Mi4yNWVtfS5maWxlcG9uZC0tZmlsZSAuZmlsZXBvbmQtLXByb2Nlc3NpbmctY29tcGxldGUtaW5kaWNhdG9ye3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6M30uZmlsZXBvbmQtLWZpbGUgLmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b24sLmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvY2Vzc2luZy1jb21wbGV0ZS1pbmRpY2F0b3IsLmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9ye3Bvc2l0aW9uOmFic29sdXRlfS5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9bGVmdF17bGVmdDouNTYyNWVtfS5maWxlcG9uZC0tZmlsZSBbZGF0YS1hbGlnbio9cmlnaHRde3JpZ2h0Oi41NjI1ZW19LmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduKj1jZW50ZXJde2xlZnQ6Y2FsYyg1MCUgLSAuODEyNWVtKX0uZmlsZXBvbmQtLWZpbGUgW2RhdGEtYWxpZ24qPWJvdHRvbV17Ym90dG9tOjEuMTI1ZW19LmZpbGVwb25kLS1maWxlIFtkYXRhLWFsaWduPWNlbnRlcl17dG9wOmNhbGMoNTAlIC0gLjgxMjVlbSl9LmZpbGVwb25kLS1maWxlIC5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9ye21hcmdpbi10b3A6LjE4NzVlbX0uZmlsZXBvbmQtLWZpbGUgLmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3JbZGF0YS1hbGlnbio9cmlnaHRde21hcmdpbi1yaWdodDouMTg3NWVtfS5maWxlcG9uZC0tZmlsZSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcltkYXRhLWFsaWduKj1sZWZ0XXttYXJnaW4tbGVmdDouMTg3NWVtfVtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWVycm9yXSAuZmlsZXBvbmQtLWZpbGUtaW5mbyxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1pbnZhbGlkXSAuZmlsZXBvbmQtLWZpbGUtaW5mbyxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPWNhbmNlbGxlZF0gLmZpbGVwb25kLS1maWxlLWluZm97bWFyZ2luLXJpZ2h0OjIuMjVlbX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlfj1wcm9jZXNzaW5nXSAuZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1YntvcGFjaXR5OjB9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZX49cHJvY2Vzc2luZ10gLmZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1wcm9jZXNzaW5nfi5maWxlcG9uZC0tZmlsZS1zdGF0dXMgLmZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWJ7b3BhY2l0eTouNX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctZXJyb3JdIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6MH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctZXJyb3JdIC5maWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tcHJvY2Vzc2luZ34uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6LjV9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZT1wcm9jZXNzaW5nLWNvbXBsZXRlXSAuZmlsZXBvbmQtLWFjdGlvbi1yZXZlcnQtaXRlbS1wcm9jZXNzaW5nIHN2Z3std2Via2l0LWFuaW1hdGlvbjpmYWxsIC41cyBsaW5lYXIgLjEyNXMgYm90aDthbmltYXRpb246ZmFsbCAuNXMgbGluZWFyIC4xMjVzIGJvdGh9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZT1wcm9jZXNzaW5nLWNvbXBsZXRlXSAuZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1YntvcGFjaXR5Oi41fVtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGU9cHJvY2Vzc2luZy1jb21wbGV0ZV0gLmZpbGVwb25kLS1maWxlLWluZm8tc3ViLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGU9cHJvY2Vzc2luZy1jb21wbGV0ZV0gLmZpbGVwb25kLS1wcm9jZXNzaW5nLWNvbXBsZXRlLWluZGljYXRvcjpub3QoW3N0eWxlKj1oaWRkZW5dKX4uZmlsZXBvbmQtLWZpbGUtc3RhdHVzIC5maWxlcG9uZC0tZmlsZS1zdGF0dXMtc3Vie29wYWNpdHk6MH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctY29tcGxldGVdIC5maWxlcG9uZC0tYWN0aW9uLXJldmVydC1pdGVtLXByb2Nlc3Npbmd+LmZpbGVwb25kLS1maWxlLWluZm8gLmZpbGVwb25kLS1maWxlLWluZm8tc3Vie29wYWNpdHk6LjV9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZSo9ZXJyb3JdIC5maWxlcG9uZC0tZmlsZS13cmFwcGVyLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWVycm9yXSAuZmlsZXBvbmQtLXBhbmVsLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWludmFsaWRdIC5maWxlcG9uZC0tZmlsZS13cmFwcGVyLFtkYXRhLWZpbGVwb25kLWl0ZW0tc3RhdGUqPWludmFsaWRdIC5maWxlcG9uZC0tcGFuZWx7LXdlYmtpdC1hbmltYXRpb246c2hha2UgLjY1cyBsaW5lYXIgYm90aDthbmltYXRpb246c2hha2UgLjY1cyBsaW5lYXIgYm90aH1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1idXN5XSAuZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvciBzdmd7LXdlYmtpdC1hbmltYXRpb246c3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOnNwaW4gMXMgbGluZWFyIGluZmluaXRlfUAtd2Via2l0LWtleWZyYW1lcyBzcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxdHVybik7dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMXR1cm4pO3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2hha2V7MTAlLDkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMDYyNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtLjA2MjVlbSl9MjAlLDgwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC4xMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjEyNWVtKX0zMCUsNTAlLDcwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4yNWVtKX00MCUsNjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjI1ZW0pO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC4yNWVtKX19QGtleWZyYW1lcyBzaGFrZXsxMCUsOTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4wNjI1ZW0pO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0uMDYyNWVtKX0yMCUsODAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjEyNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCguMTI1ZW0pfTMwJSw1MCUsNzAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLS4yNWVtKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtLjI1ZW0pfTQwJSw2MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCguMjVlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjI1ZW0pfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFsbHswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXR9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjEpO3RyYW5zZm9ybTpzY2FsZSgxLjEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH19QGtleWZyYW1lcyBmYWxsezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMSk7dHJhbnNmb3JtOnNjYWxlKDEuMSk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXR9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0fX0uZmlsZXBvbmQtLWhvcHBlcltkYXRhLWhvcHBlci1zdGF0ZT1kcmFnLW92ZXJdPip7cG9pbnRlci1ldmVudHM6bm9uZX0uZmlsZXBvbmQtLWhvcHBlcltkYXRhLWhvcHBlci1zdGF0ZT1kcmFnLW92ZXJdOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxMDB9LmZpbGVwb25kLS1wcm9ncmVzcy1pbmRpY2F0b3J7ei1pbmRleDoxMDN9LmZpbGVwb25kLS1maWxlLWFjdGlvbi1idXR0b257ei1pbmRleDoxMDJ9LmZpbGVwb25kLS1maWxlLXN0YXR1c3t6LWluZGV4OjEwMX0uZmlsZXBvbmQtLWZpbGUtaW5mb3t6LWluZGV4OjEwMH0uZmlsZXBvbmQtLWl0ZW17cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDoxO3BhZGRpbmc6MDttYXJnaW46LjI1ZW07d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHl9LmZpbGVwb25kLS1pdGVtPi5maWxlcG9uZC0tcGFuZWx7ei1pbmRleDotMX0uZmlsZXBvbmQtLWl0ZW0+LmZpbGVwb25kLS1wYW5lbCAuZmlsZXBvbmQtLXBhbmVsLWJvdHRvbXtib3gtc2hhZG93OjAgLjA2MjVlbSAuMTI1ZW0gLS4wNjI1ZW0gcmdiYSgwLDAsMCwuMjUpfS5maWxlcG9uZC0taXRlbT4uZmlsZXBvbmQtLWZpbGUtd3JhcHBlciwuZmlsZXBvbmQtLWl0ZW0+LmZpbGVwb25kLS1wYW5lbHt0cmFuc2l0aW9uOm9wYWNpdHkgLjE1cyBlYXNlLW91dH0uZmlsZXBvbmQtLWl0ZW1bZGF0YS1kcmFnLXN0YXRlXXtjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFifS5maWxlcG9uZC0taXRlbVtkYXRhLWRyYWctc3RhdGVdPi5maWxlcG9uZC0tcGFuZWx7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4xMjVzIGVhc2UtaW4tb3V0O2JveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnR9LmZpbGVwb25kLS1pdGVtW2RhdGEtZHJhZy1zdGF0ZT1kcmFnXXtjdXJzb3I6LXdlYmtpdC1ncmFiYmluZztjdXJzb3I6Z3JhYmJpbmd9LmZpbGVwb25kLS1pdGVtW2RhdGEtZHJhZy1zdGF0ZT1kcmFnXT4uZmlsZXBvbmQtLXBhbmVse2JveC1zaGFkb3c6MCAuMTI1ZW0gLjMxMjVlbSByZ2JhKDAsMCwwLC4zMjUpfS5maWxlcG9uZC0taXRlbVtkYXRhLWRyYWctc3RhdGVdOm5vdChbZGF0YS1kcmFnLXN0YXRlPWlkbGVdKXt6LWluZGV4OjJ9LmZpbGVwb25kLS1pdGVtLXBhbmVse2JhY2tncm91bmQtY29sb3I6IzY0NjA1ZX1bZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlPXByb2Nlc3NpbmctY29tcGxldGVdIC5maWxlcG9uZC0taXRlbS1wYW5lbHtiYWNrZ3JvdW5kLWNvbG9yOiMzNjk3NjN9W2RhdGEtZmlsZXBvbmQtaXRlbS1zdGF0ZSo9ZXJyb3JdIC5maWxlcG9uZC0taXRlbS1wYW5lbCxbZGF0YS1maWxlcG9uZC1pdGVtLXN0YXRlKj1pbnZhbGlkXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWx7YmFja2dyb3VuZC1jb2xvcjojYzQ0ZTQ3fS5maWxlcG9uZC0taXRlbS1wYW5lbHtib3JkZXItcmFkaXVzOi41ZW07dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4yNXN9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO21hcmdpbjowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uZmlsZXBvbmQtLWxpc3Qtc2Nyb2xsZXJbZGF0YS1zdGF0ZT1vdmVyZmxvd10gLmZpbGVwb25kLS1saXN0e2JvdHRvbTowO3JpZ2h0OjB9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyW2RhdGEtc3RhdGU9b3ZlcmZsb3dde292ZXJmbG93LXk6c2Nyb2xsO292ZXJmbG93LXg6aGlkZGVuOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy13ZWJraXQtbWFzazpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCMwMDAgY2FsYygxMDAlIC0gLjVlbSksdHJhbnNwYXJlbnQpO21hc2s6bGluZWFyLWdyYWRpZW50KDE4MGRlZywjMDAwIGNhbGMoMTAwJSAtIC41ZW0pLHRyYW5zcGFyZW50KX0uZmlsZXBvbmQtLWxpc3Qtc2Nyb2xsZXI6Oi13ZWJraXQtc2Nyb2xsYmFye2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhcjp2ZXJ0aWNhbHt3aWR0aDoxZW19LmZpbGVwb25kLS1saXN0LXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhcjpob3Jpem9udGFse2hlaWdodDowfS5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4zKTtib3JkZXItcmFkaXVzOjk5OTk5cHg7Ym9yZGVyOi4zMTI1ZW0gc29saWQgdHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jbGlwOmNvbnRlbnQtYm94fS5maWxlcG9uZC0tbGlzdC5maWxlcG9uZC0tbGlzdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZS10eXBlOm5vbmU7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5maWxlcG9uZC0tbGlzdHtsZWZ0Oi43NWVtO3JpZ2h0Oi43NWVtfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF17d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXgtd2lkdGg6bm9uZTttYXJnaW46MH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wYW5lbC1yb290LC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1wYW5lbC1yb290e2JvcmRlci1yYWRpdXM6MH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1wYW5lbC1yb290PiosLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLXBhbmVsLXJvb3Q+KntkaXNwbGF5Om5vbmV9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCwuZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbHtib3R0b206MDtoZWlnaHQ6YXV0bztkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ei1pbmRleDo3fS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWwsLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLWl0ZW0tcGFuZWx7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1saXN0LXNjcm9sbGVyLC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1saXN0LXNjcm9sbGVye292ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MTAwJTttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1saXN0LC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1saXN0e2xlZnQ6MDtyaWdodDowO2hlaWdodDoxMDAlfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1pdGVtLC5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49aW50ZWdyYXRlZF0gLmZpbGVwb25kLS1pdGVte21hcmdpbjowfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y29tcGFjdF0gLmZpbGVwb25kLS1maWxlLXdyYXBwZXIsLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1pbnRlZ3JhdGVkXSAuZmlsZXBvbmQtLWZpbGUtd3JhcHBlcntoZWlnaHQ6MTAwJX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNvbXBhY3RdIC5maWxlcG9uZC0tZHJvcC1sYWJlbCwuZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWludGVncmF0ZWRdIC5maWxlcG9uZC0tZHJvcC1sYWJlbHt6LWluZGV4Ojd9LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVde2JvcmRlci1yYWRpdXM6OTk5OTlyZW07b3ZlcmZsb3c6aGlkZGVufS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXT4uZmlsZXBvbmQtLXBhbmVse2JvcmRlci1yYWRpdXM6aW5oZXJpdH0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0+LmZpbGVwb25kLS1wYW5lbD4qe2Rpc3BsYXk6bm9uZX0uZmlsZXBvbmQtLXJvb3RbZGF0YS1zdHlsZS1wYW5lbC1sYXlvdXR+PWNpcmNsZV0gLmZpbGVwb25kLS1maWxlLWluZm8sLmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVdIC5maWxlcG9uZC0tZmlsZS1zdGF0dXN7ZGlzcGxheTpub25lfS5maWxlcG9uZC0tcm9vdFtkYXRhLXN0eWxlLXBhbmVsLWxheW91dH49Y2lyY2xlXSAuZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW17b3BhY2l0eToxIWltcG9ydGFudDt2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50fUBtZWRpYSBub3QgYWxsIGFuZCAobWluLXJlc29sdXRpb246MC4wMDFkcGNtKXtAc3VwcG9ydHMgKC13ZWJraXQtYXBwZWFyYW5jZTpub25lKSBhbmQgKHN0cm9rZS1jb2xvcjp0cmFuc3BhcmVudCl7LmZpbGVwb25kLS1yb290W2RhdGEtc3R5bGUtcGFuZWwtbGF5b3V0fj1jaXJjbGVde3dpbGwtY2hhbmdlOnRyYW5zZm9ybX19fS5maWxlcG9uZC0tcGFuZWwtcm9vdHtib3JkZXItcmFkaXVzOi41ZW07YmFja2dyb3VuZC1jb2xvcjojZjFmMGVmfS5maWxlcG9uZC0tcGFuZWx7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7bWFyZ2luOjA7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmV9LmZpbGVwb25kLXBhbmVsOm5vdChbZGF0YS1zY2FsYWJsZT1mYWxzZV0pe2hlaWdodDphdXRvIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsW2RhdGEtc2NhbGFibGU9ZmFsc2VdPmRpdntkaXNwbGF5Om5vbmV9LmZpbGVwb25kLS1wYW5lbFtkYXRhLXNjYWxhYmxlPXRydWVdey13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOnByZXNlcnZlLTNkO3RyYW5zZm9ybS1zdHlsZTpwcmVzZXJ2ZS0zZDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnR9LmZpbGVwb25kLS1wYW5lbC1ib3R0b20sLmZpbGVwb25kLS1wYW5lbC1jZW50ZXIsLmZpbGVwb25kLS1wYW5lbC10b3B7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7bWFyZ2luOjA7cGFkZGluZzowfS5maWxlcG9uZC0tcGFuZWwtYm90dG9tLC5maWxlcG9uZC0tcGFuZWwtdG9we2hlaWdodDouNWVtfS5maWxlcG9uZC0tcGFuZWwtdG9we2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbTpub25lIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsLXRvcDphZnRlcntjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoycHg7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOi0xcHg7YmFja2dyb3VuZC1jb2xvcjppbmhlcml0fS5maWxlcG9uZC0tcGFuZWwtYm90dG9tLC5maWxlcG9uZC0tcGFuZWwtY2VudGVye3dpbGwtY2hhbmdlOnRyYW5zZm9ybTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgdG9wOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLjVlbSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwuNWVtLDApfS5maWxlcG9uZC0tcGFuZWwtYm90dG9te2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcDpub25lIWltcG9ydGFudH0uZmlsZXBvbmQtLXBhbmVsLWJvdHRvbTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MnB4O2xlZnQ6MDtyaWdodDowO3RvcDotMXB4O2JhY2tncm91bmQtY29sb3I6aW5oZXJpdH0uZmlsZXBvbmQtLXBhbmVsLWNlbnRlcntoZWlnaHQ6MTAwcHghaW1wb3J0YW50O2JvcmRlci10b3A6bm9uZSFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbTpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAhaW1wb3J0YW50fS5maWxlcG9uZC0tcGFuZWwtY2VudGVyOm5vdChbc3R5bGVdKXt2aXNpYmlsaXR5OmhpZGRlbn0uZmlsZXBvbmQtLXByb2dyZXNzLWluZGljYXRvcntwb3NpdGlvbjpzdGF0aWM7d2lkdGg6MS4yNWVtO2hlaWdodDoxLjI1ZW07Y29sb3I6I2ZmZjttYXJnaW46MDtwb2ludGVyLWV2ZW50czpub25lO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5fS5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9yIHN2Z3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3ZlcnRpY2FsLWFsaWduOnRvcDt0cmFuc2Zvcm0tYm94OmZpbGwtYm94fS5maWxlcG9uZC0tcHJvZ3Jlc3MtaW5kaWNhdG9yIHBhdGh7ZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3J9LmZpbGVwb25kLS1saXN0LXNjcm9sbGVye3otaW5kZXg6Nn0uZmlsZXBvbmQtLWRyb3AtbGFiZWx7ei1pbmRleDo1fS5maWxlcG9uZC0tZHJpcHt6LWluZGV4OjN9LmZpbGVwb25kLS1yb290Pi5maWxlcG9uZC0tcGFuZWx7ei1pbmRleDoyfS5maWxlcG9uZC0tYnJvd3Nlcnt6LWluZGV4OjF9LmZpbGVwb25kLS1yb290e2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tYm90dG9tOjFlbTtmb250LXNpemU6MXJlbTtsaW5lLWhlaWdodDpub3JtYWw7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbDtmb250LXdlaWdodDo0NTA7dGV4dC1hbGlnbjpsZWZ0O3RleHQtcmVuZGVyaW5nOm9wdGltaXplTGVnaWJpbGl0eTtkaXJlY3Rpb246bHRyO2NvbnRhaW46bGF5b3V0IHN0eWxlIHNpemV9LmZpbGVwb25kLS1yb290ICp7Ym94LXNpemluZzppbmhlcml0O2xpbmUtaGVpZ2h0OmluaGVyaXR9LmZpbGVwb25kLS1yb290IDpub3QodGV4dCl7Zm9udC1zaXplOmluaGVyaXR9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRde3BvaW50ZXItZXZlbnRzOm5vbmV9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcntwb2ludGVyLWV2ZW50czphbGx9LmZpbGVwb25kLS1yb290W2RhdGEtZGlzYWJsZWRdIC5maWxlcG9uZC0tbGlzdHtwb2ludGVyLWV2ZW50czpub25lfS5maWxlcG9uZC0tcm9vdCAuZmlsZXBvbmQtLWRyb3AtbGFiZWx7bWluLWhlaWdodDo0Ljc1ZW19LmZpbGVwb25kLS1yb290IC5maWxlcG9uZC0tbGlzdC1zY3JvbGxlcnttYXJnaW4tdG9wOjFlbTttYXJnaW4tYm90dG9tOjFlbX0uZmlsZXBvbmQtLXJvb3QgLmZpbGVwb25kLS1jcmVkaXRze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7b3BhY2l0eTouMTc1O2xpbmUtaGVpZ2h0Oi44NTtmb250LXNpemU6MTFweDtjb2xvcjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjpub25lO3otaW5kZXg6Mztib3R0b206LTE0cHh9LmZpbGVwb25kLS1yb290IC5maWxlcG9uZC0tY3JlZGl0c1tzdHlsZV17dG9wOjA7Ym90dG9tOmF1dG87bWFyZ2luLXRvcDoxNHB4fVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond/dist/filepond.min.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue3-carousel/dist/carousel.css":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue3-carousel/dist/carousel.css ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/cssWithMappingToString.js */ \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  /* Color */\\n  --vc-clr-primary: #000;\\n  --vc-clr-secondary: #090f207f;\\n  --vc-clr-white: #ffffff;\\n\\n  /* Icon */\\n  --vc-icn-width: 1.2em;\\n\\n  /* Navigation */\\n  --vc-nav-width: 30px;\\n  --vc-nav-height: 30px;\\n  --vc-nav-border-radius: 0;\\n  --vc-nav-color: var(--vc-clr-primary);\\n  --vc-nav-color-hover: var(--vc-clr-secondary);\\n  --vc-nav-background: transparent;\\n\\n  /* Pagination */\\n  --vc-pgn-width: 12px;\\n  --vc-pgn-height: 4px;\\n  --vc-pgn-margin: 4px;\\n  --vc-pgn-border-radius: 0;\\n  --vc-pgn-background-color: var(--vc-clr-secondary);\\n  --vc-pgn-active-color: var(--vc-clr-primary);\\n}\\n.carousel__prev,\\n.carousel__next {\\n  box-sizing: content-box;\\n  background: var(--vc-nav-background);\\n  border-radius: var(--vc-nav-border-radius);\\n  width: var(--vc-nav-width);\\n  height: var(--vc-nav-height);\\n  text-align: center;\\n  font-size: var(--vc-nav-height);\\n  padding: 0;\\n  color: var(--vc-nav-color);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: absolute;\\n  border: 0;\\n  cursor: pointer;\\n  margin: 0 10px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n.carousel__prev:hover,\\n.carousel__next:hover {\\n  color: var(--vc-nav-color-hover);\\n}\\n\\n.carousel__next--disabled,\\n.carousel__prev--disabled {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.carousel__prev {\\n  left: 0;\\n}\\n\\n.carousel__next {\\n  right: 0;\\n}\\n\\n.carousel--rtl .carousel__prev {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.carousel--rtl .carousel__next {\\n  right: auto;\\n  left: 0;\\n}\\n.carousel {\\n  position: relative;\\n  text-align: center;\\n  box-sizing: border-box;\\n  touch-action: pan-y;\\n  -ms-scroll-chaining: none;\\n      overscroll-behavior: none;\\n}\\n\\n.carousel.is-dragging {\\n  touch-action: none;\\n}\\n\\n.carousel * {\\n  box-sizing: border-box;\\n}\\n\\n.carousel__track {\\n  display: flex;\\n  padding: 0 !important;\\n  position: relative;\\n}\\n\\n.carousel__viewport {\\n  overflow: hidden;\\n}\\n\\n.carousel__sr-only {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n.carousel__icon {\\n  width: var(--vc-icn-width);\\n  height: var(--vc-icn-width);\\n  fill: currentColor;\\n}\\n.carousel__pagination {\\n  display: flex;\\n  justify-content: center;\\n  list-style: none;\\n  line-height: 0;\\n  margin: 10px 0 0;\\n}\\n\\n.carousel__pagination-button {\\n  display: block;\\n  border: 0;\\n  margin: 0;\\n  cursor: pointer;\\n  padding: var(--vc-pgn-margin);\\n  background: transparent;\\n}\\n\\n.carousel__pagination-button::after {\\n  display: block;\\n  content: '';\\n  width: var(--vc-pgn-width);\\n  height: var(--vc-pgn-height);\\n  border-radius: var(--vc-pgn-border-radius);\\n  background-color: var(--vc-pgn-background-color);\\n}\\n\\n.carousel__pagination-button:hover::after,\\n.carousel__pagination-button--active::after {\\n  background-color: var(--vc-pgn-active-color);\\n}\\n.carousel__slide {\\n  scroll-snap-stop: auto;\\n  flex-shrink: 0;\\n  margin: 0;\\n  position: relative;\\n\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  /* Fix iOS scrolling #22 */\\n  transform: translateZ(0);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/vue3-carousel/dist/carousel.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,UAAU;EACV,sBAAsB;EACtB,6BAA6B;EAC7B,uBAAuB;;EAEvB,SAAS;EACT,qBAAqB;;EAErB,eAAe;EACf,oBAAoB;EACpB,qBAAqB;EACrB,yBAAyB;EACzB,qCAAqC;EACrC,6CAA6C;EAC7C,gCAAgC;;EAEhC,eAAe;EACf,oBAAoB;EACpB,oBAAoB;EACpB,oBAAoB;EACpB,yBAAyB;EACzB,kDAAkD;EAClD,4CAA4C;AAC9C;AACA;;EAEE,uBAAuB;EACvB,oCAAoC;EACpC,0CAA0C;EAC1C,0BAA0B;EAC1B,4BAA4B;EAC5B,kBAAkB;EAClB,+BAA+B;EAC/B,UAAU;EACV,0BAA0B;EAC1B,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;EAClB,SAAS;EACT,eAAe;EACf,cAAc;EACd,QAAQ;EACR,2BAA2B;AAC7B;;AAEA;;EAEE,gCAAgC;AAClC;;AAEA;;EAEE,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,QAAQ;AACV;;AAEA;EACE,UAAU;EACV,QAAQ;AACV;;AAEA;EACE,WAAW;EACX,OAAO;AACT;AACA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,mBAAmB;EACnB,yBAAyB;MAAzB,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,UAAU;EACV,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,SAAS;AACX;AACA;EACE,0BAA0B;EAC1B,2BAA2B;EAC3B,kBAAkB;AACpB;AACA;EACE,aAAa;EACb,uBAAuB;EACvB,gBAAgB;EAChB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,SAAS;EACT,SAAS;EACT,eAAe;EACf,6BAA6B;EAC7B,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,0BAA0B;EAC1B,4BAA4B;EAC5B,0CAA0C;EAC1C,gDAAgD;AAClD;;AAEA;;EAEE,4CAA4C;AAC9C;AACA;EACE,sBAAsB;EACtB,cAAc;EACd,SAAS;EACT,kBAAkB;;EAElB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;;EAEnB,0BAA0B;EAC1B,wBAAwB;AAC1B\",\"sourcesContent\":[\":root {\\n  /* Color */\\n  --vc-clr-primary: #000;\\n  --vc-clr-secondary: #090f207f;\\n  --vc-clr-white: #ffffff;\\n\\n  /* Icon */\\n  --vc-icn-width: 1.2em;\\n\\n  /* Navigation */\\n  --vc-nav-width: 30px;\\n  --vc-nav-height: 30px;\\n  --vc-nav-border-radius: 0;\\n  --vc-nav-color: var(--vc-clr-primary);\\n  --vc-nav-color-hover: var(--vc-clr-secondary);\\n  --vc-nav-background: transparent;\\n\\n  /* Pagination */\\n  --vc-pgn-width: 12px;\\n  --vc-pgn-height: 4px;\\n  --vc-pgn-margin: 4px;\\n  --vc-pgn-border-radius: 0;\\n  --vc-pgn-background-color: var(--vc-clr-secondary);\\n  --vc-pgn-active-color: var(--vc-clr-primary);\\n}\\n.carousel__prev,\\n.carousel__next {\\n  box-sizing: content-box;\\n  background: var(--vc-nav-background);\\n  border-radius: var(--vc-nav-border-radius);\\n  width: var(--vc-nav-width);\\n  height: var(--vc-nav-height);\\n  text-align: center;\\n  font-size: var(--vc-nav-height);\\n  padding: 0;\\n  color: var(--vc-nav-color);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: absolute;\\n  border: 0;\\n  cursor: pointer;\\n  margin: 0 10px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n.carousel__prev:hover,\\n.carousel__next:hover {\\n  color: var(--vc-nav-color-hover);\\n}\\n\\n.carousel__next--disabled,\\n.carousel__prev--disabled {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.carousel__prev {\\n  left: 0;\\n}\\n\\n.carousel__next {\\n  right: 0;\\n}\\n\\n.carousel--rtl .carousel__prev {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.carousel--rtl .carousel__next {\\n  right: auto;\\n  left: 0;\\n}\\n.carousel {\\n  position: relative;\\n  text-align: center;\\n  box-sizing: border-box;\\n  touch-action: pan-y;\\n  overscroll-behavior: none;\\n}\\n\\n.carousel.is-dragging {\\n  touch-action: none;\\n}\\n\\n.carousel * {\\n  box-sizing: border-box;\\n}\\n\\n.carousel__track {\\n  display: flex;\\n  padding: 0 !important;\\n  position: relative;\\n}\\n\\n.carousel__viewport {\\n  overflow: hidden;\\n}\\n\\n.carousel__sr-only {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n.carousel__icon {\\n  width: var(--vc-icn-width);\\n  height: var(--vc-icn-width);\\n  fill: currentColor;\\n}\\n.carousel__pagination {\\n  display: flex;\\n  justify-content: center;\\n  list-style: none;\\n  line-height: 0;\\n  margin: 10px 0 0;\\n}\\n\\n.carousel__pagination-button {\\n  display: block;\\n  border: 0;\\n  margin: 0;\\n  cursor: pointer;\\n  padding: var(--vc-pgn-margin);\\n  background: transparent;\\n}\\n\\n.carousel__pagination-button::after {\\n  display: block;\\n  content: '';\\n  width: var(--vc-pgn-width);\\n  height: var(--vc-pgn-height);\\n  border-radius: var(--vc-pgn-border-radius);\\n  background-color: var(--vc-pgn-background-color);\\n}\\n\\n.carousel__pagination-button:hover::after,\\n.carousel__pagination-button--active::after {\\n  background-color: var(--vc-pgn-active-color);\\n}\\n.carousel__slide {\\n  scroll-snap-stop: auto;\\n  flex-shrink: 0;\\n  margin: 0;\\n  position: relative;\\n\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  /* Fix iOS scrolling #22 */\\n  transform: translateZ(0);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzJdIS4vbm9kZV9tb2R1bGVzL3Z1ZTMtY2Fyb3VzZWwvZGlzdC9jYXJvdXNlbC5jc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUM0RztBQUM3QjtBQUMvRSw4QkFBOEIsc0VBQTJCLENBQUMsMkZBQXFDO0FBQy9GO0FBQ0EsaURBQWlELDBDQUEwQyxrQ0FBa0MsNEJBQTRCLDBDQUEwQywrQ0FBK0MsMEJBQTBCLDhCQUE4QiwwQ0FBMEMsa0RBQWtELHFDQUFxQywrQ0FBK0MseUJBQXlCLHlCQUF5Qiw4QkFBOEIsdURBQXVELGlEQUFpRCxHQUFHLHFDQUFxQyw0QkFBNEIseUNBQXlDLCtDQUErQywrQkFBK0IsaUNBQWlDLHVCQUF1QixvQ0FBb0MsZUFBZSwrQkFBK0Isa0JBQWtCLDRCQUE0Qix3QkFBd0IsdUJBQXVCLGNBQWMsb0JBQW9CLG1CQUFtQixhQUFhLGdDQUFnQyxHQUFHLG1EQUFtRCxxQ0FBcUMsR0FBRywyREFBMkQsd0JBQXdCLGlCQUFpQixHQUFHLHFCQUFxQixZQUFZLEdBQUcscUJBQXFCLGFBQWEsR0FBRyxvQ0FBb0MsZUFBZSxhQUFhLEdBQUcsb0NBQW9DLGdCQUFnQixZQUFZLEdBQUcsYUFBYSx1QkFBdUIsdUJBQXVCLDJCQUEyQix3QkFBd0IsOEJBQThCLGtDQUFrQyxHQUFHLDJCQUEyQix1QkFBdUIsR0FBRyxpQkFBaUIsMkJBQTJCLEdBQUcsc0JBQXNCLGtCQUFrQiwwQkFBMEIsdUJBQXVCLEdBQUcseUJBQXlCLHFCQUFxQixHQUFHLHdCQUF3Qix1QkFBdUIsZUFBZSxnQkFBZ0IsZUFBZSxpQkFBaUIscUJBQXFCLDJCQUEyQixjQUFjLEdBQUcsbUJBQW1CLCtCQUErQixnQ0FBZ0MsdUJBQXVCLEdBQUcs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QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZTMtY2Fyb3VzZWwvZGlzdC9jYXJvdXNlbC5jc3M/N2UxMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAvKiBDb2xvciAqL1xcbiAgLS12Yy1jbHItcHJpbWFyeTogIzAwMDtcXG4gIC0tdmMtY2xyLXNlY29uZGFyeTogIzA5MGYyMDdmO1xcbiAgLS12Yy1jbHItd2hpdGU6ICNmZmZmZmY7XFxuXFxuICAvKiBJY29uICovXFxuICAtLXZjLWljbi13aWR0aDogMS4yZW07XFxuXFxuICAvKiBOYXZpZ2F0aW9uICovXFxuICAtLXZjLW5hdi13aWR0aDogMzBweDtcXG4gIC0tdmMtbmF2LWhlaWdodDogMzBweDtcXG4gIC0tdmMtbmF2LWJvcmRlci1yYWRpdXM6IDA7XFxuICAtLXZjLW5hdi1jb2xvcjogdmFyKC0tdmMtY2xyLXByaW1hcnkpO1xcbiAgLS12Yy1uYXYtY29sb3ItaG92ZXI6IHZhcigtLXZjLWNsci1zZWNvbmRhcnkpO1xcbiAgLS12Yy1uYXYtYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuXFxuICAvKiBQYWdpbmF0aW9uICovXFxuICAtLXZjLXBnbi13aWR0aDogMTJweDtcXG4gIC0tdmMtcGduLWhlaWdodDogNHB4O1xcbiAgLS12Yy1wZ24tbWFyZ2luOiA0cHg7XFxuICAtLXZjLXBnbi1ib3JkZXItcmFkaXVzOiAwO1xcbiAgLS12Yy1wZ24tYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdmMtY2xyLXNlY29uZGFyeSk7XFxuICAtLXZjLXBnbi1hY3RpdmUtY29sb3I6IHZhcigtLXZjLWNsci1wcmltYXJ5KTtcXG59XFxuLmNhcm91c2VsX19wcmV2LFxcbi5jYXJvdXNlbF9fbmV4dCB7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJhY2tncm91bmQ6IHZhcigtLXZjLW5hdi1iYWNrZ3JvdW5kKTtcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXZjLW5hdi1ib3JkZXItcmFkaXVzKTtcXG4gIHdpZHRoOiB2YXIoLS12Yy1uYXYtd2lkdGgpO1xcbiAgaGVpZ2h0OiB2YXIoLS12Yy1uYXYtaGVpZ2h0KTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tdmMtbmF2LWhlaWdodCk7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IHZhcigtLXZjLW5hdi1jb2xvcik7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgbWFyZ2luOiAwIDEwcHg7XFxuICB0b3A6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuXFxuLmNhcm91c2VsX19wcmV2OmhvdmVyLFxcbi5jYXJvdXNlbF9fbmV4dDpob3ZlciB7XFxuICBjb2xvcjogdmFyKC0tdmMtbmF2LWNvbG9yLWhvdmVyKTtcXG59XFxuXFxuLmNhcm91c2VsX19uZXh0LS1kaXNhYmxlZCxcXG4uY2Fyb3VzZWxfX3ByZXYtLWRpc2FibGVkIHtcXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbi5jYXJvdXNlbF9fcHJldiB7XFxuICBsZWZ0OiAwO1xcbn1cXG5cXG4uY2Fyb3VzZWxfX25leHQge1xcbiAgcmlnaHQ6IDA7XFxufVxcblxcbi5jYXJvdXNlbC0tcnRsIC5jYXJvdXNlbF9fcHJldiB7XFxuICBsZWZ0OiBhdXRvO1xcbiAgcmlnaHQ6IDA7XFxufVxcblxcbi5jYXJvdXNlbC0tcnRsIC5jYXJvdXNlbF9fbmV4dCB7XFxuICByaWdodDogYXV0bztcXG4gIGxlZnQ6IDA7XFxufVxcbi5jYXJvdXNlbCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdG91Y2gtYWN0aW9uOiBwYW4teTtcXG4gIC1tcy1zY3JvbGwtY2hhaW5pbmc6IG5vbmU7XFxuICAgICAgb3ZlcnNjcm9sbC1iZWhhdmlvcjogbm9uZTtcXG59XFxuXFxuLmNhcm91c2VsLmlzLWRyYWdnaW5nIHtcXG4gIHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuXFxuLmNhcm91c2VsICoge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmNhcm91c2VsX190cmFjayB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3ZpZXdwb3J0IHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5jYXJvdXNlbF9fc3Itb25seSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAtMXB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XFxuICBib3JkZXI6IDA7XFxufVxcbi5jYXJvdXNlbF9faWNvbiB7XFxuICB3aWR0aDogdmFyKC0tdmMtaWNuLXdpZHRoKTtcXG4gIGhlaWdodDogdmFyKC0tdmMtaWNuLXdpZHRoKTtcXG4gIGZpbGw6IGN1cnJlbnRDb2xvcjtcXG59XFxuLmNhcm91c2VsX19wYWdpbmF0aW9uIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBsaW5lLWhlaWdodDogMDtcXG4gIG1hcmdpbjogMTBweCAwIDA7XFxufVxcblxcbi5jYXJvdXNlbF9fcGFnaW5hdGlvbi1idXR0b24ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXI6IDA7XFxuICBtYXJnaW46IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBwYWRkaW5nOiB2YXIoLS12Yy1wZ24tbWFyZ2luKTtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3BhZ2luYXRpb24tYnV0dG9uOjphZnRlciB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgd2lkdGg6IHZhcigtLXZjLXBnbi13aWR0aCk7XFxuICBoZWlnaHQ6IHZhcigtLXZjLXBnbi1oZWlnaHQpO1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tdmMtcGduLWJvcmRlci1yYWRpdXMpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdmMtcGduLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3BhZ2luYXRpb24tYnV0dG9uOmhvdmVyOjphZnRlcixcXG4uY2Fyb3VzZWxfX3BhZ2luYXRpb24tYnV0dG9uLS1hY3RpdmU6OmFmdGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZjLXBnbi1hY3RpdmUtY29sb3IpO1xcbn1cXG4uY2Fyb3VzZWxfX3NsaWRlIHtcXG4gIHNjcm9sbC1zbmFwLXN0b3A6IGF1dG87XFxuICBmbGV4LXNocmluazogMDtcXG4gIG1hcmdpbjogMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFxuICAvKiBGaXggaU9TIHNjcm9sbGluZyAjMjIgKi9cXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL3Z1ZTMtY2Fyb3VzZWwvZGlzdC9jYXJvdXNlbC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxVQUFVO0VBQ1Ysc0JBQXNCO0VBQ3RCLDZCQUE2QjtFQUM3Qix1QkFBdUI7O0VBRXZCLFNBQVM7RUFDVCxxQkFBcUI7O0VBRXJCLGVBQWU7RUFDZixvQkFBb0I7RUFDcEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQ0FBcUM7RUFDckMsNkNBQTZDO0VBQzdDLGdDQUFnQzs7RUFFaEMsZUFBZTtFQUNmLG9CQUFvQjtFQUNwQixvQkFBb0I7RUFDcEIsb0JBQW9CO0VBQ3BCLHlCQUF5QjtFQUN6QixrREFBa0Q7RUFDbEQsNENBQTRDO0FBQzlDO0FBQ0E7O0VBRUUsdUJBQXVCO0VBQ3ZCLG9DQUFvQztFQUNwQywwQ0FBMEM7RUFDMUMsMEJBQTBCO0VBQzFCLDRCQUE0QjtFQUM1QixrQkFBa0I7RUFDbEIsK0JBQStCO0VBQy9CLFVBQVU7RUFDViwwQkFBMEI7RUFDMUIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxlQUFlO0VBQ2YsY0FBYztFQUNkLFFBQVE7RUFDUiwyQkFBMkI7QUFDN0I7O0FBRUE7O0VBRUUsZ0NBQWdDO0FBQ2xDOztBQUVBOztFQUVFLG1CQUFtQjtFQUNuQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxPQUFPO0FBQ1Q7O0FBRUE7RUFDRSxRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsUUFBUTtBQUNWOztBQUVBO0VBQ0UsV0FBVztFQUNYLE9BQU87QUFDVDtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLHlCQUF5QjtNQUF6Qix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IscUJBQXFCO0VBQ3JCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsV0FBVztFQUNYLFVBQVU7RUFDVixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixTQUFTO0FBQ1g7QUFDQTtFQUNFLDBCQUEwQjtFQUMxQiwyQkFBMkI7RUFDM0Isa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFNBQVM7RUFDVCxTQUFTO0VBQ1QsZUFBZTtFQUNmLDZCQUE2QjtFQUM3Qix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsV0FBVztFQUNYLDBCQUEwQjtFQUMxQiw0QkFBNEI7RUFDNUIsMENBQTBDO0VBQzFDLGdEQUFnRDtBQUNsRDs7QUFFQTs7RUFFRSw0Q0FBNEM7QUFDOUM7QUFDQTtFQUNFLHNCQUFzQjtFQUN0QixjQUFjO0VBQ2QsU0FBUztFQUNULGtCQUFrQjs7RUFFbEIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7O0VBRW5CLDBCQUEwQjtFQUMxQix3QkFBd0I7QUFDMUJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcbiAgLyogQ29sb3IgKi9cXG4gIC0tdmMtY2xyLXByaW1hcnk6ICMwMDA7XFxuICAtLXZjLWNsci1zZWNvbmRhcnk6ICMwOTBmMjA3ZjtcXG4gIC0tdmMtY2xyLXdoaXRlOiAjZmZmZmZmO1xcblxcbiAgLyogSWNvbiAqL1xcbiAgLS12Yy1pY24td2lkdGg6IDEuMmVtO1xcblxcbiAgLyogTmF2aWdhdGlvbiAqL1xcbiAgLS12Yy1uYXYtd2lkdGg6IDMwcHg7XFxuICAtLXZjLW5hdi1oZWlnaHQ6IDMwcHg7XFxuICAtLXZjLW5hdi1ib3JkZXItcmFkaXVzOiAwO1xcbiAgLS12Yy1uYXYtY29sb3I6IHZhcigtLXZjLWNsci1wcmltYXJ5KTtcXG4gIC0tdmMtbmF2LWNvbG9yLWhvdmVyOiB2YXIoLS12Yy1jbHItc2Vjb25kYXJ5KTtcXG4gIC0tdmMtbmF2LWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcblxcbiAgLyogUGFnaW5hdGlvbiAqL1xcbiAgLS12Yy1wZ24td2lkdGg6IDEycHg7XFxuICAtLXZjLXBnbi1oZWlnaHQ6IDRweDtcXG4gIC0tdmMtcGduLW1hcmdpbjogNHB4O1xcbiAgLS12Yy1wZ24tYm9yZGVyLXJhZGl1czogMDtcXG4gIC0tdmMtcGduLWJhY2tncm91bmQtY29sb3I6IHZhcigtLXZjLWNsci1zZWNvbmRhcnkpO1xcbiAgLS12Yy1wZ24tYWN0aXZlLWNvbG9yOiB2YXIoLS12Yy1jbHItcHJpbWFyeSk7XFxufVxcbi5jYXJvdXNlbF9fcHJldixcXG4uY2Fyb3VzZWxfX25leHQge1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS12Yy1uYXYtYmFja2dyb3VuZCk7XFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS12Yy1uYXYtYm9yZGVyLXJhZGl1cyk7XFxuICB3aWR0aDogdmFyKC0tdmMtbmF2LXdpZHRoKTtcXG4gIGhlaWdodDogdmFyKC0tdmMtbmF2LWhlaWdodCk7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IHZhcigtLXZjLW5hdi1oZWlnaHQpO1xcbiAgcGFkZGluZzogMDtcXG4gIGNvbG9yOiB2YXIoLS12Yy1uYXYtY29sb3IpO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlcjogMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbjogMCAxMHB4O1xcbiAgdG9wOiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcblxcbi5jYXJvdXNlbF9fcHJldjpob3ZlcixcXG4uY2Fyb3VzZWxfX25leHQ6aG92ZXIge1xcbiAgY29sb3I6IHZhcigtLXZjLW5hdi1jb2xvci1ob3Zlcik7XFxufVxcblxcbi5jYXJvdXNlbF9fbmV4dC0tZGlzYWJsZWQsXFxuLmNhcm91c2VsX19wcmV2LS1kaXNhYmxlZCB7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3ByZXYge1xcbiAgbGVmdDogMDtcXG59XFxuXFxuLmNhcm91c2VsX19uZXh0IHtcXG4gIHJpZ2h0OiAwO1xcbn1cXG5cXG4uY2Fyb3VzZWwtLXJ0bCAuY2Fyb3VzZWxfX3ByZXYge1xcbiAgbGVmdDogYXV0bztcXG4gIHJpZ2h0OiAwO1xcbn1cXG5cXG4uY2Fyb3VzZWwtLXJ0bCAuY2Fyb3VzZWxfX25leHQge1xcbiAgcmlnaHQ6IGF1dG87XFxuICBsZWZ0OiAwO1xcbn1cXG4uY2Fyb3VzZWwge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHRvdWNoLWFjdGlvbjogcGFuLXk7XFxuICBvdmVyc2Nyb2xsLWJlaGF2aW9yOiBub25lO1xcbn1cXG5cXG4uY2Fyb3VzZWwuaXMtZHJhZ2dpbmcge1xcbiAgdG91Y2gtYWN0aW9uOiBub25lO1xcbn1cXG5cXG4uY2Fyb3VzZWwgKiB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3RyYWNrIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5jYXJvdXNlbF9fdmlld3BvcnQge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmNhcm91c2VsX19zci1vbmx5IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxcHg7XFxuICBoZWlnaHQ6IDFweDtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IC0xcHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcXG4gIGJvcmRlcjogMDtcXG59XFxuLmNhcm91c2VsX19pY29uIHtcXG4gIHdpZHRoOiB2YXIoLS12Yy1pY24td2lkdGgpO1xcbiAgaGVpZ2h0OiB2YXIoLS12Yy1pY24td2lkdGgpO1xcbiAgZmlsbDogY3VycmVudENvbG9yO1xcbn1cXG4uY2Fyb3VzZWxfX3BhZ2luYXRpb24ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIGxpbmUtaGVpZ2h0OiAwO1xcbiAgbWFyZ2luOiAxMHB4IDAgMDtcXG59XFxuXFxuLmNhcm91c2VsX19wYWdpbmF0aW9uLWJ1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJvcmRlcjogMDtcXG4gIG1hcmdpbjogMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHBhZGRpbmc6IHZhcigtLXZjLXBnbi1tYXJnaW4pO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxufVxcblxcbi5jYXJvdXNlbF9fcGFnaW5hdGlvbi1idXR0b246OmFmdGVyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgY29udGVudDogJyc7XFxuICB3aWR0aDogdmFyKC0tdmMtcGduLXdpZHRoKTtcXG4gIGhlaWdodDogdmFyKC0tdmMtcGduLWhlaWdodCk7XFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS12Yy1wZ24tYm9yZGVyLXJhZGl1cyk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12Yy1wZ24tYmFja2dyb3VuZC1jb2xvcik7XFxufVxcblxcbi5jYXJvdXNlbF9fcGFnaW5hdGlvbi1idXR0b246aG92ZXI6OmFmdGVyLFxcbi5jYXJvdXNlbF9fcGFnaW5hdGlvbi1idXR0b24tLWFjdGl2ZTo6YWZ0ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdmMtcGduLWFjdGl2ZS1jb2xvcik7XFxufVxcbi5jYXJvdXNlbF9fc2xpZGUge1xcbiAgc2Nyb2xsLXNuYXAtc3RvcDogYXV0bztcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG5cXG4gIC8qIEZpeCBpT1Mgc2Nyb2xsaW5nICMyMiAqL1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue3-carousel/dist/carousel.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/qalendar/dist/style.css":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/qalendar/dist/style.css ***!
  \*************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/cssWithMappingToString.js */ \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\n/* harmony import */ var _css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".calendar-root[data-v-67f77862],.date-picker-root[data-v-67f77862]{--qalendar-blue: rgb(38 132 255);--qalendar-blue-transparent: rgba(38 132 255 / 90%);--qalendar-gray-quite-dark: rgb(110 110 110);--qalendar-gray: rgb(180 180 180);--qalendar-green: rgb(51 182 121);--qalendar-theme-color: var(--qalendar-blue);--qalendar-light-gray: rgba(240 236 236 / 76%);--qalendar-option-hover: var(--qalendar-light-gray);--qalendar-dark-mode-elevated-surface: #383838;--qalendar-dark-mode-lightly-elevated-surface: #2e2e2e;--qalendar-dark-mode-text-primary: rgba(255 255 255 1);--qalendar-dark-mode-text-secondary: rgba(255 255 255 .7);--qalendar-dark-mode-text-hint: rgba(255 255 255 .5);--qalendar-dark-mode-line-color: var(--qalendar-gray);--qalendar-border-gray-thin: 1px solid rgb(224 224 224);--qalendar-border-dashed-gray-thin: 1px dashed rgb(224 224 224);--qalendar-border-blue-thin: 1px solid var(--qalendar-theme-color);--qalendar-border-radius: 8px;--qalendar-spacing: 10px;--qalendar-spacing-half: 5px;--qalendar-spacing-double: 20px;--qalendar-box-shadow: 0 4px 4px rgba(0 0 0 / 6%), 0 1px 4px rgba(0 0 0 / 18%);--qalendar-text-transition: color .2s ease;--qalendar-week-padding-left: 56px;--qalendar-font-3xs: .625rem;--qalendar-font-2xs: .688rem;--qalendar-font-xs: .75rem;--qalendar-font-s: .875rem;--qalendar-font-m: 1rem;--qalendar-font-l: 1.25rem;--qalendar-font-xl: 1.5rem}@media (prefers-color-scheme: dark){.calendar-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}}[style*=\\\"color-scheme: dark\\\"] .calendar-root[data-v-67f77862],[style*=\\\"color-scheme: dark\\\"] .date-picker-root[data-v-67f77862]{--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}@media (prefers-color-scheme: dark){.calendar-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root[data-v-67f77862],[style*=\\\"color-scheme: dark\\\"] .date-picker-root[data-v-67f77862]{--qalendar-gray-quite-dark: rgb(221, 221, 221)}@media (min-width: 62rem){.calendar-root[data-v-67f77862]{--qalendar-spacing: 20px;--qalendar-spacing-half: 10px;--qalendar-spacing-double: 40px}}.date-picker[data-v-67f77862]{position:relative;width:fit-content;min-width:16rem}.mode-is-month .date-picker[data-v-67f77862]{min-width:8rem}.mode-is-day .date-picker[data-v-67f77862]{min-width:10rem}.qalendar-is-small .date-picker[data-v-67f77862]{min-width:initial}.date-picker[data-v-67f77862]:not(.is-in-qalendar){min-width:initial}.qalendar-is-small .date-picker[data-v-67f77862]:not(.is-in-qalendar){margin:0 auto}.date-picker__value-display[data-v-67f77862]{height:36px;border-radius:4px;padding:0 var(--qalendar-spacing);font-size:var(--qalendar-font-m);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--qalendar-spacing-half);user-select:none;border:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.date-picker__value-display[data-v-67f77862]:not(.is-light-mode .date-picker__value-display){color:var(--qalendar-dark-mode-text-hint);background-color:var(--qalendar-dark-mode-lightly-elevated-surface);border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .date-picker__value-display[data-v-67f77862]{color:var(--qalendar-dark-mode-text-hint);background-color:var(--qalendar-dark-mode-lightly-elevated-surface);border-color:transparent}.qalendar-is-small .date-picker__value-display[data-v-67f77862]{border:0}.date-picker__value-display .date-picker__value-display-text[data-v-67f77862]{display:initial}.qalendar-is-small .date-picker__value-display .date-picker__value-display-text[data-v-67f77862]{display:none}.date-picker__value-display svg[data-v-67f77862]{font-size:initial}.qalendar-is-small .date-picker__value-display svg[data-v-67f77862]{font-size:var(--qalendar-font-l)}.date-picker__week-picker[data-v-67f77862]{padding:var(--qalendar-spacing-half);z-index:51;background-color:#fff;border:var(--qalendar-border-gray-thin);border-radius:4px;min-width:250px;box-shadow:0 2px 4px #f0ececc2}@media (prefers-color-scheme: dark){.date-picker__week-picker[data-v-67f77862]:not(.is-light-mode .date-picker__week-picker){background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent;box-shadow:0 2px 4px #0000001a}}[style*=\\\"color-scheme: dark\\\"] .date-picker__week-picker[data-v-67f77862]{background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent;box-shadow:0 2px 4px #0000001a}.date-picker__week-picker.is-in-qalendar[data-v-67f77862]{top:calc(100% - 1px);position:absolute;right:0}.date-picker__week-picker.is-in-qalendar .mode-is-month[data-v-67f77862],.mode-is-week .date-picker__week-picker.is-in-qalendar[data-v-67f77862]{left:50%;transform:translate(-50%)}.qalendar-is-small .date-picker__week-picker.is-in-qalendar .mode-is-month[data-v-67f77862],.qalendar-is-small .mode-is-week .date-picker__week-picker.is-in-qalendar[data-v-67f77862]{left:initial;transform:initial}.date-picker__week-picker-navigation[data-v-67f77862]{font-weight:900;display:flex;align-items:center;justify-content:space-between;gap:var(--qalendar-spacing-half);margin-bottom:.25em;user-select:none}.date-picker__week-picker-navigation .is-icon[data-v-67f77862]{transition:var(--qalendar-text-transition);color:#131313}@media (prefers-color-scheme: dark){.date-picker__week-picker-navigation .is-icon[data-v-67f77862]:not(.is-light-mode .date-picker__week-picker-navigation .is-icon){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .date-picker__week-picker-navigation .is-icon[data-v-67f77862]{color:var(--qalendar-dark-mode-text-hint)}@media (hover: hover){.date-picker__week-picker-navigation .is-icon[data-v-67f77862]:hover{color:var(--qalendar-blue);cursor:pointer}}.date-picker__toggle-mode[data-v-67f77862]{transition:var(--qalendar-text-transition)}@media (hover: hover){.date-picker__toggle-mode[data-v-67f77862]:hover{color:var(--qalendar-blue);cursor:pointer}}.date-picker .months[data-v-67f77862]{display:flex;flex-wrap:wrap;gap:var(--qalendar-spacing-half);max-width:20rem}.date-picker .months span[data-v-67f77862]{padding:4px;border:var(--qalendar-border-gray-thin);border-radius:2px;flex:1 0 33%;text-align:center;cursor:pointer;font-size:var(--qalendar-font-xs);transition:all .2s ease}@media (hover: hover){.date-picker .months span[data-v-67f77862]:hover{background-color:var(--qalendar-theme-color);color:#fff;border:var(--qalendar-border-blue-thin)}}.date-picker .week[data-v-67f77862]{width:100%;display:flex;justify-content:space-evenly;align-items:center;margin:4px 0}.date-picker .week.is-active[data-v-67f77862]{border:1px dashed var(--qalendar-theme-color);border-radius:4px}.date-picker .week span[data-v-67f77862]{display:flex;min-height:32px;min-width:32px;justify-content:center;align-items:center;flex:1 1 100%;cursor:pointer;border-radius:50%;font-size:var(--qalendar-font-xs)}.date-picker .week span.is-weekend[data-v-67f77862]{color:gray}@media (hover: hover){.date-picker .week span.has-day[data-v-67f77862]:hover{background-color:var(--qalendar-option-hover)}}.date-picker .week span.is-today[data-v-67f77862]{background-color:var(--qalendar-blue);color:#fff}.date-picker .week span.is-not-in-month[data-v-67f77862]{color:#a9a9a9}.date-picker .week span.is-disabled[data-v-67f77862]{color:#a9a9a9;cursor:not-allowed}[data-lang=ar] .date-picker .week span[data-v-67f77862]{font-size:.65rem}.date-picker__day-names[data-v-67f77862]{text-transform:uppercase;font-weight:700;font-size:var(--qalendar-font-s)}.calendar-header[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--qalendar-spacing-half);border-radius:var(--qalendar-border-radius)}@media (min-width: 37.5rem){.calendar-header[data-v-37f1c389]{justify-content:space-between;grid-gap:var(--qalendar-spacing)}}@media (prefers-color-scheme: dark){.calendar-header[data-v-37f1c389]:not(.is-light-mode .calendar-header){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header[data-v-37f1c389]{color:var(--qalendar-dark-mode-text-hint)}.calendar-header__period[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;gap:var(--qalendar-spacing)}.calendar-header__period-name[data-v-37f1c389]{font-size:var(--qalendar-font-l);text-align:center}@media (min-width: 37.5rem){.calendar-header__period-name[data-v-37f1c389]{margin-bottom:0;text-align:left}}.calendar-header__multiselects[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;gap:var(--qalendar-spacing)}.calendar-header__chevron-arrows[data-v-37f1c389]{display:flex;align-items:center;grid-gap:20px}.calendar-header__chevron-arrows .calendar-header__chevron-arrow[data-v-37f1c389]{cursor:pointer;transition:color .2s ease;font-size:var(--qalendar-font-m)}@media (hover: hover){.calendar-header__chevron-arrows .calendar-header__chevron-arrow[data-v-37f1c389]:hover{color:var(--qalendar-gray-quite-dark)}}.calendar-header__mode-picker[data-v-37f1c389]{position:relative;display:flex;align-items:center;justify-content:center;width:fit-content;height:36px;border-radius:4px;font-size:var(--qalendar-font-m);cursor:pointer;border:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.calendar-header__mode-picker[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker){border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker[data-v-37f1c389]{border-color:transparent}.calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]{padding:0 var(--qalendar-spacing);width:100%;height:100%;display:flex;align-items:center;user-select:none;border-radius:4px}@media (prefers-color-scheme: dark){.calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker .calendar-header__mode-value){background-color:var(--qalendar-dark-mode-lightly-elevated-surface)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]{background-color:var(--qalendar-dark-mode-lightly-elevated-surface)}.calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]{position:absolute;z-index:51;top:100%;left:50%;transform:translate(-50%);border:var(--qalendar-border-gray-thin);background-color:#fff}@media (prefers-color-scheme: dark){.calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker .calendar-header__mode-options){border-color:transparent;background-color:var(--qalendar-dark-mode-elevated-surface)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]{border-color:transparent;background-color:var(--qalendar-dark-mode-elevated-surface)}.calendar-header__mode-picker .calendar-header__mode-options .calendar-header__mode-option[data-v-37f1c389]{padding:var(--qalendar-spacing-half) var(--qalendar-spacing)}@media (hover: hover){.calendar-header__mode-picker .calendar-header__mode-options .calendar-header__mode-option[data-v-37f1c389]:hover{background-color:var(--qalendar-option-hover)}}.day-timeline[data-v-014bf4e0]{position:absolute;top:0;left:0;width:calc(100% + 10px);height:var(--11371d19);transform:translate(-10px);display:flex;flex-flow:column;justify-content:space-evenly}.day-timeline__hour[data-v-014bf4e0]{padding-left:4px;display:flex;flex-flow:column;justify-content:flex-start;height:100%;font-size:clamp(10px,.625rem,14px);color:var(--qalendar-gray-quite-dark)}.day-timeline__hour-text[data-v-014bf4e0]{line-height:0;transform:translate(-40px)}.day-timeline__hour:first-child .day-timeline__hour-text[data-v-014bf4e0]{display:none}.day-timeline__hour[data-v-014bf4e0]:not(:last-child){border-bottom:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.day-timeline__hour[data-v-014bf4e0]:not(:last-child):not(.is-light-mode .day-timeline__hour:not(:last-child)){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .day-timeline__hour[data-v-014bf4e0]:not(:last-child){border-color:var(--qalendar-dark-mode-line-color)}.week-timeline__event[data-v-778d59fc]{position:relative;--event-padding: 3px;display:flex;align-items:center;height:.9rem;width:calc(100% - var(--event-padding));font-size:var(--qalendar-font-2xs);border-radius:4px;padding:var(--event-padding);margin-bottom:.25em;text-align:left;cursor:pointer;user-select:none;overflow:hidden}.week-timeline__event[data-v-778d59fc]:active{cursor:not-allowed}.week-timeline[data-v-a43746b6]{height:fit-content;display:flex;justify-content:space-evenly;padding-bottom:var(--qalendar-spacing-half);padding-left:var(--qalendar-week-padding-left);border-bottom:var(--qalendar-border-gray-thin)}.mode-is-day .week-timeline[data-v-a43746b6]{width:100%;padding-left:0}.week-timeline__day[data-v-a43746b6]{width:100%;display:flex;flex-flow:column;align-items:center;justify-content:flex-start}.week-timeline__day-name[data-v-a43746b6]{font-size:var(--qalendar-font-3xs);font-weight:400;margin-bottom:4px;color:var(--qalendar-gray-quite-dark)}.week-timeline__date[data-v-a43746b6]{font-size:1.2rem;margin-bottom:4px;height:2rem;width:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center}.is-today .week-timeline__date[data-v-a43746b6]{background-color:var(--qalendar-blue);color:#fff}.week-timeline__events[data-v-a43746b6]{width:100%;flex:1;border-right:1px dashed rgb(224,224,224)}.week-timeline__day:first-child .week-timeline__events[data-v-a43746b6]{border-left:1px dashed rgb(224,224,224)}.calendar-week__event[data-v-5564d436]{position:absolute;width:100%;border-radius:4px;cursor:pointer;box-sizing:content-box;user-select:none;overflow:hidden}.calendar-week__event.is-editable[data-v-5564d436]{cursor:grab}.calendar-week__event.has-disabled-dnd[data-v-5564d436]{cursor:initial}.calendar-week__event .calendar-week__event-row[data-v-5564d436]{display:flex;align-items:flex-start;margin-bottom:.25em}.calendar-week__event .calendar-week__event-row p[data-v-5564d436]{margin:0;padding:0}.calendar-week__event .calendar-week__event-info-wrapper[data-v-5564d436]{position:relative;padding:var(--qalendar-spacing-half);font-size:var(--qalendar-font-xs);height:100%;box-sizing:border-box;user-select:none}.calendar-week__event .calendar-week__event-blend-out[data-v-5564d436]{position:absolute;bottom:0;height:20px;width:100%;transform:translate(calc(var(--qalendar-spacing-half) * -1))}.calendar-week__event .calendar-week__event-icon[data-v-5564d436]{margin:2px 4px 0 0;font-size:var(--qalendar-font-xs)}.calendar-week__event .calendar-week__event-resize[data-v-5564d436]{position:absolute;width:100%;cursor:ns-resize;height:5px}.calendar-week__event .calendar-week__event-resize-up[data-v-5564d436]{top:0}.calendar-week__event .calendar-week__event-resize-down[data-v-5564d436]{bottom:0}.calendar-week__day[data-v-b268be7e]{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.calendar-week__day .calendar-week__day-interval[data-v-b268be7e]{flex:1;font-size:var(--qalendar-font-xs);color:var(--qalendar-gray);padding:2px}.calendar-week__day .calendar-week__day-interval.has-border[data-v-b268be7e]{border-bottom:var(--qalendar-border-dashed-gray-thin)}.calendar-week__day[data-v-b268be7e]:first-child{border-left:1px dashed rgb(224,224,224)}@media (prefers-color-scheme: dark){.calendar-week__day[data-v-b268be7e]:first-child:not(.is-light-mode .calendar-week__day:first-child){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-week__day[data-v-b268be7e]:first-child{border-color:var(--qalendar-dark-mode-line-color)}.calendar-week__day[data-v-b268be7e]:not(:last-child){border-right:1px dashed rgb(224,224,224)}@media (prefers-color-scheme: dark){.calendar-week__day[data-v-b268be7e]:not(:last-child):not(.is-light-mode .calendar-week__day:not(:last-child)){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-week__day[data-v-b268be7e]:not(:last-child){border-color:var(--qalendar-dark-mode-line-color)}.event-flyout[data-v-d6a61e37]{position:fixed;z-index:50;background-color:#fff;max-height:100%;width:var(--7c0b2114);max-width:98%;border:var(--qalendar-border-gray-thin);border-radius:8px;box-shadow:0 12px 24px #00000017,0 6px 12px #0000002e;overflow:hidden;transition:all .2s ease;transition-property:opacity,transform;transform:translateY(-40px);opacity:0;pointer-events:none}@media (prefers-color-scheme: dark){.event-flyout[data-v-d6a61e37]:not(.is-light-mode .event-flyout){background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .event-flyout[data-v-d6a61e37]{background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent}.event-flyout.is-visible[data-v-d6a61e37]{opacity:1;transform:translateY(0);pointer-events:initial}.event-flyout__relative-wrapper[data-v-d6a61e37]{position:relative}.event-flyout__menu[data-v-d6a61e37]{display:flex;justify-content:space-between;align-items:center}.event-flyout__menu .event-flyout__menu-editable[data-v-d6a61e37],.event-flyout__menu .event-flyout__menu-close[data-v-d6a61e37]{padding:var(--qalendar-spacing) var(--qalendar-spacing) 0 var(--qalendar-spacing);display:flex;grid-gap:20px}.is-not-editable .event-flyout__menu .event-flyout__menu-close[data-v-d6a61e37]{position:absolute;top:0;right:0}.event-flyout__menu-item[data-v-d6a61e37]{font-size:var(--qalendar-font-l);color:gray}@media (prefers-color-scheme: dark){.event-flyout__menu-item[data-v-d6a61e37]:not(.is-light-mode .event-flyout__menu-item){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .event-flyout__menu-item[data-v-d6a61e37]{color:var(--qalendar-dark-mode-text-hint)}.event-flyout__menu-item[data-v-d6a61e37]:hover{color:var(--qalendar-theme-color);cursor:pointer}.event-flyout .is-trash-icon[data-v-d6a61e37]:hover{color:red}.event-flyout__info-wrapper[data-v-d6a61e37]{padding:var(--qalendar-spacing)}.event-flyout__row[data-v-d6a61e37]{display:flex;grid-gap:var(--qalendar-spacing);margin-bottom:.25em;font-weight:400}.event-flyout__row p[data-v-d6a61e37]{margin:0;padding:0}.event-flyout__row svg[data-v-d6a61e37]{margin-top:.1rem;color:#5f6368;width:14px}@media (prefers-color-scheme: dark){.event-flyout__row svg[data-v-d6a61e37]:not(.is-light-mode .event-flyout__row svg){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .event-flyout__row svg[data-v-d6a61e37]{color:var(--qalendar-dark-mode-text-hint)}.event-flyout__color-icon[data-v-d6a61e37]{--icon-height: 16px;border-radius:50%;height:var(--icon-height);width:var(--icon-height)}.event-flyout .is-title[data-v-d6a61e37]{font-size:var(--qalendar-font-l);align-items:center}.is-not-editable .event-flyout .is-title[data-v-d6a61e37]{max-width:90%}.event-flyout .is-time[data-v-d6a61e37]{font-size:var(--qalendar-font-s);margin-bottom:.75em}.calendar-week__wrapper[data-v-8bb6ad05]{position:relative;padding-left:var(--qalendar-week-padding-left);overflow-y:auto}.calendar-week[data-v-8bb6ad05]{position:relative;width:100%;flex:1 1 auto}.calendar-week__events[data-v-8bb6ad05]{display:flex;width:100%;height:var(--5cb5d057);overflow:hidden}.calendar-week .current-time-line[data-v-8bb6ad05]{position:absolute;left:0;width:100%;height:2px;z-index:1;background-color:red}.calendar-week .current-time-line__circle[data-v-8bb6ad05]{position:relative}.calendar-week .current-time-line__circle[data-v-8bb6ad05]:before{content:\\\"\\\";position:absolute;transform:translate(-45%,-45%);width:10px;height:10px;border-radius:50%;background-color:red}.calendar-week .custom-current-time[data-v-8bb6ad05]{position:absolute;left:0;width:100%;z-index:1}.calendar-month__event[data-v-4766dfc7]{--event-inline-padding: 4px;display:flex;align-items:center;overflow:hidden;border-radius:4px;font-size:var(--qalendar-font-2xs);width:calc(100% - calc(var(--event-inline-padding) * 2));margin-bottom:4px;padding:.25rem var(--event-inline-padding);cursor:pointer;user-select:none}.calendar-month__event .calendar-month__event-time[data-v-4766dfc7]{margin-right:6px}.calendar-month__event .calendar-month__event-time[data-v-4766dfc7],.calendar-month__event .calendar-month__event-title[data-v-4766dfc7],.calendar-month__event .calendar-month__event-color[data-v-4766dfc7]{flex-shrink:0}.qalendar-is-small .calendar-month__event .calendar-month__event-time[data-v-4766dfc7],.qalendar-is-small .calendar-month__event .calendar-month__event-title[data-v-4766dfc7]{display:none}.qalendar-is-small .calendar-month__event[data-v-4766dfc7]{background-color:var(--63a9bc8a);width:4px;height:4px;border-radius:50%;padding:1px;margin-right:1px}.calendar-month__event.is-draggable[data-v-4766dfc7]{cursor:grab}.calendar-month__event[data-v-4766dfc7]:active{z-index:100}.calendar-month__event[data-v-4766dfc7]:not(.is-draggable):active{cursor:not-allowed}@media (hover: hover){.calendar-month__event[data-v-4766dfc7]:hover{background-color:var(--qalendar-light-gray)}}@media (hover: hover) and (hover: hover){.calendar-month__event[data-v-4766dfc7]:hover:hover{background-color:var(--qalendar-option-hover)}}.calendar-month__event .calendar-month__event-color[data-v-4766dfc7]{background-color:var(--63a9bc8a);width:6px;height:6px;border-radius:50%;margin-right:4px}.calendar-month__weekday[data-v-034f06d8]{height:100%;flex:1;display:flex;flex-flow:column;align-items:center;border-right:var(--qalendar-border-gray-thin);border-bottom:var(--qalendar-border-gray-thin);overflow:hidden;transition:background-color .2s ease-in-out}@media (prefers-color-scheme: dark){.calendar-month__weekday[data-v-034f06d8]:not(.is-light-mode .calendar-month__weekday){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-month__weekday[data-v-034f06d8]{border-color:var(--qalendar-dark-mode-line-color)}.calendar-month__weekday.is-droppable[data-v-034f06d8]{background-color:var(--qalendar-light-gray)}.calendar-month__weekday[data-v-034f06d8]:last-child{border-right:0}.qalendar-is-small .calendar-month__weekday.is-selected[data-v-034f06d8]{-webkit-box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);-moz-box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);border-radius:5px}.qalendar-is-small .calendar-month__weekday[data-v-034f06d8]{height:45px;width:45px;display:flex;flex-flow:column;justify-content:space-around}.calendar-month__weekday .calendar-month__day-date[data-v-034f06d8]{font-size:var(--qalendar-font-xs);color:var(--qalendar-gray-quite-dark)}.calendar-month__weekday .calendar-month__day-date[data-v-034f06d8]:first-child{margin-top:6px}.calendar-month__weekday .calendar-month__weekday-more[data-v-034f06d8]{font-size:var(--qalendar-font-2xs);width:100%;padding-left:4px;color:var(--qalendar-gray-quite-dark);cursor:pointer}.calendar-month__weekday .calendar-month_events[data-v-034f06d8]{width:100%}.qalendar-is-small .calendar-month__weekday .calendar-month_events[data-v-034f06d8]{display:flex;flex-flow:row;justify-content:center}.qalendar-is-small .calendar-month__weekday .calendar-month_events .calendar-month__weekday-more[data-v-034f06d8]{display:none}.calendar-month__weekday.is-today .calendar-month__day-date[data-v-034f06d8]{background-color:var(--qalendar-theme-color);color:#fff;border-radius:50%;padding:4px 6px}.qalendar-is-small .calendar-month__weekday.is-today .calendar-month__day-date[data-v-034f06d8]{padding:2px 4px}.space-reserver[data-v-034f06d8]{height:100%;flex:1;display:flex;flex-flow:column;align-items:center;border-right:var(--qalendar-border-gray-thin);border-bottom:var(--qalendar-border-gray-thin);border-right-color:transparent}@media (prefers-color-scheme: dark){.space-reserver[data-v-034f06d8]:not(.is-light-mode .space-reserver){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .space-reserver[data-v-034f06d8]{border-color:var(--qalendar-dark-mode-line-color)}.space-reserver+.calendar-month__weekday[data-v-034f06d8]:not(.trailing-or-leading){border-left:var(--qalendar-border-gray-thin)}.calendar-month__day-name[data-v-09c7c5db]{display:block;font-size:12px;font-weight:500;color:var(--qalendar-gray-quite-dark);margin-bottom:var(--qalendar-spacing-half)}.agenda__event[data-v-698b431e]{background-color:var(--691f2791);color:var(--fa1649c2);display:flex;flex-flow:column;justify-content:flex-start;border-radius:4px;font-size:var(--qalendar-font-2xs);margin-bottom:4px;padding:var(--qalendar-spacing);cursor:pointer;user-select:none}.agenda__wrapper[data-v-b60cbce5]{display:flex;flex-flow:row;padding:10px 5px 0}.agenda__wrapper .agenda__header[data-v-b60cbce5]{padding-right:10px}.agenda__wrapper .agenda__header .agenda__header-day-name[data-v-b60cbce5]{text-align:center;color:var(--qalendar-theme-color);font-size:var(--qalendar-font-xs);font-weight:700}.agenda__wrapper .agenda__header .agenda__header-date[data-v-b60cbce5]{height:fit-content;display:flex;justify-content:center;align-items:center;padding:5px;border-radius:4px;background-color:var(--qalendar-theme-color);color:#fff;font-weight:600;font-size:var(--qalendar-font-m)}.agenda__wrapper .agenda__content[data-v-b60cbce5]{display:flex;flex-flow:column;width:100%;height:auto}.agenda__wrapper .agenda__content .is-empty[data-v-b60cbce5]{min-height:70px;display:flex;justify-content:center;align-items:center}.calendar-month[data-v-206c177e]{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow-y:auto}.qalendar-is-small .calendar-month[data-v-206c177e]{height:initial}.calendar-month .calendar-month__week-day-names[data-v-206c177e]{display:flex;justify-content:space-between}.calendar-month .calendar-month__week-day-names .calendar-month__week-day-name[data-v-206c177e]{flex:1;text-align:center}.calendar-month .calendar-month__weeks[data-v-206c177e]{height:100%;flex-grow:1;display:flex;flex-flow:column;justify-content:space-between}.calendar-month .calendar-month__week[data-v-206c177e]{display:flex;flex:1}.calendar-month .calendar-month__week[data-v-206c177e]:first-child{border-top:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.calendar-month .calendar-month__week[data-v-206c177e]:first-child:not(.is-light-mode .calendar-month .calendar-month__week:first-child){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-month .calendar-month__week[data-v-206c177e]:first-child{border-color:var(--qalendar-dark-mode-line-color)}.calendar-month .calendar-month__day_events[data-v-206c177e]{height:100%;display:none}.qalendar-is-small .calendar-month .calendar-month__day_events[data-v-206c177e]{display:block}.ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0px;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y,.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y{opacity:.6}.ps .ps__rail-x:hover,.ps .ps__rail-y:hover,.ps .ps__rail-x:focus,.ps .ps__rail-y:focus,.ps .ps__rail-x.ps--clicking,.ps .ps__rail-y.ps--clicking{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x:hover>.ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x.ps--clicking .ps__thumb-x{background-color:#999;height:11px}.ps__rail-y:hover>.ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y.ps--clicking .ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style: none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.ps{overflow:auto!important}}.calendar-root,.date-picker-root{--qalendar-blue: rgb(38 132 255);--qalendar-blue-transparent: rgba(38 132 255 / 90%);--qalendar-gray-quite-dark: rgb(110 110 110);--qalendar-gray: rgb(180 180 180);--qalendar-green: rgb(51 182 121);--qalendar-theme-color: var(--qalendar-blue);--qalendar-light-gray: rgba(240 236 236 / 76%);--qalendar-option-hover: var(--qalendar-light-gray);--qalendar-dark-mode-elevated-surface: #383838;--qalendar-dark-mode-lightly-elevated-surface: #2e2e2e;--qalendar-dark-mode-text-primary: rgba(255 255 255 1);--qalendar-dark-mode-text-secondary: rgba(255 255 255 .7);--qalendar-dark-mode-text-hint: rgba(255 255 255 .5);--qalendar-dark-mode-line-color: var(--qalendar-gray);--qalendar-border-gray-thin: 1px solid rgb(224 224 224);--qalendar-border-dashed-gray-thin: 1px dashed rgb(224 224 224);--qalendar-border-blue-thin: 1px solid var(--qalendar-theme-color);--qalendar-border-radius: 8px;--qalendar-spacing: 10px;--qalendar-spacing-half: 5px;--qalendar-spacing-double: 20px;--qalendar-box-shadow: 0 4px 4px rgba(0 0 0 / 6%), 0 1px 4px rgba(0 0 0 / 18%);--qalendar-text-transition: color .2s ease;--qalendar-week-padding-left: 56px;--qalendar-font-3xs: .625rem;--qalendar-font-2xs: .688rem;--qalendar-font-xs: .75rem;--qalendar-font-s: .875rem;--qalendar-font-m: 1rem;--qalendar-font-l: 1.25rem;--qalendar-font-xl: 1.5rem}@media (prefers-color-scheme: dark){.calendar-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}}[style*=\\\"color-scheme: dark\\\"] .calendar-root,[style*=\\\"color-scheme: dark\\\"] .date-picker-root{--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}@media (prefers-color-scheme: dark){.calendar-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root,[style*=\\\"color-scheme: dark\\\"] .date-picker-root{--qalendar-gray-quite-dark: rgb(221, 221, 221)}@media (min-width: 62rem){.calendar-root{--qalendar-spacing: 20px;--qalendar-spacing-half: 10px;--qalendar-spacing-double: 40px}}.calendar-root-wrapper{width:100%;max-width:100vw;height:100%;display:flex}.calendar-root-wrapper .calendar-root{flex:1;border:var(--qalendar-border-gray-thin);border-radius:var(--qalendar-border-radius);font-family:var(--51d82805);position:relative;width:100%;margin:0 auto;display:flex;flex-flow:column}@media (prefers-color-scheme: dark){.calendar-root-wrapper .calendar-root:not(.is-light-mode .calendar-root-wrapper .calendar-root){background:#121212;color:#fff;border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .calendar-root-wrapper .calendar-root{background:#121212;color:#fff;border-color:transparent}.calendar-root-wrapper .calendar-root .top-bar-loader{position:absolute;top:1px;left:2px;width:calc(100% - 4px);height:3px;background:rgba(241,241,241,.2);border-radius:16px;overflow:hidden}.calendar-root-wrapper .calendar-root .top-bar-loader:before{content:\\\"\\\";height:4px;width:calc(100% - 4px);position:absolute;top:1px;left:2px;background:rgb(38,132,255);background:linear-gradient(90deg,rgb(38,132,255) 0%,rgba(38,132,255,.5088410364) 48%,rgb(38,132,255) 100%);animation:load 1.8s infinite;border-radius:16px}@media (prefers-color-scheme: dark){.calendar-root-wrapper .calendar-root .top-bar-loader:before:not(.is-light-mode .calendar-root-wrapper .calendar-root .top-bar-loader:before){background:rgb(229,224,245)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root-wrapper .calendar-root .top-bar-loader:before{background:rgb(229,224,245)}@keyframes load{0%{width:0;left:-100%}50%{left:0;width:100%}to{width:0;left:100%}}.calendar-root-wrapper .calendar-root .loading-enter-active,.calendar-root-wrapper .calendar-root .loading-leave-active{transition:background .5s ease}.calendar-root-wrapper .calendar-root .loading-leave-to,.calendar-root-wrapper .calendar-root .loading-enter-from{background-color:#fff0}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/qalendar/dist/style.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".calendar-root[data-v-67f77862],.date-picker-root[data-v-67f77862]{--qalendar-blue: rgb(38 132 255);--qalendar-blue-transparent: rgba(38 132 255 / 90%);--qalendar-gray-quite-dark: rgb(110 110 110);--qalendar-gray: rgb(180 180 180);--qalendar-green: rgb(51 182 121);--qalendar-theme-color: var(--qalendar-blue);--qalendar-light-gray: rgba(240 236 236 / 76%);--qalendar-option-hover: var(--qalendar-light-gray);--qalendar-dark-mode-elevated-surface: #383838;--qalendar-dark-mode-lightly-elevated-surface: #2e2e2e;--qalendar-dark-mode-text-primary: rgba(255 255 255 1);--qalendar-dark-mode-text-secondary: rgba(255 255 255 .7);--qalendar-dark-mode-text-hint: rgba(255 255 255 .5);--qalendar-dark-mode-line-color: var(--qalendar-gray);--qalendar-border-gray-thin: 1px solid rgb(224 224 224);--qalendar-border-dashed-gray-thin: 1px dashed rgb(224 224 224);--qalendar-border-blue-thin: 1px solid var(--qalendar-theme-color);--qalendar-border-radius: 8px;--qalendar-spacing: 10px;--qalendar-spacing-half: 5px;--qalendar-spacing-double: 20px;--qalendar-box-shadow: 0 4px 4px rgba(0 0 0 / 6%), 0 1px 4px rgba(0 0 0 / 18%);--qalendar-text-transition: color .2s ease;--qalendar-week-padding-left: 56px;--qalendar-font-3xs: .625rem;--qalendar-font-2xs: .688rem;--qalendar-font-xs: .75rem;--qalendar-font-s: .875rem;--qalendar-font-m: 1rem;--qalendar-font-l: 1.25rem;--qalendar-font-xl: 1.5rem}@media (prefers-color-scheme: dark){.calendar-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}}[style*=\\\"color-scheme: dark\\\"] .calendar-root[data-v-67f77862],[style*=\\\"color-scheme: dark\\\"] .date-picker-root[data-v-67f77862]{--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}@media (prefers-color-scheme: dark){.calendar-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root[data-v-67f77862]:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root[data-v-67f77862],[style*=\\\"color-scheme: dark\\\"] .date-picker-root[data-v-67f77862]{--qalendar-gray-quite-dark: rgb(221, 221, 221)}@media (min-width: 62rem){.calendar-root[data-v-67f77862]{--qalendar-spacing: 20px;--qalendar-spacing-half: 10px;--qalendar-spacing-double: 40px}}.date-picker[data-v-67f77862]{position:relative;width:fit-content;min-width:16rem}.mode-is-month .date-picker[data-v-67f77862]{min-width:8rem}.mode-is-day .date-picker[data-v-67f77862]{min-width:10rem}.qalendar-is-small .date-picker[data-v-67f77862]{min-width:initial}.date-picker[data-v-67f77862]:not(.is-in-qalendar){min-width:initial}.qalendar-is-small .date-picker[data-v-67f77862]:not(.is-in-qalendar){margin:0 auto}.date-picker__value-display[data-v-67f77862]{height:36px;border-radius:4px;padding:0 var(--qalendar-spacing);font-size:var(--qalendar-font-m);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--qalendar-spacing-half);user-select:none;border:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.date-picker__value-display[data-v-67f77862]:not(.is-light-mode .date-picker__value-display){color:var(--qalendar-dark-mode-text-hint);background-color:var(--qalendar-dark-mode-lightly-elevated-surface);border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .date-picker__value-display[data-v-67f77862]{color:var(--qalendar-dark-mode-text-hint);background-color:var(--qalendar-dark-mode-lightly-elevated-surface);border-color:transparent}.qalendar-is-small .date-picker__value-display[data-v-67f77862]{border:0}.date-picker__value-display .date-picker__value-display-text[data-v-67f77862]{display:initial}.qalendar-is-small .date-picker__value-display .date-picker__value-display-text[data-v-67f77862]{display:none}.date-picker__value-display svg[data-v-67f77862]{font-size:initial}.qalendar-is-small .date-picker__value-display svg[data-v-67f77862]{font-size:var(--qalendar-font-l)}.date-picker__week-picker[data-v-67f77862]{padding:var(--qalendar-spacing-half);z-index:51;background-color:#fff;border:var(--qalendar-border-gray-thin);border-radius:4px;min-width:250px;box-shadow:0 2px 4px #f0ececc2}@media (prefers-color-scheme: dark){.date-picker__week-picker[data-v-67f77862]:not(.is-light-mode .date-picker__week-picker){background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent;box-shadow:0 2px 4px #0000001a}}[style*=\\\"color-scheme: dark\\\"] .date-picker__week-picker[data-v-67f77862]{background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent;box-shadow:0 2px 4px #0000001a}.date-picker__week-picker.is-in-qalendar[data-v-67f77862]{top:calc(100% - 1px);position:absolute;right:0}.date-picker__week-picker.is-in-qalendar .mode-is-month[data-v-67f77862],.mode-is-week .date-picker__week-picker.is-in-qalendar[data-v-67f77862]{left:50%;transform:translate(-50%)}.qalendar-is-small .date-picker__week-picker.is-in-qalendar .mode-is-month[data-v-67f77862],.qalendar-is-small .mode-is-week .date-picker__week-picker.is-in-qalendar[data-v-67f77862]{left:initial;transform:initial}.date-picker__week-picker-navigation[data-v-67f77862]{font-weight:900;display:flex;align-items:center;justify-content:space-between;gap:var(--qalendar-spacing-half);margin-bottom:.25em;user-select:none}.date-picker__week-picker-navigation .is-icon[data-v-67f77862]{transition:var(--qalendar-text-transition);color:#131313}@media (prefers-color-scheme: dark){.date-picker__week-picker-navigation .is-icon[data-v-67f77862]:not(.is-light-mode .date-picker__week-picker-navigation .is-icon){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .date-picker__week-picker-navigation .is-icon[data-v-67f77862]{color:var(--qalendar-dark-mode-text-hint)}@media (hover: hover){.date-picker__week-picker-navigation .is-icon[data-v-67f77862]:hover{color:var(--qalendar-blue);cursor:pointer}}.date-picker__toggle-mode[data-v-67f77862]{transition:var(--qalendar-text-transition)}@media (hover: hover){.date-picker__toggle-mode[data-v-67f77862]:hover{color:var(--qalendar-blue);cursor:pointer}}.date-picker .months[data-v-67f77862]{display:flex;flex-wrap:wrap;gap:var(--qalendar-spacing-half);max-width:20rem}.date-picker .months span[data-v-67f77862]{padding:4px;border:var(--qalendar-border-gray-thin);border-radius:2px;flex:1 0 33%;text-align:center;cursor:pointer;font-size:var(--qalendar-font-xs);transition:all .2s ease}@media (hover: hover){.date-picker .months span[data-v-67f77862]:hover{background-color:var(--qalendar-theme-color);color:#fff;border:var(--qalendar-border-blue-thin)}}.date-picker .week[data-v-67f77862]{width:100%;display:flex;justify-content:space-evenly;align-items:center;margin:4px 0}.date-picker .week.is-active[data-v-67f77862]{border:1px dashed var(--qalendar-theme-color);border-radius:4px}.date-picker .week span[data-v-67f77862]{display:flex;min-height:32px;min-width:32px;justify-content:center;align-items:center;flex:1 1 100%;cursor:pointer;border-radius:50%;font-size:var(--qalendar-font-xs)}.date-picker .week span.is-weekend[data-v-67f77862]{color:gray}@media (hover: hover){.date-picker .week span.has-day[data-v-67f77862]:hover{background-color:var(--qalendar-option-hover)}}.date-picker .week span.is-today[data-v-67f77862]{background-color:var(--qalendar-blue);color:#fff}.date-picker .week span.is-not-in-month[data-v-67f77862]{color:#a9a9a9}.date-picker .week span.is-disabled[data-v-67f77862]{color:#a9a9a9;cursor:not-allowed}[data-lang=ar] .date-picker .week span[data-v-67f77862]{font-size:.65rem}.date-picker__day-names[data-v-67f77862]{text-transform:uppercase;font-weight:700;font-size:var(--qalendar-font-s)}.calendar-header[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--qalendar-spacing-half);border-radius:var(--qalendar-border-radius)}@media (min-width: 37.5rem){.calendar-header[data-v-37f1c389]{justify-content:space-between;grid-gap:var(--qalendar-spacing)}}@media (prefers-color-scheme: dark){.calendar-header[data-v-37f1c389]:not(.is-light-mode .calendar-header){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header[data-v-37f1c389]{color:var(--qalendar-dark-mode-text-hint)}.calendar-header__period[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;gap:var(--qalendar-spacing)}.calendar-header__period-name[data-v-37f1c389]{font-size:var(--qalendar-font-l);text-align:center}@media (min-width: 37.5rem){.calendar-header__period-name[data-v-37f1c389]{margin-bottom:0;text-align:left}}.calendar-header__multiselects[data-v-37f1c389]{display:flex;flex-wrap:wrap;align-items:center;gap:var(--qalendar-spacing)}.calendar-header__chevron-arrows[data-v-37f1c389]{display:flex;align-items:center;grid-gap:20px}.calendar-header__chevron-arrows .calendar-header__chevron-arrow[data-v-37f1c389]{cursor:pointer;transition:color .2s ease;font-size:var(--qalendar-font-m)}@media (hover: hover){.calendar-header__chevron-arrows .calendar-header__chevron-arrow[data-v-37f1c389]:hover{color:var(--qalendar-gray-quite-dark)}}.calendar-header__mode-picker[data-v-37f1c389]{position:relative;display:flex;align-items:center;justify-content:center;width:fit-content;height:36px;border-radius:4px;font-size:var(--qalendar-font-m);cursor:pointer;border:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.calendar-header__mode-picker[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker){border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker[data-v-37f1c389]{border-color:transparent}.calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]{padding:0 var(--qalendar-spacing);width:100%;height:100%;display:flex;align-items:center;user-select:none;border-radius:4px}@media (prefers-color-scheme: dark){.calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker .calendar-header__mode-value){background-color:var(--qalendar-dark-mode-lightly-elevated-surface)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker .calendar-header__mode-value[data-v-37f1c389]{background-color:var(--qalendar-dark-mode-lightly-elevated-surface)}.calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]{position:absolute;z-index:51;top:100%;left:50%;transform:translate(-50%);border:var(--qalendar-border-gray-thin);background-color:#fff}@media (prefers-color-scheme: dark){.calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]:not(.is-light-mode .calendar-header__mode-picker .calendar-header__mode-options){border-color:transparent;background-color:var(--qalendar-dark-mode-elevated-surface)}}[style*=\\\"color-scheme: dark\\\"] .calendar-header__mode-picker .calendar-header__mode-options[data-v-37f1c389]{border-color:transparent;background-color:var(--qalendar-dark-mode-elevated-surface)}.calendar-header__mode-picker .calendar-header__mode-options .calendar-header__mode-option[data-v-37f1c389]{padding:var(--qalendar-spacing-half) var(--qalendar-spacing)}@media (hover: hover){.calendar-header__mode-picker .calendar-header__mode-options .calendar-header__mode-option[data-v-37f1c389]:hover{background-color:var(--qalendar-option-hover)}}.day-timeline[data-v-014bf4e0]{position:absolute;top:0;left:0;width:calc(100% + 10px);height:var(--11371d19);transform:translate(-10px);display:flex;flex-flow:column;justify-content:space-evenly}.day-timeline__hour[data-v-014bf4e0]{padding-left:4px;display:flex;flex-flow:column;justify-content:flex-start;height:100%;font-size:clamp(10px,.625rem,14px);color:var(--qalendar-gray-quite-dark)}.day-timeline__hour-text[data-v-014bf4e0]{line-height:0;transform:translate(-40px)}.day-timeline__hour:first-child .day-timeline__hour-text[data-v-014bf4e0]{display:none}.day-timeline__hour[data-v-014bf4e0]:not(:last-child){border-bottom:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.day-timeline__hour[data-v-014bf4e0]:not(:last-child):not(.is-light-mode .day-timeline__hour:not(:last-child)){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .day-timeline__hour[data-v-014bf4e0]:not(:last-child){border-color:var(--qalendar-dark-mode-line-color)}.week-timeline__event[data-v-778d59fc]{position:relative;--event-padding: 3px;display:flex;align-items:center;height:.9rem;width:calc(100% - var(--event-padding));font-size:var(--qalendar-font-2xs);border-radius:4px;padding:var(--event-padding);margin-bottom:.25em;text-align:left;cursor:pointer;user-select:none;overflow:hidden}.week-timeline__event[data-v-778d59fc]:active{cursor:not-allowed}.week-timeline[data-v-a43746b6]{height:fit-content;display:flex;justify-content:space-evenly;padding-bottom:var(--qalendar-spacing-half);padding-left:var(--qalendar-week-padding-left);border-bottom:var(--qalendar-border-gray-thin)}.mode-is-day .week-timeline[data-v-a43746b6]{width:100%;padding-left:0}.week-timeline__day[data-v-a43746b6]{width:100%;display:flex;flex-flow:column;align-items:center;justify-content:flex-start}.week-timeline__day-name[data-v-a43746b6]{font-size:var(--qalendar-font-3xs);font-weight:400;margin-bottom:4px;color:var(--qalendar-gray-quite-dark)}.week-timeline__date[data-v-a43746b6]{font-size:1.2rem;margin-bottom:4px;height:2rem;width:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center}.is-today .week-timeline__date[data-v-a43746b6]{background-color:var(--qalendar-blue);color:#fff}.week-timeline__events[data-v-a43746b6]{width:100%;flex:1;border-right:1px dashed rgb(224,224,224)}.week-timeline__day:first-child .week-timeline__events[data-v-a43746b6]{border-left:1px dashed rgb(224,224,224)}.calendar-week__event[data-v-5564d436]{position:absolute;width:100%;border-radius:4px;cursor:pointer;box-sizing:content-box;user-select:none;overflow:hidden}.calendar-week__event.is-editable[data-v-5564d436]{cursor:grab}.calendar-week__event.has-disabled-dnd[data-v-5564d436]{cursor:initial}.calendar-week__event .calendar-week__event-row[data-v-5564d436]{display:flex;align-items:flex-start;margin-bottom:.25em}.calendar-week__event .calendar-week__event-row p[data-v-5564d436]{margin:0;padding:0}.calendar-week__event .calendar-week__event-info-wrapper[data-v-5564d436]{position:relative;padding:var(--qalendar-spacing-half);font-size:var(--qalendar-font-xs);height:100%;box-sizing:border-box;user-select:none}.calendar-week__event .calendar-week__event-blend-out[data-v-5564d436]{position:absolute;bottom:0;height:20px;width:100%;transform:translate(calc(var(--qalendar-spacing-half) * -1))}.calendar-week__event .calendar-week__event-icon[data-v-5564d436]{margin:2px 4px 0 0;font-size:var(--qalendar-font-xs)}.calendar-week__event .calendar-week__event-resize[data-v-5564d436]{position:absolute;width:100%;cursor:ns-resize;height:5px}.calendar-week__event .calendar-week__event-resize-up[data-v-5564d436]{top:0}.calendar-week__event .calendar-week__event-resize-down[data-v-5564d436]{bottom:0}.calendar-week__day[data-v-b268be7e]{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.calendar-week__day .calendar-week__day-interval[data-v-b268be7e]{flex:1;font-size:var(--qalendar-font-xs);color:var(--qalendar-gray);padding:2px}.calendar-week__day .calendar-week__day-interval.has-border[data-v-b268be7e]{border-bottom:var(--qalendar-border-dashed-gray-thin)}.calendar-week__day[data-v-b268be7e]:first-child{border-left:1px dashed rgb(224,224,224)}@media (prefers-color-scheme: dark){.calendar-week__day[data-v-b268be7e]:first-child:not(.is-light-mode .calendar-week__day:first-child){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-week__day[data-v-b268be7e]:first-child{border-color:var(--qalendar-dark-mode-line-color)}.calendar-week__day[data-v-b268be7e]:not(:last-child){border-right:1px dashed rgb(224,224,224)}@media (prefers-color-scheme: dark){.calendar-week__day[data-v-b268be7e]:not(:last-child):not(.is-light-mode .calendar-week__day:not(:last-child)){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-week__day[data-v-b268be7e]:not(:last-child){border-color:var(--qalendar-dark-mode-line-color)}.event-flyout[data-v-d6a61e37]{position:fixed;z-index:50;background-color:#fff;max-height:100%;width:var(--7c0b2114);max-width:98%;border:var(--qalendar-border-gray-thin);border-radius:8px;box-shadow:0 12px 24px #00000017,0 6px 12px #0000002e;overflow:hidden;transition:all .2s ease;transition-property:opacity,transform;transform:translateY(-40px);opacity:0;pointer-events:none}@media (prefers-color-scheme: dark){.event-flyout[data-v-d6a61e37]:not(.is-light-mode .event-flyout){background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .event-flyout[data-v-d6a61e37]{background-color:var(--qalendar-dark-mode-elevated-surface);border-color:transparent}.event-flyout.is-visible[data-v-d6a61e37]{opacity:1;transform:translateY(0);pointer-events:initial}.event-flyout__relative-wrapper[data-v-d6a61e37]{position:relative}.event-flyout__menu[data-v-d6a61e37]{display:flex;justify-content:space-between;align-items:center}.event-flyout__menu .event-flyout__menu-editable[data-v-d6a61e37],.event-flyout__menu .event-flyout__menu-close[data-v-d6a61e37]{padding:var(--qalendar-spacing) var(--qalendar-spacing) 0 var(--qalendar-spacing);display:flex;grid-gap:20px}.is-not-editable .event-flyout__menu .event-flyout__menu-close[data-v-d6a61e37]{position:absolute;top:0;right:0}.event-flyout__menu-item[data-v-d6a61e37]{font-size:var(--qalendar-font-l);color:gray}@media (prefers-color-scheme: dark){.event-flyout__menu-item[data-v-d6a61e37]:not(.is-light-mode .event-flyout__menu-item){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .event-flyout__menu-item[data-v-d6a61e37]{color:var(--qalendar-dark-mode-text-hint)}.event-flyout__menu-item[data-v-d6a61e37]:hover{color:var(--qalendar-theme-color);cursor:pointer}.event-flyout .is-trash-icon[data-v-d6a61e37]:hover{color:red}.event-flyout__info-wrapper[data-v-d6a61e37]{padding:var(--qalendar-spacing)}.event-flyout__row[data-v-d6a61e37]{display:flex;grid-gap:var(--qalendar-spacing);margin-bottom:.25em;font-weight:400}.event-flyout__row p[data-v-d6a61e37]{margin:0;padding:0}.event-flyout__row svg[data-v-d6a61e37]{margin-top:.1rem;color:#5f6368;width:14px}@media (prefers-color-scheme: dark){.event-flyout__row svg[data-v-d6a61e37]:not(.is-light-mode .event-flyout__row svg){color:var(--qalendar-dark-mode-text-hint)}}[style*=\\\"color-scheme: dark\\\"] .event-flyout__row svg[data-v-d6a61e37]{color:var(--qalendar-dark-mode-text-hint)}.event-flyout__color-icon[data-v-d6a61e37]{--icon-height: 16px;border-radius:50%;height:var(--icon-height);width:var(--icon-height)}.event-flyout .is-title[data-v-d6a61e37]{font-size:var(--qalendar-font-l);align-items:center}.is-not-editable .event-flyout .is-title[data-v-d6a61e37]{max-width:90%}.event-flyout .is-time[data-v-d6a61e37]{font-size:var(--qalendar-font-s);margin-bottom:.75em}.calendar-week__wrapper[data-v-8bb6ad05]{position:relative;padding-left:var(--qalendar-week-padding-left);overflow-y:auto}.calendar-week[data-v-8bb6ad05]{position:relative;width:100%;flex:1 1 auto}.calendar-week__events[data-v-8bb6ad05]{display:flex;width:100%;height:var(--5cb5d057);overflow:hidden}.calendar-week .current-time-line[data-v-8bb6ad05]{position:absolute;left:0;width:100%;height:2px;z-index:1;background-color:red}.calendar-week .current-time-line__circle[data-v-8bb6ad05]{position:relative}.calendar-week .current-time-line__circle[data-v-8bb6ad05]:before{content:\\\"\\\";position:absolute;transform:translate(-45%,-45%);width:10px;height:10px;border-radius:50%;background-color:red}.calendar-week .custom-current-time[data-v-8bb6ad05]{position:absolute;left:0;width:100%;z-index:1}.calendar-month__event[data-v-4766dfc7]{--event-inline-padding: 4px;display:flex;align-items:center;overflow:hidden;border-radius:4px;font-size:var(--qalendar-font-2xs);width:calc(100% - calc(var(--event-inline-padding) * 2));margin-bottom:4px;padding:.25rem var(--event-inline-padding);cursor:pointer;user-select:none}.calendar-month__event .calendar-month__event-time[data-v-4766dfc7]{margin-right:6px}.calendar-month__event .calendar-month__event-time[data-v-4766dfc7],.calendar-month__event .calendar-month__event-title[data-v-4766dfc7],.calendar-month__event .calendar-month__event-color[data-v-4766dfc7]{flex-shrink:0}.qalendar-is-small .calendar-month__event .calendar-month__event-time[data-v-4766dfc7],.qalendar-is-small .calendar-month__event .calendar-month__event-title[data-v-4766dfc7]{display:none}.qalendar-is-small .calendar-month__event[data-v-4766dfc7]{background-color:var(--63a9bc8a);width:4px;height:4px;border-radius:50%;padding:1px;margin-right:1px}.calendar-month__event.is-draggable[data-v-4766dfc7]{cursor:grab}.calendar-month__event[data-v-4766dfc7]:active{z-index:100}.calendar-month__event[data-v-4766dfc7]:not(.is-draggable):active{cursor:not-allowed}@media (hover: hover){.calendar-month__event[data-v-4766dfc7]:hover{background-color:var(--qalendar-light-gray)}}@media (hover: hover) and (hover: hover){.calendar-month__event[data-v-4766dfc7]:hover:hover{background-color:var(--qalendar-option-hover)}}.calendar-month__event .calendar-month__event-color[data-v-4766dfc7]{background-color:var(--63a9bc8a);width:6px;height:6px;border-radius:50%;margin-right:4px}.calendar-month__weekday[data-v-034f06d8]{height:100%;flex:1;display:flex;flex-flow:column;align-items:center;border-right:var(--qalendar-border-gray-thin);border-bottom:var(--qalendar-border-gray-thin);overflow:hidden;transition:background-color .2s ease-in-out}@media (prefers-color-scheme: dark){.calendar-month__weekday[data-v-034f06d8]:not(.is-light-mode .calendar-month__weekday){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-month__weekday[data-v-034f06d8]{border-color:var(--qalendar-dark-mode-line-color)}.calendar-month__weekday.is-droppable[data-v-034f06d8]{background-color:var(--qalendar-light-gray)}.calendar-month__weekday[data-v-034f06d8]:last-child{border-right:0}.qalendar-is-small .calendar-month__weekday.is-selected[data-v-034f06d8]{-webkit-box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);-moz-box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);box-shadow:inset 0 0 0 3px var(--qalendar-theme-color);border-radius:5px}.qalendar-is-small .calendar-month__weekday[data-v-034f06d8]{height:45px;width:45px;display:flex;flex-flow:column;justify-content:space-around}.calendar-month__weekday .calendar-month__day-date[data-v-034f06d8]{font-size:var(--qalendar-font-xs);color:var(--qalendar-gray-quite-dark)}.calendar-month__weekday .calendar-month__day-date[data-v-034f06d8]:first-child{margin-top:6px}.calendar-month__weekday .calendar-month__weekday-more[data-v-034f06d8]{font-size:var(--qalendar-font-2xs);width:100%;padding-left:4px;color:var(--qalendar-gray-quite-dark);cursor:pointer}.calendar-month__weekday .calendar-month_events[data-v-034f06d8]{width:100%}.qalendar-is-small .calendar-month__weekday .calendar-month_events[data-v-034f06d8]{display:flex;flex-flow:row;justify-content:center}.qalendar-is-small .calendar-month__weekday .calendar-month_events .calendar-month__weekday-more[data-v-034f06d8]{display:none}.calendar-month__weekday.is-today .calendar-month__day-date[data-v-034f06d8]{background-color:var(--qalendar-theme-color);color:#fff;border-radius:50%;padding:4px 6px}.qalendar-is-small .calendar-month__weekday.is-today .calendar-month__day-date[data-v-034f06d8]{padding:2px 4px}.space-reserver[data-v-034f06d8]{height:100%;flex:1;display:flex;flex-flow:column;align-items:center;border-right:var(--qalendar-border-gray-thin);border-bottom:var(--qalendar-border-gray-thin);border-right-color:transparent}@media (prefers-color-scheme: dark){.space-reserver[data-v-034f06d8]:not(.is-light-mode .space-reserver){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .space-reserver[data-v-034f06d8]{border-color:var(--qalendar-dark-mode-line-color)}.space-reserver+.calendar-month__weekday[data-v-034f06d8]:not(.trailing-or-leading){border-left:var(--qalendar-border-gray-thin)}.calendar-month__day-name[data-v-09c7c5db]{display:block;font-size:12px;font-weight:500;color:var(--qalendar-gray-quite-dark);margin-bottom:var(--qalendar-spacing-half)}.agenda__event[data-v-698b431e]{background-color:var(--691f2791);color:var(--fa1649c2);display:flex;flex-flow:column;justify-content:flex-start;border-radius:4px;font-size:var(--qalendar-font-2xs);margin-bottom:4px;padding:var(--qalendar-spacing);cursor:pointer;user-select:none}.agenda__wrapper[data-v-b60cbce5]{display:flex;flex-flow:row;padding:10px 5px 0}.agenda__wrapper .agenda__header[data-v-b60cbce5]{padding-right:10px}.agenda__wrapper .agenda__header .agenda__header-day-name[data-v-b60cbce5]{text-align:center;color:var(--qalendar-theme-color);font-size:var(--qalendar-font-xs);font-weight:700}.agenda__wrapper .agenda__header .agenda__header-date[data-v-b60cbce5]{height:fit-content;display:flex;justify-content:center;align-items:center;padding:5px;border-radius:4px;background-color:var(--qalendar-theme-color);color:#fff;font-weight:600;font-size:var(--qalendar-font-m)}.agenda__wrapper .agenda__content[data-v-b60cbce5]{display:flex;flex-flow:column;width:100%;height:auto}.agenda__wrapper .agenda__content .is-empty[data-v-b60cbce5]{min-height:70px;display:flex;justify-content:center;align-items:center}.calendar-month[data-v-206c177e]{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow-y:auto}.qalendar-is-small .calendar-month[data-v-206c177e]{height:initial}.calendar-month .calendar-month__week-day-names[data-v-206c177e]{display:flex;justify-content:space-between}.calendar-month .calendar-month__week-day-names .calendar-month__week-day-name[data-v-206c177e]{flex:1;text-align:center}.calendar-month .calendar-month__weeks[data-v-206c177e]{height:100%;flex-grow:1;display:flex;flex-flow:column;justify-content:space-between}.calendar-month .calendar-month__week[data-v-206c177e]{display:flex;flex:1}.calendar-month .calendar-month__week[data-v-206c177e]:first-child{border-top:var(--qalendar-border-gray-thin)}@media (prefers-color-scheme: dark){.calendar-month .calendar-month__week[data-v-206c177e]:first-child:not(.is-light-mode .calendar-month .calendar-month__week:first-child){border-color:var(--qalendar-dark-mode-line-color)}}[style*=\\\"color-scheme: dark\\\"] .calendar-month .calendar-month__week[data-v-206c177e]:first-child{border-color:var(--qalendar-dark-mode-line-color)}.calendar-month .calendar-month__day_events[data-v-206c177e]{height:100%;display:none}.qalendar-is-small .calendar-month .calendar-month__day_events[data-v-206c177e]{display:block}.ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0px;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y,.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y{opacity:.6}.ps .ps__rail-x:hover,.ps .ps__rail-y:hover,.ps .ps__rail-x:focus,.ps .ps__rail-y:focus,.ps .ps__rail-x.ps--clicking,.ps .ps__rail-y.ps--clicking{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x:hover>.ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x.ps--clicking .ps__thumb-x{background-color:#999;height:11px}.ps__rail-y:hover>.ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y.ps--clicking .ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style: none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.ps{overflow:auto!important}}.calendar-root,.date-picker-root{--qalendar-blue: rgb(38 132 255);--qalendar-blue-transparent: rgba(38 132 255 / 90%);--qalendar-gray-quite-dark: rgb(110 110 110);--qalendar-gray: rgb(180 180 180);--qalendar-green: rgb(51 182 121);--qalendar-theme-color: var(--qalendar-blue);--qalendar-light-gray: rgba(240 236 236 / 76%);--qalendar-option-hover: var(--qalendar-light-gray);--qalendar-dark-mode-elevated-surface: #383838;--qalendar-dark-mode-lightly-elevated-surface: #2e2e2e;--qalendar-dark-mode-text-primary: rgba(255 255 255 1);--qalendar-dark-mode-text-secondary: rgba(255 255 255 .7);--qalendar-dark-mode-text-hint: rgba(255 255 255 .5);--qalendar-dark-mode-line-color: var(--qalendar-gray);--qalendar-border-gray-thin: 1px solid rgb(224 224 224);--qalendar-border-dashed-gray-thin: 1px dashed rgb(224 224 224);--qalendar-border-blue-thin: 1px solid var(--qalendar-theme-color);--qalendar-border-radius: 8px;--qalendar-spacing: 10px;--qalendar-spacing-half: 5px;--qalendar-spacing-double: 20px;--qalendar-box-shadow: 0 4px 4px rgba(0 0 0 / 6%), 0 1px 4px rgba(0 0 0 / 18%);--qalendar-text-transition: color .2s ease;--qalendar-week-padding-left: 56px;--qalendar-font-3xs: .625rem;--qalendar-font-2xs: .688rem;--qalendar-font-xs: .75rem;--qalendar-font-s: .875rem;--qalendar-font-m: 1rem;--qalendar-font-l: 1.25rem;--qalendar-font-xl: 1.5rem}@media (prefers-color-scheme: dark){.calendar-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}}[style*=\\\"color-scheme: dark\\\"] .calendar-root,[style*=\\\"color-scheme: dark\\\"] .date-picker-root{--qalendar-gray-quite-dark: rgb(221, 221, 221);--qalendar-option-hover: #575757}@media (prefers-color-scheme: dark){.calendar-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root),.date-picker-root:not(.is-light-mode .calendar-root,.is-light-mode .date-picker-root){--qalendar-gray-quite-dark: rgb(221, 221, 221)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root,[style*=\\\"color-scheme: dark\\\"] .date-picker-root{--qalendar-gray-quite-dark: rgb(221, 221, 221)}@media (min-width: 62rem){.calendar-root{--qalendar-spacing: 20px;--qalendar-spacing-half: 10px;--qalendar-spacing-double: 40px}}.calendar-root-wrapper{width:100%;max-width:100vw;height:100%;display:flex}.calendar-root-wrapper .calendar-root{flex:1;border:var(--qalendar-border-gray-thin);border-radius:var(--qalendar-border-radius);font-family:var(--51d82805);position:relative;width:100%;margin:0 auto;display:flex;flex-flow:column}@media (prefers-color-scheme: dark){.calendar-root-wrapper .calendar-root:not(.is-light-mode .calendar-root-wrapper .calendar-root){background:#121212;color:#fff;border-color:transparent}}[style*=\\\"color-scheme: dark\\\"] .calendar-root-wrapper .calendar-root{background:#121212;color:#fff;border-color:transparent}.calendar-root-wrapper .calendar-root .top-bar-loader{position:absolute;top:1px;left:2px;width:calc(100% - 4px);height:3px;background:rgba(241,241,241,.2);border-radius:16px;overflow:hidden}.calendar-root-wrapper .calendar-root .top-bar-loader:before{content:\\\"\\\";height:4px;width:calc(100% - 4px);position:absolute;top:1px;left:2px;background:rgb(38,132,255);background:linear-gradient(90deg,rgb(38,132,255) 0%,rgba(38,132,255,.5088410364) 48%,rgb(38,132,255) 100%);animation:load 1.8s infinite;border-radius:16px}@media (prefers-color-scheme: dark){.calendar-root-wrapper .calendar-root .top-bar-loader:before:not(.is-light-mode .calendar-root-wrapper .calendar-root .top-bar-loader:before){background:rgb(229,224,245)}}[style*=\\\"color-scheme: dark\\\"] .calendar-root-wrapper .calendar-root .top-bar-loader:before{background:rgb(229,224,245)}@keyframes load{0%{width:0;left:-100%}50%{left:0;width:100%}to{width:0;left:100%}}.calendar-root-wrapper .calendar-root .loading-enter-active,.calendar-root-wrapper .calendar-root .loading-leave-active{transition:background .5s ease}.calendar-root-wrapper .calendar-root .loading-leave-to,.calendar-root-wrapper .calendar-root .loading-enter-from{background-color:#fff0}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMV0hLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9zdHlsZS5jc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUM0RztBQUM3QjtBQUMvRSw4QkFBOEIsc0VBQTJCLENBQUMsMkZBQXFDO0FBQy9GO0FBQ0EsNkdBQTZHLGlDQUFpQyxvREFBb0QsNkNBQTZDLGtDQUFrQyxrQ0FBa0MsNkNBQTZDLCtDQUErQyxvREFBb0QsK0NBQStDLHVEQUF1RCx1REFBdUQsMERBQTBELHFEQUFxRCxzREFBc0Qsd0RBQXdELGdFQUFnRSxtRUFBbUUsOEJBQThCLHlCQUF5Qiw2QkFBNkIsZ0NBQWdDLCtFQUErRSwyQ0FBMkMsbUNBQW1DLDZCQUE2Qiw2QkFBNkIsMkJBQTJCLDJCQUEyQix3QkFBd0IsMkJBQTJCLDJCQUEyQixvQ0FBb0MsMk1BQTJNLCtDQUErQyxrQ0FBa0MsbUlBQW1JLCtDQUErQyxpQ0FBaUMsb0NBQW9DLDJNQUEyTSxnREFBZ0QsbUlBQW1JLCtDQUErQywwQkFBMEIsZ0NBQWdDLHlCQUF5Qiw4QkFBOEIsaUNBQWlDLDhCQUE4QixrQkFBa0Isa0JBQWtCLGdCQUFnQiw2Q0FBNkMsZUFBZSwyQ0FBMkMsZ0JBQWdCLGlEQUFpRCxrQkFBa0IsbURBQW1ELGtCQUFrQixzRUFBc0UsY0FBYyw2Q0FBNkMsWUFBWSxrQkFBa0Isa0NBQWtDLGlDQUFpQyxlQUFlLGFBQWEsbUJBQW1CLHVCQUF1QixpQ0FBaUMsaUJBQWlCLHdDQUF3QyxvQ0FBb0MsNkZBQTZGLDBDQUEwQyxvRUFBb0UsMEJBQTBCLDZFQUE2RSwwQ0FBMEMsb0VBQW9FLHlCQUF5QixnRUFBZ0UsU0FBUyw4RUFBOEUsZ0JBQWdCLGlHQUFpRyxhQUFhLGlEQUFpRCxrQkFBa0Isb0VBQW9FLGlDQUFpQywyQ0FBMkMscUNBQXFDLFdBQVcsc0JBQXNCLHdDQUF3QyxrQkFBa0IsZ0JBQWdCLCtC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cGFjazovLy8uL25vZGVfbW9kdWxlcy9xYWxlbmRhci9kaXN0L3N0eWxlLmNzcz9lMWRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5jYWxlbmRhci1yb290W2RhdGEtdi02N2Y3Nzg2Ml0sLmRhdGUtcGlja2VyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXXstLXFhbGVuZGFyLWJsdWU6IHJnYigzOCAxMzIgMjU1KTstLXFhbGVuZGFyLWJsdWUtdHJhbnNwYXJlbnQ6IHJnYmEoMzggMTMyIDI1NSAvIDkwJSk7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigxMTAgMTEwIDExMCk7LS1xYWxlbmRhci1ncmF5OiByZ2IoMTgwIDE4MCAxODApOy0tcWFsZW5kYXItZ3JlZW46IHJnYig1MSAxODIgMTIxKTstLXFhbGVuZGFyLXRoZW1lLWNvbG9yOiB2YXIoLS1xYWxlbmRhci1ibHVlKTstLXFhbGVuZGFyLWxpZ2h0LWdyYXk6IHJnYmEoMjQwIDIzNiAyMzYgLyA3NiUpOy0tcWFsZW5kYXItb3B0aW9uLWhvdmVyOiB2YXIoLS1xYWxlbmRhci1saWdodC1ncmF5KTstLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlOiAjMzgzODM4Oy0tcWFsZW5kYXItZGFyay1tb2RlLWxpZ2h0bHktZWxldmF0ZWQtc3VyZmFjZTogIzJlMmUyZTstLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LXByaW1hcnk6IHJnYmEoMjU1IDI1NSAyNTUgMSk7LS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1zZWNvbmRhcnk6IHJnYmEoMjU1IDI1NSAyNTUgLjcpOy0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludDogcmdiYSgyNTUgMjU1IDI1NSAuNSk7LS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcjogdmFyKC0tcWFsZW5kYXItZ3JheSk7LS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluOiAxcHggc29saWQgcmdiKDIyNCAyMjQgMjI0KTstLXFhbGVuZGFyLWJvcmRlci1kYXNoZWQtZ3JheS10aGluOiAxcHggZGFzaGVkIHJnYigyMjQgMjI0IDIyNCk7LS1xYWxlbmRhci1ib3JkZXItYmx1ZS10aGluOiAxcHggc29saWQgdmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpOy0tcWFsZW5kYXItYm9yZGVyLXJhZGl1czogOHB4Oy0tcWFsZW5kYXItc3BhY2luZzogMTBweDstLXFhbGVuZGFyLXNwYWNpbmctaGFsZjogNXB4Oy0tcWFsZW5kYXItc3BhY2luZy1kb3VibGU6IDIwcHg7LS1xYWxlbmRhci1ib3gtc2hhZG93OiAwIDRweCA0cHggcmdiYSgwIDAgMCAvIDYlKSwgMCAxcHggNHB4IHJnYmEoMCAwIDAgLyAxOCUpOy0tcWFsZW5kYXItdGV4dC10cmFuc2l0aW9uOiBjb2xvciAuMnMgZWFzZTstLXFhbGVuZGFyLXdlZWstcGFkZGluZy1sZWZ0OiA1NnB4Oy0tcWFsZW5kYXItZm9udC0zeHM6IC42MjVyZW07LS1xYWxlbmRhci1mb250LTJ4czogLjY4OHJlbTstLXFhbGVuZGFyLWZvbnQteHM6IC43NXJlbTstLXFhbGVuZGFyLWZvbnQtczogLjg3NXJlbTstLXFhbGVuZGFyLWZvbnQtbTogMXJlbTstLXFhbGVuZGFyLWZvbnQtbDogMS4yNXJlbTstLXFhbGVuZGFyLWZvbnQteGw6IDEuNXJlbX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCksLmRhdGUtcGlja2VyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXJvb3QsLmlzLWxpZ2h0LW1vZGUgLmRhdGUtcGlja2VyLXJvb3Qpey0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrOiByZ2IoMjIxLCAyMjEsIDIyMSk7LS1xYWxlbmRhci1vcHRpb24taG92ZXI6ICM1NzU3NTd9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1yb290W2RhdGEtdi02N2Y3Nzg2Ml0sW3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmRhdGUtcGlja2VyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXXstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpOy0tcWFsZW5kYXItb3B0aW9uLWhvdmVyOiAjNTc1NzU3fUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1yb290W2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlci1yb290KSwuZGF0ZS1waWNrZXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCl7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXSxbc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdey0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrOiByZ2IoMjIxLCAyMjEsIDIyMSl9QG1lZGlhIChtaW4td2lkdGg6IDYycmVtKXsuY2FsZW5kYXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdey0tcWFsZW5kYXItc3BhY2luZzogMjBweDstLXFhbGVuZGFyLXNwYWNpbmctaGFsZjogMTBweDstLXFhbGVuZGFyLXNwYWNpbmctZG91YmxlOiA0MHB4fX0uZGF0ZS1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDpmaXQtY29udGVudDttaW4td2lkdGg6MTZyZW19Lm1vZGUtaXMtbW9udGggLmRhdGUtcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml17bWluLXdpZHRoOjhyZW19Lm1vZGUtaXMtZGF5IC5kYXRlLXBpY2tlcltkYXRhLXYtNjdmNzc4NjJde21pbi13aWR0aDoxMHJlbX0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml17bWluLXdpZHRoOmluaXRpYWx9LmRhdGUtcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1pbi1xYWxlbmRhcil7bWluLXdpZHRoOmluaXRpYWx9LnFhbGVuZGFyLWlzLXNtYWxsIC5kYXRlLXBpY2tlcltkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtaW4tcWFsZW5kYXIpe21hcmdpbjowIGF1dG99LmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5W2RhdGEtdi02N2Y3Nzg2Ml17aGVpZ2h0OjM2cHg7Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzowIHZhcigtLXFhbGVuZGFyLXNwYWNpbmcpO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LW0pO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKTt1c2VyLXNlbGVjdDpub25lO2JvcmRlcjp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXlbZGF0YS12LTY3Zjc3ODYyXTpub3QoLmlzLWxpZ2h0LW1vZGUgLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5KXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saWdodGx5LWVsZXZhdGVkLXN1cmZhY2UpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5W2RhdGEtdi02N2Y3Nzg2Ml17Y29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGlnaHRseS1lbGV2YXRlZC1zdXJmYWNlKTtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LnFhbGVuZGFyLWlzLXNtYWxsIC5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheVtkYXRhLXYtNjdmNzc4NjJde2JvcmRlcjowfS5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheSAuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXktdGV4dFtkYXRhLXYtNjdmNzc4NjJde2Rpc3BsYXk6aW5pdGlhbH0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5IC5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheS10ZXh0W2RhdGEtdi02N2Y3Nzg2Ml17ZGlzcGxheTpub25lfS5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheSBzdmdbZGF0YS12LTY3Zjc3ODYyXXtmb250LXNpemU6aW5pdGlhbH0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5IHN2Z1tkYXRhLXYtNjdmNzc4NjJde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LWwpfS5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXXtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZik7ei1pbmRleDo1MTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pO2JvcmRlci1yYWRpdXM6NHB4O21pbi13aWR0aDoyNTBweDtib3gtc2hhZG93OjAgMnB4IDRweCAjZjBlY2VjYzJ9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlcltkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlKTtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDJweCA0cHggIzAwMDAwMDFhfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml17YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtZWxldmF0ZWQtc3VyZmFjZSk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2JveC1zaGFkb3c6MCAycHggNHB4ICMwMDAwMDAxYX0uZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLmlzLWluLXFhbGVuZGFyW2RhdGEtdi02N2Y3Nzg2Ml17dG9wOmNhbGMoMTAwJSAtIDFweCk7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MH0uZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLmlzLWluLXFhbGVuZGFyIC5tb2RlLWlzLW1vbnRoW2RhdGEtdi02N2Y3Nzg2Ml0sLm1vZGUtaXMtd2VlayAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLmlzLWluLXFhbGVuZGFyW2RhdGEtdi02N2Y3Nzg2Ml17bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKX0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci5pcy1pbi1xYWxlbmRhciAubW9kZS1pcy1tb250aFtkYXRhLXYtNjdmNzc4NjJdLC5xYWxlbmRhci1pcy1zbWFsbCAubW9kZS1pcy13ZWVrIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXIuaXMtaW4tcWFsZW5kYXJbZGF0YS12LTY3Zjc3ODYyXXtsZWZ0OmluaXRpYWw7dHJhbnNmb3JtOmluaXRpYWx9LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci1uYXZpZ2F0aW9uW2RhdGEtdi02N2Y3Nzg2Ml17Zm9udC13ZWlnaHQ6OTAwO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47Z2FwOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZik7bWFyZ2luLWJvdHRvbTouMjVlbTt1c2VyLXNlbGVjdDpub25lfS5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXItbmF2aWdhdGlvbiAuaXMtaWNvbltkYXRhLXYtNjdmNzc4NjJde3RyYW5zaXRpb246dmFyKC0tcWFsZW5kYXItdGV4dC10cmFuc2l0aW9uKTtjb2xvcjojMTMxMzEzfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXItbmF2aWdhdGlvbiAuaXMtaWNvbltkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLW5hdmlnYXRpb24gLmlzLWljb24pe2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLW5hdmlnYXRpb24gLmlzLWljb25bZGF0YS12LTY3Zjc3ODYyXXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci1uYXZpZ2F0aW9uIC5pcy1pY29uW2RhdGEtdi02N2Y3Nzg2Ml06aG92ZXJ7Y29sb3I6dmFyKC0tcWFsZW5kYXItYmx1ZSk7Y3Vyc29yOnBvaW50ZXJ9fS5kYXRlLXBpY2tlcl9fdG9nZ2xlLW1vZGVbZGF0YS12LTY3Zjc3ODYyXXt0cmFuc2l0aW9uOnZhcigtLXFhbGVuZGFyLXRleHQtdHJhbnNpdGlvbil9QG1lZGlhIChob3ZlcjogaG92ZXIpey5kYXRlLXBpY2tlcl9fdG9nZ2xlLW1vZGVbZGF0YS12LTY3Zjc3ODYyXTpob3Zlcntjb2xvcjp2YXIoLS1xYWxlbmRhci1ibHVlKTtjdXJzb3I6cG9pbnRlcn19LmRhdGUtcGlja2VyIC5tb250aHNbZGF0YS12LTY3Zjc3ODYyXXtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7Z2FwOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZik7bWF4LXdpZHRoOjIwcmVtfS5kYXRlLXBpY2tlciAubW9udGhzIHNwYW5bZGF0YS12LTY3Zjc3ODYyXXtwYWRkaW5nOjRweDtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLXJhZGl1czoycHg7ZmxleDoxIDAgMzMlO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKTt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmRhdGUtcGlja2VyIC5tb250aHMgc3BhbltkYXRhLXYtNjdmNzc4NjJdOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpO2NvbG9yOiNmZmY7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ibHVlLXRoaW4pfX0uZGF0ZS1waWNrZXIgLndlZWtbZGF0YS12LTY3Zjc3ODYyXXt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtZXZlbmx5O2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46NHB4IDB9LmRhdGUtcGlja2VyIC53ZWVrLmlzLWFjdGl2ZVtkYXRhLXYtNjdmNzc4NjJde2JvcmRlcjoxcHggZGFzaGVkIHZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtib3JkZXItcmFkaXVzOjRweH0uZGF0ZS1waWNrZXIgLndlZWsgc3BhbltkYXRhLXYtNjdmNzc4NjJde2Rpc3BsYXk6ZmxleDttaW4taGVpZ2h0OjMycHg7bWluLXdpZHRoOjMycHg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ZmxleDoxIDEgMTAwJTtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjUwJTtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC14cyl9LmRhdGUtcGlja2VyIC53ZWVrIHNwYW4uaXMtd2Vla2VuZFtkYXRhLXYtNjdmNzc4NjJde2NvbG9yOmdyYXl9QG1lZGlhIChob3ZlcjogaG92ZXIpey5kYXRlLXBpY2tlciAud2VlayBzcGFuLmhhcy1kYXlbZGF0YS12LTY3Zjc3ODYyXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLW9wdGlvbi1ob3Zlcil9fS5kYXRlLXBpY2tlciAud2VlayBzcGFuLmlzLXRvZGF5W2RhdGEtdi02N2Y3Nzg2Ml17YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1ibHVlKTtjb2xvcjojZmZmfS5kYXRlLXBpY2tlciAud2VlayBzcGFuLmlzLW5vdC1pbi1tb250aFtkYXRhLXYtNjdmNzc4NjJde2NvbG9yOiNhOWE5YTl9LmRhdGUtcGlja2VyIC53ZWVrIHNwYW4uaXMtZGlzYWJsZWRbZGF0YS12LTY3Zjc3ODYyXXtjb2xvcjojYTlhOWE5O2N1cnNvcjpub3QtYWxsb3dlZH1bZGF0YS1sYW5nPWFyXSAuZGF0ZS1waWNrZXIgLndlZWsgc3BhbltkYXRhLXYtNjdmNzc4NjJde2ZvbnQtc2l6ZTouNjVyZW19LmRhdGUtcGlja2VyX19kYXktbmFtZXNbZGF0YS12LTY3Zjc3ODYyXXt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXMpfS5jYWxlbmRhci1oZWFkZXJbZGF0YS12LTM3ZjFjMzg5XXtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmc6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKTtib3JkZXItcmFkaXVzOnZhcigtLXFhbGVuZGFyLWJvcmRlci1yYWRpdXMpfUBtZWRpYSAobWluLXdpZHRoOiAzNy41cmVtKXsuY2FsZW5kYXItaGVhZGVyW2RhdGEtdi0zN2YxYzM4OV17anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47Z3JpZC1nYXA6dmFyKC0tcWFsZW5kYXItc3BhY2luZyl9fUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1oZWFkZXJbZGF0YS12LTM3ZjFjMzg5XTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLWhlYWRlcil7Y29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludCl9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1oZWFkZXJbZGF0YS12LTM3ZjFjMzg5XXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KX0uY2FsZW5kYXItaGVhZGVyX19wZXJpb2RbZGF0YS12LTM3ZjFjMzg5XXtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDp2YXIoLS1xYWxlbmRhci1zcGFjaW5nKX0uY2FsZW5kYXItaGVhZGVyX19wZXJpb2QtbmFtZVtkYXRhLXYtMzdmMWMzODlde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LWwpO3RleHQtYWxpZ246Y2VudGVyfUBtZWRpYSAobWluLXdpZHRoOiAzNy41cmVtKXsuY2FsZW5kYXItaGVhZGVyX19wZXJpb2QtbmFtZVtkYXRhLXYtMzdmMWMzODlde21hcmdpbi1ib3R0b206MDt0ZXh0LWFsaWduOmxlZnR9fS5jYWxlbmRhci1oZWFkZXJfX211bHRpc2VsZWN0c1tkYXRhLXYtMzdmMWMzODlde2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpfS5jYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3dzW2RhdGEtdi0zN2YxYzM4OV17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtncmlkLWdhcDoyMHB4fS5jYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3dzIC5jYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3dbZGF0YS12LTM3ZjFjMzg5XXtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmNvbG9yIC4ycyBlYXNlO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LW0pfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2FsZW5kYXItaGVhZGVyX19jaGV2cm9uLWFycm93cyAuY2FsZW5kYXItaGVhZGVyX19jaGV2cm9uLWFycm93W2RhdGEtdi0zN2YxYzM4OV06aG92ZXJ7Y29sb3I6dmFyKC0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrKX19LmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXJbZGF0YS12LTM3ZjFjMzg5XXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6Zml0LWNvbnRlbnQ7aGVpZ2h0OjM2cHg7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbSk7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyW2RhdGEtdi0zN2YxYzM4OV06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyKXtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyW2RhdGEtdi0zN2YxYzM4OV17Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fS5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtdmFsdWVbZGF0YS12LTM3ZjFjMzg5XXtwYWRkaW5nOjAgdmFyKC0tcWFsZW5kYXItc3BhY2luZyk7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3VzZXItc2VsZWN0Om5vbmU7Ym9yZGVyLXJhZGl1czo0cHh9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS12YWx1ZVtkYXRhLXYtMzdmMWMzODldOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXZhbHVlKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saWdodGx5LWVsZXZhdGVkLXN1cmZhY2UpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXZhbHVlW2RhdGEtdi0zN2YxYzM4OV17YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGlnaHRseS1lbGV2YXRlZC1zdXJmYWNlKX0uY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbnNbZGF0YS12LTM3ZjFjMzg5XXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUxO3RvcDoxMDAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pO2JhY2tncm91bmQtY29sb3I6I2ZmZn1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbnNbZGF0YS12LTM3ZjFjMzg5XTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25zKXtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtZWxldmF0ZWQtc3VyZmFjZSl9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9uc1tkYXRhLXYtMzdmMWMzODlde2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlKX0uY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbnMgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25bZGF0YS12LTM3ZjFjMzg5XXtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZikgdmFyKC0tcWFsZW5kYXItc3BhY2luZyl9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9ucyAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbltkYXRhLXYtMzdmMWMzODldOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItb3B0aW9uLWhvdmVyKX19LmRheS10aW1lbGluZVtkYXRhLXYtMDE0YmY0ZTBde3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDpjYWxjKDEwMCUgKyAxMHB4KTtoZWlnaHQ6dmFyKC0tMTEzNzFkMTkpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTEwcHgpO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO2p1c3RpZnktY29udGVudDpzcGFjZS1ldmVubHl9LmRheS10aW1lbGluZV9faG91cltkYXRhLXYtMDE0YmY0ZTBde3BhZGRpbmctbGVmdDo0cHg7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7aGVpZ2h0OjEwMCU7Zm9udC1zaXplOmNsYW1wKDEwcHgsLjYyNXJlbSwxNHB4KTtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspfS5kYXktdGltZWxpbmVfX2hvdXItdGV4dFtkYXRhLXYtMDE0YmY0ZTBde2xpbmUtaGVpZ2h0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNDBweCl9LmRheS10aW1lbGluZV9faG91cjpmaXJzdC1jaGlsZCAuZGF5LXRpbWVsaW5lX19ob3VyLXRleHRbZGF0YS12LTAxNGJmNGUwXXtkaXNwbGF5Om5vbmV9LmRheS10aW1lbGluZV9faG91cltkYXRhLXYtMDE0YmY0ZTBdOm5vdCg6bGFzdC1jaGlsZCl7Ym9yZGVyLWJvdHRvbTp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuZGF5LXRpbWVsaW5lX19ob3VyW2RhdGEtdi0wMTRiZjRlMF06bm90KDpsYXN0LWNoaWxkKTpub3QoLmlzLWxpZ2h0LW1vZGUgLmRheS10aW1lbGluZV9faG91cjpub3QoOmxhc3QtY2hpbGQpKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF5LXRpbWVsaW5lX19ob3VyW2RhdGEtdi0wMTRiZjRlMF06bm90KDpsYXN0LWNoaWxkKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfS53ZWVrLXRpbWVsaW5lX19ldmVudFtkYXRhLXYtNzc4ZDU5ZmNde3Bvc2l0aW9uOnJlbGF0aXZlOy0tZXZlbnQtcGFkZGluZzogM3B4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7aGVpZ2h0Oi45cmVtO3dpZHRoOmNhbGMoMTAwJSAtIHZhcigtLWV2ZW50LXBhZGRpbmcpKTtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC0yeHMpO2JvcmRlci1yYWRpdXM6NHB4O3BhZGRpbmc6dmFyKC0tZXZlbnQtcGFkZGluZyk7bWFyZ2luLWJvdHRvbTouMjVlbTt0ZXh0LWFsaWduOmxlZnQ7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZTtvdmVyZmxvdzpoaWRkZW59LndlZWstdGltZWxpbmVfX2V2ZW50W2RhdGEtdi03NzhkNTlmY106YWN0aXZle2N1cnNvcjpub3QtYWxsb3dlZH0ud2Vlay10aW1lbGluZVtkYXRhLXYtYTQzNzQ2YjZde2hlaWdodDpmaXQtY29udGVudDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWV2ZW5seTtwYWRkaW5nLWJvdHRvbTp2YXIoLS1xYWxlbmRhci1zcGFjaW5nLWhhbGYpO3BhZGRpbmctbGVmdDp2YXIoLS1xYWxlbmRhci13ZWVrLXBhZGRpbmctbGVmdCk7Ym9yZGVyLWJvdHRvbTp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKX0ubW9kZS1pcy1kYXkgLndlZWstdGltZWxpbmVbZGF0YS12LWE0Mzc0NmI2XXt3aWR0aDoxMDAlO3BhZGRpbmctbGVmdDowfS53ZWVrLXRpbWVsaW5lX19kYXlbZGF0YS12LWE0Mzc0NmI2XXt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0ud2Vlay10aW1lbGluZV9fZGF5LW5hbWVbZGF0YS12LWE0Mzc0NmI2XXtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC0zeHMpO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW4tYm90dG9tOjRweDtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspfS53ZWVrLXRpbWVsaW5lX19kYXRlW2RhdGEtdi1hNDM3NDZiNl17Zm9udC1zaXplOjEuMnJlbTttYXJnaW4tYm90dG9tOjRweDtoZWlnaHQ6MnJlbTt3aWR0aDoycmVtO2JvcmRlci1yYWRpdXM6NTAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uaXMtdG9kYXkgLndlZWstdGltZWxpbmVfX2RhdGVbZGF0YS12LWE0Mzc0NmI2XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWJsdWUpO2NvbG9yOiNmZmZ9LndlZWstdGltZWxpbmVfX2V2ZW50c1tkYXRhLXYtYTQzNzQ2YjZde3dpZHRoOjEwMCU7ZmxleDoxO2JvcmRlci1yaWdodDoxcHggZGFzaGVkIHJnYigyMjQsMjI0LDIyNCl9LndlZWstdGltZWxpbmVfX2RheTpmaXJzdC1jaGlsZCAud2Vlay10aW1lbGluZV9fZXZlbnRzW2RhdGEtdi1hNDM3NDZiNl17Ym9yZGVyLWxlZnQ6MXB4IGRhc2hlZCByZ2IoMjI0LDIyNCwyMjQpfS5jYWxlbmRhci13ZWVrX19ldmVudFtkYXRhLXYtNTU2NGQ0MzZde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7Ym9yZGVyLXJhZGl1czo0cHg7Y3Vyc29yOnBvaW50ZXI7Ym94LXNpemluZzpjb250ZW50LWJveDt1c2VyLXNlbGVjdDpub25lO292ZXJmbG93OmhpZGRlbn0uY2FsZW5kYXItd2Vla19fZXZlbnQuaXMtZWRpdGFibGVbZGF0YS12LTU1NjRkNDM2XXtjdXJzb3I6Z3JhYn0uY2FsZW5kYXItd2Vla19fZXZlbnQuaGFzLWRpc2FibGVkLWRuZFtkYXRhLXYtNTU2NGQ0MzZde2N1cnNvcjppbml0aWFsfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtcm93W2RhdGEtdi01NTY0ZDQzNl17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7bWFyZ2luLWJvdHRvbTouMjVlbX0uY2FsZW5kYXItd2Vla19fZXZlbnQgLmNhbGVuZGFyLXdlZWtfX2V2ZW50LXJvdyBwW2RhdGEtdi01NTY0ZDQzNl17bWFyZ2luOjA7cGFkZGluZzowfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtaW5mby13cmFwcGVyW2RhdGEtdi01NTY0ZDQzNl17cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzp2YXIoLS1xYWxlbmRhci1zcGFjaW5nLWhhbGYpO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKTtoZWlnaHQ6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dXNlci1zZWxlY3Q6bm9uZX0uY2FsZW5kYXItd2Vla19fZXZlbnQgLmNhbGVuZGFyLXdlZWtfX2V2ZW50LWJsZW5kLW91dFtkYXRhLXYtNTU2NGQ0MzZde3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2hlaWdodDoyMHB4O3dpZHRoOjEwMCU7dHJhbnNmb3JtOnRyYW5zbGF0ZShjYWxjKHZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZikgKiAtMSkpfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtaWNvbltkYXRhLXYtNTU2NGQ0MzZde21hcmdpbjoycHggNHB4IDAgMDtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC14cyl9LmNhbGVuZGFyLXdlZWtfX2V2ZW50IC5jYWxlbmRhci13ZWVrX19ldmVudC1yZXNpemVbZGF0YS12LTU1NjRkNDM2XXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2N1cnNvcjpucy1yZXNpemU7aGVpZ2h0OjVweH0uY2FsZW5kYXItd2Vla19fZXZlbnQgLmNhbGVuZGFyLXdlZWtfX2V2ZW50LXJlc2l6ZS11cFtkYXRhLXYtNTU2NGQ0MzZde3RvcDowfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtcmVzaXplLWRvd25bZGF0YS12LTU1NjRkNDM2XXtib3R0b206MH0uY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV17cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jYWxlbmRhci13ZWVrX19kYXkgLmNhbGVuZGFyLXdlZWtfX2RheS1pbnRlcnZhbFtkYXRhLXYtYjI2OGJlN2Vde2ZsZXg6MTtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC14cyk7Y29sb3I6dmFyKC0tcWFsZW5kYXItZ3JheSk7cGFkZGluZzoycHh9LmNhbGVuZGFyLXdlZWtfX2RheSAuY2FsZW5kYXItd2Vla19fZGF5LWludGVydmFsLmhhcy1ib3JkZXJbZGF0YS12LWIyNjhiZTdlXXtib3JkZXItYm90dG9tOnZhcigtLXFhbGVuZGFyLWJvcmRlci1kYXNoZWQtZ3JheS10aGluKX0uY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV06Zmlyc3QtY2hpbGR7Ym9yZGVyLWxlZnQ6MXB4IGRhc2hlZCByZ2IoMjI0LDIyNCwyMjQpfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci13ZWVrX19kYXlbZGF0YS12LWIyNjhiZTdlXTpmaXJzdC1jaGlsZDpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXdlZWtfX2RheTpmaXJzdC1jaGlsZCl7Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXdlZWtfX2RheVtkYXRhLXYtYjI2OGJlN2VdOmZpcnN0LWNoaWxke2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9LmNhbGVuZGFyLXdlZWtfX2RheVtkYXRhLXYtYjI2OGJlN2VdOm5vdCg6bGFzdC1jaGlsZCl7Ym9yZGVyLXJpZ2h0OjFweCBkYXNoZWQgcmdiKDIyNCwyMjQsMjI0KX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV06bm90KDpsYXN0LWNoaWxkKTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXdlZWtfX2RheTpub3QoOmxhc3QtY2hpbGQpKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV06bm90KDpsYXN0LWNoaWxkKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfS5ldmVudC1mbHlvdXRbZGF0YS12LWQ2YTYxZTM3XXtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjUwO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0OjEwMCU7d2lkdGg6dmFyKC0tN2MwYjIxMTQpO21heC13aWR0aDo5OCU7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pO2JvcmRlci1yYWRpdXM6OHB4O2JveC1zaGFkb3c6MCAxMnB4IDI0cHggIzAwMDAwMDE3LDAgNnB4IDEycHggIzAwMDAwMDJlO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTt0cmFuc2l0aW9uLXByb3BlcnR5Om9wYWNpdHksdHJhbnNmb3JtO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC00MHB4KTtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuZXZlbnQtZmx5b3V0W2RhdGEtdi1kNmE2MWUzN106bm90KC5pcy1saWdodC1tb2RlIC5ldmVudC1mbHlvdXQpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2UpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmV2ZW50LWZseW91dFtkYXRhLXYtZDZhNjFlMzdde2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2UpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0uZXZlbnQtZmx5b3V0LmlzLXZpc2libGVbZGF0YS12LWQ2YTYxZTM3XXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7cG9pbnRlci1ldmVudHM6aW5pdGlhbH0uZXZlbnQtZmx5b3V0X19yZWxhdGl2ZS13cmFwcGVyW2RhdGEtdi1kNmE2MWUzN117cG9zaXRpb246cmVsYXRpdmV9LmV2ZW50LWZseW91dF9fbWVudVtkYXRhLXYtZDZhNjFlMzdde2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXJ9LmV2ZW50LWZseW91dF9fbWVudSAuZXZlbnQtZmx5b3V0X19tZW51LWVkaXRhYmxlW2RhdGEtdi1kNmE2MWUzN10sLmV2ZW50LWZseW91dF9fbWVudSAuZXZlbnQtZmx5b3V0X19tZW51LWNsb3NlW2RhdGEtdi1kNmE2MWUzN117cGFkZGluZzp2YXIoLS1xYWxlbmRhci1zcGFjaW5nKSB2YXIoLS1xYWxlbmRhci1zcGFjaW5nKSAwIHZhcigtLXFhbGVuZGFyLXNwYWNpbmcpO2Rpc3BsYXk6ZmxleDtncmlkLWdhcDoyMHB4fS5pcy1ub3QtZWRpdGFibGUgLmV2ZW50LWZseW91dF9fbWVudSAuZXZlbnQtZmx5b3V0X19tZW51LWNsb3NlW2RhdGEtdi1kNmE2MWUzN117cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MH0uZXZlbnQtZmx5b3V0X19tZW51LWl0ZW1bZGF0YS12LWQ2YTYxZTM3XXtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC1sKTtjb2xvcjpncmF5fUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5ldmVudC1mbHlvdXRfX21lbnUtaXRlbVtkYXRhLXYtZDZhNjFlMzddOm5vdCguaXMtbGlnaHQtbW9kZSAuZXZlbnQtZmx5b3V0X19tZW51LWl0ZW0pe2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZXZlbnQtZmx5b3V0X19tZW51LWl0ZW1bZGF0YS12LWQ2YTYxZTM3XXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KX0uZXZlbnQtZmx5b3V0X19tZW51LWl0ZW1bZGF0YS12LWQ2YTYxZTM3XTpob3Zlcntjb2xvcjp2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7Y3Vyc29yOnBvaW50ZXJ9LmV2ZW50LWZseW91dCAuaXMtdHJhc2gtaWNvbltkYXRhLXYtZDZhNjFlMzddOmhvdmVye2NvbG9yOnJlZH0uZXZlbnQtZmx5b3V0X19pbmZvLXdyYXBwZXJbZGF0YS12LWQ2YTYxZTM3XXtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpfS5ldmVudC1mbHlvdXRfX3Jvd1tkYXRhLXYtZDZhNjFlMzdde2Rpc3BsYXk6ZmxleDtncmlkLWdhcDp2YXIoLS1xYWxlbmRhci1zcGFjaW5nKTttYXJnaW4tYm90dG9tOi4yNWVtO2ZvbnQtd2VpZ2h0OjQwMH0uZXZlbnQtZmx5b3V0X19yb3cgcFtkYXRhLXYtZDZhNjFlMzdde21hcmdpbjowO3BhZGRpbmc6MH0uZXZlbnQtZmx5b3V0X19yb3cgc3ZnW2RhdGEtdi1kNmE2MWUzN117bWFyZ2luLXRvcDouMXJlbTtjb2xvcjojNWY2MzY4O3dpZHRoOjE0cHh9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmV2ZW50LWZseW91dF9fcm93IHN2Z1tkYXRhLXYtZDZhNjFlMzddOm5vdCguaXMtbGlnaHQtbW9kZSAuZXZlbnQtZmx5b3V0X19yb3cgc3ZnKXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmV2ZW50LWZseW91dF9fcm93IHN2Z1tkYXRhLXYtZDZhNjFlMzdde2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfS5ldmVudC1mbHlvdXRfX2NvbG9yLWljb25bZGF0YS12LWQ2YTYxZTM3XXstLWljb24taGVpZ2h0OiAxNnB4O2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDp2YXIoLS1pY29uLWhlaWdodCk7d2lkdGg6dmFyKC0taWNvbi1oZWlnaHQpfS5ldmVudC1mbHlvdXQgLmlzLXRpdGxlW2RhdGEtdi1kNmE2MWUzN117Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbCk7YWxpZ24taXRlbXM6Y2VudGVyfS5pcy1ub3QtZWRpdGFibGUgLmV2ZW50LWZseW91dCAuaXMtdGl0bGVbZGF0YS12LWQ2YTYxZTM3XXttYXgtd2lkdGg6OTAlfS5ldmVudC1mbHlvdXQgLmlzLXRpbWVbZGF0YS12LWQ2YTYxZTM3XXtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC1zKTttYXJnaW4tYm90dG9tOi43NWVtfS5jYWxlbmRhci13ZWVrX193cmFwcGVyW2RhdGEtdi04YmI2YWQwNV17cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1sZWZ0OnZhcigtLXFhbGVuZGFyLXdlZWstcGFkZGluZy1sZWZ0KTtvdmVyZmxvdy15OmF1dG99LmNhbGVuZGFyLXdlZWtbZGF0YS12LThiYjZhZDA1XXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2ZsZXg6MSAxIGF1dG99LmNhbGVuZGFyLXdlZWtfX2V2ZW50c1tkYXRhLXYtOGJiNmFkMDVde2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO2hlaWdodDp2YXIoLS01Y2I1ZDA1Nyk7b3ZlcmZsb3c6aGlkZGVufS5jYWxlbmRhci13ZWVrIC5jdXJyZW50LXRpbWUtbGluZVtkYXRhLXYtOGJiNmFkMDVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoycHg7ei1pbmRleDoxO2JhY2tncm91bmQtY29sb3I6cmVkfS5jYWxlbmRhci13ZWVrIC5jdXJyZW50LXRpbWUtbGluZV9fY2lyY2xlW2RhdGEtdi04YmI2YWQwNV17cG9zaXRpb246cmVsYXRpdmV9LmNhbGVuZGFyLXdlZWsgLmN1cnJlbnQtdGltZS1saW5lX19jaXJjbGVbZGF0YS12LThiYjZhZDA1XTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm06dHJhbnNsYXRlKC00NSUsLTQ1JSk7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0uY2FsZW5kYXItd2VlayAuY3VzdG9tLWN1cnJlbnQtdGltZVtkYXRhLXYtOGJiNmFkMDVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt3aWR0aDoxMDAlO3otaW5kZXg6MX0uY2FsZW5kYXItbW9udGhfX2V2ZW50W2RhdGEtdi00NzY2ZGZjN117LS1ldmVudC1pbmxpbmUtcGFkZGluZzogNHB4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlci1yYWRpdXM6NHB4O2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LTJ4cyk7d2lkdGg6Y2FsYygxMDAlIC0gY2FsYyh2YXIoLS1ldmVudC1pbmxpbmUtcGFkZGluZykgKiAyKSk7bWFyZ2luLWJvdHRvbTo0cHg7cGFkZGluZzouMjVyZW0gdmFyKC0tZXZlbnQtaW5saW5lLXBhZGRpbmcpO2N1cnNvcjpwb2ludGVyO3VzZXItc2VsZWN0Om5vbmV9LmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpbWVbZGF0YS12LTQ3NjZkZmM3XXttYXJnaW4tcmlnaHQ6NnB4fS5jYWxlbmRhci1tb250aF9fZXZlbnQgLmNhbGVuZGFyLW1vbnRoX19ldmVudC10aW1lW2RhdGEtdi00NzY2ZGZjN10sLmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpdGxlW2RhdGEtdi00NzY2ZGZjN10sLmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LWNvbG9yW2RhdGEtdi00NzY2ZGZjN117ZmxleC1zaHJpbms6MH0ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpbWVbZGF0YS12LTQ3NjZkZmM3XSwucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpdGxlW2RhdGEtdi00NzY2ZGZjN117ZGlzcGxheTpub25lfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX2V2ZW50W2RhdGEtdi00NzY2ZGZjN117YmFja2dyb3VuZC1jb2xvcjp2YXIoLS02M2E5YmM4YSk7d2lkdGg6NHB4O2hlaWdodDo0cHg7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzoxcHg7bWFyZ2luLXJpZ2h0OjFweH0uY2FsZW5kYXItbW9udGhfX2V2ZW50LmlzLWRyYWdnYWJsZVtkYXRhLXYtNDc2NmRmYzdde2N1cnNvcjpncmFifS5jYWxlbmRhci1tb250aF9fZXZlbnRbZGF0YS12LTQ3NjZkZmM3XTphY3RpdmV7ei1pbmRleDoxMDB9LmNhbGVuZGFyLW1vbnRoX19ldmVudFtkYXRhLXYtNDc2NmRmYzddOm5vdCguaXMtZHJhZ2dhYmxlKTphY3RpdmV7Y3Vyc29yOm5vdC1hbGxvd2VkfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2FsZW5kYXItbW9udGhfX2V2ZW50W2RhdGEtdi00NzY2ZGZjN106aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1saWdodC1ncmF5KX19QG1lZGlhIChob3ZlcjogaG92ZXIpIGFuZCAoaG92ZXI6IGhvdmVyKXsuY2FsZW5kYXItbW9udGhfX2V2ZW50W2RhdGEtdi00NzY2ZGZjN106aG92ZXI6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1vcHRpb24taG92ZXIpfX0uY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtY29sb3JbZGF0YS12LTQ3NjZkZmM3XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLTYzYTliYzhhKTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtib3JkZXItcmFkaXVzOjUwJTttYXJnaW4tcmlnaHQ6NHB4fS5jYWxlbmRhci1tb250aF9fd2Vla2RheVtkYXRhLXYtMDM0ZjA2ZDhde2hlaWdodDoxMDAlO2ZsZXg6MTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7Ym9yZGVyLXJpZ2h0OnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pO2JvcmRlci1ib3R0b206dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7b3ZlcmZsb3c6aGlkZGVuO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgZWFzZS1pbi1vdXR9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5W2RhdGEtdi0wMzRmMDZkOF06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1tb250aF9fd2Vla2RheSl7Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5W2RhdGEtdi0wMzRmMDZkOF17Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXkuaXMtZHJvcHBhYmxlW2RhdGEtdi0wMzRmMDZkOF17YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1saWdodC1ncmF5KX0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXlbZGF0YS12LTAzNGYwNmQ4XTpsYXN0LWNoaWxke2JvcmRlci1yaWdodDowfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX3dlZWtkYXkuaXMtc2VsZWN0ZWRbZGF0YS12LTAzNGYwNmQ4XXstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDAgM3B4IHZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTstbW96LWJveC1zaGFkb3c6aW5zZXQgMCAwIDAgM3B4IHZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDNweCB2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7Ym9yZGVyLXJhZGl1czo1cHh9LnFhbGVuZGFyLWlzLXNtYWxsIC5jYWxlbmRhci1tb250aF9fd2Vla2RheVtkYXRhLXYtMDM0ZjA2ZDhde2hlaWdodDo0NXB4O3dpZHRoOjQ1cHg7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47anVzdGlmeS1jb250ZW50OnNwYWNlLWFyb3VuZH0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXkgLmNhbGVuZGFyLW1vbnRoX19kYXktZGF0ZVtkYXRhLXYtMDM0ZjA2ZDhde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKTtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspfS5jYWxlbmRhci1tb250aF9fd2Vla2RheSAuY2FsZW5kYXItbW9udGhfX2RheS1kYXRlW2RhdGEtdi0wMzRmMDZkOF06Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDo2cHh9LmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5IC5jYWxlbmRhci1tb250aF9fd2Vla2RheS1tb3JlW2RhdGEtdi0wMzRmMDZkOF17Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtMnhzKTt3aWR0aDoxMDAlO3BhZGRpbmctbGVmdDo0cHg7Y29sb3I6dmFyKC0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrKTtjdXJzb3I6cG9pbnRlcn0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXkgLmNhbGVuZGFyLW1vbnRoX2V2ZW50c1tkYXRhLXYtMDM0ZjA2ZDhde3dpZHRoOjEwMCV9LnFhbGVuZGFyLWlzLXNtYWxsIC5jYWxlbmRhci1tb250aF9fd2Vla2RheSAuY2FsZW5kYXItbW9udGhfZXZlbnRzW2RhdGEtdi0wMzRmMDZkOF17ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3c7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5IC5jYWxlbmRhci1tb250aF9ldmVudHMgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5LW1vcmVbZGF0YS12LTAzNGYwNmQ4XXtkaXNwbGF5Om5vbmV9LmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5LmlzLXRvZGF5IC5jYWxlbmRhci1tb250aF9fZGF5LWRhdGVbZGF0YS12LTAzNGYwNmQ4XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtjb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6NHB4IDZweH0ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5LmlzLXRvZGF5IC5jYWxlbmRhci1tb250aF9fZGF5LWRhdGVbZGF0YS12LTAzNGYwNmQ4XXtwYWRkaW5nOjJweCA0cHh9LnNwYWNlLXJlc2VydmVyW2RhdGEtdi0wMzRmMDZkOF17aGVpZ2h0OjEwMCU7ZmxleDoxO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXItcmlnaHQ6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLWJvdHRvbTp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKTtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnR9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LnNwYWNlLXJlc2VydmVyW2RhdGEtdi0wMzRmMDZkOF06bm90KC5pcy1saWdodC1tb2RlIC5zcGFjZS1yZXNlcnZlcil7Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLnNwYWNlLXJlc2VydmVyW2RhdGEtdi0wMzRmMDZkOF17Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX0uc3BhY2UtcmVzZXJ2ZXIrLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5W2RhdGEtdi0wMzRmMDZkOF06bm90KC50cmFpbGluZy1vci1sZWFkaW5nKXtib3JkZXItbGVmdDp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKX0uY2FsZW5kYXItbW9udGhfX2RheS1uYW1lW2RhdGEtdi0wOWM3YzVkYl17ZGlzcGxheTpibG9jaztmb250LXNpemU6MTJweDtmb250LXdlaWdodDo1MDA7Y29sb3I6dmFyKC0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrKTttYXJnaW4tYm90dG9tOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZil9LmFnZW5kYV9fZXZlbnRbZGF0YS12LTY5OGI0MzFlXXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLTY5MWYyNzkxKTtjb2xvcjp2YXIoLS1mYTE2NDljMik7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtMnhzKTttYXJnaW4tYm90dG9tOjRweDtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpO2N1cnNvcjpwb2ludGVyO3VzZXItc2VsZWN0Om5vbmV9LmFnZW5kYV9fd3JhcHBlcltkYXRhLXYtYjYwY2JjZTVde2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93O3BhZGRpbmc6MTBweCA1cHggMH0uYWdlbmRhX193cmFwcGVyIC5hZ2VuZGFfX2hlYWRlcltkYXRhLXYtYjYwY2JjZTVde3BhZGRpbmctcmlnaHQ6MTBweH0uYWdlbmRhX193cmFwcGVyIC5hZ2VuZGFfX2hlYWRlciAuYWdlbmRhX19oZWFkZXItZGF5LW5hbWVbZGF0YS12LWI2MGNiY2U1XXt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjp2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQteHMpO2ZvbnQtd2VpZ2h0OjcwMH0uYWdlbmRhX193cmFwcGVyIC5hZ2VuZGFfX2hlYWRlciAuYWdlbmRhX19oZWFkZXItZGF0ZVtkYXRhLXYtYjYwY2JjZTVde2hlaWdodDpmaXQtY29udGVudDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo1cHg7Ym9yZGVyLXJhZGl1czo0cHg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7Y29sb3I6I2ZmZjtmb250LXdlaWdodDo2MDA7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbSl9LmFnZW5kYV9fd3JhcHBlciAuYWdlbmRhX19jb250ZW50W2RhdGEtdi1iNjBjYmNlNV17ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47d2lkdGg6MTAwJTtoZWlnaHQ6YXV0b30uYWdlbmRhX193cmFwcGVyIC5hZ2VuZGFfX2NvbnRlbnQgLmlzLWVtcHR5W2RhdGEtdi1iNjBjYmNlNV17bWluLWhlaWdodDo3MHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2FsZW5kYXItbW9udGhbZGF0YS12LTIwNmMxNzdlXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93LXk6YXV0b30ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoW2RhdGEtdi0yMDZjMTc3ZV17aGVpZ2h0OmluaXRpYWx9LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vlay1kYXktbmFtZXNbZGF0YS12LTIwNmMxNzdlXXtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vlay1kYXktbmFtZXMgLmNhbGVuZGFyLW1vbnRoX193ZWVrLWRheS1uYW1lW2RhdGEtdi0yMDZjMTc3ZV17ZmxleDoxO3RleHQtYWxpZ246Y2VudGVyfS5jYWxlbmRhci1tb250aCAuY2FsZW5kYXItbW9udGhfX3dlZWtzW2RhdGEtdi0yMDZjMTc3ZV17aGVpZ2h0OjEwMCU7ZmxleC1ncm93OjE7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vla1tkYXRhLXYtMjA2YzE3N2Vde2Rpc3BsYXk6ZmxleDtmbGV4OjF9LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vla1tkYXRhLXYtMjA2YzE3N2VdOmZpcnN0LWNoaWxke2JvcmRlci10b3A6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbil9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vla1tkYXRhLXYtMjA2YzE3N2VdOmZpcnN0LWNoaWxkOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrOmZpcnN0LWNoaWxkKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrW2RhdGEtdi0yMDZjMTc3ZV06Zmlyc3QtY2hpbGR7Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX0uY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX19kYXlfZXZlbnRzW2RhdGEtdi0yMDZjMTc3ZV17aGVpZ2h0OjEwMCU7ZGlzcGxheTpub25lfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX19kYXlfZXZlbnRzW2RhdGEtdi0yMDZjMTc3ZV17ZGlzcGxheTpibG9ja30ucHN7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudDtvdmVyZmxvdy1hbmNob3I6bm9uZTstbXMtb3ZlcmZsb3ctc3R5bGU6bm9uZTt0b3VjaC1hY3Rpb246YXV0bzstbXMtdG91Y2gtYWN0aW9uOmF1dG99LnBzX19yYWlsLXh7ZGlzcGxheTpub25lO29wYWNpdHk6MDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4ycyBsaW5lYXI7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4ycyBsaW5lYXI7aGVpZ2h0OjE1cHg7Ym90dG9tOjBweDtwb3NpdGlvbjphYnNvbHV0ZX0ucHNfX3JhaWwteXtkaXNwbGF5Om5vbmU7b3BhY2l0eTowO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLG9wYWNpdHkgLjJzIGxpbmVhcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLG9wYWNpdHkgLjJzIGxpbmVhcjt3aWR0aDoxNXB4O3JpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGV9LnBzLS1hY3RpdmUteD4ucHNfX3JhaWwteCwucHMtLWFjdGl2ZS15Pi5wc19fcmFpbC15e2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ucHM6aG92ZXI+LnBzX19yYWlsLXgsLnBzOmhvdmVyPi5wc19fcmFpbC15LC5wcy0tZm9jdXM+LnBzX19yYWlsLXgsLnBzLS1mb2N1cz4ucHNfX3JhaWwteSwucHMtLXNjcm9sbGluZy14Pi5wc19fcmFpbC14LC5wcy0tc2Nyb2xsaW5nLXk+LnBzX19yYWlsLXl7b3BhY2l0eTouNn0ucHMgLnBzX19yYWlsLXg6aG92ZXIsLnBzIC5wc19fcmFpbC15OmhvdmVyLC5wcyAucHNfX3JhaWwteDpmb2N1cywucHMgLnBzX19yYWlsLXk6Zm9jdXMsLnBzIC5wc19fcmFpbC14LnBzLS1jbGlja2luZywucHMgLnBzX19yYWlsLXkucHMtLWNsaWNraW5ne2JhY2tncm91bmQtY29sb3I6I2VlZTtvcGFjaXR5Oi45fS5wc19fdGh1bWIteHtiYWNrZ3JvdW5kLWNvbG9yOiNhYWE7Ym9yZGVyLXJhZGl1czo2cHg7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsaGVpZ2h0IC4ycyBlYXNlLWluLW91dDstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLGhlaWdodCAuMnMgZWFzZS1pbi1vdXQ7aGVpZ2h0OjZweDtib3R0b206MnB4O3Bvc2l0aW9uOmFic29sdXRlfS5wc19fdGh1bWIteXtiYWNrZ3JvdW5kLWNvbG9yOiNhYWE7Ym9yZGVyLXJhZGl1czo2cHg7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsd2lkdGggLjJzIGVhc2UtaW4tb3V0Oy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsd2lkdGggLjJzIGVhc2UtaW4tb3V0O3dpZHRoOjZweDtyaWdodDoycHg7cG9zaXRpb246YWJzb2x1dGV9LnBzX19yYWlsLXg6aG92ZXI+LnBzX190aHVtYi14LC5wc19fcmFpbC14OmZvY3VzPi5wc19fdGh1bWIteCwucHNfX3JhaWwteC5wcy0tY2xpY2tpbmcgLnBzX190aHVtYi14e2JhY2tncm91bmQtY29sb3I6Izk5OTtoZWlnaHQ6MTFweH0ucHNfX3JhaWwteTpob3Zlcj4ucHNfX3RodW1iLXksLnBzX19yYWlsLXk6Zm9jdXM+LnBzX190aHVtYi15LC5wc19fcmFpbC15LnBzLS1jbGlja2luZyAucHNfX3RodW1iLXl7YmFja2dyb3VuZC1jb2xvcjojOTk5O3dpZHRoOjExcHh9QHN1cHBvcnRzICgtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmUpey5wc3tvdmVyZmxvdzphdXRvIWltcG9ydGFudH19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OiBhY3RpdmUpLCgtbXMtaGlnaC1jb250cmFzdDogbm9uZSl7LnBze292ZXJmbG93OmF1dG8haW1wb3J0YW50fX0uY2FsZW5kYXItcm9vdCwuZGF0ZS1waWNrZXItcm9vdHstLXFhbGVuZGFyLWJsdWU6IHJnYigzOCAxMzIgMjU1KTstLXFhbGVuZGFyLWJsdWUtdHJhbnNwYXJlbnQ6IHJnYmEoMzggMTMyIDI1NSAvIDkwJSk7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigxMTAgMTEwIDExMCk7LS1xYWxlbmRhci1ncmF5OiByZ2IoMTgwIDE4MCAxODApOy0tcWFsZW5kYXItZ3JlZW46IHJnYig1MSAxODIgMTIxKTstLXFhbGVuZGFyLXRoZW1lLWNvbG9yOiB2YXIoLS1xYWxlbmRhci1ibHVlKTstLXFhbGVuZGFyLWxpZ2h0LWdyYXk6IHJnYmEoMjQwIDIzNiAyMzYgLyA3NiUpOy0tcWFsZW5kYXItb3B0aW9uLWhvdmVyOiB2YXIoLS1xYWxlbmRhci1saWdodC1ncmF5KTstLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlOiAjMzgzODM4Oy0tcWFsZW5kYXItZGFyay1tb2RlLWxpZ2h0bHktZWxldmF0ZWQtc3VyZmFjZTogIzJlMmUyZTstLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LXByaW1hcnk6IHJnYmEoMjU1IDI1NSAyNTUgMSk7LS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1zZWNvbmRhcnk6IHJnYmEoMjU1IDI1NSAyNTUgLjcpOy0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludDogcmdiYSgyNTUgMjU1IDI1NSAuNSk7LS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcjogdmFyKC0tcWFsZW5kYXItZ3JheSk7LS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluOiAxcHggc29saWQgcmdiKDIyNCAyMjQgMjI0KTstLXFhbGVuZGFyLWJvcmRlci1kYXNoZWQtZ3JheS10aGluOiAxcHggZGFzaGVkIHJnYigyMjQgMjI0IDIyNCk7LS1xYWxlbmRhci1ib3JkZXItYmx1ZS10aGluOiAxcHggc29saWQgdmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpOy0tcWFsZW5kYXItYm9yZGVyLXJhZGl1czogOHB4Oy0tcWFsZW5kYXItc3BhY2luZzogMTBweDstLXFhbGVuZGFyLXNwYWNpbmctaGFsZjogNXB4Oy0tcWFsZW5kYXItc3BhY2luZy1kb3VibGU6IDIwcHg7LS1xYWxlbmRhci1ib3gtc2hhZG93OiAwIDRweCA0cHggcmdiYSgwIDAgMCAvIDYlKSwgMCAxcHggNHB4IHJnYmEoMCAwIDAgLyAxOCUpOy0tcWFsZW5kYXItdGV4dC10cmFuc2l0aW9uOiBjb2xvciAuMnMgZWFzZTstLXFhbGVuZGFyLXdlZWstcGFkZGluZy1sZWZ0OiA1NnB4Oy0tcWFsZW5kYXItZm9udC0zeHM6IC42MjVyZW07LS1xYWxlbmRhci1mb250LTJ4czogLjY4OHJlbTstLXFhbGVuZGFyLWZvbnQteHM6IC43NXJlbTstLXFhbGVuZGFyLWZvbnQtczogLjg3NXJlbTstLXFhbGVuZGFyLWZvbnQtbTogMXJlbTstLXFhbGVuZGFyLWZvbnQtbDogMS4yNXJlbTstLXFhbGVuZGFyLWZvbnQteGw6IDEuNXJlbX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItcm9vdDpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXJvb3QsLmlzLWxpZ2h0LW1vZGUgLmRhdGUtcGlja2VyLXJvb3QpLC5kYXRlLXBpY2tlci1yb290Om5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCl7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKTstLXFhbGVuZGFyLW9wdGlvbi1ob3ZlcjogIzU3NTc1N319W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3QsW3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmRhdGUtcGlja2VyLXJvb3R7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKTstLXFhbGVuZGFyLW9wdGlvbi1ob3ZlcjogIzU3NTc1N31AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItcm9vdDpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXJvb3QsLmlzLWxpZ2h0LW1vZGUgLmRhdGUtcGlja2VyLXJvb3QpLC5kYXRlLXBpY2tlci1yb290Om5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCl7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3QsW3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmRhdGUtcGlja2VyLXJvb3R7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKX1AbWVkaWEgKG1pbi13aWR0aDogNjJyZW0pey5jYWxlbmRhci1yb290ey0tcWFsZW5kYXItc3BhY2luZzogMjBweDstLXFhbGVuZGFyLXNwYWNpbmctaGFsZjogMTBweDstLXFhbGVuZGFyLXNwYWNpbmctZG91YmxlOiA0MHB4fX0uY2FsZW5kYXItcm9vdC13cmFwcGVye3dpZHRoOjEwMCU7bWF4LXdpZHRoOjEwMHZ3O2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleH0uY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290e2ZsZXg6MTtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLXJhZGl1czp2YXIoLS1xYWxlbmRhci1ib3JkZXItcmFkaXVzKTtmb250LWZhbWlseTp2YXIoLS01MWQ4MjgwNSk7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTttYXJnaW46MCBhdXRvO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1ufUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3Q6bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3Qpe2JhY2tncm91bmQ6IzEyMTIxMjtjb2xvcjojZmZmO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdHtiYWNrZ3JvdW5kOiMxMjEyMTI7Y29sb3I6I2ZmZjtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAudG9wLWJhci1sb2FkZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjFweDtsZWZ0OjJweDt3aWR0aDpjYWxjKDEwMCUgLSA0cHgpO2hlaWdodDozcHg7YmFja2dyb3VuZDpyZ2JhKDI0MSwyNDEsMjQxLC4yKTtib3JkZXItcmFkaXVzOjE2cHg7b3ZlcmZsb3c6aGlkZGVufS5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3QgLnRvcC1iYXItbG9hZGVyOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiO2hlaWdodDo0cHg7d2lkdGg6Y2FsYygxMDAlIC0gNHB4KTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MXB4O2xlZnQ6MnB4O2JhY2tncm91bmQ6cmdiKDM4LDEzMiwyNTUpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYigzOCwxMzIsMjU1KSAwJSxyZ2JhKDM4LDEzMiwyNTUsLjUwODg0MTAzNjQpIDQ4JSxyZ2IoMzgsMTMyLDI1NSkgMTAwJSk7YW5pbWF0aW9uOmxvYWQgMS44cyBpbmZpbml0ZTtib3JkZXItcmFkaXVzOjE2cHh9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAudG9wLWJhci1sb2FkZXI6YmVmb3JlOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC50b3AtYmFyLWxvYWRlcjpiZWZvcmUpe2JhY2tncm91bmQ6cmdiKDIyOSwyMjQsMjQ1KX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAudG9wLWJhci1sb2FkZXI6YmVmb3Jle2JhY2tncm91bmQ6cmdiKDIyOSwyMjQsMjQ1KX1Aa2V5ZnJhbWVzIGxvYWR7MCV7d2lkdGg6MDtsZWZ0Oi0xMDAlfTUwJXtsZWZ0OjA7d2lkdGg6MTAwJX10b3t3aWR0aDowO2xlZnQ6MTAwJX19LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAubG9hZGluZy1lbnRlci1hY3RpdmUsLmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAubG9hZGluZy1sZWF2ZS1hY3RpdmV7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC41cyBlYXNlfS5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3QgLmxvYWRpbmctbGVhdmUtdG8sLmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAubG9hZGluZy1lbnRlci1mcm9te2JhY2tncm91bmQtY29sb3I6I2ZmZjB9XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL3FhbGVuZGFyL2Rpc3Qvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLG1FQUFtRSxnQ0FBZ0MsQ0FBQyxtREFBbUQsQ0FBQyw0Q0FBNEMsQ0FBQyxpQ0FBaUMsQ0FBQyxpQ0FBaUMsQ0FBQyw0Q0FBNEMsQ0FBQyw4Q0FBOEMsQ0FBQyxtREFBbUQsQ0FBQyw4Q0FBOEMsQ0FBQyxzREFBc0QsQ0FBQyxzREFBc0QsQ0FBQyx5REFBeUQsQ0FBQyxvREFBb0QsQ0FBQyxxREFBcUQsQ0FBQyx1REFBdUQsQ0FBQywrREFBK0QsQ0FBQyxrRUFBa0UsQ0FBQyw2QkFBNkIsQ0FBQyx3QkFBd0IsQ0FBQyw0QkFBNEIsQ0FBQywrQkFBK0IsQ0FBQyw4RUFBOEUsQ0FBQywwQ0FBMEMsQ0FBQyxrQ0FBa0MsQ0FBQyw0QkFBNEIsQ0FBQyw0QkFBNEIsQ0FBQywwQkFBMEIsQ0FBQywwQkFBMEIsQ0FBQyx1QkFBdUIsQ0FBQywwQkFBMEIsQ0FBQywwQkFBMEIsQ0FBQyxvQ0FBb0MsMk1BQTJNLDhDQUE4QyxDQUFDLGdDQUFnQyxDQUFDLENBQUMsK0hBQStILDhD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QUErQixDQUFDLGtCQUFrQixDQUFDLGVBQWUsQ0FBQyw2REFBNkQsVUFBVSxDQUFDLFVBQVUsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLDBCQUEwQixDQUFDLDBHQUEwRyxDQUFDLDRCQUE0QixDQUFDLGtCQUFrQixDQUFDLG9DQUFvQyw4SUFBOEksMkJBQTJCLENBQUMsQ0FBQywyRkFBMkYsMkJBQTJCLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsd0hBQXdILDhCQUE4QixDQUFDLGtIQUFrSCxzQkFBc0JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmNhbGVuZGFyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXSwuZGF0ZS1waWNrZXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdey0tcWFsZW5kYXItYmx1ZTogcmdiKDM4IDEzMiAyNTUpOy0tcWFsZW5kYXItYmx1ZS10cmFuc3BhcmVudDogcmdiYSgzOCAxMzIgMjU1IC8gOTAlKTstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDExMCAxMTAgMTEwKTstLXFhbGVuZGFyLWdyYXk6IHJnYigxODAgMTgwIDE4MCk7LS1xYWxlbmRhci1ncmVlbjogcmdiKDUxIDE4MiAxMjEpOy0tcWFsZW5kYXItdGhlbWUtY29sb3I6IHZhcigtLXFhbGVuZGFyLWJsdWUpOy0tcWFsZW5kYXItbGlnaHQtZ3JheTogcmdiYSgyNDAgMjM2IDIzNiAvIDc2JSk7LS1xYWxlbmRhci1vcHRpb24taG92ZXI6IHZhcigtLXFhbGVuZGFyLWxpZ2h0LWdyYXkpOy0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2U6ICMzODM4Mzg7LS1xYWxlbmRhci1kYXJrLW1vZGUtbGlnaHRseS1lbGV2YXRlZC1zdXJmYWNlOiAjMmUyZTJlOy0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtcHJpbWFyeTogcmdiYSgyNTUgMjU1IDI1NSAxKTstLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LXNlY29uZGFyeTogcmdiYSgyNTUgMjU1IDI1NSAuNyk7LS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50OiByZ2JhKDI1NSAyNTUgMjU1IC41KTstLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yOiB2YXIoLS1xYWxlbmRhci1ncmF5KTstLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW46IDFweCBzb2xpZCByZ2IoMjI0IDIyNCAyMjQpOy0tcWFsZW5kYXItYm9yZGVyLWRhc2hlZC1ncmF5LXRoaW46IDFweCBkYXNoZWQgcmdiKDIyNCAyMjQgMjI0KTstLXFhbGVuZGFyLWJvcmRlci1ibHVlLXRoaW46IDFweCBzb2xpZCB2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7LS1xYWxlbmRhci1ib3JkZXItcmFkaXVzOiA4cHg7LS1xYWxlbmRhci1zcGFjaW5nOiAxMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1oYWxmOiA1cHg7LS1xYWxlbmRhci1zcGFjaW5nLWRvdWJsZTogMjBweDstLXFhbGVuZGFyLWJveC1zaGFkb3c6IDAgNHB4IDRweCByZ2JhKDAgMCAwIC8gNiUpLCAwIDFweCA0cHggcmdiYSgwIDAgMCAvIDE4JSk7LS1xYWxlbmRhci10ZXh0LXRyYW5zaXRpb246IGNvbG9yIC4ycyBlYXNlOy0tcWFsZW5kYXItd2Vlay1wYWRkaW5nLWxlZnQ6IDU2cHg7LS1xYWxlbmRhci1mb250LTN4czogLjYyNXJlbTstLXFhbGVuZGFyLWZvbnQtMnhzOiAuNjg4cmVtOy0tcWFsZW5kYXItZm9udC14czogLjc1cmVtOy0tcWFsZW5kYXItZm9udC1zOiAuODc1cmVtOy0tcWFsZW5kYXItZm9udC1tOiAxcmVtOy0tcWFsZW5kYXItZm9udC1sOiAxLjI1cmVtOy0tcWFsZW5kYXItZm9udC14bDogMS41cmVtfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1yb290W2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlci1yb290KSwuZGF0ZS1waWNrZXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCl7LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKTstLXFhbGVuZGFyLW9wdGlvbi1ob3ZlcjogIzU3NTc1N319W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXSxbc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdey0tcWFsZW5kYXItZ3JheS1xdWl0ZS1kYXJrOiByZ2IoMjIxLCAyMjEsIDIyMSk7LS1xYWxlbmRhci1vcHRpb24taG92ZXI6ICM1NzU3NTd9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLXJvb3RbZGF0YS12LTY3Zjc3ODYyXTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXJvb3QsLmlzLWxpZ2h0LW1vZGUgLmRhdGUtcGlja2VyLXJvb3QpLC5kYXRlLXBpY2tlci1yb290W2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlci1yb290KXstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItcm9vdFtkYXRhLXYtNjdmNzc4NjJdLFtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5kYXRlLXBpY2tlci1yb290W2RhdGEtdi02N2Y3Nzg2Ml17LS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcms6IHJnYigyMjEsIDIyMSwgMjIxKX1AbWVkaWEgKG1pbi13aWR0aDogNjJyZW0pey5jYWxlbmRhci1yb290W2RhdGEtdi02N2Y3Nzg2Ml17LS1xYWxlbmRhci1zcGFjaW5nOiAyMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1oYWxmOiAxMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1kb3VibGU6IDQwcHh9fS5kYXRlLXBpY2tlcltkYXRhLXYtNjdmNzc4NjJde3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOmZpdC1jb250ZW50O21pbi13aWR0aDoxNnJlbX0ubW9kZS1pcy1tb250aCAuZGF0ZS1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXXttaW4td2lkdGg6OHJlbX0ubW9kZS1pcy1kYXkgLmRhdGUtcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml17bWluLXdpZHRoOjEwcmVtfS5xYWxlbmRhci1pcy1zbWFsbCAuZGF0ZS1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXXttaW4td2lkdGg6aW5pdGlhbH0uZGF0ZS1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXTpub3QoLmlzLWluLXFhbGVuZGFyKXttaW4td2lkdGg6aW5pdGlhbH0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1pbi1xYWxlbmRhcil7bWFyZ2luOjAgYXV0b30uZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXlbZGF0YS12LTY3Zjc3ODYyXXtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjRweDtwYWRkaW5nOjAgdmFyKC0tcWFsZW5kYXItc3BhY2luZyk7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbSk7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2dhcDp2YXIoLS1xYWxlbmRhci1zcGFjaW5nLWhhbGYpO3VzZXItc2VsZWN0Om5vbmU7Ym9yZGVyOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheVtkYXRhLXYtNjdmNzc4NjJdOm5vdCguaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXkpe2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpZ2h0bHktZWxldmF0ZWQtc3VyZmFjZSk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXlbZGF0YS12LTY3Zjc3ODYyXXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saWdodGx5LWVsZXZhdGVkLXN1cmZhY2UpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0ucWFsZW5kYXItaXMtc21hbGwgLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5W2RhdGEtdi02N2Y3Nzg2Ml17Ym9yZGVyOjB9LmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5IC5kYXRlLXBpY2tlcl9fdmFsdWUtZGlzcGxheS10ZXh0W2RhdGEtdi02N2Y3Nzg2Ml17ZGlzcGxheTppbml0aWFsfS5xYWxlbmRhci1pcy1zbWFsbCAuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXkgLmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5LXRleHRbZGF0YS12LTY3Zjc3ODYyXXtkaXNwbGF5Om5vbmV9LmRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5IHN2Z1tkYXRhLXYtNjdmNzc4NjJde2ZvbnQtc2l6ZTppbml0aWFsfS5xYWxlbmRhci1pcy1zbWFsbCAuZGF0ZS1waWNrZXJfX3ZhbHVlLWRpc3BsYXkgc3ZnW2RhdGEtdi02N2Y3Nzg2Ml17Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbCl9LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlcltkYXRhLXYtNjdmNzc4NjJde3BhZGRpbmc6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKTt6LWluZGV4OjUxO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLXJhZGl1czo0cHg7bWluLXdpZHRoOjI1MHB4O2JveC1zaGFkb3c6MCAycHggNHB4ICNmMGVjZWNjMn1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyW2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXIpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2UpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtib3gtc2hhZG93OjAgMnB4IDRweCAjMDAwMDAwMWF9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXJbZGF0YS12LTY3Zjc3ODYyXXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlKTtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDJweCA0cHggIzAwMDAwMDFhfS5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXIuaXMtaW4tcWFsZW5kYXJbZGF0YS12LTY3Zjc3ODYyXXt0b3A6Y2FsYygxMDAlIC0gMXB4KTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowfS5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXIuaXMtaW4tcWFsZW5kYXIgLm1vZGUtaXMtbW9udGhbZGF0YS12LTY3Zjc3ODYyXSwubW9kZS1pcy13ZWVrIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXIuaXMtaW4tcWFsZW5kYXJbZGF0YS12LTY3Zjc3ODYyXXtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpfS5xYWxlbmRhci1pcy1zbWFsbCAuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLmlzLWluLXFhbGVuZGFyIC5tb2RlLWlzLW1vbnRoW2RhdGEtdi02N2Y3Nzg2Ml0sLnFhbGVuZGFyLWlzLXNtYWxsIC5tb2RlLWlzLXdlZWsgLmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci5pcy1pbi1xYWxlbmRhcltkYXRhLXYtNjdmNzc4NjJde2xlZnQ6aW5pdGlhbDt0cmFuc2Zvcm06aW5pdGlhbH0uZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLW5hdmlnYXRpb25bZGF0YS12LTY3Zjc3ODYyXXtmb250LXdlaWdodDo5MDA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtnYXA6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKTttYXJnaW4tYm90dG9tOi4yNWVtO3VzZXItc2VsZWN0Om5vbmV9LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci1uYXZpZ2F0aW9uIC5pcy1pY29uW2RhdGEtdi02N2Y3Nzg2Ml17dHJhbnNpdGlvbjp2YXIoLS1xYWxlbmRhci10ZXh0LXRyYW5zaXRpb24pO2NvbG9yOiMxMzEzMTN9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmRhdGUtcGlja2VyX193ZWVrLXBpY2tlci1uYXZpZ2F0aW9uIC5pcy1pY29uW2RhdGEtdi02N2Y3Nzg2Ml06bm90KC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXItbmF2aWdhdGlvbiAuaXMtaWNvbil7Y29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludCl9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5kYXRlLXBpY2tlcl9fd2Vlay1waWNrZXItbmF2aWdhdGlvbiAuaXMtaWNvbltkYXRhLXYtNjdmNzc4NjJde2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLW5hdmlnYXRpb24gLmlzLWljb25bZGF0YS12LTY3Zjc3ODYyXTpob3Zlcntjb2xvcjp2YXIoLS1xYWxlbmRhci1ibHVlKTtjdXJzb3I6cG9pbnRlcn19LmRhdGUtcGlja2VyX190b2dnbGUtbW9kZVtkYXRhLXYtNjdmNzc4NjJde3RyYW5zaXRpb246dmFyKC0tcWFsZW5kYXItdGV4dC10cmFuc2l0aW9uKX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmRhdGUtcGlja2VyX190b2dnbGUtbW9kZVtkYXRhLXYtNjdmNzc4NjJdOmhvdmVye2NvbG9yOnZhcigtLXFhbGVuZGFyLWJsdWUpO2N1cnNvcjpwb2ludGVyfX0uZGF0ZS1waWNrZXIgLm1vbnRoc1tkYXRhLXYtNjdmNzc4NjJde2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDtnYXA6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKTttYXgtd2lkdGg6MjByZW19LmRhdGUtcGlja2VyIC5tb250aHMgc3BhbltkYXRhLXYtNjdmNzc4NjJde3BhZGRpbmc6NHB4O2JvcmRlcjp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKTtib3JkZXItcmFkaXVzOjJweDtmbGV4OjEgMCAzMyU7dGV4dC1hbGlnbjpjZW50ZXI7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQteHMpO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuZGF0ZS1waWNrZXIgLm1vbnRocyBzcGFuW2RhdGEtdi02N2Y3Nzg2Ml06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7Y29sb3I6I2ZmZjtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWJsdWUtdGhpbil9fS5kYXRlLXBpY2tlciAud2Vla1tkYXRhLXYtNjdmNzc4NjJde3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1ldmVubHk7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo0cHggMH0uZGF0ZS1waWNrZXIgLndlZWsuaXMtYWN0aXZlW2RhdGEtdi02N2Y3Nzg2Ml17Ym9yZGVyOjFweCBkYXNoZWQgdmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpO2JvcmRlci1yYWRpdXM6NHB4fS5kYXRlLXBpY2tlciAud2VlayBzcGFuW2RhdGEtdi02N2Y3Nzg2Ml17ZGlzcGxheTpmbGV4O21pbi1oZWlnaHQ6MzJweDttaW4td2lkdGg6MzJweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4OjEgMSAxMDAlO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6NTAlO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKX0uZGF0ZS1waWNrZXIgLndlZWsgc3Bhbi5pcy13ZWVrZW5kW2RhdGEtdi02N2Y3Nzg2Ml17Y29sb3I6Z3JheX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmRhdGUtcGlja2VyIC53ZWVrIHNwYW4uaGFzLWRheVtkYXRhLXYtNjdmNzc4NjJdOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItb3B0aW9uLWhvdmVyKX19LmRhdGUtcGlja2VyIC53ZWVrIHNwYW4uaXMtdG9kYXlbZGF0YS12LTY3Zjc3ODYyXXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWJsdWUpO2NvbG9yOiNmZmZ9LmRhdGUtcGlja2VyIC53ZWVrIHNwYW4uaXMtbm90LWluLW1vbnRoW2RhdGEtdi02N2Y3Nzg2Ml17Y29sb3I6I2E5YTlhOX0uZGF0ZS1waWNrZXIgLndlZWsgc3Bhbi5pcy1kaXNhYmxlZFtkYXRhLXYtNjdmNzc4NjJde2NvbG9yOiNhOWE5YTk7Y3Vyc29yOm5vdC1hbGxvd2VkfVtkYXRhLWxhbmc9YXJdIC5kYXRlLXBpY2tlciAud2VlayBzcGFuW2RhdGEtdi02N2Y3Nzg2Ml17Zm9udC1zaXplOi42NXJlbX0uZGF0ZS1waWNrZXJfX2RheS1uYW1lc1tkYXRhLXYtNjdmNzc4NjJde3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtcyl9LmNhbGVuZGFyLWhlYWRlcltkYXRhLXYtMzdmMWMzODlde2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47cGFkZGluZzp2YXIoLS1xYWxlbmRhci1zcGFjaW5nLWhhbGYpO2JvcmRlci1yYWRpdXM6dmFyKC0tcWFsZW5kYXItYm9yZGVyLXJhZGl1cyl9QG1lZGlhIChtaW4td2lkdGg6IDM3LjVyZW0pey5jYWxlbmRhci1oZWFkZXJbZGF0YS12LTM3ZjFjMzg5XXtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtncmlkLWdhcDp2YXIoLS1xYWxlbmRhci1zcGFjaW5nKX19QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLWhlYWRlcltkYXRhLXYtMzdmMWMzODldOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItaGVhZGVyKXtjb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50KX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLWhlYWRlcltkYXRhLXYtMzdmMWMzODlde2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfS5jYWxlbmRhci1oZWFkZXJfX3BlcmlvZFtkYXRhLXYtMzdmMWMzODlde2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpfS5jYWxlbmRhci1oZWFkZXJfX3BlcmlvZC1uYW1lW2RhdGEtdi0zN2YxYzM4OV17Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbCk7dGV4dC1hbGlnbjpjZW50ZXJ9QG1lZGlhIChtaW4td2lkdGg6IDM3LjVyZW0pey5jYWxlbmRhci1oZWFkZXJfX3BlcmlvZC1uYW1lW2RhdGEtdi0zN2YxYzM4OV17bWFyZ2luLWJvdHRvbTowO3RleHQtYWxpZ246bGVmdH19LmNhbGVuZGFyLWhlYWRlcl9fbXVsdGlzZWxlY3RzW2RhdGEtdi0zN2YxYzM4OV17ZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6dmFyKC0tcWFsZW5kYXItc3BhY2luZyl9LmNhbGVuZGFyLWhlYWRlcl9fY2hldnJvbi1hcnJvd3NbZGF0YS12LTM3ZjFjMzg5XXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dyaWQtZ2FwOjIwcHh9LmNhbGVuZGFyLWhlYWRlcl9fY2hldnJvbi1hcnJvd3MgLmNhbGVuZGFyLWhlYWRlcl9fY2hldnJvbi1hcnJvd1tkYXRhLXYtMzdmMWMzODlde2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246Y29sb3IgLjJzIGVhc2U7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtbSl9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3dzIC5jYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3dbZGF0YS12LTM3ZjFjMzg5XTpob3Zlcntjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspfX0uY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlcltkYXRhLXYtMzdmMWMzODlde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDpmaXQtY29udGVudDtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjRweDtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC1tKTtjdXJzb3I6cG9pbnRlcjtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbil9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXJbZGF0YS12LTM3ZjFjMzg5XTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIpe2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXJbZGF0YS12LTM3ZjFjMzg5XXtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS12YWx1ZVtkYXRhLXYtMzdmMWMzODlde3BhZGRpbmc6MCB2YXIoLS1xYWxlbmRhci1zcGFjaW5nKTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7dXNlci1zZWxlY3Q6bm9uZTtib3JkZXItcmFkaXVzOjRweH1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXZhbHVlW2RhdGEtdi0zN2YxYzM4OV06bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtdmFsdWUpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpZ2h0bHktZWxldmF0ZWQtc3VyZmFjZSl9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtdmFsdWVbZGF0YS12LTM3ZjFjMzg5XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saWdodGx5LWVsZXZhdGVkLXN1cmZhY2UpfS5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9uc1tkYXRhLXYtMzdmMWMzODlde3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTE7dG9wOjEwMCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKTtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7YmFja2dyb3VuZC1jb2xvcjojZmZmfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9uc1tkYXRhLXYtMzdmMWMzODldOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItaGVhZGVyX19tb2RlLXBpY2tlciAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbnMpe2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1lbGV2YXRlZC1zdXJmYWNlKX19W3N0eWxlKj1cXFwiY29sb3Itc2NoZW1lOiBkYXJrXFxcIl0gLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25zW2RhdGEtdi0zN2YxYzM4OV17Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2UpfS5jYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9ucyAuY2FsZW5kYXItaGVhZGVyX19tb2RlLW9wdGlvbltkYXRhLXYtMzdmMWMzODlde3BhZGRpbmc6dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKSB2YXIoLS1xYWxlbmRhci1zcGFjaW5nKX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1waWNrZXIgLmNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25zIC5jYWxlbmRhci1oZWFkZXJfX21vZGUtb3B0aW9uW2RhdGEtdi0zN2YxYzM4OV06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1vcHRpb24taG92ZXIpfX0uZGF5LXRpbWVsaW5lW2RhdGEtdi0wMTRiZjRlMF17cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOmNhbGMoMTAwJSArIDEwcHgpO2hlaWdodDp2YXIoLS0xMTM3MWQxOSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCk7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47anVzdGlmeS1jb250ZW50OnNwYWNlLWV2ZW5seX0uZGF5LXRpbWVsaW5lX19ob3VyW2RhdGEtdi0wMTRiZjRlMF17cGFkZGluZy1sZWZ0OjRweDtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDtoZWlnaHQ6MTAwJTtmb250LXNpemU6Y2xhbXAoMTBweCwuNjI1cmVtLDE0cHgpO2NvbG9yOnZhcigtLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyayl9LmRheS10aW1lbGluZV9faG91ci10ZXh0W2RhdGEtdi0wMTRiZjRlMF17bGluZS1oZWlnaHQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC00MHB4KX0uZGF5LXRpbWVsaW5lX19ob3VyOmZpcnN0LWNoaWxkIC5kYXktdGltZWxpbmVfX2hvdXItdGV4dFtkYXRhLXYtMDE0YmY0ZTBde2Rpc3BsYXk6bm9uZX0uZGF5LXRpbWVsaW5lX19ob3VyW2RhdGEtdi0wMTRiZjRlMF06bm90KDpsYXN0LWNoaWxkKXtib3JkZXItYm90dG9tOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5kYXktdGltZWxpbmVfX2hvdXJbZGF0YS12LTAxNGJmNGUwXTpub3QoOmxhc3QtY2hpbGQpOm5vdCguaXMtbGlnaHQtbW9kZSAuZGF5LXRpbWVsaW5lX19ob3VyOm5vdCg6bGFzdC1jaGlsZCkpe2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5kYXktdGltZWxpbmVfX2hvdXJbZGF0YS12LTAxNGJmNGUwXTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9LndlZWstdGltZWxpbmVfX2V2ZW50W2RhdGEtdi03NzhkNTlmY117cG9zaXRpb246cmVsYXRpdmU7LS1ldmVudC1wYWRkaW5nOiAzcHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6LjlyZW07d2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tZXZlbnQtcGFkZGluZykpO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LTJ4cyk7Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzp2YXIoLS1ldmVudC1wYWRkaW5nKTttYXJnaW4tYm90dG9tOi4yNWVtO3RleHQtYWxpZ246bGVmdDtjdXJzb3I6cG9pbnRlcjt1c2VyLXNlbGVjdDpub25lO292ZXJmbG93OmhpZGRlbn0ud2Vlay10aW1lbGluZV9fZXZlbnRbZGF0YS12LTc3OGQ1OWZjXTphY3RpdmV7Y3Vyc29yOm5vdC1hbGxvd2VkfS53ZWVrLXRpbWVsaW5lW2RhdGEtdi1hNDM3NDZiNl17aGVpZ2h0OmZpdC1jb250ZW50O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtZXZlbmx5O3BhZGRpbmctYm90dG9tOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZik7cGFkZGluZy1sZWZ0OnZhcigtLXFhbGVuZGFyLXdlZWstcGFkZGluZy1sZWZ0KTtib3JkZXItYm90dG9tOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pfS5tb2RlLWlzLWRheSAud2Vlay10aW1lbGluZVtkYXRhLXYtYTQzNzQ2YjZde3dpZHRoOjEwMCU7cGFkZGluZy1sZWZ0OjB9LndlZWstdGltZWxpbmVfX2RheVtkYXRhLXYtYTQzNzQ2YjZde3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0fS53ZWVrLXRpbWVsaW5lX19kYXktbmFtZVtkYXRhLXYtYTQzNzQ2YjZde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LTN4cyk7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbi1ib3R0b206NHB4O2NvbG9yOnZhcigtLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyayl9LndlZWstdGltZWxpbmVfX2RhdGVbZGF0YS12LWE0Mzc0NmI2XXtmb250LXNpemU6MS4ycmVtO21hcmdpbi1ib3R0b206NHB4O2hlaWdodDoycmVtO3dpZHRoOjJyZW07Ym9yZGVyLXJhZGl1czo1MCU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5pcy10b2RheSAud2Vlay10aW1lbGluZV9fZGF0ZVtkYXRhLXYtYTQzNzQ2YjZde2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItYmx1ZSk7Y29sb3I6I2ZmZn0ud2Vlay10aW1lbGluZV9fZXZlbnRzW2RhdGEtdi1hNDM3NDZiNl17d2lkdGg6MTAwJTtmbGV4OjE7Ym9yZGVyLXJpZ2h0OjFweCBkYXNoZWQgcmdiKDIyNCwyMjQsMjI0KX0ud2Vlay10aW1lbGluZV9fZGF5OmZpcnN0LWNoaWxkIC53ZWVrLXRpbWVsaW5lX19ldmVudHNbZGF0YS12LWE0Mzc0NmI2XXtib3JkZXItbGVmdDoxcHggZGFzaGVkIHJnYigyMjQsMjI0LDIyNCl9LmNhbGVuZGFyLXdlZWtfX2V2ZW50W2RhdGEtdi01NTY0ZDQzNl17cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjRweDtjdXJzb3I6cG9pbnRlcjtib3gtc2l6aW5nOmNvbnRlbnQtYm94O3VzZXItc2VsZWN0Om5vbmU7b3ZlcmZsb3c6aGlkZGVufS5jYWxlbmRhci13ZWVrX19ldmVudC5pcy1lZGl0YWJsZVtkYXRhLXYtNTU2NGQ0MzZde2N1cnNvcjpncmFifS5jYWxlbmRhci13ZWVrX19ldmVudC5oYXMtZGlzYWJsZWQtZG5kW2RhdGEtdi01NTY0ZDQzNl17Y3Vyc29yOmluaXRpYWx9LmNhbGVuZGFyLXdlZWtfX2V2ZW50IC5jYWxlbmRhci13ZWVrX19ldmVudC1yb3dbZGF0YS12LTU1NjRkNDM2XXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6ZmxleC1zdGFydDttYXJnaW4tYm90dG9tOi4yNWVtfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtcm93IHBbZGF0YS12LTU1NjRkNDM2XXttYXJnaW46MDtwYWRkaW5nOjB9LmNhbGVuZGFyLXdlZWtfX2V2ZW50IC5jYWxlbmRhci13ZWVrX19ldmVudC1pbmZvLXdyYXBwZXJbZGF0YS12LTU1NjRkNDM2XXtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmctaGFsZik7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQteHMpO2hlaWdodDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDt1c2VyLXNlbGVjdDpub25lfS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtYmxlbmQtb3V0W2RhdGEtdi01NTY0ZDQzNl17cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7aGVpZ2h0OjIwcHg7d2lkdGg6MTAwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKGNhbGModmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKSAqIC0xKSl9LmNhbGVuZGFyLXdlZWtfX2V2ZW50IC5jYWxlbmRhci13ZWVrX19ldmVudC1pY29uW2RhdGEtdi01NTY0ZDQzNl17bWFyZ2luOjJweCA0cHggMCAwO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKX0uY2FsZW5kYXItd2Vla19fZXZlbnQgLmNhbGVuZGFyLXdlZWtfX2V2ZW50LXJlc2l6ZVtkYXRhLXYtNTU2NGQ0MzZde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7Y3Vyc29yOm5zLXJlc2l6ZTtoZWlnaHQ6NXB4fS5jYWxlbmRhci13ZWVrX19ldmVudCAuY2FsZW5kYXItd2Vla19fZXZlbnQtcmVzaXplLXVwW2RhdGEtdi01NTY0ZDQzNl17dG9wOjB9LmNhbGVuZGFyLXdlZWtfX2V2ZW50IC5jYWxlbmRhci13ZWVrX19ldmVudC1yZXNpemUtZG93bltkYXRhLXYtNTU2NGQ0MzZde2JvdHRvbTowfS5jYWxlbmRhci13ZWVrX19kYXlbZGF0YS12LWIyNjhiZTdlXXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNhbGVuZGFyLXdlZWtfX2RheSAuY2FsZW5kYXItd2Vla19fZGF5LWludGVydmFsW2RhdGEtdi1iMjY4YmU3ZV17ZmxleDoxO2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXhzKTtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5KTtwYWRkaW5nOjJweH0uY2FsZW5kYXItd2Vla19fZGF5IC5jYWxlbmRhci13ZWVrX19kYXktaW50ZXJ2YWwuaGFzLWJvcmRlcltkYXRhLXYtYjI2OGJlN2Vde2JvcmRlci1ib3R0b206dmFyKC0tcWFsZW5kYXItYm9yZGVyLWRhc2hlZC1ncmF5LXRoaW4pfS5jYWxlbmRhci13ZWVrX19kYXlbZGF0YS12LWIyNjhiZTdlXTpmaXJzdC1jaGlsZHtib3JkZXItbGVmdDoxcHggZGFzaGVkIHJnYigyMjQsMjI0LDIyNCl9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLXdlZWtfX2RheVtkYXRhLXYtYjI2OGJlN2VdOmZpcnN0LWNoaWxkOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItd2Vla19fZGF5OmZpcnN0LWNoaWxkKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV06Zmlyc3QtY2hpbGR7Ym9yZGVyLWNvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yKX0uY2FsZW5kYXItd2Vla19fZGF5W2RhdGEtdi1iMjY4YmU3ZV06bm90KDpsYXN0LWNoaWxkKXtib3JkZXItcmlnaHQ6MXB4IGRhc2hlZCByZ2IoMjI0LDIyNCwyMjQpfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci13ZWVrX19kYXlbZGF0YS12LWIyNjhiZTdlXTpub3QoOmxhc3QtY2hpbGQpOm5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItd2Vla19fZGF5Om5vdCg6bGFzdC1jaGlsZCkpe2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci13ZWVrX19kYXlbZGF0YS12LWIyNjhiZTdlXTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9LmV2ZW50LWZseW91dFtkYXRhLXYtZDZhNjFlMzdde3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6NTA7YmFja2dyb3VuZC1jb2xvcjojZmZmO21heC1oZWlnaHQ6MTAwJTt3aWR0aDp2YXIoLS03YzBiMjExNCk7bWF4LXdpZHRoOjk4JTtib3JkZXI6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLXJhZGl1czo4cHg7Ym94LXNoYWRvdzowIDEycHggMjRweCAjMDAwMDAwMTcsMCA2cHggMTJweCAjMDAwMDAwMmU7b3ZlcmZsb3c6aGlkZGVuO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlO3RyYW5zaXRpb24tcHJvcGVydHk6b3BhY2l0eSx0cmFuc2Zvcm07dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTQwcHgpO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5ldmVudC1mbHlvdXRbZGF0YS12LWQ2YTYxZTM3XTpub3QoLmlzLWxpZ2h0LW1vZGUgLmV2ZW50LWZseW91dCl7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtZWxldmF0ZWQtc3VyZmFjZSk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZXZlbnQtZmx5b3V0W2RhdGEtdi1kNmE2MWUzN117YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtZWxldmF0ZWQtc3VyZmFjZSk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fS5ldmVudC1mbHlvdXQuaXMtdmlzaWJsZVtkYXRhLXYtZDZhNjFlMzdde29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtwb2ludGVyLWV2ZW50czppbml0aWFsfS5ldmVudC1mbHlvdXRfX3JlbGF0aXZlLXdyYXBwZXJbZGF0YS12LWQ2YTYxZTM3XXtwb3NpdGlvbjpyZWxhdGl2ZX0uZXZlbnQtZmx5b3V0X19tZW51W2RhdGEtdi1kNmE2MWUzN117ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0uZXZlbnQtZmx5b3V0X19tZW51IC5ldmVudC1mbHlvdXRfX21lbnUtZWRpdGFibGVbZGF0YS12LWQ2YTYxZTM3XSwuZXZlbnQtZmx5b3V0X19tZW51IC5ldmVudC1mbHlvdXRfX21lbnUtY2xvc2VbZGF0YS12LWQ2YTYxZTM3XXtwYWRkaW5nOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpIHZhcigtLXFhbGVuZGFyLXNwYWNpbmcpIDAgdmFyKC0tcWFsZW5kYXItc3BhY2luZyk7ZGlzcGxheTpmbGV4O2dyaWQtZ2FwOjIwcHh9LmlzLW5vdC1lZGl0YWJsZSAuZXZlbnQtZmx5b3V0X19tZW51IC5ldmVudC1mbHlvdXRfX21lbnUtY2xvc2VbZGF0YS12LWQ2YTYxZTM3XXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowfS5ldmVudC1mbHlvdXRfX21lbnUtaXRlbVtkYXRhLXYtZDZhNjFlMzdde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LWwpO2NvbG9yOmdyYXl9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmV2ZW50LWZseW91dF9fbWVudS1pdGVtW2RhdGEtdi1kNmE2MWUzN106bm90KC5pcy1saWdodC1tb2RlIC5ldmVudC1mbHlvdXRfX21lbnUtaXRlbSl7Y29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludCl9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5ldmVudC1mbHlvdXRfX21lbnUtaXRlbVtkYXRhLXYtZDZhNjFlMzdde2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfS5ldmVudC1mbHlvdXRfX21lbnUtaXRlbVtkYXRhLXYtZDZhNjFlMzddOmhvdmVye2NvbG9yOnZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtjdXJzb3I6cG9pbnRlcn0uZXZlbnQtZmx5b3V0IC5pcy10cmFzaC1pY29uW2RhdGEtdi1kNmE2MWUzN106aG92ZXJ7Y29sb3I6cmVkfS5ldmVudC1mbHlvdXRfX2luZm8td3JhcHBlcltkYXRhLXYtZDZhNjFlMzdde3BhZGRpbmc6dmFyKC0tcWFsZW5kYXItc3BhY2luZyl9LmV2ZW50LWZseW91dF9fcm93W2RhdGEtdi1kNmE2MWUzN117ZGlzcGxheTpmbGV4O2dyaWQtZ2FwOnZhcigtLXFhbGVuZGFyLXNwYWNpbmcpO21hcmdpbi1ib3R0b206LjI1ZW07Zm9udC13ZWlnaHQ6NDAwfS5ldmVudC1mbHlvdXRfX3JvdyBwW2RhdGEtdi1kNmE2MWUzN117bWFyZ2luOjA7cGFkZGluZzowfS5ldmVudC1mbHlvdXRfX3JvdyBzdmdbZGF0YS12LWQ2YTYxZTM3XXttYXJnaW4tdG9wOi4xcmVtO2NvbG9yOiM1ZjYzNjg7d2lkdGg6MTRweH1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuZXZlbnQtZmx5b3V0X19yb3cgc3ZnW2RhdGEtdi1kNmE2MWUzN106bm90KC5pcy1saWdodC1tb2RlIC5ldmVudC1mbHlvdXRfX3JvdyBzdmcpe2NvbG9yOnZhcigtLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LWhpbnQpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZXZlbnQtZmx5b3V0X19yb3cgc3ZnW2RhdGEtdi1kNmE2MWUzN117Y29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtaGludCl9LmV2ZW50LWZseW91dF9fY29sb3ItaWNvbltkYXRhLXYtZDZhNjFlMzddey0taWNvbi1oZWlnaHQ6IDE2cHg7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OnZhcigtLWljb24taGVpZ2h0KTt3aWR0aDp2YXIoLS1pY29uLWhlaWdodCl9LmV2ZW50LWZseW91dCAuaXMtdGl0bGVbZGF0YS12LWQ2YTYxZTM3XXtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC1sKTthbGlnbi1pdGVtczpjZW50ZXJ9LmlzLW5vdC1lZGl0YWJsZSAuZXZlbnQtZmx5b3V0IC5pcy10aXRsZVtkYXRhLXYtZDZhNjFlMzdde21heC13aWR0aDo5MCV9LmV2ZW50LWZseW91dCAuaXMtdGltZVtkYXRhLXYtZDZhNjFlMzdde2ZvbnQtc2l6ZTp2YXIoLS1xYWxlbmRhci1mb250LXMpO21hcmdpbi1ib3R0b206Ljc1ZW19LmNhbGVuZGFyLXdlZWtfX3dyYXBwZXJbZGF0YS12LThiYjZhZDA1XXtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLWxlZnQ6dmFyKC0tcWFsZW5kYXItd2Vlay1wYWRkaW5nLWxlZnQpO292ZXJmbG93LXk6YXV0b30uY2FsZW5kYXItd2Vla1tkYXRhLXYtOGJiNmFkMDVde3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7ZmxleDoxIDEgYXV0b30uY2FsZW5kYXItd2Vla19fZXZlbnRzW2RhdGEtdi04YmI2YWQwNV17ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7aGVpZ2h0OnZhcigtLTVjYjVkMDU3KTtvdmVyZmxvdzpoaWRkZW59LmNhbGVuZGFyLXdlZWsgLmN1cnJlbnQtdGltZS1saW5lW2RhdGEtdi04YmI2YWQwNV17cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjJweDt6LWluZGV4OjE7YmFja2dyb3VuZC1jb2xvcjpyZWR9LmNhbGVuZGFyLXdlZWsgLmN1cnJlbnQtdGltZS1saW5lX19jaXJjbGVbZGF0YS12LThiYjZhZDA1XXtwb3NpdGlvbjpyZWxhdGl2ZX0uY2FsZW5kYXItd2VlayAuY3VycmVudC10aW1lLWxpbmVfX2NpcmNsZVtkYXRhLXYtOGJiNmFkMDVdOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTQ1JSwtNDUlKTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQtY29sb3I6cmVkfS5jYWxlbmRhci13ZWVrIC5jdXN0b20tY3VycmVudC10aW1lW2RhdGEtdi04YmI2YWQwNV17cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3dpZHRoOjEwMCU7ei1pbmRleDoxfS5jYWxlbmRhci1tb250aF9fZXZlbnRbZGF0YS12LTQ3NjZkZmM3XXstLWV2ZW50LWlubGluZS1wYWRkaW5nOiA0cHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQtMnhzKTt3aWR0aDpjYWxjKDEwMCUgLSBjYWxjKHZhcigtLWV2ZW50LWlubGluZS1wYWRkaW5nKSAqIDIpKTttYXJnaW4tYm90dG9tOjRweDtwYWRkaW5nOi4yNXJlbSB2YXIoLS1ldmVudC1pbmxpbmUtcGFkZGluZyk7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX0uY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtdGltZVtkYXRhLXYtNDc2NmRmYzdde21hcmdpbi1yaWdodDo2cHh9LmNhbGVuZGFyLW1vbnRoX19ldmVudCAuY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpbWVbZGF0YS12LTQ3NjZkZmM3XSwuY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtdGl0bGVbZGF0YS12LTQ3NjZkZmM3XSwuY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtY29sb3JbZGF0YS12LTQ3NjZkZmM3XXtmbGV4LXNocmluazowfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtdGltZVtkYXRhLXYtNDc2NmRmYzddLC5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX2V2ZW50IC5jYWxlbmRhci1tb250aF9fZXZlbnQtdGl0bGVbZGF0YS12LTQ3NjZkZmM3XXtkaXNwbGF5Om5vbmV9LnFhbGVuZGFyLWlzLXNtYWxsIC5jYWxlbmRhci1tb250aF9fZXZlbnRbZGF0YS12LTQ3NjZkZmM3XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLTYzYTliYzhhKTt3aWR0aDo0cHg7aGVpZ2h0OjRweDtib3JkZXItcmFkaXVzOjUwJTtwYWRkaW5nOjFweDttYXJnaW4tcmlnaHQ6MXB4fS5jYWxlbmRhci1tb250aF9fZXZlbnQuaXMtZHJhZ2dhYmxlW2RhdGEtdi00NzY2ZGZjN117Y3Vyc29yOmdyYWJ9LmNhbGVuZGFyLW1vbnRoX19ldmVudFtkYXRhLXYtNDc2NmRmYzddOmFjdGl2ZXt6LWluZGV4OjEwMH0uY2FsZW5kYXItbW9udGhfX2V2ZW50W2RhdGEtdi00NzY2ZGZjN106bm90KC5pcy1kcmFnZ2FibGUpOmFjdGl2ZXtjdXJzb3I6bm90LWFsbG93ZWR9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jYWxlbmRhci1tb250aF9fZXZlbnRbZGF0YS12LTQ3NjZkZmM3XTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWxpZ2h0LWdyYXkpfX1AbWVkaWEgKGhvdmVyOiBob3ZlcikgYW5kIChob3ZlcjogaG92ZXIpey5jYWxlbmRhci1tb250aF9fZXZlbnRbZGF0YS12LTQ3NjZkZmM3XTpob3Zlcjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLW9wdGlvbi1ob3Zlcil9fS5jYWxlbmRhci1tb250aF9fZXZlbnQgLmNhbGVuZGFyLW1vbnRoX19ldmVudC1jb2xvcltkYXRhLXYtNDc2NmRmYzdde2JhY2tncm91bmQtY29sb3I6dmFyKC0tNjNhOWJjOGEpO3dpZHRoOjZweDtoZWlnaHQ6NnB4O2JvcmRlci1yYWRpdXM6NTAlO21hcmdpbi1yaWdodDo0cHh9LmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5W2RhdGEtdi0wMzRmMDZkOF17aGVpZ2h0OjEwMCU7ZmxleDoxO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXItcmlnaHQ6dmFyKC0tcWFsZW5kYXItYm9yZGVyLWdyYXktdGhpbik7Ym9yZGVyLWJvdHRvbTp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKTtvdmVyZmxvdzpoaWRkZW47dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBlYXNlLWluLW91dH1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItbW9udGhfX3dlZWtkYXlbZGF0YS12LTAzNGYwNmQ4XTpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5KXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItbW9udGhfX3dlZWtkYXlbZGF0YS12LTAzNGYwNmQ4XXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfS5jYWxlbmRhci1tb250aF9fd2Vla2RheS5pcy1kcm9wcGFibGVbZGF0YS12LTAzNGYwNmQ4XXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLWxpZ2h0LWdyYXkpfS5jYWxlbmRhci1tb250aF9fd2Vla2RheVtkYXRhLXYtMDM0ZjA2ZDhdOmxhc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0OjB9LnFhbGVuZGFyLWlzLXNtYWxsIC5jYWxlbmRhci1tb250aF9fd2Vla2RheS5pcy1zZWxlY3RlZFtkYXRhLXYtMDM0ZjA2ZDhdey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMCAzcHggdmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpOy1tb3otYm94LXNoYWRvdzppbnNldCAwIDAgMCAzcHggdmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgM3B4IHZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtib3JkZXItcmFkaXVzOjVweH0ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5W2RhdGEtdi0wMzRmMDZkOF17aGVpZ2h0OjQ1cHg7d2lkdGg6NDVweDtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYXJvdW5kfS5jYWxlbmRhci1tb250aF9fd2Vla2RheSAuY2FsZW5kYXItbW9udGhfX2RheS1kYXRlW2RhdGEtdi0wMzRmMDZkOF17Zm9udC1zaXplOnZhcigtLXFhbGVuZGFyLWZvbnQteHMpO2NvbG9yOnZhcigtLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyayl9LmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5IC5jYWxlbmRhci1tb250aF9fZGF5LWRhdGVbZGF0YS12LTAzNGYwNmQ4XTpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjZweH0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXkgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5LW1vcmVbZGF0YS12LTAzNGYwNmQ4XXtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC0yeHMpO3dpZHRoOjEwMCU7cGFkZGluZy1sZWZ0OjRweDtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspO2N1cnNvcjpwb2ludGVyfS5jYWxlbmRhci1tb250aF9fd2Vla2RheSAuY2FsZW5kYXItbW9udGhfZXZlbnRzW2RhdGEtdi0wMzRmMDZkOF17d2lkdGg6MTAwJX0ucWFsZW5kYXItaXMtc21hbGwgLmNhbGVuZGFyLW1vbnRoX193ZWVrZGF5IC5jYWxlbmRhci1tb250aF9ldmVudHNbZGF0YS12LTAzNGYwNmQ4XXtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OnJvdztqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX3dlZWtkYXkgLmNhbGVuZGFyLW1vbnRoX2V2ZW50cyAuY2FsZW5kYXItbW9udGhfX3dlZWtkYXktbW9yZVtkYXRhLXYtMDM0ZjA2ZDhde2Rpc3BsYXk6bm9uZX0uY2FsZW5kYXItbW9udGhfX3dlZWtkYXkuaXMtdG9kYXkgLmNhbGVuZGFyLW1vbnRoX19kYXktZGF0ZVtkYXRhLXYtMDM0ZjA2ZDhde2JhY2tncm91bmQtY29sb3I6dmFyKC0tcWFsZW5kYXItdGhlbWUtY29sb3IpO2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzo0cHggNnB4fS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhfX3dlZWtkYXkuaXMtdG9kYXkgLmNhbGVuZGFyLW1vbnRoX19kYXktZGF0ZVtkYXRhLXYtMDM0ZjA2ZDhde3BhZGRpbmc6MnB4IDRweH0uc3BhY2UtcmVzZXJ2ZXJbZGF0YS12LTAzNGYwNmQ4XXtoZWlnaHQ6MTAwJTtmbGV4OjE7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yaWdodDp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKTtib3JkZXItYm90dG9tOnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pO2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudH1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuc3BhY2UtcmVzZXJ2ZXJbZGF0YS12LTAzNGYwNmQ4XTpub3QoLmlzLWxpZ2h0LW1vZGUgLnNwYWNlLXJlc2VydmVyKXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuc3BhY2UtcmVzZXJ2ZXJbZGF0YS12LTAzNGYwNmQ4XXtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfS5zcGFjZS1yZXNlcnZlcisuY2FsZW5kYXItbW9udGhfX3dlZWtkYXlbZGF0YS12LTAzNGYwNmQ4XTpub3QoLnRyYWlsaW5nLW9yLWxlYWRpbmcpe2JvcmRlci1sZWZ0OnZhcigtLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW4pfS5jYWxlbmRhci1tb250aF9fZGF5LW5hbWVbZGF0YS12LTA5YzdjNWRiXXtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjUwMDtjb2xvcjp2YXIoLS1xYWxlbmRhci1ncmF5LXF1aXRlLWRhcmspO21hcmdpbi1ib3R0b206dmFyKC0tcWFsZW5kYXItc3BhY2luZy1oYWxmKX0uYWdlbmRhX19ldmVudFtkYXRhLXYtNjk4YjQzMWVde2JhY2tncm91bmQtY29sb3I6dmFyKC0tNjkxZjI3OTEpO2NvbG9yOnZhcigtLWZhMTY0OWMyKTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDtib3JkZXItcmFkaXVzOjRweDtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC0yeHMpO21hcmdpbi1ib3R0b206NHB4O3BhZGRpbmc6dmFyKC0tcWFsZW5kYXItc3BhY2luZyk7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX0uYWdlbmRhX193cmFwcGVyW2RhdGEtdi1iNjBjYmNlNV17ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3c7cGFkZGluZzoxMHB4IDVweCAwfS5hZ2VuZGFfX3dyYXBwZXIgLmFnZW5kYV9faGVhZGVyW2RhdGEtdi1iNjBjYmNlNV17cGFkZGluZy1yaWdodDoxMHB4fS5hZ2VuZGFfX3dyYXBwZXIgLmFnZW5kYV9faGVhZGVyIC5hZ2VuZGFfX2hlYWRlci1kYXktbmFtZVtkYXRhLXYtYjYwY2JjZTVde3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC14cyk7Zm9udC13ZWlnaHQ6NzAwfS5hZ2VuZGFfX3dyYXBwZXIgLmFnZW5kYV9faGVhZGVyIC5hZ2VuZGFfX2hlYWRlci1kYXRlW2RhdGEtdi1iNjBjYmNlNV17aGVpZ2h0OmZpdC1jb250ZW50O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjVweDtib3JkZXItcmFkaXVzOjRweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXFhbGVuZGFyLXRoZW1lLWNvbG9yKTtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OjYwMDtmb250LXNpemU6dmFyKC0tcWFsZW5kYXItZm9udC1tKX0uYWdlbmRhX193cmFwcGVyIC5hZ2VuZGFfX2NvbnRlbnRbZGF0YS12LWI2MGNiY2U1XXtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjt3aWR0aDoxMDAlO2hlaWdodDphdXRvfS5hZ2VuZGFfX3dyYXBwZXIgLmFnZW5kYV9fY29udGVudCAuaXMtZW1wdHlbZGF0YS12LWI2MGNiY2U1XXttaW4taGVpZ2h0OjcwcHg7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5jYWxlbmRhci1tb250aFtkYXRhLXYtMjA2YzE3N2Vde3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3ZlcmZsb3cteTphdXRvfS5xYWxlbmRhci1pcy1zbWFsbCAuY2FsZW5kYXItbW9udGhbZGF0YS12LTIwNmMxNzdlXXtoZWlnaHQ6aW5pdGlhbH0uY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrLWRheS1uYW1lc1tkYXRhLXYtMjA2YzE3N2Vde2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrLWRheS1uYW1lcyAuY2FsZW5kYXItbW9udGhfX3dlZWstZGF5LW5hbWVbZGF0YS12LTIwNmMxNzdlXXtmbGV4OjE7dGV4dC1hbGlnbjpjZW50ZXJ9LmNhbGVuZGFyLW1vbnRoIC5jYWxlbmRhci1tb250aF9fd2Vla3NbZGF0YS12LTIwNmMxNzdlXXtoZWlnaHQ6MTAwJTtmbGV4LWdyb3c6MTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrW2RhdGEtdi0yMDZjMTc3ZV17ZGlzcGxheTpmbGV4O2ZsZXg6MX0uY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrW2RhdGEtdi0yMDZjMTc3ZV06Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcDp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKX1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItbW9udGggLmNhbGVuZGFyLW1vbnRoX193ZWVrW2RhdGEtdi0yMDZjMTc3ZV06Zmlyc3QtY2hpbGQ6bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1tb250aCAuY2FsZW5kYXItbW9udGhfX3dlZWs6Zmlyc3QtY2hpbGQpe2JvcmRlci1jb2xvcjp2YXIoLS1xYWxlbmRhci1kYXJrLW1vZGUtbGluZS1jb2xvcil9fVtzdHlsZSo9XFxcImNvbG9yLXNjaGVtZTogZGFya1xcXCJdIC5jYWxlbmRhci1tb250aCAuY2FsZW5kYXItbW9udGhfX3dlZWtbZGF0YS12LTIwNmMxNzdlXTpmaXJzdC1jaGlsZHtib3JkZXItY29sb3I6dmFyKC0tcWFsZW5kYXItZGFyay1tb2RlLWxpbmUtY29sb3IpfS5jYWxlbmRhci1tb250aCAuY2FsZW5kYXItbW9udGhfX2RheV9ldmVudHNbZGF0YS12LTIwNmMxNzdlXXtoZWlnaHQ6MTAwJTtkaXNwbGF5Om5vbmV9LnFhbGVuZGFyLWlzLXNtYWxsIC5jYWxlbmRhci1tb250aCAuY2FsZW5kYXItbW9udGhfX2RheV9ldmVudHNbZGF0YS12LTIwNmMxNzdlXXtkaXNwbGF5OmJsb2NrfS5wc3tvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O292ZXJmbG93LWFuY2hvcjpub25lOy1tcy1vdmVyZmxvdy1zdHlsZTpub25lO3RvdWNoLWFjdGlvbjphdXRvOy1tcy10b3VjaC1hY3Rpb246YXV0b30ucHNfX3JhaWwteHtkaXNwbGF5Om5vbmU7b3BhY2l0eTowO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLG9wYWNpdHkgLjJzIGxpbmVhcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLG9wYWNpdHkgLjJzIGxpbmVhcjtoZWlnaHQ6MTVweDtib3R0b206MHB4O3Bvc2l0aW9uOmFic29sdXRlfS5wc19fcmFpbC15e2Rpc3BsYXk6bm9uZTtvcGFjaXR5OjA7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMnMgbGluZWFyOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMnMgbGluZWFyO3dpZHRoOjE1cHg7cmlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZX0ucHMtLWFjdGl2ZS14Pi5wc19fcmFpbC14LC5wcy0tYWN0aXZlLXk+LnBzX19yYWlsLXl7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5wczpob3Zlcj4ucHNfX3JhaWwteCwucHM6aG92ZXI+LnBzX19yYWlsLXksLnBzLS1mb2N1cz4ucHNfX3JhaWwteCwucHMtLWZvY3VzPi5wc19fcmFpbC15LC5wcy0tc2Nyb2xsaW5nLXg+LnBzX19yYWlsLXgsLnBzLS1zY3JvbGxpbmcteT4ucHNfX3JhaWwteXtvcGFjaXR5Oi42fS5wcyAucHNfX3JhaWwteDpob3ZlciwucHMgLnBzX19yYWlsLXk6aG92ZXIsLnBzIC5wc19fcmFpbC14OmZvY3VzLC5wcyAucHNfX3JhaWwteTpmb2N1cywucHMgLnBzX19yYWlsLXgucHMtLWNsaWNraW5nLC5wcyAucHNfX3JhaWwteS5wcy0tY2xpY2tpbmd7YmFja2dyb3VuZC1jb2xvcjojZWVlO29wYWNpdHk6Ljl9LnBzX190aHVtYi14e2JhY2tncm91bmQtY29sb3I6I2FhYTtib3JkZXItcmFkaXVzOjZweDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixoZWlnaHQgLjJzIGVhc2UtaW4tb3V0Oy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsaGVpZ2h0IC4ycyBlYXNlLWluLW91dDtoZWlnaHQ6NnB4O2JvdHRvbToycHg7cG9zaXRpb246YWJzb2x1dGV9LnBzX190aHVtYi15e2JhY2tncm91bmQtY29sb3I6I2FhYTtib3JkZXItcmFkaXVzOjZweDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcix3aWR0aCAuMnMgZWFzZS1pbi1vdXQ7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcix3aWR0aCAuMnMgZWFzZS1pbi1vdXQ7d2lkdGg6NnB4O3JpZ2h0OjJweDtwb3NpdGlvbjphYnNvbHV0ZX0ucHNfX3JhaWwteDpob3Zlcj4ucHNfX3RodW1iLXgsLnBzX19yYWlsLXg6Zm9jdXM+LnBzX190aHVtYi14LC5wc19fcmFpbC14LnBzLS1jbGlja2luZyAucHNfX3RodW1iLXh7YmFja2dyb3VuZC1jb2xvcjojOTk5O2hlaWdodDoxMXB4fS5wc19fcmFpbC15OmhvdmVyPi5wc19fdGh1bWIteSwucHNfX3JhaWwteTpmb2N1cz4ucHNfX3RodW1iLXksLnBzX19yYWlsLXkucHMtLWNsaWNraW5nIC5wc19fdGh1bWIteXtiYWNrZ3JvdW5kLWNvbG9yOiM5OTk7d2lkdGg6MTFweH1Ac3VwcG9ydHMgKC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZSl7LnBze292ZXJmbG93OmF1dG8haW1wb3J0YW50fX1AbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6IGFjdGl2ZSksKC1tcy1oaWdoLWNvbnRyYXN0OiBub25lKXsucHN7b3ZlcmZsb3c6YXV0byFpbXBvcnRhbnR9fS5jYWxlbmRhci1yb290LC5kYXRlLXBpY2tlci1yb290ey0tcWFsZW5kYXItYmx1ZTogcmdiKDM4IDEzMiAyNTUpOy0tcWFsZW5kYXItYmx1ZS10cmFuc3BhcmVudDogcmdiYSgzOCAxMzIgMjU1IC8gOTAlKTstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDExMCAxMTAgMTEwKTstLXFhbGVuZGFyLWdyYXk6IHJnYigxODAgMTgwIDE4MCk7LS1xYWxlbmRhci1ncmVlbjogcmdiKDUxIDE4MiAxMjEpOy0tcWFsZW5kYXItdGhlbWUtY29sb3I6IHZhcigtLXFhbGVuZGFyLWJsdWUpOy0tcWFsZW5kYXItbGlnaHQtZ3JheTogcmdiYSgyNDAgMjM2IDIzNiAvIDc2JSk7LS1xYWxlbmRhci1vcHRpb24taG92ZXI6IHZhcigtLXFhbGVuZGFyLWxpZ2h0LWdyYXkpOy0tcWFsZW5kYXItZGFyay1tb2RlLWVsZXZhdGVkLXN1cmZhY2U6ICMzODM4Mzg7LS1xYWxlbmRhci1kYXJrLW1vZGUtbGlnaHRseS1lbGV2YXRlZC1zdXJmYWNlOiAjMmUyZTJlOy0tcWFsZW5kYXItZGFyay1tb2RlLXRleHQtcHJpbWFyeTogcmdiYSgyNTUgMjU1IDI1NSAxKTstLXFhbGVuZGFyLWRhcmstbW9kZS10ZXh0LXNlY29uZGFyeTogcmdiYSgyNTUgMjU1IDI1NSAuNyk7LS1xYWxlbmRhci1kYXJrLW1vZGUtdGV4dC1oaW50OiByZ2JhKDI1NSAyNTUgMjU1IC41KTstLXFhbGVuZGFyLWRhcmstbW9kZS1saW5lLWNvbG9yOiB2YXIoLS1xYWxlbmRhci1ncmF5KTstLXFhbGVuZGFyLWJvcmRlci1ncmF5LXRoaW46IDFweCBzb2xpZCByZ2IoMjI0IDIyNCAyMjQpOy0tcWFsZW5kYXItYm9yZGVyLWRhc2hlZC1ncmF5LXRoaW46IDFweCBkYXNoZWQgcmdiKDIyNCAyMjQgMjI0KTstLXFhbGVuZGFyLWJvcmRlci1ibHVlLXRoaW46IDFweCBzb2xpZCB2YXIoLS1xYWxlbmRhci10aGVtZS1jb2xvcik7LS1xYWxlbmRhci1ib3JkZXItcmFkaXVzOiA4cHg7LS1xYWxlbmRhci1zcGFjaW5nOiAxMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1oYWxmOiA1cHg7LS1xYWxlbmRhci1zcGFjaW5nLWRvdWJsZTogMjBweDstLXFhbGVuZGFyLWJveC1zaGFkb3c6IDAgNHB4IDRweCByZ2JhKDAgMCAwIC8gNiUpLCAwIDFweCA0cHggcmdiYSgwIDAgMCAvIDE4JSk7LS1xYWxlbmRhci10ZXh0LXRyYW5zaXRpb246IGNvbG9yIC4ycyBlYXNlOy0tcWFsZW5kYXItd2Vlay1wYWRkaW5nLWxlZnQ6IDU2cHg7LS1xYWxlbmRhci1mb250LTN4czogLjYyNXJlbTstLXFhbGVuZGFyLWZvbnQtMnhzOiAuNjg4cmVtOy0tcWFsZW5kYXItZm9udC14czogLjc1cmVtOy0tcWFsZW5kYXItZm9udC1zOiAuODc1cmVtOy0tcWFsZW5kYXItZm9udC1tOiAxcmVtOy0tcWFsZW5kYXItZm9udC1sOiAxLjI1cmVtOy0tcWFsZW5kYXItZm9udC14bDogMS41cmVtfUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1yb290Om5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCksLmRhdGUtcGlja2VyLXJvb3Q6bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlci1yb290KXstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpOy0tcWFsZW5kYXItb3B0aW9uLWhvdmVyOiAjNTc1NzU3fX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItcm9vdCxbc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXItcm9vdHstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpOy0tcWFsZW5kYXItb3B0aW9uLWhvdmVyOiAjNTc1NzU3fUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspey5jYWxlbmRhci1yb290Om5vdCguaXMtbGlnaHQtbW9kZSAuY2FsZW5kYXItcm9vdCwuaXMtbGlnaHQtbW9kZSAuZGF0ZS1waWNrZXItcm9vdCksLmRhdGUtcGlja2VyLXJvb3Q6bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LC5pcy1saWdodC1tb2RlIC5kYXRlLXBpY2tlci1yb290KXstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItcm9vdCxbc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuZGF0ZS1waWNrZXItcm9vdHstLXFhbGVuZGFyLWdyYXktcXVpdGUtZGFyazogcmdiKDIyMSwgMjIxLCAyMjEpfUBtZWRpYSAobWluLXdpZHRoOiA2MnJlbSl7LmNhbGVuZGFyLXJvb3R7LS1xYWxlbmRhci1zcGFjaW5nOiAyMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1oYWxmOiAxMHB4Oy0tcWFsZW5kYXItc3BhY2luZy1kb3VibGU6IDQwcHh9fS5jYWxlbmRhci1yb290LXdyYXBwZXJ7d2lkdGg6MTAwJTttYXgtd2lkdGg6MTAwdnc7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4fS5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3R7ZmxleDoxO2JvcmRlcjp2YXIoLS1xYWxlbmRhci1ib3JkZXItZ3JheS10aGluKTtib3JkZXItcmFkaXVzOnZhcigtLXFhbGVuZGFyLWJvcmRlci1yYWRpdXMpO2ZvbnQtZmFtaWx5OnZhcigtLTUxZDgyODA1KTtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO21hcmdpbjowIGF1dG87ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW59QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdDpub3QoLmlzLWxpZ2h0LW1vZGUgLmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCl7YmFja2dyb3VuZDojMTIxMjEyO2NvbG9yOiNmZmY7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290e2JhY2tncm91bmQ6IzEyMTIxMjtjb2xvcjojZmZmO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0uY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC50b3AtYmFyLWxvYWRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MXB4O2xlZnQ6MnB4O3dpZHRoOmNhbGMoMTAwJSAtIDRweCk7aGVpZ2h0OjNweDtiYWNrZ3JvdW5kOnJnYmEoMjQxLDI0MSwyNDEsLjIpO2JvcmRlci1yYWRpdXM6MTZweDtvdmVyZmxvdzpoaWRkZW59LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAudG9wLWJhci1sb2FkZXI6YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCI7aGVpZ2h0OjRweDt3aWR0aDpjYWxjKDEwMCUgLSA0cHgpO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxcHg7bGVmdDoycHg7YmFja2dyb3VuZDpyZ2IoMzgsMTMyLDI1NSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcscmdiKDM4LDEzMiwyNTUpIDAlLHJnYmEoMzgsMTMyLDI1NSwuNTA4ODQxMDM2NCkgNDglLHJnYigzOCwxMzIsMjU1KSAxMDAlKTthbmltYXRpb246bG9hZCAxLjhzIGluZmluaXRlO2JvcmRlci1yYWRpdXM6MTZweH1AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXsuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC50b3AtYmFyLWxvYWRlcjpiZWZvcmU6bm90KC5pcy1saWdodC1tb2RlIC5jYWxlbmRhci1yb290LXdyYXBwZXIgLmNhbGVuZGFyLXJvb3QgLnRvcC1iYXItbG9hZGVyOmJlZm9yZSl7YmFja2dyb3VuZDpyZ2IoMjI5LDIyNCwyNDUpfX1bc3R5bGUqPVxcXCJjb2xvci1zY2hlbWU6IGRhcmtcXFwiXSAuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC50b3AtYmFyLWxvYWRlcjpiZWZvcmV7YmFja2dyb3VuZDpyZ2IoMjI5LDIyNCwyNDUpfUBrZXlmcmFtZXMgbG9hZHswJXt3aWR0aDowO2xlZnQ6LTEwMCV9NTAle2xlZnQ6MDt3aWR0aDoxMDAlfXRve3dpZHRoOjA7bGVmdDoxMDAlfX0uY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC5sb2FkaW5nLWVudGVyLWFjdGl2ZSwuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC5sb2FkaW5nLWxlYXZlLWFjdGl2ZXt0cmFuc2l0aW9uOmJhY2tncm91bmQgLjVzIGVhc2V9LmNhbGVuZGFyLXJvb3Qtd3JhcHBlciAuY2FsZW5kYXItcm9vdCAubG9hZGluZy1sZWF2ZS10bywuY2FsZW5kYXItcm9vdC13cmFwcGVyIC5jYWxlbmRhci1yb290IC5sb2FkaW5nLWVudGVyLWZyb217YmFja2dyb3VuZC1jb2xvcjojZmZmMH1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/qalendar/dist/style.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ \"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_qalendar_dist_style_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../../../node_modules/qalendar/dist/style.css */ \"./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/qalendar/dist/style.css\");\n// Imports\n\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_qalendar_dist_style_css__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.container.files[data-v-05f52410] {\\n    max-height: 500px;\\n    overflow: scroll;\\n}\\n.carousel__item[data-v-05f52410] {\\n    width: 40%;\\n}\\n.carousel__item img[data-v-05f52410] {\\n    width: 100%;\\n    height: auto;\\n    transition: transform 0.3s;\\n    border-radius: 8px;\\n}\\n.carousel__viewport[data-v-05f52410] {\\n    perspective: 1000px;\\n}\\n.carousel__slide[data-v-05f52410] {\\n    opacity: 1;\\n    transform: rotateY(0) scale(1);\\n    transition: transform 0.5s, opacity 0.5s;\\n}\\n.carousel__slide--prev[data-v-05f52410],\\n.carousel__slide--next[data-v-05f52410] {\\n    opacity: 0.9;\\n}\\n.carousel__slide--active[data-v-05f52410] {\\n    opacity: 1;\\n    transform: scale(1.1);\\n}\\n\\n/* Optional: Add a hover effect */\\n.carousel__item:hover img[data-v-05f52410] {\\n    transform: scale(1.05);\\n    transition: transform 0.3s;\\n}\\n.modal.fade.show[data-v-05f52410] {\\n    -webkit-backdrop-filter: blur(5px);\\n            backdrop-filter: blur(5px);\\n}\\n.full-screen-modal[data-v-05f52410] {\\n    z-index: 9999;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.9);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n.full-screen-image[data-v-05f52410] {\\n    max-width: 100%;\\n    max-height: 100%;\\n}\\n.close-button[data-v-05f52410] {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px;\\n    font-size: 24px;\\n    color: white;\\n    cursor: pointer;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./Purchaser-View.vue\"],\"names\":[],\"mappings\":\";AAssBA;IACI,iBAAiB;IACjB,gBAAgB;AACpB;AAEA;IACI,UAAU;AACd;AACA;IACI,WAAW;IACX,YAAY;IACZ,0BAA0B;IAC1B,kBAAkB;AACtB;AAEA;IACI,mBAAmB;AACvB;AAEA;IACI,UAAU;IACV,8BAA8B;IAC9B,wCAAwC;AAC5C;AAEA;;IAEI,YAAY;AAChB;AAEA;IACI,UAAU;IACV,qBAAqB;AACzB;;AAEA,iCAAiC;AACjC;IACI,sBAAsB;IACtB,0BAA0B;AAC9B;AAEA;IACI,kCAA0B;YAA1B,0BAA0B;AAC9B;AACA;IACI,aAAa;IACb,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,oCAAoC;IACpC,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;AAEA;IACI,eAAe;IACf,gBAAgB;AACpB;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,eAAe;IACf,YAAY;IACZ,eAAe;AACnB\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n                <!-- Main content -->\\n\\n                <div class=\\\"invoice p-3 mb-3\\\">\\n                    <div style=\\\"\\\">\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                for=\\\"staticEmail\\\"\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                ><b>მყიდველის სახელი:</b></label\\n                            >\\n                            <label class=\\\"col-sm-3 col-form-label\\\">{{\\n                                model.name\\n                            }}</label>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput2\\\"\\n                                >დამატებითი სახელი:</label\\n                            >\\n                            <div class=\\\"col-sm-9\\\">\\n                                <label class=\\\"col-sm-3 col-form-label\\\">{{\\n                                    model.subj_name\\n                                }}</label>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >მყიდველის მისამართი:</label\\n                            >\\n                            <label class=\\\"col-sm-3 col-form-label\\\">{{\\n                                model.subj_address\\n                            }}</label>\\n                        </div>\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >საიდენთიფიკაციო კოდი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <label class=\\\"col-sm-3 col-form-label\\\">{{\\n                                    model.identification_num\\n                                }}</label>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >ტექნიკური მომსახურებისთვის საჭირო დრო:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <label class=\\\"col-sm-3 col-form-label\\\"\\n                                    >{{ model.technical_time }} წთ</label\\n                                >\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >წმენდითი მომსახურებისთვის საჭირო დრო:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <label class=\\\"col-sm-3 col-form-label\\\"\\n                                    >{{ model.cleaning_time }} წთ</label\\n                                >\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >აღწერა:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.description\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >პირველადი აღწერის თარიღი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.first_review_date\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >კომენტარი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.first_review_description\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >ტექნიკური აღწერის თარიღი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.technical_review_date\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >კომენტარი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p\\n                                    v-html=\\\"model.technical_review_description\\\"\\n                                ></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >საინფორმაციო ბაზის შექმნის თარიღი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.base_creation_date\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-3 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >კომენტარი:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-9\\\">\\n                                <p v-html=\\\"model.base_description\\\"></p>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"form-group row\\\">\\n                            <label\\n                                class=\\\"col-sm-2 col-form-label\\\"\\n                                for=\\\"formGroupExampleInput\\\"\\n                                >გალერეა:</label\\n                            >\\n\\n                            <div class=\\\"col-sm-4\\\">\\n                                <file-pond\\n                                    @activatefile=\\\"onActivateFile\\\"\\n                                    @processfile=\\\"fileProcessed\\\"\\n                                    label-idle=\\\"გალერეა\\\"\\n                                    name=\\\"purchaserGallery\\\"\\n                                    :server=\\\"`/uploadPurchaserGallery/${model.id}`\\\"\\n                                    ref=\\\"pond\\\"\\n                                    :allow-multiple=\\\"true\\\"\\n                                    :files=\\\"galleryImages\\\"\\n                                    :allowRemove=\\\"false\\\"\\n                                    :allowRevert=\\\"false\\\"\\n                                    @init=\\\"handleFilePondInitGallery\\\"\\n                                />\\n                            </div>\\n                            <div class=\\\"col-sm-6\\\">\\n                                <div v-if=\\\"galleryImages.length > 0\\\">\\n                                    <div\\n                                        v-for=\\\"(file, index) in galleryImages\\\"\\n                                        class=\\\"galleryImage\\\"\\n                                        style=\\\"\\n                                            display: inline-block;\\n                                            padding: 3px;\\n                                        \\\"\\n                                        :key=\\\"index\\\"\\n                                    >\\n                                        <img\\n                                            @click=\\\"onSlideClick(file.source)\\\"\\n                                            :src=\\\"file.source\\\"\\n                                            alt=\\\"uploaded preview\\\"\\n                                            style=\\\"\\n                                                max-width: 200px;\\n                                                max-height: 200px;\\n                                                margin-right: 10px;\\n                                            \\\"\\n                                        />\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                        <div v-if=\\\"isFullScreenOpen\\\" class=\\\"full-screen-modal\\\">\\n                            <span class=\\\"close-button\\\" @click=\\\"closeFullScreen\\\"\\n                                >&times;</span\\n                            >\\n                            <img\\n                                class=\\\"full-screen-image\\\"\\n                                :src=\\\"fullScreenImageSrc\\\"\\n                            />\\n                        </div>\\n\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col\\\">\\n                                <!-- Scrollable object with items from events -->\\n                                <div\\n                                    class=\\\"col-sm\\\"\\n                                    style=\\\"overflow-y: auto; max-height: 300px\\\"\\n                                >\\n                                    <ul class=\\\"list-group\\\">\\n                                        <li\\n                                            v-for=\\\"event in events\\\"\\n                                            :key=\\\"event.id\\\"\\n                                            class=\\\"list-group-item\\\"\\n                                            @click=\\\"handleEventClick(event)\\\"\\n                                        >\\n                                            {{\\n                                                event.title +\\n                                                \\\" \\\" +\\n                                                event.time.start\\n                                            }}\\n                                        </li>\\n                                    </ul>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-md-9 mt-1\\\">\\n                                <!-- Qalendar and calendar-event-modal components -->\\n                                <Qalendar\\n                                    :events=\\\"events\\\"\\n                                    :selected-date=\\\"\\n                                        selectedQalendarDate || new Date()\\n                                    \\\"\\n                                    :config=\\\"config\\\"\\n                                    :day-min-height=\\\"250\\\"\\n                                    @date-was-clicked=\\\"handleDateClicked\\\"\\n                                    @edit-event=\\\"handleEditEvent\\\"\\n                                    @delete-event=\\\"handleDeleteEvent\\\"\\n                                    ref=\\\"calendar\\\"\\n                                />\\n                                <calendar-event-modal\\n                                    @eventStored=\\\"fetchEvents\\\"\\n                                    :is-visible=\\\"this.isModalVisible\\\"\\n                                    :selected-date=\\\"this.selectedDate\\\"\\n                                    :purchaser-id=\\\"this.model.id\\\"\\n                                    :on-edit=\\\"this.isModalOnEdit\\\"\\n                                    :event-id=\\\"this.eventId\\\"\\n                                    @close-modal=\\\"closeModal\\\"\\n                                    @add-event=\\\"addEvent\\\"\\n                                />\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"mt-5 row\\\">\\n                            <div\\n                                v-for=\\\"subject in subjects\\\"\\n                                :key=\\\"subject.id\\\"\\n                                class=\\\"col-md-4\\\"\\n                            >\\n                                <file-pond\\n                                    @activatefile=\\\"onActivateFile\\\"\\n                                    @processfile=\\\"fileProcessed\\\"\\n                                    :name=\\\"subject.name + 'Files'\\\"\\n                                    :ref=\\\"subject.ref\\\"\\n                                    :label-idle=\\\"subject.geo_name\\\"\\n                                    :server=\\\"`/purchaser/${this.model.id}/files`\\\"\\n                                    :allow-multiple=\\\"true\\\"\\n                                    :allowRemove=\\\"false\\\"\\n                                    :allowRevert=\\\"false\\\"\\n                                    :files=\\\"subject.files\\\"\\n                                    @init=\\\"handleFilePondInit(subject.ref)\\\"\\n                                />\\n                            </div>\\n                            <file-actions-modal\\n                                :is-visible=\\\"isFileActionsModalVisible\\\"\\n                                :file=\\\"activatedFile\\\"\\n                                @fileDeleted=\\\"fetchAfterDelete\\\"\\n                                @close=\\\"closeModal\\\"\\n                            ></file-actions-modal>\\n                        </div>\\n\\n                        <!-- Folder Structure -->\\n\\n                        <div class=\\\"container files mt-5\\\">\\n                            <h4>დამატებითი ფაილები:</h4>\\n                            <hr />\\n                            <div\\n                                v-for=\\\"(locations, date) in folderStructure\\\"\\n                                :key=\\\"date\\\"\\n                                class=\\\"mb-4\\\"\\n                            >\\n                                <h3\\n                                    @click=\\\"toggleLocations(date)\\\"\\n                                    class=\\\"btn btn-primary w-100 text-left p-3 rounded-pill d-flex align-items-center justify-content-between\\\"\\n                                    :aria-expanded=\\\"\\n                                        isDateSelected(date).toString()\\n                                    \\\"\\n                                    :aria-controls=\\\"'locations-' + date\\\"\\n                                >\\n                                    <i class=\\\"fas fa-calendar-day mr-2\\\"></i\\n                                    >{{ date }}\\n                                    <i\\n                                        v-if=\\\"isDateSelected(date)\\\"\\n                                        class=\\\"fas fa-chevron-up\\\"\\n                                    ></i>\\n                                    <i v-else class=\\\"fas fa-chevron-down\\\"></i>\\n                                </h3>\\n\\n                                <!-- Locations shown when a date is clicked -->\\n                                <div\\n                                    v-show=\\\"isDateSelected(date)\\\"\\n                                    :id=\\\"'locations-' + date\\\"\\n                                    class=\\\"ml-4 mt-2\\\"\\n                                >\\n                                    <div\\n                                        v-for=\\\"(files, location) in locations\\\"\\n                                        :key=\\\"location\\\"\\n                                        class=\\\"mb-2\\\"\\n                                    >\\n                                        <button\\n                                            @click=\\\"toggleFiles(location)\\\"\\n                                            class=\\\"btn btn-outline-primary w-100 text-left d-flex align-items-center p-3 rounded-pill\\\"\\n                                        >\\n                                            <i class=\\\"fas fa-folder mr-2\\\"></i\\n                                            >{{ location }}\\n                                            <i\\n                                                v-if=\\\"\\n                                                    isLocationSelected(location)\\n                                                \\\"\\n                                                class=\\\"fas fa-chevron-up ml-auto\\\"\\n                                            ></i>\\n                                            <i\\n                                                v-else\\n                                                class=\\\"fas fa-chevron-down ml-auto\\\"\\n                                            ></i>\\n                                        </button>\\n\\n                                        <!-- Files shown when a location is clicked -->\\n                                        <div\\n                                            v-show=\\\"\\n                                                isLocationSelected(location)\\n                                            \\\"\\n                                            class=\\\"ml-4 mt-2\\\"\\n                                        >\\n                                            <div\\n                                                v-for=\\\"file in files\\\"\\n                                                :key=\\\"file.file_name\\\"\\n                                                class=\\\"mb-2 d-flex align-items-center\\\"\\n                                            >\\n                                                <button\\n                                                    @click=\\\"openImage(file)\\\"\\n                                                    class=\\\"btn btn-link text-left flex-grow-1 d-flex align-items-center\\\"\\n                                                >\\n                                                    <i\\n                                                        class=\\\"fas fa-image mr-2\\\"\\n                                                    ></i\\n                                                    >{{ file.file_name }}\\n                                                </button>\\n                                                <button\\n                                                    @click=\\\"deleteFile(file)\\\"\\n                                                    class=\\\"btn btn-danger ml-2\\\"\\n                                                >\\n                                                    წაშლა\\n                                                </button>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <!-- End Folder Structure -->\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</template>\\n\\n<script>\\nimport draggable from \\\"../vendors/vuedraggable/src/vuedraggable\\\";\\nimport useVuelidate from \\\"@vuelidate/core\\\";\\nimport FileUpload from \\\"vue-upload-component\\\";\\nimport \\\"vue3-carousel/dist/carousel.css\\\";\\nimport { Carousel, Slide, Pagination, Navigation } from \\\"vue3-carousel\\\";\\nimport vueFilePond, { setOptions } from \\\"vue-filepond\\\";\\nimport { Qalendar } from \\\"qalendar\\\";\\nimport CalendarEventModal from \\\"../components/CalendarEventModal.vue\\\";\\nimport FileActionsModal from \\\"../components/FileActionsModal.vue\\\";\\n// Import FilePond styles\\nimport \\\"filepond/dist/filepond.min.css\\\";\\nimport \\\"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\\\";\\nimport FilePondPluginImagePreview from \\\"filepond-plugin-image-preview\\\";\\nimport { event } from \\\"jquery\\\";\\n\\nconst FilePond = vueFilePond(FilePondPluginImagePreview);\\n\\nexport default {\\n    props: [\\\"user\\\", \\\"model\\\", \\\"setting\\\", \\\"additional\\\"],\\n\\n    components: {\\n        FileUpload,\\n        draggable,\\n        FilePond,\\n        Carousel,\\n        Slide,\\n        Pagination,\\n        Navigation,\\n        Qalendar,\\n        CalendarEventModal,\\n        FileActionsModal,\\n    },\\n    setup(props, context) {\\n        return {\\n            v$: useVuelidate(),\\n        };\\n    },\\n    created() {\\n        this.fetchPurchaserFiles();\\n        this.fetchGalleryImages();\\n        this.m = this.attributeInit;\\n    },\\n    mounted() {\\n        this.fetchEvents();\\n        this.fetchFolderStructure();\\n\\n        this.v$.model.$touch();\\n    },\\n    data() {\\n        return {\\n            selectedQalendarDate: null,\\n            isModalVisible: false,\\n            activatedFile: null,\\n            isFileActionsModalVisible: false,\\n            isModalOnEdit: false,\\n            eventId: 0,\\n            selectedDate: \\\"\\\",\\n            events: [],\\n            purchaserFiles: [],\\n            galleryImages: [],\\n            config: {\\n                defaultMode: \\\"month\\\",\\n                disableModes: [\\\"week\\\", \\\"day\\\"],\\n            },\\n            subjects: [],\\n            selector: \\\"\\\",\\n            step: false,\\n            keys: [],\\n            isFullScreenOpen: false,\\n            fullScreenImageSrc: \\\"\\\",\\n            selectBuilder: [],\\n            // Folder Structure\\n            folderStructure: {},\\n            selectedDate: null,\\n            selectedLocation: null,\\n            selectedImage: null,\\n        };\\n    },\\n    watch: {},\\n    validations() {\\n        return {\\n            model: {},\\n        };\\n    },\\n    computed: {\\n        attributeInit() {\\n            return this.model;\\n        },\\n    },\\n    methods: {\\n        handleEventClick(event) {\\n            console.log(new Date(2024, 0, 8));\\n            console.log(\\n                \\\"Event: \\\" + event.title + \\\"\\\\nTime: \\\" + event.time.start\\n            );\\n\\n            // Convert event start time to a Date object\\n            const eventDate = new Date(event.time.start);\\n            this.selectedQalendarDate = new Date(2024, 0, 8); // Set selected date\\n            console.log(this.selectedQalendarDate);\\n        },\\n\\n        handleFilePondInit(pond) {},\\n        handleFilePondInitGallery(pond) {},\\n\\n        async fetchFolderStructure() {\\n            try {\\n                const response = await fetch(\\\"/api/folders/\\\" + this.m.id);\\n                const data = await response.json();\\n                this.folderStructure = data;\\n            } catch (error) {\\n                console.error(\\\"Error fetching folder structure:\\\", error);\\n            }\\n        },\\n\\n        toggleLocations(date) {\\n            this.selectedDate = this.selectedDate === date ? null : date;\\n            this.selectedLocation = null;\\n        },\\n\\n        isDateSelected(date) {\\n            return this.selectedDate === date;\\n        },\\n\\n        toggleFiles(location) {\\n            this.selectedLocation =\\n                this.selectedLocation === location ? null : location;\\n        },\\n\\n        isLocationSelected(location) {\\n            return this.selectedLocation === location;\\n        },\\n\\n        openImage(file) {\\n            window.open(file.file_url, \\\"_blank\\\");\\n        },\\n\\n        initializeSubjects() {\\n            this.subjects = [\\n                {\\n                    id: 1,\\n                    name: \\\"Accounting\\\",\\n                    geo_name: \\\"აღრიცხვის ფაილები\\\",\\n                    ref: \\\"accountingPond\\\",\\n                    files: this.purchaserFiles\\n                        ? this.purchaserFiles.AccountingFiles\\n                        : [],\\n                },\\n                {\\n                    id: 2,\\n                    name: \\\"Performance Acts\\\",\\n                    geo_name: \\\"შესრულების აქტები\\\",\\n                    ref: \\\"performanceActsPond\\\",\\n                    files: this.purchaserFiles\\n                        ? this.purchaserFiles.performanceActsFiles\\n                        : [],\\n                },\\n                {\\n                    id: 3,\\n                    name: \\\"Technical Documentation\\\",\\n                    geo_name: \\\"ტექნიკური დოკუმენტაცია\\\",\\n                    ref: \\\"technicalDocumentationPond\\\",\\n                    files: this.purchaserFiles\\n                        ? this.purchaserFiles.technicalDocumentationFiles\\n                        : [],\\n                },\\n                // {\\n                //     id: 4,\\n                //     name: \\\"Additional Information\\\",\\n                //     geo_name: \\\"დამატებითი ინფორმაცია/ფაილები\\\",\\n                //     ref: \\\"additionalInformationPond\\\",\\n                //     files: this.purchaserFiles\\n                //         ? this.purchaserFiles.additionalInformationFiles\\n                //         : [],\\n                // },\\n            ];\\n        },\\n        fetchAfterDelete() {\\n            this.fetchGalleryImages();\\n            this.fetchPurchaserFiles();\\n        },\\n        fetchPurchaserFiles() {\\n            axios\\n                .get(`/purchaser/${this.model.id}/files`)\\n                .then((response) => {\\n                    this.purchaserFiles = response.data;\\n                    this.initializeSubjects();\\n                })\\n                .catch((error) => {\\n                    console.error(\\\"Error fetching purchaser files\\\", error);\\n                });\\n        },\\n\\n        fetchGalleryImages() {\\n            axios\\n                .get(`/purchaserGallery/${this.model.id}`)\\n                .then((response) => {\\n                    this.galleryImages = response.data;\\n                })\\n                .catch((error) => {\\n                    console.error(\\\"Error fetching purchaser files\\\", error);\\n                });\\n        },\\n\\n        onActivateFile(file) {\\n            this.activatedFile = file;\\n            this.isFileActionsModalVisible = true;\\n            this.fetchPurchaserFiles();\\n        },\\n\\n        closeFullScreen() {\\n            this.isFullScreenOpen = false;\\n            this.fullScreenImageSrc = \\\"\\\";\\n        },\\n        onSlideClick(imageSrc) {\\n            this.isFullScreenOpen = true;\\n            this.fullScreenImageSrc = imageSrc;\\n        },\\n        fileProcessed(item, file) {\\n            // this.fetchPurchaserFiles();\\n            // this.fetchGalleryImages();\\n        },\\n        handleDateClicked(date) {\\n            this.isModalOnEdit = false;\\n            this.isModalVisible = true;\\n            this.eventId = 0;\\n            this.selectedDate = date;\\n        },\\n        closeModal() {\\n            this.isModalVisible = false;\\n            this.isFileActionsModalVisible = false;\\n        },\\n        handleEditEvent(event_id) {\\n            this.eventId = event_id;\\n            this.isModalVisible = true;\\n            this.isModalOnEdit = true;\\n        },\\n        async deleteFile(file) {\\n            try {\\n                const userConfirmed = confirm(\\n                    `დარწმუნებული ხართ რომ გინდათ ფაილის წაშლა: ${file.file_name}?`\\n                );\\n                if (!userConfirmed) {\\n                    return;\\n                }\\n\\n                const response = await fetch(`/api/delete-file`, {\\n                    method: \\\"POST\\\",\\n                    headers: {\\n                        \\\"Content-Type\\\": \\\"application/json\\\",\\n                    },\\n                    body: JSON.stringify({ fileName: file.file_name }),\\n                });\\n                if (response.ok) {\\n                    this.fetchFolderStructure();\\n                    alert(`ფაილი ${file.file_name} წარმატებით წაიშალა.`);\\n                } else {\\n                    console.error(\\\"Failed to delete file.\\\");\\n                }\\n            } catch (error) {\\n                console.error(\\\"Error deleting file:\\\", error);\\n            }\\n        },\\n\\n        handleDeleteEvent(event_id) {\\n            const isConfirmed = window.confirm(\\n                \\\"Are you sure you want to delete this event?\\\"\\n            );\\n\\n            if (isConfirmed) {\\n                axios\\n                    .delete(`/calendar/events/${event_id}`)\\n                    .then((response) => {\\n                        console.log(\\n                            \\\"Event deleted successfully:\\\",\\n                            response.data\\n                        );\\n\\n                        this.fetchEvents();\\n                    })\\n                    .catch((error) => {\\n                        console.error(\\\"Error deleting event:\\\", error);\\n                    });\\n            } else {\\n                console.log(\\\"Deletion canceled\\\");\\n            }\\n        },\\n        addEvent(event) {\\n            this.fetchEvents();\\n            this.isModalVisible = false;\\n        },\\n        fetchEvents() {\\n            axios\\n                .get(`/calendar/events/purchaser/${this.model.id}`)\\n                .then((response) => {\\n                    this.events = response.data;\\n                })\\n                .catch((error) => {\\n                    console.error(\\\"Error fetching events:\\\", error);\\n                });\\n        },\\n    },\\n};\\n</script>\\n<style scoped>\\n@import \\\"../../../../node_modules/qalendar/dist/style.css\\\";\\n\\n.container.files {\\n    max-height: 500px;\\n    overflow: scroll;\\n}\\n\\n.carousel__item {\\n    width: 40%;\\n}\\n.carousel__item img {\\n    width: 100%;\\n    height: auto;\\n    transition: transform 0.3s;\\n    border-radius: 8px;\\n}\\n\\n.carousel__viewport {\\n    perspective: 1000px;\\n}\\n\\n.carousel__slide {\\n    opacity: 1;\\n    transform: rotateY(0) scale(1);\\n    transition: transform 0.5s, opacity 0.5s;\\n}\\n\\n.carousel__slide--prev,\\n.carousel__slide--next {\\n    opacity: 0.9;\\n}\\n\\n.carousel__slide--active {\\n    opacity: 1;\\n    transform: scale(1.1);\\n}\\n\\n/* Optional: Add a hover effect */\\n.carousel__item:hover img {\\n    transform: scale(1.05);\\n    transition: transform 0.3s;\\n}\\n\\n.modal.fade.show {\\n    backdrop-filter: blur(5px);\\n}\\n.full-screen-modal {\\n    z-index: 9999;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.9);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n.full-screen-image {\\n    max-width: 100%;\\n    max-height: 100%;\\n}\\n\\n.close-button {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px;\\n    font-size: 24px;\\n    color: white;\\n    cursor: pointer;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMV0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L3N0eWxlUG9zdExvYWRlci5qcyEuL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMl0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL3Jlc291cmNlcy9qcy9hcHAvcGFnZXMvUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDVmNTI0MTAmc2NvcGVkPXRydWUmbGFuZz1jc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDK0g7QUFDN0I7QUFDMEU7QUFDNUssOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRiwwQkFBMEIsd0lBQWlDO0FBQzNEO0FBQ0EsK0VBQStFLHdCQUF3Qix1QkFBdUIsR0FBRyxvQ0FBb0MsaUJBQWlCLEdBQUcsd0NBQXdDLGtCQUFrQixtQkFBbUIsaUNBQWlDLHlCQUF5QixHQUFHLHdDQUF3QywwQkFBMEIsR0FBRyxxQ0FBcUMsaUJBQWlCLHFDQUFxQywrQ0FBK0MsR0FBRyxxRkFBcUYsbUJBQW1CLEdBQUcsNkNBQTZDLGlCQUFpQiw0QkFBNEIsR0FBRyxvRkFBb0YsNkJBQTZCLGlDQUFpQyxHQUFHLHFDQUFxQyx5Q0FBeUMseUNBQXlDLEdBQUcsdUNBQXVDLG9CQUFvQixzQkFBc0IsYUFBYSxjQUFjLGtCQUFrQixtQkFBbUIsMkNBQTJDLG9CQUFvQiw4QkFBOEIsMEJBQTBCLEdBQUcsdUNBQXVDLHNCQUFzQix1QkFBdUIsR0FBRyxrQ0FBa0MseUJBQXlCLGdCQUFnQixrQkFBa0Isc0JBQXNCLG1CQUFtQixzQkFBc0IsR0FBRyxTQUFTLGlGQUFpRixPQUFPLFlBQVksYUFBYSxNQUFNLEtBQUss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QTZDLDJLQUEySywrQ0FBK0MsdUJBQXVCLDBDQUEwQywwRUFBMEUsdUJBQXVCLEVBQUUsZ0JBQWdCLE1BQU0scURBQXFELGVBQWUsV0FBVyw0QkFBNEIsaUNBQWlDLDBDQUEwQyxXQUFXLDBCQUEwQix3RUFBd0UsY0FBYyx5Q0FBeUMsa0RBQWtELG1CQUFtQixzQ0FBc0MsdUVBQXVFLG1CQUFtQixFQUFFLFdBQVcsUUFBUSxLQUFLLDBGQUEwRixzQkFBc0Isd0JBQXdCLHVCQUF1QixHQUFHLHFCQUFxQixpQkFBaUIsR0FBRyx1QkFBdUIsa0JBQWtCLG1CQUFtQixpQ0FBaUMseUJBQXlCLEdBQUcseUJBQXlCLDBCQUEwQixHQUFHLHNCQUFzQixpQkFBaUIscUNBQXFDLCtDQUErQyxHQUFHLHFEQUFxRCxtQkFBbUIsR0FBRyw4QkFBOEIsaUJBQWlCLDRCQUE0QixHQUFHLG1FQUFtRSw2QkFBNkIsaUNBQWlDLEdBQUcsc0JBQXNCLGlDQUFpQyxHQUFHLHNCQUFzQixvQkFBb0Isc0JBQXNCLGFBQWEsY0FBYyxrQkFBa0IsbUJBQW1CLDJDQUEyQyxvQkFBb0IsOEJBQThCLDBCQUEwQixHQUFHLHdCQUF3QixzQkFBc0IsdUJBQXVCLEdBQUcsbUJBQW1CLHlCQUF5QixnQkFBZ0Isa0JBQWtCLHNCQUFzQixtQkFBbUIsc0JBQXNCLEdBQUcsK0JBQStCO0FBQzNyaUM7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvcGFnZXMvUHVyY2hhc2VyLVZpZXcudnVlPzc2MTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTExLnVzZVsxXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9zdHlsZS5jc3NcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5jb250YWluZXIuZmlsZXNbZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xcbn1cXG4uY2Fyb3VzZWxfX2l0ZW1bZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIHdpZHRoOiA0MCU7XFxufVxcbi5jYXJvdXNlbF9faXRlbSBpbWdbZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IGF1dG87XFxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcbi5jYXJvdXNlbF9fdmlld3BvcnRbZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XFxufVxcbi5jYXJvdXNlbF9fc2xpZGVbZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlWSgwKSBzY2FsZSgxKTtcXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXMsIG9wYWNpdHkgMC41cztcXG59XFxuLmNhcm91c2VsX19zbGlkZS0tcHJldltkYXRhLXYtMDVmNTI0MTBdLFxcbi5jYXJvdXNlbF9fc2xpZGUtLW5leHRbZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIG9wYWNpdHk6IDAuOTtcXG59XFxuLmNhcm91c2VsX19zbGlkZS0tYWN0aXZlW2RhdGEtdi0wNWY1MjQxMF0ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XFxufVxcblxcbi8qIE9wdGlvbmFsOiBBZGQgYSBob3ZlciBlZmZlY3QgKi9cXG4uY2Fyb3VzZWxfX2l0ZW06aG92ZXIgaW1nW2RhdGEtdi0wNWY1MjQxMF0ge1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcXG59XFxuLm1vZGFsLmZhZGUuc2hvd1tkYXRhLXYtMDVmNTI0MTBdIHtcXG4gICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTtcXG4gICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTtcXG59XFxuLmZ1bGwtc2NyZWVuLW1vZGFsW2RhdGEtdi0wNWY1MjQxMF0ge1xcbiAgICB6LWluZGV4OiA5OTk5O1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmZ1bGwtc2NyZWVuLWltYWdlW2RhdGEtdi0wNWY1MjQxMF0ge1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XFxufVxcbi5jbG9zZS1idXR0b25bZGF0YS12LTA1ZjUyNDEwXSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAyMHB4O1xcbiAgICByaWdodDogMjBweDtcXG4gICAgZm9udC1zaXplOiAyNHB4O1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vUHVyY2hhc2VyLVZpZXcudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFzc0JBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLDBCQUEwQjtJQUMxQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksVUFBVTtJQUNWLDhCQUE4QjtJQUM5Qix3Q0FBd0M7QUFDNUM7QUFFQTs7SUFFSSxZQUFZO0FBQ2hCO0FBRUE7SUFDSSxVQUFVO0lBQ1YscUJBQXFCO0FBQ3pCOztBQUVBLGlDQUFpQztBQUNqQztJQUNJLHNCQUFzQjtJQUN0QiwwQkFBMEI7QUFDOUI7QUFFQTtJQUNJLGtDQUEwQjtZQUExQiwwQkFBMEI7QUFDOUI7QUFDQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsWUFBWTtJQUNaLG9DQUFvQztJQUNwQyxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0lBQ1gsZUFBZTtJQUNmLFlBQVk7SUFDWixlQUFlO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyLWZsdWlkXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLTEyXFxcIj5cXG4gICAgICAgICAgICAgICAgPCEtLSBNYWluIGNvbnRlbnQgLS0+XFxuXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImludm9pY2UgcC0zIG1iLTNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cXFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVxcXCJzdGF0aWNFbWFpbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48Yj7hg5vhg6fhg5jhg5Phg5Xhg5Thg5rhg5jhg6Eg4YOh4YOQ4YOu4YOU4YOa4YOYOjwvYj48L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCI+e3tcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLm5hbWVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dDJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOT4YOQ4YOb4YOQ4YOi4YOU4YOR4YOY4YOX4YOYIOGDoeGDkOGDruGDlOGDmuGDmDo8L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCI+e3tcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJqX25hbWVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCByb3dcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cXFwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDm+GDp+GDmOGDk+GDleGDlOGDmuGDmOGDoSDhg5vhg5jhg6Hhg5Dhg5vhg5Dhg6Dhg5fhg5g6PC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiPnt7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJqX2FkZHJlc3NcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg6Hhg5Dhg5jhg5Phg5Thg5zhg5fhg5jhg6Thg5jhg5nhg5Dhg6rhg5jhg50g4YOZ4YOd4YOT4YOYOjwvbGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIj57e1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmlkZW50aWZpY2F0aW9uX251bVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVxcXCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOi4YOU4YOl4YOc4YOY4YOZ4YOj4YOg4YOYIOGDm+GDneGDm+GDoeGDkOGDruGDo+GDoOGDlOGDkeGDmOGDoeGDl+GDleGDmOGDoSDhg6Hhg5Dhg63hg5jhg6Dhg50g4YOT4YOg4YOdOjwvbGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57eyBtb2RlbC50ZWNobmljYWxfdGltZSB9fSDhg6zhg5c8L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg6zhg5vhg5Thg5zhg5Phg5jhg5fhg5gg4YOb4YOd4YOb4YOh4YOQ4YOu4YOj4YOg4YOU4YOR4YOY4YOh4YOX4YOV4YOY4YOhIOGDoeGDkOGDreGDmOGDoOGDnSDhg5Phg6Dhg506PC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IG1vZGVsLmNsZWFuaW5nX3RpbWUgfX0g4YOs4YOXPC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVxcXCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOQ4YOm4YOs4YOU4YOg4YOQOjwvbGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XFxcIm1vZGVsLmRlc2NyaXB0aW9uXFxcIj48L3A+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg57hg5jhg6Dhg5Xhg5Thg5rhg5Dhg5Phg5gg4YOQ4YOm4YOs4YOU4YOg4YOY4YOhIOGDl+GDkOGDoOGDmOGDpuGDmDo8L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1odG1sPVxcXCJtb2RlbC5maXJzdF9yZXZpZXdfZGF0ZVxcXCI+PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVxcXCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOZ4YOd4YOb4YOU4YOc4YOi4YOQ4YOg4YOYOjwvbGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWh0bWw9XFxcIm1vZGVsLmZpcnN0X3Jldmlld19kZXNjcmlwdGlvblxcXCI+PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVxcXCJmb3JtR3JvdXBFeGFtcGxlSW5wdXRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+4YOi4YOU4YOl4YOc4YOY4YOZ4YOj4YOg4YOYIOGDkOGDpuGDrOGDlOGDoOGDmOGDoSDhg5fhg5Dhg6Dhg5jhg6bhg5g6PC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaHRtbD1cXFwibW9kZWwudGVjaG5pY2FsX3Jldmlld19kYXRlXFxcIj48L3A+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTMgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5g6PC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1odG1sPVxcXCJtb2RlbC50ZWNobmljYWxfcmV2aWV3X2Rlc2NyaXB0aW9uXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvcD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCByb3dcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cXFwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDoeGDkOGDmOGDnOGDpOGDneGDoOGDm+GDkOGDquGDmOGDnSDhg5Hhg5Dhg5bhg5jhg6Eg4YOo4YOU4YOl4YOb4YOc4YOY4YOhIOGDl+GDkOGDoOGDmOGDpuGDmDo8L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1odG1sPVxcXCJtb2RlbC5iYXNlX2NyZWF0aW9uX2RhdGVcXFwiPjwvcD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCByb3dcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cXFwiZm9ybUdyb3VwRXhhbXBsZUlucHV0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPuGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDmDo8L2xhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1odG1sPVxcXCJtb2RlbC5iYXNlX2Rlc2NyaXB0aW9uXFxcIj48L3A+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XFxcImZvcm1Hcm91cEV4YW1wbGVJbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID7hg5Lhg5Dhg5rhg5Thg6Dhg5Thg5A6PC9sYWJlbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWxlLXBvbmRcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAYWN0aXZhdGVmaWxlPVxcXCJvbkFjdGl2YXRlRmlsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcHJvY2Vzc2ZpbGU9XFxcImZpbGVQcm9jZXNzZWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwtaWRsZT1cXFwi4YOS4YOQ4YOa4YOU4YOg4YOU4YOQXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcInB1cmNoYXNlckdhbGxlcnlcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlcnZlcj1cXFwiYC91cGxvYWRQdXJjaGFzZXJHYWxsZXJ5LyR7bW9kZWwuaWR9YFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9XFxcInBvbmRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmFsbG93LW11bHRpcGxlPVxcXCJ0cnVlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpmaWxlcz1cXFwiZ2FsbGVyeUltYWdlc1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZW1vdmU9XFxcImZhbHNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphbGxvd1JldmVydD1cXFwiZmFsc2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGluaXQ9XFxcImhhbmRsZUZpbGVQb25kSW5pdEdhbGxlcnlcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVxcXCJnYWxsZXJ5SW1hZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XFxcIihmaWxlLCBpbmRleCkgaW4gZ2FsbGVyeUltYWdlc1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImdhbGxlcnlJbWFnZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogM3B4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XFxcImluZGV4XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJvblNsaWRlQ2xpY2soZmlsZS5zb3VyY2UpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNyYz1cXFwiZmlsZS5zb3VyY2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XFxcInVwbG9hZGVkIHByZXZpZXdcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAyMDBweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVxcXCJpc0Z1bGxTY3JlZW5PcGVuXFxcIiBjbGFzcz1cXFwiZnVsbC1zY3JlZW4tbW9kYWxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2xvc2UtYnV0dG9uXFxcIiBAY2xpY2s9XFxcImNsb3NlRnVsbFNjcmVlblxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4mdGltZXM7PC9zcGFuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImZ1bGwtc2NyZWVuLWltYWdlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNyYz1cXFwiZnVsbFNjcmVlbkltYWdlU3JjXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFNjcm9sbGFibGUgb2JqZWN0IHdpdGggaXRlbXMgZnJvbSBldmVudHMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1zbVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwib3ZlcmZsb3cteTogYXV0bzsgbWF4LWhlaWdodDogMzAwcHhcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJsaXN0LWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cXFwiZXZlbnQgaW4gZXZlbnRzXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cXFwiZXZlbnQuaWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwibGlzdC1ncm91cC1pdGVtXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJoYW5kbGVFdmVudENsaWNrKGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50aXRsZSArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcIiBcXFwiICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50aW1lLnN0YXJ0XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC05IG10LTFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBRYWxlbmRhciBhbmQgY2FsZW5kYXItZXZlbnQtbW9kYWwgY29tcG9uZW50cyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxRYWxlbmRhclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpldmVudHM9XFxcImV2ZW50c1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VsZWN0ZWQtZGF0ZT1cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUWFsZW5kYXJEYXRlIHx8IG5ldyBEYXRlKClcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNvbmZpZz1cXFwiY29uZmlnXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpkYXktbWluLWhlaWdodD1cXFwiMjUwXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBkYXRlLXdhcy1jbGlja2VkPVxcXCJoYW5kbGVEYXRlQ2xpY2tlZFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZWRpdC1ldmVudD1cXFwiaGFuZGxlRWRpdEV2ZW50XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBkZWxldGUtZXZlbnQ9XFxcImhhbmRsZURlbGV0ZUV2ZW50XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNhbGVuZGFyLWV2ZW50LW1vZGFsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGV2ZW50U3RvcmVkPVxcXCJmZXRjaEV2ZW50c1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aXMtdmlzaWJsZT1cXFwidGhpcy5pc01vZGFsVmlzaWJsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2VsZWN0ZWQtZGF0ZT1cXFwidGhpcy5zZWxlY3RlZERhdGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnB1cmNoYXNlci1pZD1cXFwidGhpcy5tb2RlbC5pZFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6b24tZWRpdD1cXFwidGhpcy5pc01vZGFsT25FZGl0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpldmVudC1pZD1cXFwidGhpcy5ldmVudElkXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbG9zZS1tb2RhbD1cXFwiY2xvc2VNb2RhbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAYWRkLWV2ZW50PVxcXCJhZGRFdmVudFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm10LTUgcm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XFxcInN1YmplY3QgaW4gc3ViamVjdHNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVxcXCJzdWJqZWN0LmlkXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbC1tZC00XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmlsZS1wb25kXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGFjdGl2YXRlZmlsZT1cXFwib25BY3RpdmF0ZUZpbGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHByb2Nlc3NmaWxlPVxcXCJmaWxlUHJvY2Vzc2VkXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpuYW1lPVxcXCJzdWJqZWN0Lm5hbWUgKyAnRmlsZXMnXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpyZWY9XFxcInN1YmplY3QucmVmXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpsYWJlbC1pZGxlPVxcXCJzdWJqZWN0Lmdlb19uYW1lXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZXJ2ZXI9XFxcImAvcHVyY2hhc2VyLyR7dGhpcy5tb2RlbC5pZH0vZmlsZXNgXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphbGxvdy1tdWx0aXBsZT1cXFwidHJ1ZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWxsb3dSZW1vdmU9XFxcImZhbHNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphbGxvd1JldmVydD1cXFwiZmFsc2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGVzPVxcXCJzdWJqZWN0LmZpbGVzXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbml0PVxcXCJoYW5kbGVGaWxlUG9uZEluaXQoc3ViamVjdC5yZWYpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWxlLWFjdGlvbnMtbW9kYWxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppcy12aXNpYmxlPVxcXCJpc0ZpbGVBY3Rpb25zTW9kYWxWaXNpYmxlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGU9XFxcImFjdGl2YXRlZEZpbGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZmlsZURlbGV0ZWQ9XFxcImZldGNoQWZ0ZXJEZWxldGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xvc2U9XFxcImNsb3NlTW9kYWxcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2ZpbGUtYWN0aW9ucy1tb2RhbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEZvbGRlciBTdHJ1Y3R1cmUgLS0+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyIGZpbGVzIG10LTVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+4YOT4YOQ4YOb4YOQ4YOi4YOU4YOR4YOY4YOX4YOYIOGDpOGDkOGDmOGDmuGDlOGDkeGDmDo8L2g0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XFxcIihsb2NhdGlvbnMsIGRhdGUpIGluIGZvbGRlclN0cnVjdHVyZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDprZXk9XFxcImRhdGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwibWItNFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJ0b2dnbGVMb2NhdGlvbnMoZGF0ZSlcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSB3LTEwMCB0ZXh0LWxlZnQgcC0zIHJvdW5kZWQtcGlsbCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDphcmlhLWV4cGFuZGVkPVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEYXRlU2VsZWN0ZWQoZGF0ZSkudG9TdHJpbmcoKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YXJpYS1jb250cm9scz1cXFwiJ2xvY2F0aW9ucy0nICsgZGF0ZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWNhbGVuZGFyLWRheSBtci0yXFxcIj48L2lcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgZGF0ZSB9fVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XFxcImlzRGF0ZVNlbGVjdGVkKGRhdGUpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZmFzIGZhLWNoZXZyb24tdXBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSB2LWVsc2UgY2xhc3M9XFxcImZhcyBmYS1jaGV2cm9uLWRvd25cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIExvY2F0aW9ucyBzaG93biB3aGVuIGEgZGF0ZSBpcyBjbGlja2VkIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiaXNEYXRlU2VsZWN0ZWQoZGF0ZSlcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlkPVxcXCInbG9jYXRpb25zLScgKyBkYXRlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJtbC00IG10LTJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cXFwiKGZpbGVzLCBsb2NhdGlvbikgaW4gbG9jYXRpb25zXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVxcXCJsb2NhdGlvblxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIm1iLTJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XFxcInRvZ2dsZUZpbGVzKGxvY2F0aW9uKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSB3LTEwMCB0ZXh0LWxlZnQgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC1waWxsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZvbGRlciBtci0yXFxcIj48L2lcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57eyBsb2NhdGlvbiB9fVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWlmPVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2NhdGlvblNlbGVjdGVkKGxvY2F0aW9uKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZmFzIGZhLWNoZXZyb24tdXAgbWwtYXV0b1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZWxzZVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJmYXMgZmEtY2hldnJvbi1kb3duIG1sLWF1dG9cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBGaWxlcyBzaG93biB3aGVuIGEgbG9jYXRpb24gaXMgY2xpY2tlZCAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1zaG93PVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2F0aW9uU2VsZWN0ZWQobG9jYXRpb24pXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwibWwtNCBtdC0yXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XFxcImZpbGUgaW4gZmlsZXNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cXFwiZmlsZS5maWxlX25hbWVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIm1iLTIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cXFwib3BlbkltYWdlKGZpbGUpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rIHRleHQtbGVmdCBmbGV4LWdyb3ctMSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJmYXMgZmEtaW1hZ2UgbXItMlxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgZmlsZS5maWxlX25hbWUgfX1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiZGVsZXRlRmlsZShmaWxlKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyIG1sLTJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDhg6zhg5Dhg6jhg5rhg5BcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEVuZCBGb2xkZXIgU3RydWN0dXJlIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdD5cXG5pbXBvcnQgZHJhZ2dhYmxlIGZyb20gXFxcIi4uL3ZlbmRvcnMvdnVlZHJhZ2dhYmxlL3NyYy92dWVkcmFnZ2FibGVcXFwiO1xcbmltcG9ydCB1c2VWdWVsaWRhdGUgZnJvbSBcXFwiQHZ1ZWxpZGF0ZS9jb3JlXFxcIjtcXG5pbXBvcnQgRmlsZVVwbG9hZCBmcm9tIFxcXCJ2dWUtdXBsb2FkLWNvbXBvbmVudFxcXCI7XFxuaW1wb3J0IFxcXCJ2dWUzLWNhcm91c2VsL2Rpc3QvY2Fyb3VzZWwuY3NzXFxcIjtcXG5pbXBvcnQgeyBDYXJvdXNlbCwgU2xpZGUsIFBhZ2luYXRpb24sIE5hdmlnYXRpb24gfSBmcm9tIFxcXCJ2dWUzLWNhcm91c2VsXFxcIjtcXG5pbXBvcnQgdnVlRmlsZVBvbmQsIHsgc2V0T3B0aW9ucyB9IGZyb20gXFxcInZ1ZS1maWxlcG9uZFxcXCI7XFxuaW1wb3J0IHsgUWFsZW5kYXIgfSBmcm9tIFxcXCJxYWxlbmRhclxcXCI7XFxuaW1wb3J0IENhbGVuZGFyRXZlbnRNb2RhbCBmcm9tIFxcXCIuLi9jb21wb25lbnRzL0NhbGVuZGFyRXZlbnRNb2RhbC52dWVcXFwiO1xcbmltcG9ydCBGaWxlQWN0aW9uc01vZGFsIGZyb20gXFxcIi4uL2NvbXBvbmVudHMvRmlsZUFjdGlvbnNNb2RhbC52dWVcXFwiO1xcbi8vIEltcG9ydCBGaWxlUG9uZCBzdHlsZXNcXG5pbXBvcnQgXFxcImZpbGVwb25kL2Rpc3QvZmlsZXBvbmQubWluLmNzc1xcXCI7XFxuaW1wb3J0IFxcXCJmaWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3Lm1pbi5jc3NcXFwiO1xcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlUHJldmlldyBmcm9tIFxcXCJmaWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlld1xcXCI7XFxuaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFxcXCJqcXVlcnlcXFwiO1xcblxcbmNvbnN0IEZpbGVQb25kID0gdnVlRmlsZVBvbmQoRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXcpO1xcblxcbmV4cG9ydCBkZWZhdWx0IHtcXG4gICAgcHJvcHM6IFtcXFwidXNlclxcXCIsIFxcXCJtb2RlbFxcXCIsIFxcXCJzZXR0aW5nXFxcIiwgXFxcImFkZGl0aW9uYWxcXFwiXSxcXG5cXG4gICAgY29tcG9uZW50czoge1xcbiAgICAgICAgRmlsZVVwbG9hZCxcXG4gICAgICAgIGRyYWdnYWJsZSxcXG4gICAgICAgIEZpbGVQb25kLFxcbiAgICAgICAgQ2Fyb3VzZWwsXFxuICAgICAgICBTbGlkZSxcXG4gICAgICAgIFBhZ2luYXRpb24sXFxuICAgICAgICBOYXZpZ2F0aW9uLFxcbiAgICAgICAgUWFsZW5kYXIsXFxuICAgICAgICBDYWxlbmRhckV2ZW50TW9kYWwsXFxuICAgICAgICBGaWxlQWN0aW9uc01vZGFsLFxcbiAgICB9LFxcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xcbiAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICB2JDogdXNlVnVlbGlkYXRlKCksXFxuICAgICAgICB9O1xcbiAgICB9LFxcbiAgICBjcmVhdGVkKCkge1xcbiAgICAgICAgdGhpcy5mZXRjaFB1cmNoYXNlckZpbGVzKCk7XFxuICAgICAgICB0aGlzLmZldGNoR2FsbGVyeUltYWdlcygpO1xcbiAgICAgICAgdGhpcy5tID0gdGhpcy5hdHRyaWJ1dGVJbml0O1xcbiAgICB9LFxcbiAgICBtb3VudGVkKCkge1xcbiAgICAgICAgdGhpcy5mZXRjaEV2ZW50cygpO1xcbiAgICAgICAgdGhpcy5mZXRjaEZvbGRlclN0cnVjdHVyZSgpO1xcblxcbiAgICAgICAgdGhpcy52JC5tb2RlbC4kdG91Y2goKTtcXG4gICAgfSxcXG4gICAgZGF0YSgpIHtcXG4gICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgc2VsZWN0ZWRRYWxlbmRhckRhdGU6IG51bGwsXFxuICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6IGZhbHNlLFxcbiAgICAgICAgICAgIGFjdGl2YXRlZEZpbGU6IG51bGwsXFxuICAgICAgICAgICAgaXNGaWxlQWN0aW9uc01vZGFsVmlzaWJsZTogZmFsc2UsXFxuICAgICAgICAgICAgaXNNb2RhbE9uRWRpdDogZmFsc2UsXFxuICAgICAgICAgICAgZXZlbnRJZDogMCxcXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIGV2ZW50czogW10sXFxuICAgICAgICAgICAgcHVyY2hhc2VyRmlsZXM6IFtdLFxcbiAgICAgICAgICAgIGdhbGxlcnlJbWFnZXM6IFtdLFxcbiAgICAgICAgICAgIGNvbmZpZzoge1xcbiAgICAgICAgICAgICAgICBkZWZhdWx0TW9kZTogXFxcIm1vbnRoXFxcIixcXG4gICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVzOiBbXFxcIndlZWtcXFwiLCBcXFwiZGF5XFxcIl0sXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBzdWJqZWN0czogW10sXFxuICAgICAgICAgICAgc2VsZWN0b3I6IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIHN0ZXA6IGZhbHNlLFxcbiAgICAgICAgICAgIGtleXM6IFtdLFxcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbk9wZW46IGZhbHNlLFxcbiAgICAgICAgICAgIGZ1bGxTY3JlZW5JbWFnZVNyYzogXFxcIlxcXCIsXFxuICAgICAgICAgICAgc2VsZWN0QnVpbGRlcjogW10sXFxuICAgICAgICAgICAgLy8gRm9sZGVyIFN0cnVjdHVyZVxcbiAgICAgICAgICAgIGZvbGRlclN0cnVjdHVyZToge30sXFxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBudWxsLFxcbiAgICAgICAgICAgIHNlbGVjdGVkTG9jYXRpb246IG51bGwsXFxuICAgICAgICAgICAgc2VsZWN0ZWRJbWFnZTogbnVsbCxcXG4gICAgICAgIH07XFxuICAgIH0sXFxuICAgIHdhdGNoOiB7fSxcXG4gICAgdmFsaWRhdGlvbnMoKSB7XFxuICAgICAgICByZXR1cm4ge1xcbiAgICAgICAgICAgIG1vZGVsOiB7fSxcXG4gICAgICAgIH07XFxuICAgIH0sXFxuICAgIGNvbXB1dGVkOiB7XFxuICAgICAgICBhdHRyaWJ1dGVJbml0KCkge1xcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsO1xcbiAgICAgICAgfSxcXG4gICAgfSxcXG4gICAgbWV0aG9kczoge1xcbiAgICAgICAgaGFuZGxlRXZlbnRDbGljayhldmVudCkge1xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKDIwMjQsIDAsIDgpKTtcXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcXG4gICAgICAgICAgICAgICAgXFxcIkV2ZW50OiBcXFwiICsgZXZlbnQudGl0bGUgKyBcXFwiXFxcXG5UaW1lOiBcXFwiICsgZXZlbnQudGltZS5zdGFydFxcbiAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgLy8gQ29udmVydCBldmVudCBzdGFydCB0aW1lIHRvIGEgRGF0ZSBvYmplY3RcXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGUgPSBuZXcgRGF0ZShldmVudC50aW1lLnN0YXJ0KTtcXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUWFsZW5kYXJEYXRlID0gbmV3IERhdGUoMjAyNCwgMCwgOCk7IC8vIFNldCBzZWxlY3RlZCBkYXRlXFxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFFhbGVuZGFyRGF0ZSk7XFxuICAgICAgICB9LFxcblxcbiAgICAgICAgaGFuZGxlRmlsZVBvbmRJbml0KHBvbmQpIHt9LFxcbiAgICAgICAgaGFuZGxlRmlsZVBvbmRJbml0R2FsbGVyeShwb25kKSB7fSxcXG5cXG4gICAgICAgIGFzeW5jIGZldGNoRm9sZGVyU3RydWN0dXJlKCkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXFxcIi9hcGkvZm9sZGVycy9cXFwiICsgdGhpcy5tLmlkKTtcXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcXG4gICAgICAgICAgICAgICAgdGhpcy5mb2xkZXJTdHJ1Y3R1cmUgPSBkYXRhO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXFxcIkVycm9yIGZldGNoaW5nIGZvbGRlciBzdHJ1Y3R1cmU6XFxcIiwgZXJyb3IpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0sXFxuXFxuICAgICAgICB0b2dnbGVMb2NhdGlvbnMoZGF0ZSkge1xcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gdGhpcy5zZWxlY3RlZERhdGUgPT09IGRhdGUgPyBudWxsIDogZGF0ZTtcXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBudWxsO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIGlzRGF0ZVNlbGVjdGVkKGRhdGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZERhdGUgPT09IGRhdGU7XFxuICAgICAgICB9LFxcblxcbiAgICAgICAgdG9nZ2xlRmlsZXMobG9jYXRpb24pIHtcXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPVxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPT09IGxvY2F0aW9uID8gbnVsbCA6IGxvY2F0aW9uO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIGlzTG9jYXRpb25TZWxlY3RlZChsb2NhdGlvbikge1xcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPT09IGxvY2F0aW9uO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIG9wZW5JbWFnZShmaWxlKSB7XFxuICAgICAgICAgICAgd2luZG93Lm9wZW4oZmlsZS5maWxlX3VybCwgXFxcIl9ibGFua1xcXCIpO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIGluaXRpYWxpemVTdWJqZWN0cygpIHtcXG4gICAgICAgICAgICB0aGlzLnN1YmplY3RzID0gW1xcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBpZDogMSxcXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFxcXCJBY2NvdW50aW5nXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGdlb19uYW1lOiBcXFwi4YOQ4YOm4YOg4YOY4YOq4YOu4YOV4YOY4YOhIOGDpOGDkOGDmOGDmuGDlOGDkeGDmFxcXCIsXFxuICAgICAgICAgICAgICAgICAgICByZWY6IFxcXCJhY2NvdW50aW5nUG9uZFxcXCIsXFxuICAgICAgICAgICAgICAgICAgICBmaWxlczogdGhpcy5wdXJjaGFzZXJGaWxlc1xcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wdXJjaGFzZXJGaWxlcy5BY2NvdW50aW5nRmlsZXNcXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBpZDogMixcXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFxcXCJQZXJmb3JtYW5jZSBBY3RzXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGdlb19uYW1lOiBcXFwi4YOo4YOU4YOh4YOg4YOj4YOa4YOU4YOR4YOY4YOhIOGDkOGDpeGDouGDlOGDkeGDmFxcXCIsXFxuICAgICAgICAgICAgICAgICAgICByZWY6IFxcXCJwZXJmb3JtYW5jZUFjdHNQb25kXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnB1cmNoYXNlckZpbGVzLnBlcmZvcm1hbmNlQWN0c0ZpbGVzXFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSxcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDMsXFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcXFwiVGVjaG5pY2FsIERvY3VtZW50YXRpb25cXFwiLFxcbiAgICAgICAgICAgICAgICAgICAgZ2VvX25hbWU6IFxcXCLhg6Lhg5Thg6Xhg5zhg5jhg5nhg6Phg6Dhg5gg4YOT4YOd4YOZ4YOj4YOb4YOU4YOc4YOi4YOQ4YOq4YOY4YOQXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIHJlZjogXFxcInRlY2huaWNhbERvY3VtZW50YXRpb25Qb25kXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnB1cmNoYXNlckZpbGVzLnRlY2huaWNhbERvY3VtZW50YXRpb25GaWxlc1xcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10sXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIC8vIHtcXG4gICAgICAgICAgICAgICAgLy8gICAgIGlkOiA0LFxcbiAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXFxcIkFkZGl0aW9uYWwgSW5mb3JtYXRpb25cXFwiLFxcbiAgICAgICAgICAgICAgICAvLyAgICAgZ2VvX25hbWU6IFxcXCLhg5Phg5Dhg5vhg5Dhg6Lhg5Thg5Hhg5jhg5fhg5gg4YOY4YOc4YOk4YOd4YOg4YOb4YOQ4YOq4YOY4YOQL+GDpOGDkOGDmOGDmuGDlOGDkeGDmFxcXCIsXFxuICAgICAgICAgICAgICAgIC8vICAgICByZWY6IFxcXCJhZGRpdGlvbmFsSW5mb3JtYXRpb25Qb25kXFxcIixcXG4gICAgICAgICAgICAgICAgLy8gICAgIGZpbGVzOiB0aGlzLnB1cmNoYXNlckZpbGVzXFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgPyB0aGlzLnB1cmNoYXNlckZpbGVzLmFkZGl0aW9uYWxJbmZvcm1hdGlvbkZpbGVzXFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgOiBbXSxcXG4gICAgICAgICAgICAgICAgLy8gfSxcXG4gICAgICAgICAgICBdO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGZldGNoQWZ0ZXJEZWxldGUoKSB7XFxuICAgICAgICAgICAgdGhpcy5mZXRjaEdhbGxlcnlJbWFnZXMoKTtcXG4gICAgICAgICAgICB0aGlzLmZldGNoUHVyY2hhc2VyRmlsZXMoKTtcXG4gICAgICAgIH0sXFxuICAgICAgICBmZXRjaFB1cmNoYXNlckZpbGVzKCkge1xcbiAgICAgICAgICAgIGF4aW9zXFxuICAgICAgICAgICAgICAgIC5nZXQoYC9wdXJjaGFzZXIvJHt0aGlzLm1vZGVsLmlkfS9maWxlc2ApXFxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXJjaGFzZXJGaWxlcyA9IHJlc3BvbnNlLmRhdGE7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdWJqZWN0cygpO1xcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxcXCJFcnJvciBmZXRjaGluZyBwdXJjaGFzZXIgZmlsZXNcXFwiLCBlcnJvcik7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIGZldGNoR2FsbGVyeUltYWdlcygpIHtcXG4gICAgICAgICAgICBheGlvc1xcbiAgICAgICAgICAgICAgICAuZ2V0KGAvcHVyY2hhc2VyR2FsbGVyeS8ke3RoaXMubW9kZWwuaWR9YClcXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlJbWFnZXMgPSByZXNwb25zZS5kYXRhO1xcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxcXCJFcnJvciBmZXRjaGluZyBwdXJjaGFzZXIgZmlsZXNcXFwiLCBlcnJvcik7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfSxcXG5cXG4gICAgICAgIG9uQWN0aXZhdGVGaWxlKGZpbGUpIHtcXG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZEZpbGUgPSBmaWxlO1xcbiAgICAgICAgICAgIHRoaXMuaXNGaWxlQWN0aW9uc01vZGFsVmlzaWJsZSA9IHRydWU7XFxuICAgICAgICAgICAgdGhpcy5mZXRjaFB1cmNoYXNlckZpbGVzKCk7XFxuICAgICAgICB9LFxcblxcbiAgICAgICAgY2xvc2VGdWxsU2NyZWVuKCkge1xcbiAgICAgICAgICAgIHRoaXMuaXNGdWxsU2NyZWVuT3BlbiA9IGZhbHNlO1xcbiAgICAgICAgICAgIHRoaXMuZnVsbFNjcmVlbkltYWdlU3JjID0gXFxcIlxcXCI7XFxuICAgICAgICB9LFxcbiAgICAgICAgb25TbGlkZUNsaWNrKGltYWdlU3JjKSB7XFxuICAgICAgICAgICAgdGhpcy5pc0Z1bGxTY3JlZW5PcGVuID0gdHJ1ZTtcXG4gICAgICAgICAgICB0aGlzLmZ1bGxTY3JlZW5JbWFnZVNyYyA9IGltYWdlU3JjO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGZpbGVQcm9jZXNzZWQoaXRlbSwgZmlsZSkge1xcbiAgICAgICAgICAgIC8vIHRoaXMuZmV0Y2hQdXJjaGFzZXJGaWxlcygpO1xcbiAgICAgICAgICAgIC8vIHRoaXMuZmV0Y2hHYWxsZXJ5SW1hZ2VzKCk7XFxuICAgICAgICB9LFxcbiAgICAgICAgaGFuZGxlRGF0ZUNsaWNrZWQoZGF0ZSkge1xcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbE9uRWRpdCA9IGZhbHNlO1xcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSB0cnVlO1xcbiAgICAgICAgICAgIHRoaXMuZXZlbnRJZCA9IDA7XFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBkYXRlO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGNsb3NlTW9kYWwoKSB7XFxuICAgICAgICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xcbiAgICAgICAgICAgIHRoaXMuaXNGaWxlQWN0aW9uc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGhhbmRsZUVkaXRFdmVudChldmVudF9pZCkge1xcbiAgICAgICAgICAgIHRoaXMuZXZlbnRJZCA9IGV2ZW50X2lkO1xcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFZpc2libGUgPSB0cnVlO1xcbiAgICAgICAgICAgIHRoaXMuaXNNb2RhbE9uRWRpdCA9IHRydWU7XFxuICAgICAgICB9LFxcbiAgICAgICAgYXN5bmMgZGVsZXRlRmlsZShmaWxlKSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlckNvbmZpcm1lZCA9IGNvbmZpcm0oXFxuICAgICAgICAgICAgICAgICAgICBg4YOT4YOQ4YOg4YOs4YOb4YOj4YOc4YOU4YOR4YOj4YOa4YOYIOGDruGDkOGDoOGDlyDhg6Dhg53hg5sg4YOS4YOY4YOc4YOT4YOQ4YOXIOGDpOGDkOGDmOGDmuGDmOGDoSDhg6zhg5Dhg6jhg5rhg5A6ICR7ZmlsZS5maWxlX25hbWV9P2BcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyQ29uZmlybWVkKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kZWxldGUtZmlsZWAsIHtcXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXFxcIlBPU1RcXFwiLFxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJDb250ZW50LVR5cGVcXFwiOiBcXFwiYXBwbGljYXRpb24vanNvblxcXCIsXFxuICAgICAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlTmFtZTogZmlsZS5maWxlX25hbWUgfSksXFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hGb2xkZXJTdHJ1Y3R1cmUoKTtcXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGDhg6Thg5Dhg5jhg5rhg5ggJHtmaWxlLmZpbGVfbmFtZX0g4YOs4YOQ4YOg4YOb4YOQ4YOi4YOU4YOR4YOY4YOXIOGDrOGDkOGDmOGDqOGDkOGDmuGDkC5gKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXFxcIkZhaWxlZCB0byBkZWxldGUgZmlsZS5cXFwiKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXFxcIkVycm9yIGRlbGV0aW5nIGZpbGU6XFxcIiwgZXJyb3IpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0sXFxuXFxuICAgICAgICBoYW5kbGVEZWxldGVFdmVudChldmVudF9pZCkge1xcbiAgICAgICAgICAgIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oXFxuICAgICAgICAgICAgICAgIFxcXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgZXZlbnQ/XFxcIlxcbiAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgaWYgKGlzQ29uZmlybWVkKSB7XFxuICAgICAgICAgICAgICAgIGF4aW9zXFxuICAgICAgICAgICAgICAgICAgICAuZGVsZXRlKGAvY2FsZW5kYXIvZXZlbnRzLyR7ZXZlbnRfaWR9YClcXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiRXZlbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHk6XFxcIixcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YVxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEV2ZW50cygpO1xcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxcXCJFcnJvciBkZWxldGluZyBldmVudDpcXFwiLCBlcnJvcik7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcXFwiRGVsZXRpb24gY2FuY2VsZWRcXFwiKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LFxcbiAgICAgICAgYWRkRXZlbnQoZXZlbnQpIHtcXG4gICAgICAgICAgICB0aGlzLmZldGNoRXZlbnRzKCk7XFxuICAgICAgICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IGZhbHNlO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGZldGNoRXZlbnRzKCkge1xcbiAgICAgICAgICAgIGF4aW9zXFxuICAgICAgICAgICAgICAgIC5nZXQoYC9jYWxlbmRhci9ldmVudHMvcHVyY2hhc2VyLyR7dGhpcy5tb2RlbC5pZH1gKVxcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gcmVzcG9uc2UuZGF0YTtcXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcXFwiRXJyb3IgZmV0Y2hpbmcgZXZlbnRzOlxcXCIsIGVycm9yKTtcXG4gICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICB9LFxcbiAgICB9LFxcbn07XFxuPC9zY3JpcHQ+XFxuPHN0eWxlIHNjb3BlZD5cXG5AaW1wb3J0IFxcXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9zdHlsZS5jc3NcXFwiO1xcblxcbi5jb250YWluZXIuZmlsZXMge1xcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDtcXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcXG59XFxuXFxuLmNhcm91c2VsX19pdGVtIHtcXG4gICAgd2lkdGg6IDQwJTtcXG59XFxuLmNhcm91c2VsX19pdGVtIGltZyB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IGF1dG87XFxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcblxcbi5jYXJvdXNlbF9fdmlld3BvcnQge1xcbiAgICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3NsaWRlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpO1xcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41cywgb3BhY2l0eSAwLjVzO1xcbn1cXG5cXG4uY2Fyb3VzZWxfX3NsaWRlLS1wcmV2LFxcbi5jYXJvdXNlbF9fc2xpZGUtLW5leHQge1xcbiAgICBvcGFjaXR5OiAwLjk7XFxufVxcblxcbi5jYXJvdXNlbF9fc2xpZGUtLWFjdGl2ZSB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcXG59XFxuXFxuLyogT3B0aW9uYWw6IEFkZCBhIGhvdmVyIGVmZmVjdCAqL1xcbi5jYXJvdXNlbF9faXRlbTpob3ZlciBpbWcge1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcXG59XFxuXFxuLm1vZGFsLmZhZGUuc2hvdyB7XFxuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpO1xcbn1cXG4uZnVsbC1zY3JlZW4tbW9kYWwge1xcbiAgICB6LWluZGV4OiA5OTk5O1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmZ1bGwtc2NyZWVuLWltYWdlIHtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uY2xvc2UtYnV0dG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDIwcHg7XFxuICAgIHJpZ2h0OiAyMHB4O1xcbiAgICBmb250LXNpemU6IDI0cHg7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css\n");

/***/ }),

/***/ "./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js ***!
  \******************************************************************************************/
/***/ (function(module) {

eval("/*!\n * FilePondPluginImagePreview 4.6.12\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n   true\n    ? (module.exports = factory())\n    : 0;\n})(this, function() {\n  'use strict';\n\n  // test if file is of type image and can be viewed in canvas\n  var isPreviewableImage = function isPreviewableImage(file) {\n    return /^image/.test(file.type);\n  };\n\n  function _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n      _typeof = function(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function(obj) {\n        return obj &&\n          typeof Symbol === 'function' &&\n          obj.constructor === Symbol &&\n          obj !== Symbol.prototype\n          ? 'symbol'\n          : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE =\n        (typeof Symbol === 'function' &&\n          Symbol.for &&\n          Symbol.for('react.element')) ||\n        0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol === 'function') {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError('Object is not async iterable');\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function(resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n          function(arg) {\n            if (wrappedAwait) {\n              resume('next', arg);\n              return;\n            }\n\n            settle(result.done ? 'return' : 'normal', arg);\n          },\n          function(err) {\n            resume('throw', err);\n          }\n        );\n      } catch (err) {\n        settle('throw', err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case 'return':\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case 'throw':\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== 'function') {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function(arg) {\n    return this._invoke('next', arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function(arg) {\n    return this._invoke('throw', arg);\n  };\n\n  _AsyncGenerator.prototype.return = function(arg) {\n    return this._invoke('return', arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function() {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n      waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function(resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    if (typeof Symbol === 'function' && Symbol.iterator) {\n      iter[Symbol.iterator] = function() {\n        return this;\n      };\n    }\n\n    iter.next = function(value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump('next', value);\n    };\n\n    if (typeof inner.throw === 'function') {\n      iter.throw = function(value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump('throw', value);\n      };\n    }\n\n    if (typeof inner.return === 'function') {\n      iter.return = function(value) {\n        return pump('return', value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function() {\n      var self = this,\n        args = arguments;\n      return new Promise(function(resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(\n            gen,\n            resolve,\n            reject,\n            _next,\n            _throw,\n            'next',\n            value\n          );\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ('value' in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ('value' in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends =\n      Object.assign ||\n      function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(\n          Object.getOwnPropertySymbols(source).filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n          })\n        );\n      }\n\n      ownKeys.forEach(function(key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function');\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n      Object.setPrototypeOf ||\n      function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === 'function') return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf('[native code]') !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== 'function') {\n        throw new TypeError(\n          'Super expression must either be null or a function'\n        );\n      }\n\n      if (typeof _cache !== 'undefined') {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (\n      right != null &&\n      typeof Symbol !== 'undefined' &&\n      right[Symbol.hasInstance]\n    ) {\n      return right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule\n      ? obj\n      : {\n          default: obj\n        };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc =\n              Object.defineProperty && Object.getOwnPropertyDescriptor\n                ? Object.getOwnPropertyDescriptor(obj, key)\n                : {};\n\n            if (desc.get || desc.set) {\n              Object.defineProperty(newObj, key, desc);\n            } else {\n              newObj[key] = obj[key];\n            }\n          }\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError('Cannot instantiate an arrow function');\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError('Cannot destructure undefined');\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\n        \"this hasn't been initialised - super() hasn't been called\"\n      );\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === 'object' || typeof call === 'function')) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(\n      Object.defineProperties(strings, {\n        raw: {\n          value: Object.freeze(raw)\n        }\n      })\n    );\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _temporalRef(val, name) {\n    if (val === _temporalUndefined) {\n      throw new ReferenceError(name + ' is not defined - temporal dead zone');\n    } else {\n      return val;\n    }\n  }\n\n  function _readOnlyError(name) {\n    throw new Error('\"' + name + '\" is read-only');\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error(\n      'Class \"' + name + '\" cannot be referenced in computed property keys.'\n    );\n  }\n\n  var _temporalUndefined = {};\n\n  function _slicedToArray(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimit(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimitLoose(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return (\n      _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    );\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n        arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (\n      Symbol.iterator in Object(iter) ||\n      Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n      return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (\n        var _i = arr[Symbol.iterator](), _s;\n        !(_n = (_s = _i.next()).done);\n        _n = true\n      ) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i['return'] != null) _i['return']();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    var _arr = [];\n\n    for (\n      var _iterator = arr[Symbol.iterator](), _step;\n      !(_step = _iterator.next()).done;\n\n    ) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance');\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError('Invalid attempt to destructure non-iterable instance');\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function() {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== 'object' || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || 'default');\n      if (typeof res !== 'object') return res;\n      throw new TypeError('@@toPrimitive must return a primitive value.');\n    }\n\n    return (hint === 'string' ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, 'string');\n\n    return typeof key === 'symbol' ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error(\n      'Decorating class property failed. Please ensure that ' +\n        'proposal-class-properties is enabled and set to use loose mode. ' +\n        'To use proposal-class-properties in spec mode with decorators, wait for ' +\n        'the next major version of decorators in stage 2.'\n    );\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer\n        ? descriptor.initializer.call(context)\n        : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(\n    target,\n    property,\n    decorators,\n    descriptor,\n    context\n  ) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function(key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators\n      .slice()\n      .reverse()\n      .reduce(function(desc, decorator) {\n        return decorator(target, property, desc) || desc;\n      }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return '__private_' + id++ + '_' + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError('attempted to use private field on non-instance');\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classStaticPrivateFieldSpecGet(\n    receiver,\n    classConstructor,\n    descriptor\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(\n    receiver,\n    classConstructor,\n    descriptor,\n    value\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    if (!descriptor.writable) {\n      throw new TypeError('attempted to set read only private field');\n    }\n\n    descriptor.value = value;\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError('attempted to set read only static private field');\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(\n      _coalesceClassElements(r.d.map(_createElementDescriptor)),\n      decorators\n    );\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [['method'], ['field']],\n      initializeInstanceElements: function(O, elements) {\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            if (element.kind === kind && element.placement === 'own') {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function(F, elements) {\n        var proto = F.prototype;\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            var placement = element.placement;\n\n            if (\n              element.kind === kind &&\n              (placement === 'static' || placement === 'prototype')\n            ) {\n              var receiver = placement === 'static' ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function(receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === 'field') {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function(elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function(element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function(element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(\n            element,\n            placements\n          );\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function(element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError('Duplicated element (' + element.key + ')');\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function(element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (\n          var decorators = element.decorators, i = decorators.length - 1;\n          i >= 0;\n          i--\n        ) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras(\n            (0, decorators[i])(elementObject) || elementObject\n          );\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function(elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor(\n            (0, decorators[i])(obj) || obj\n          );\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (\n                  elements[j].key === elements[k].key &&\n                  elements[j].placement === elements[k].placement\n                ) {\n                  throw new TypeError(\n                    'Duplicated element (' + elements[j].key + ')'\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function(element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === 'field') obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function(elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function(elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(\n            elementObject,\n            'finisher',\n            'An element descriptor'\n          );\n          this.disallowProperty(\n            elementObject,\n            'extras',\n            'An element descriptor'\n          );\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function(elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== 'method' && kind !== 'field') {\n          throw new TypeError(\n            'An element descriptor\\'s .kind property must be either \"method\" or' +\n              ' \"field\", but a decorator created an element descriptor with' +\n              ' .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (\n          placement !== 'static' &&\n          placement !== 'prototype' &&\n          placement !== 'own'\n        ) {\n          throw new TypeError(\n            'An element descriptor\\'s .placement property must be one of \"static\",' +\n              ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n              ' with .placement \"' +\n              placement +\n              '\"'\n          );\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(\n          elementObject,\n          'elements',\n          'An element descriptor'\n        );\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== 'field') {\n          this.disallowProperty(\n            elementObject,\n            'initializer',\n            'A method descriptor'\n          );\n        } else {\n          this.disallowProperty(\n            descriptor,\n            'get',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'set',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'value',\n            'The property descriptor of a field descriptor'\n          );\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function(elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function(elements) {\n        var obj = {\n          kind: 'class',\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function(obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== 'class') {\n          throw new TypeError(\n            'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n              ' created a class descriptor with .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        this.disallowProperty(obj, 'key', 'A class descriptor');\n        this.disallowProperty(obj, 'placement', 'A class descriptor');\n        this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n        this.disallowProperty(obj, 'initializer', 'A class descriptor');\n        this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n        var finisher = _optionalCallableProperty(obj, 'finisher');\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function(constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== 'function') {\n              throw new TypeError('Finishers must return a constructor.');\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(\n            objectType + \" can't have a .\" + name + ' property.'\n          );\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === 'method') {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'get') {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'set') {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'field') {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === 'field' ? 'field' : 'method',\n      key: key,\n      placement: def.static\n        ? 'static'\n        : def.kind === 'field'\n        ? 'own'\n        : 'prototype',\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === 'field') element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function(other) {\n      return (\n        other.kind === 'method' &&\n        other.key === element.key &&\n        other.placement === element.placement\n      );\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (\n        element.kind === 'method' &&\n        (other = newElements.find(isSameElement))\n      ) {\n        if (\n          _isDataDescriptor(element.descriptor) ||\n          _isDataDescriptor(other.descriptor)\n        ) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\n              'Duplicated methods (' + element.key + \") can't be decorated.\"\n            );\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\n                \"Decorators can't be placed on different accessors with for \" +\n                  'the same property (' +\n                  element.key +\n                  ').'\n              );\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return (\n      desc !== undefined &&\n      !(desc.value === undefined && desc.writable === undefined)\n    );\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== 'function') {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError('attempted to reassign private method');\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function(re, groups) {\n      return new BabelRegExp(re, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, groups) {\n      var _this = _RegExp.call(this, re);\n\n      _groups.set(_this, groups);\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function(str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n      if (typeof substitution === 'string') {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n            return '$' + groups[name];\n          })\n        );\n      } else if (typeof substitution === 'function') {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function() {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== 'object') {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function(groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  var vectorMultiply = function vectorMultiply(v, amount) {\n    return createVector(v.x * amount, v.y * amount);\n  };\n\n  var vectorAdd = function vectorAdd(a, b) {\n    return createVector(a.x + b.x, a.y + b.y);\n  };\n\n  var vectorNormalize = function vectorNormalize(v) {\n    var l = Math.sqrt(v.x * v.x + v.y * v.y);\n    if (l === 0) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n    return createVector(v.x / l, v.y / l);\n  };\n\n  var vectorRotate = function vectorRotate(v, radians, origin) {\n    var cos = Math.cos(radians);\n    var sin = Math.sin(radians);\n    var t = createVector(v.x - origin.x, v.y - origin.y);\n    return createVector(\n      origin.x + cos * t.x - sin * t.y,\n      origin.y + sin * t.x + cos * t.y\n    );\n  };\n\n  var createVector = function createVector() {\n    var x =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return { x: x, y: y };\n  };\n\n  var getMarkupValue = function getMarkupValue(value, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var axis = arguments.length > 3 ? arguments[3] : undefined;\n    if (typeof value === 'string') {\n      return parseFloat(value) * scalar;\n    }\n    if (typeof value === 'number') {\n      return value * (axis ? size[axis] : Math.min(size.width, size.height));\n    }\n    return;\n  };\n\n  var getMarkupStyles = function getMarkupStyles(markup, size, scale) {\n    var lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n    var fill = markup.backgroundColor || markup.fontColor || 'transparent';\n    var stroke = markup.borderColor || markup.lineColor || 'transparent';\n    var strokeWidth = getMarkupValue(\n      markup.borderWidth || markup.lineWidth,\n      size,\n      scale\n    );\n    var lineCap = markup.lineCap || 'round';\n    var lineJoin = markup.lineJoin || 'round';\n    var dashes =\n      typeof lineStyle === 'string'\n        ? ''\n        : lineStyle\n            .map(function(v) {\n              return getMarkupValue(v, size, scale);\n            })\n            .join(',');\n    var opacity = markup.opacity || 1;\n    return {\n      'stroke-linecap': lineCap,\n      'stroke-linejoin': lineJoin,\n      'stroke-width': strokeWidth || 0,\n      'stroke-dasharray': dashes,\n      stroke: stroke,\n      fill: fill,\n      opacity: opacity\n    };\n  };\n\n  var isDefined = function isDefined(value) {\n    return value != null;\n  };\n\n  var getMarkupRect = function getMarkupRect(rect, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var left =\n      getMarkupValue(rect.x, size, scalar, 'width') ||\n      getMarkupValue(rect.left, size, scalar, 'width');\n    var top =\n      getMarkupValue(rect.y, size, scalar, 'height') ||\n      getMarkupValue(rect.top, size, scalar, 'height');\n    var width = getMarkupValue(rect.width, size, scalar, 'width');\n    var height = getMarkupValue(rect.height, size, scalar, 'height');\n    var right = getMarkupValue(rect.right, size, scalar, 'width');\n    var bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n    if (!isDefined(top)) {\n      if (isDefined(height) && isDefined(bottom)) {\n        top = size.height - height - bottom;\n      } else {\n        top = bottom;\n      }\n    }\n\n    if (!isDefined(left)) {\n      if (isDefined(width) && isDefined(right)) {\n        left = size.width - width - right;\n      } else {\n        left = right;\n      }\n    }\n\n    if (!isDefined(width)) {\n      if (isDefined(left) && isDefined(right)) {\n        width = size.width - left - right;\n      } else {\n        width = 0;\n      }\n    }\n\n    if (!isDefined(height)) {\n      if (isDefined(top) && isDefined(bottom)) {\n        height = size.height - top - bottom;\n      } else {\n        height = 0;\n      }\n    }\n\n    return {\n      x: left || 0,\n      y: top || 0,\n      width: width || 0,\n      height: height || 0\n    };\n  };\n\n  var pointsToPathShape = function pointsToPathShape(points) {\n    return points\n      .map(function(point, index) {\n        return ''\n          .concat(index === 0 ? 'M' : 'L', ' ')\n          .concat(point.x, ' ')\n          .concat(point.y);\n      })\n      .join(' ');\n  };\n\n  var setAttributes = function setAttributes(element, attr) {\n    return Object.keys(attr).forEach(function(key) {\n      return element.setAttribute(key, attr[key]);\n    });\n  };\n\n  var ns = 'http://www.w3.org/2000/svg';\n  var svg = function svg(tag, attr) {\n    var element = document.createElementNS(ns, tag);\n    if (attr) {\n      setAttributes(element, attr);\n    }\n    return element;\n  };\n\n  var updateRect = function updateRect(element) {\n    return setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles)\n    );\n  };\n\n  var updateEllipse = function updateEllipse(element) {\n    var cx = element.rect.x + element.rect.width * 0.5;\n    var cy = element.rect.y + element.rect.height * 0.5;\n    var rx = element.rect.width * 0.5;\n    var ry = element.rect.height * 0.5;\n    return setAttributes(\n      element,\n      Object.assign(\n        {\n          cx: cx,\n          cy: cy,\n          rx: rx,\n          ry: ry\n        },\n        element.styles\n      )\n    );\n  };\n\n  var IMAGE_FIT_STYLE = {\n    contain: 'xMidYMid meet',\n    cover: 'xMidYMid slice'\n  };\n\n  var updateImage = function updateImage(element, markup) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n      })\n    );\n  };\n\n  var TEXT_ANCHOR = {\n    left: 'start',\n    center: 'middle',\n    right: 'end'\n  };\n\n  var updateText = function updateText(element, markup, size, scale) {\n    var fontSize = getMarkupValue(markup.fontSize, size, scale);\n    var fontFamily = markup.fontFamily || 'sans-serif';\n    var fontWeight = markup.fontWeight || 'normal';\n    var textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        'stroke-width': 0,\n        'font-weight': fontWeight,\n        'font-size': fontSize,\n        'font-family': fontFamily,\n        'text-anchor': textAlign\n      })\n    );\n\n    // update text\n    if (element.text !== markup.text) {\n      element.text = markup.text;\n      element.textContent = markup.text.length ? markup.text : ' ';\n    }\n  };\n\n  var updateLine = function updateLine(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        fill: 'none'\n      })\n    );\n\n    var line = element.childNodes[0];\n    var begin = element.childNodes[1];\n    var end = element.childNodes[2];\n\n    var origin = element.rect;\n\n    var target = {\n      x: element.rect.x + element.rect.width,\n      y: element.rect.y + element.rect.height\n    };\n\n    setAttributes(line, {\n      x1: origin.x,\n      y1: origin.y,\n      x2: target.x,\n      y2: target.y\n    });\n\n    if (!markup.lineDecoration) return;\n\n    begin.style.display = 'none';\n    end.style.display = 'none';\n\n    var v = vectorNormalize({\n      x: target.x - origin.x,\n      y: target.y - origin.y\n    });\n\n    var l = getMarkupValue(0.05, size, scale);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n      var arrowBeginRotationPoint = vectorMultiply(v, l);\n      var arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n      var arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n      var arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n      setAttributes(begin, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowBeginA.x, ',')\n          .concat(arrowBeginA.y, ' L')\n          .concat(origin.x, ',')\n          .concat(origin.y, ' L')\n          .concat(arrowBeginB.x, ',')\n          .concat(arrowBeginB.y)\n      });\n    }\n\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n      var arrowEndRotationPoint = vectorMultiply(v, -l);\n      var arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n      var arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n      var arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n      setAttributes(end, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowEndA.x, ',')\n          .concat(arrowEndA.y, ' L')\n          .concat(target.x, ',')\n          .concat(target.y, ' L')\n          .concat(arrowEndB.x, ',')\n          .concat(arrowEndB.y)\n      });\n    }\n  };\n\n  var updatePath = function updatePath(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.styles, {\n        fill: 'none',\n        d: pointsToPathShape(\n          markup.points.map(function(point) {\n            return {\n              x: getMarkupValue(point.x, size, scale, 'width'),\n              y: getMarkupValue(point.y, size, scale, 'height')\n            };\n          })\n        )\n      })\n    );\n  };\n\n  var createShape = function createShape(node) {\n    return function(markup) {\n      return svg(node, { id: markup.id });\n    };\n  };\n\n  var createImage = function createImage(markup) {\n    var shape = svg('image', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round',\n      opacity: '0'\n    });\n\n    shape.onload = function() {\n      shape.setAttribute('opacity', markup.opacity || 1);\n    };\n    shape.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      markup.src\n    );\n    return shape;\n  };\n\n  var createLine = function createLine(markup) {\n    var shape = svg('g', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round'\n    });\n\n    var line = svg('line');\n    shape.appendChild(line);\n\n    var begin = svg('path');\n    shape.appendChild(begin);\n\n    var end = svg('path');\n    shape.appendChild(end);\n\n    return shape;\n  };\n\n  var CREATE_TYPE_ROUTES = {\n    image: createImage,\n    rect: createShape('rect'),\n    ellipse: createShape('ellipse'),\n    text: createShape('text'),\n    path: createShape('path'),\n    line: createLine\n  };\n\n  var UPDATE_TYPE_ROUTES = {\n    rect: updateRect,\n    ellipse: updateEllipse,\n    image: updateImage,\n    text: updateText,\n    path: updatePath,\n    line: updateLine\n  };\n\n  var createMarkupByType = function createMarkupByType(type, markup) {\n    return CREATE_TYPE_ROUTES[type](markup);\n  };\n\n  var updateMarkupByType = function updateMarkupByType(\n    element,\n    type,\n    markup,\n    size,\n    scale\n  ) {\n    if (type !== 'path') {\n      element.rect = getMarkupRect(markup, size, scale);\n    }\n    element.styles = getMarkupStyles(markup, size, scale);\n    UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n  };\n\n  var MARKUP_RECT = [\n    'x',\n    'y',\n    'left',\n    'top',\n    'right',\n    'bottom',\n    'width',\n    'height'\n  ];\n\n  var toOptionalFraction = function toOptionalFraction(value) {\n    return typeof value === 'string' && /%/.test(value)\n      ? parseFloat(value) / 100\n      : value;\n  };\n\n  // adds default markup properties, clones markup\n  var prepareMarkup = function prepareMarkup(markup) {\n    var _markup = _slicedToArray(markup, 2),\n      type = _markup[0],\n      props = _markup[1];\n\n    var rect = props.points\n      ? {}\n      : MARKUP_RECT.reduce(function(prev, curr) {\n          prev[curr] = toOptionalFraction(props[curr]);\n          return prev;\n        }, {});\n\n    return [\n      type,\n      Object.assign(\n        {\n          zIndex: 0\n        },\n        props,\n        rect\n      )\n    ];\n  };\n\n  var sortMarkupByZIndex = function sortMarkupByZIndex(a, b) {\n    if (a[1].zIndex > b[1].zIndex) {\n      return 1;\n    }\n    if (a[1].zIndex < b[1].zIndex) {\n      return -1;\n    }\n    return 0;\n  };\n\n  var createMarkupView = function createMarkupView(_) {\n    return _.utils.createView({\n      name: 'image-preview-markup',\n      tag: 'svg',\n      ignoreRect: true,\n      mixins: {\n        apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n      },\n\n      write: function write(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n\n        if (!props.dirty) return;\n        var crop = props.crop,\n          resize = props.resize,\n          markup = props.markup;\n\n        var viewWidth = props.width;\n        var viewHeight = props.height;\n\n        var cropWidth = crop.width;\n        var cropHeight = crop.height;\n\n        if (resize) {\n          var _size = resize.size;\n\n          var outputWidth = _size && _size.width;\n          var outputHeight = _size && _size.height;\n          var outputFit = resize.mode;\n          var outputUpscale = resize.upscale;\n\n          if (outputWidth && !outputHeight) outputHeight = outputWidth;\n          if (outputHeight && !outputWidth) outputWidth = outputHeight;\n\n          var shouldUpscale =\n            cropWidth < outputWidth && cropHeight < outputHeight;\n\n          if (!shouldUpscale || (shouldUpscale && outputUpscale)) {\n            var scalarWidth = outputWidth / cropWidth;\n            var scalarHeight = outputHeight / cropHeight;\n\n            if (outputFit === 'force') {\n              cropWidth = outputWidth;\n              cropHeight = outputHeight;\n            } else {\n              var scalar;\n              if (outputFit === 'cover') {\n                scalar = Math.max(scalarWidth, scalarHeight);\n              } else if (outputFit === 'contain') {\n                scalar = Math.min(scalarWidth, scalarHeight);\n              }\n              cropWidth = cropWidth * scalar;\n              cropHeight = cropHeight * scalar;\n            }\n          }\n        }\n\n        var size = {\n          width: viewWidth,\n          height: viewHeight\n        };\n\n        root.element.setAttribute('width', size.width);\n        root.element.setAttribute('height', size.height);\n\n        var scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);\n\n        // clear\n        root.element.innerHTML = '';\n\n        // get filter\n        var markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER');\n\n        // draw new\n        markup\n          .filter(markupFilter)\n          .map(prepareMarkup)\n          .sort(sortMarkupByZIndex)\n          .forEach(function(markup) {\n            var _markup = _slicedToArray(markup, 2),\n              type = _markup[0],\n              settings = _markup[1];\n\n            // create\n            var element = createMarkupByType(type, settings);\n\n            // update\n            updateMarkupByType(element, type, settings, size, scale);\n\n            // add\n            root.element.appendChild(element);\n          });\n      }\n    });\n  };\n\n  var createVector$1 = function createVector(x, y) {\n    return { x: x, y: y };\n  };\n\n  var vectorDot = function vectorDot(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n\n  var vectorSubtract = function vectorSubtract(a, b) {\n    return createVector$1(a.x - b.x, a.y - b.y);\n  };\n\n  var vectorDistanceSquared = function vectorDistanceSquared(a, b) {\n    return vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n  };\n\n  var vectorDistance = function vectorDistance(a, b) {\n    return Math.sqrt(vectorDistanceSquared(a, b));\n  };\n\n  var getOffsetPointOnEdge = function getOffsetPointOnEdge(length, rotation) {\n    var a = length;\n\n    var A = 1.5707963267948966;\n    var B = rotation;\n    var C = 1.5707963267948966 - rotation;\n\n    var sinA = Math.sin(A);\n    var sinB = Math.sin(B);\n    var sinC = Math.sin(C);\n    var cosC = Math.cos(C);\n    var ratio = a / sinA;\n    var b = ratio * sinB;\n    var c = ratio * sinC;\n\n    return createVector$1(cosC * b, cosC * c);\n  };\n\n  var getRotatedRectSize = function getRotatedRectSize(rect, rotation) {\n    var w = rect.width;\n    var h = rect.height;\n\n    var hor = getOffsetPointOnEdge(w, rotation);\n    var ver = getOffsetPointOnEdge(h, rotation);\n\n    var tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n    var tr = createVector$1(\n      rect.x + rect.width + Math.abs(ver.y),\n      rect.y + Math.abs(ver.x)\n    );\n\n    var bl = createVector$1(\n      rect.x - Math.abs(ver.y),\n      rect.y + rect.height - Math.abs(ver.x)\n    );\n\n    return {\n      width: vectorDistance(tl, tr),\n      height: vectorDistance(tl, bl)\n    };\n  };\n\n  var calculateCanvasSize = function calculateCanvasSize(\n    image,\n    canvasAspectRatio\n  ) {\n    var zoom =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var imageAspectRatio = image.height / image.width;\n\n    // determine actual pixels on x and y axis\n    var canvasWidth = 1;\n    var canvasHeight = canvasAspectRatio;\n    var imgWidth = 1;\n    var imgHeight = imageAspectRatio;\n    if (imgHeight > canvasHeight) {\n      imgHeight = canvasHeight;\n      imgWidth = imgHeight / imageAspectRatio;\n    }\n\n    var scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n    var width = image.width / (zoom * scalar * imgWidth);\n    var height = width * canvasAspectRatio;\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n\n  var getImageRectZoomFactor = function getImageRectZoomFactor(\n    imageRect,\n    cropRect,\n    rotation,\n    center\n  ) {\n    // calculate available space round image center position\n    var cx = center.x > 0.5 ? 1 - center.x : center.x;\n    var cy = center.y > 0.5 ? 1 - center.y : center.y;\n    var imageWidth = cx * 2 * imageRect.width;\n    var imageHeight = cy * 2 * imageRect.height;\n\n    // calculate rotated crop rectangle size\n    var rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n    // calculate scalar required to fit image\n    return Math.max(\n      rotatedCropSize.width / imageWidth,\n      rotatedCropSize.height / imageHeight\n    );\n  };\n\n  var getCenteredCropRect = function getCenteredCropRect(\n    container,\n    aspectRatio\n  ) {\n    var width = container.width;\n    var height = width * aspectRatio;\n    if (height > container.height) {\n      height = container.height;\n      width = height / aspectRatio;\n    }\n    var x = (container.width - width) * 0.5;\n    var y = (container.height - height) * 0.5;\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n\n  var getCurrentCropSize = function getCurrentCropSize(imageSize) {\n    var crop =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var zoom = crop.zoom,\n      rotation = crop.rotation,\n      center = crop.center,\n      aspectRatio = crop.aspectRatio;\n\n    if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n\n    var canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n    var canvasCenter = {\n      x: canvasSize.width * 0.5,\n      y: canvasSize.height * 0.5\n    };\n\n    var stage = {\n      x: 0,\n      y: 0,\n      width: canvasSize.width,\n      height: canvasSize.height,\n      center: canvasCenter\n    };\n\n    var shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n    var stageZoomFactor = getImageRectZoomFactor(\n      imageSize,\n      getCenteredCropRect(stage, aspectRatio),\n      rotation,\n      shouldLimit ? center : { x: 0.5, y: 0.5 }\n    );\n\n    var scale = zoom * stageZoomFactor;\n\n    // start drawing\n    return {\n      widthFloat: canvasSize.width / scale,\n      heightFloat: canvasSize.height / scale,\n      width: Math.round(canvasSize.width / scale),\n      height: Math.round(canvasSize.height / scale)\n    };\n  };\n\n  var IMAGE_SCALE_SPRING_PROPS = {\n    type: 'spring',\n    stiffness: 0.5,\n    damping: 0.45,\n    mass: 10\n  };\n\n  // does horizontal and vertical flipping\n  var createBitmapView = function createBitmapView(_) {\n    return _.utils.createView({\n      name: 'image-bitmap',\n      ignoreRect: true,\n      mixins: { styles: ['scaleX', 'scaleY'] },\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        root.appendChild(props.image);\n      }\n    });\n  };\n\n  // shifts and rotates image\n  var createImageCanvasWrapper = function createImageCanvasWrapper(_) {\n    return _.utils.createView({\n      name: 'image-canvas-wrapper',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['crop', 'width', 'height'],\n\n        styles: [\n          'originX',\n          'originY',\n          'translateX',\n          'translateY',\n          'scaleX',\n          'scaleY',\n          'rotateZ'\n        ],\n\n        animations: {\n          originX: IMAGE_SCALE_SPRING_PROPS,\n          originY: IMAGE_SCALE_SPRING_PROPS,\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateX: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          rotateZ: IMAGE_SCALE_SPRING_PROPS\n        }\n      },\n\n      create: function create(_ref2) {\n        var root = _ref2.root,\n          props = _ref2.props;\n        props.width = props.image.width;\n        props.height = props.image.height;\n        root.ref.bitmap = root.appendChildView(\n          root.createChildView(createBitmapView(_), { image: props.image })\n        );\n      },\n      write: function write(_ref3) {\n        var root = _ref3.root,\n          props = _ref3.props;\n        var flip = props.crop.flip;\n        var bitmap = root.ref.bitmap;\n        bitmap.scaleX = flip.horizontal ? -1 : 1;\n        bitmap.scaleY = flip.vertical ? -1 : 1;\n      }\n    });\n  };\n\n  // clips canvas to correct aspect ratio\n  var createClipView = function createClipView(_) {\n    return _.utils.createView({\n      name: 'image-clip',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: [\n          'crop',\n          'markup',\n          'resize',\n          'width',\n          'height',\n          'dirty',\n          'background'\n        ],\n\n        styles: ['width', 'height', 'opacity'],\n        animations: {\n          opacity: { type: 'tween', duration: 250 }\n        }\n      },\n\n      didWriteView: function didWriteView(_ref4) {\n        var root = _ref4.root,\n          props = _ref4.props;\n        if (!props.background) return;\n        root.element.style.backgroundColor = props.background;\n      },\n      create: function create(_ref5) {\n        var root = _ref5.root,\n          props = _ref5.props;\n\n        root.ref.image = root.appendChildView(\n          root.createChildView(\n            createImageCanvasWrapper(_),\n            Object.assign({}, props)\n          )\n        );\n\n        root.ref.createMarkup = function() {\n          if (root.ref.markup) return;\n          root.ref.markup = root.appendChildView(\n            root.createChildView(createMarkupView(_), Object.assign({}, props))\n          );\n        };\n\n        root.ref.destroyMarkup = function() {\n          if (!root.ref.markup) return;\n          root.removeChildView(root.ref.markup);\n          root.ref.markup = null;\n        };\n\n        // set up transparency grid\n        var transparencyIndicator = root.query(\n          'GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR'\n        );\n        if (transparencyIndicator === null) return;\n\n        // grid pattern\n        if (transparencyIndicator === 'grid') {\n          root.element.dataset.transparencyIndicator = transparencyIndicator;\n        }\n        // basic color\n        else {\n          root.element.dataset.transparencyIndicator = 'color';\n        }\n      },\n      write: function write(_ref6) {\n        var root = _ref6.root,\n          props = _ref6.props,\n          shouldOptimize = _ref6.shouldOptimize;\n        var crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty,\n          width = props.width,\n          height = props.height;\n\n        root.ref.image.crop = crop;\n\n        var stage = {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height,\n          center: {\n            x: width * 0.5,\n            y: height * 0.5\n          }\n        };\n\n        var image = {\n          width: root.ref.image.width,\n          height: root.ref.image.height\n        };\n\n        var origin = {\n          x: crop.center.x * image.width,\n          y: crop.center.y * image.height\n        };\n\n        var translation = {\n          x: stage.center.x - image.width * crop.center.x,\n          y: stage.center.y - image.height * crop.center.y\n        };\n\n        var rotation = Math.PI * 2 + (crop.rotation % (Math.PI * 2));\n\n        var cropAspectRatio = crop.aspectRatio || image.height / image.width;\n\n        var shouldLimit =\n          typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n        var stageZoomFactor = getImageRectZoomFactor(\n          image,\n          getCenteredCropRect(stage, cropAspectRatio),\n\n          rotation,\n          shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n        );\n\n        var scale = crop.zoom * stageZoomFactor;\n\n        // update markup view\n        if (markup && markup.length) {\n          root.ref.createMarkup();\n          root.ref.markup.width = width;\n          root.ref.markup.height = height;\n          root.ref.markup.resize = resize;\n          root.ref.markup.dirty = dirty;\n          root.ref.markup.markup = markup;\n          root.ref.markup.crop = getCurrentCropSize(image, crop);\n        } else if (root.ref.markup) {\n          root.ref.destroyMarkup();\n        }\n\n        // update image view\n        var imageView = root.ref.image;\n\n        // don't update clip layout\n        if (shouldOptimize) {\n          imageView.originX = null;\n          imageView.originY = null;\n          imageView.translateX = null;\n          imageView.translateY = null;\n          imageView.rotateZ = null;\n          imageView.scaleX = null;\n          imageView.scaleY = null;\n          return;\n        }\n\n        imageView.originX = origin.x;\n        imageView.originY = origin.y;\n        imageView.translateX = translation.x;\n        imageView.translateY = translation.y;\n        imageView.rotateZ = rotation;\n        imageView.scaleX = scale;\n        imageView.scaleY = scale;\n      }\n    });\n  };\n\n  var createImageView = function createImageView(_) {\n    return _.utils.createView({\n      name: 'image-preview',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n\n        styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n\n        animations: {\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          opacity: { type: 'tween', duration: 400 }\n        }\n      },\n\n      create: function create(_ref7) {\n        var root = _ref7.root,\n          props = _ref7.props;\n        root.ref.clip = root.appendChildView(\n          root.createChildView(createClipView(_), {\n            id: props.id,\n            image: props.image,\n            crop: props.crop,\n            markup: props.markup,\n            resize: props.resize,\n            dirty: props.dirty,\n            background: props.background\n          })\n        );\n      },\n      write: function write(_ref8) {\n        var root = _ref8.root,\n          props = _ref8.props,\n          shouldOptimize = _ref8.shouldOptimize;\n        var clip = root.ref.clip;\n        var image = props.image,\n          crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty;\n\n        clip.crop = crop;\n        clip.markup = markup;\n        clip.resize = resize;\n        clip.dirty = dirty;\n\n        // don't update clip layout\n        clip.opacity = shouldOptimize ? 0 : 1;\n\n        // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n        if (shouldOptimize || root.rect.element.hidden) return;\n\n        // calculate scaled preview image size\n        var imageAspectRatio = image.height / image.width;\n        var aspectRatio = crop.aspectRatio || imageAspectRatio;\n\n        // calculate container size\n        var containerWidth = root.rect.inner.width;\n        var containerHeight = root.rect.inner.height;\n\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n        if (panelAspectRatio && !allowMultiple) {\n          fixedPreviewHeight = containerWidth * panelAspectRatio;\n          aspectRatio = panelAspectRatio;\n        }\n\n        // determine clip width and height\n        var clipHeight =\n          fixedPreviewHeight !== null\n            ? fixedPreviewHeight\n            : Math.max(\n                minPreviewHeight,\n                Math.min(containerWidth * aspectRatio, maxPreviewHeight)\n              );\n\n        var clipWidth = clipHeight / aspectRatio;\n        if (clipWidth > containerWidth) {\n          clipWidth = containerWidth;\n          clipHeight = clipWidth * aspectRatio;\n        }\n\n        if (clipHeight > containerHeight) {\n          clipHeight = containerHeight;\n          clipWidth = containerHeight / aspectRatio;\n        }\n\n        clip.width = clipWidth;\n        clip.height = clipHeight;\n      }\n    });\n  };\n\n  var SVG_MASK =\n    '<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\\n    <defs>\\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\\n            <stop offset=\\'50%\\' stop-color=\\'#000000\\'/>\\n            <stop offset=\\'56%\\' stop-color=\\'#0a0a0a\\'/>\\n            <stop offset=\\'63%\\' stop-color=\\'#262626\\'/>\\n            <stop offset=\\'69%\\' stop-color=\\'#4f4f4f\\'/>\\n            <stop offset=\\'75%\\' stop-color=\\'#808080\\'/>\\n            <stop offset=\\'81%\\' stop-color=\\'#b1b1b1\\'/>\\n            <stop offset=\\'88%\\' stop-color=\\'#dadada\\'/>\\n            <stop offset=\\'94%\\' stop-color=\\'#f6f6f6\\'/>\\n            <stop offset=\\'100%\\' stop-color=\\'#ffffff\\'/>\\n        </radialGradient>\\n        <mask id=\"mask-__UID__\">\\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\\n        </mask>\\n    </defs>\\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\\n</svg>';\n\n  var SVGMaskUniqueId = 0;\n\n  var createImageOverlayView = function createImageOverlayView(fpAPI) {\n    return fpAPI.utils.createView({\n      name: 'image-preview-overlay',\n      tag: 'div',\n      ignoreRect: true,\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var mask = SVG_MASK;\n        if (document.querySelector('base')) {\n          var url = new URL(\n            window.location.href.replace(window.location.hash, '')\n          ).href;\n          mask = mask.replace(/url\\(\\#/g, 'url(' + url + '#');\n        }\n\n        SVGMaskUniqueId++;\n        root.element.classList.add(\n          'filepond--image-preview-overlay-'.concat(props.status)\n        );\n\n        root.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);\n      },\n      mixins: {\n        styles: ['opacity'],\n        animations: {\n          opacity: { type: 'spring', mass: 25 }\n        }\n      }\n    });\n  };\n\n  /**\n   * Bitmap Worker\n   */\n  var BitmapWorker = function BitmapWorker() {\n    self.onmessage = function(e) {\n      createImageBitmap(e.data.message.file).then(function(bitmap) {\n        self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);\n      });\n    };\n  };\n\n  /**\n   * ColorMatrix Worker\n   */\n  var ColorMatrixWorker = function ColorMatrixWorker() {\n    self.onmessage = function(e) {\n      var imageData = e.data.message.imageData;\n      var matrix = e.data.message.colorMatrix;\n\n      var data = imageData.data;\n      var l = data.length;\n\n      var m11 = matrix[0];\n      var m12 = matrix[1];\n      var m13 = matrix[2];\n      var m14 = matrix[3];\n      var m15 = matrix[4];\n\n      var m21 = matrix[5];\n      var m22 = matrix[6];\n      var m23 = matrix[7];\n      var m24 = matrix[8];\n      var m25 = matrix[9];\n\n      var m31 = matrix[10];\n      var m32 = matrix[11];\n      var m33 = matrix[12];\n      var m34 = matrix[13];\n      var m35 = matrix[14];\n\n      var m41 = matrix[15];\n      var m42 = matrix[16];\n      var m43 = matrix[17];\n      var m44 = matrix[18];\n      var m45 = matrix[19];\n\n      var index = 0,\n        r = 0.0,\n        g = 0.0,\n        b = 0.0,\n        a = 0.0;\n\n      for (; index < l; index += 4) {\n        r = data[index] / 255;\n        g = data[index + 1] / 255;\n        b = data[index + 2] / 255;\n        a = data[index + 3] / 255;\n        data[index] = Math.max(\n          0,\n          Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)\n        );\n        data[index + 1] = Math.max(\n          0,\n          Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)\n        );\n        data[index + 2] = Math.max(\n          0,\n          Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)\n        );\n        data[index + 3] = Math.max(\n          0,\n          Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)\n        );\n      }\n\n      self.postMessage({ id: e.data.id, message: imageData }, [\n        imageData.data.buffer\n      ]);\n    };\n  };\n\n  var getImageSize = function getImageSize(url, cb) {\n    var image = new Image();\n    image.onload = function() {\n      var width = image.naturalWidth;\n      var height = image.naturalHeight;\n      image = null;\n      cb(width, height);\n    };\n    image.src = url;\n  };\n\n  var transforms = {\n    1: function _() {\n      return [1, 0, 0, 1, 0, 0];\n    },\n    2: function _(width) {\n      return [-1, 0, 0, 1, width, 0];\n    },\n    3: function _(width, height) {\n      return [-1, 0, 0, -1, width, height];\n    },\n    4: function _(width, height) {\n      return [1, 0, 0, -1, 0, height];\n    },\n    5: function _() {\n      return [0, 1, 1, 0, 0, 0];\n    },\n    6: function _(width, height) {\n      return [0, 1, -1, 0, height, 0];\n    },\n    7: function _(width, height) {\n      return [0, -1, -1, 0, height, width];\n    },\n    8: function _(width) {\n      return [0, -1, 1, 0, 0, width];\n    }\n  };\n\n  var fixImageOrientation = function fixImageOrientation(\n    ctx,\n    width,\n    height,\n    orientation\n  ) {\n    // no orientation supplied\n    if (orientation === -1) {\n      return;\n    }\n\n    ctx.transform.apply(ctx, transforms[orientation](width, height));\n  };\n\n  // draws the preview image to canvas\n  var createPreviewImage = function createPreviewImage(\n    data,\n    width,\n    height,\n    orientation\n  ) {\n    // can't draw on half pixels\n    width = Math.round(width);\n    height = Math.round(height);\n\n    // draw image\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext('2d');\n\n    // if is rotated incorrectly swap width and height\n    if (orientation >= 5 && orientation <= 8) {\n      var _ref = [height, width];\n      width = _ref[0];\n      height = _ref[1];\n    }\n\n    // correct image orientation\n    fixImageOrientation(ctx, width, height, orientation);\n\n    // draw the image\n    ctx.drawImage(data, 0, 0, width, height);\n\n    return canvas;\n  };\n\n  var isBitmap = function isBitmap(file) {\n    return /^image/.test(file.type) && !/svg/.test(file.type);\n  };\n\n  var MAX_WIDTH = 10;\n  var MAX_HEIGHT = 10;\n\n  var calculateAverageColor = function calculateAverageColor(image) {\n    var scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var width = (canvas.width = Math.ceil(image.width * scalar));\n    var height = (canvas.height = Math.ceil(image.height * scalar));\n    ctx.drawImage(image, 0, 0, width, height);\n    var data = null;\n    try {\n      data = ctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      return null;\n    }\n    var l = data.length;\n\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var i = 0;\n\n    for (; i < l; i += 4) {\n      r += data[i] * data[i];\n      g += data[i + 1] * data[i + 1];\n      b += data[i + 2] * data[i + 2];\n    }\n\n    r = averageColor(r, l);\n    g = averageColor(g, l);\n    b = averageColor(b, l);\n\n    return { r: r, g: g, b: b };\n  };\n\n  var averageColor = function averageColor(c, l) {\n    return Math.floor(Math.sqrt(c / (l / 4)));\n  };\n\n  var cloneCanvas = function cloneCanvas(origin, target) {\n    target = target || document.createElement('canvas');\n    target.width = origin.width;\n    target.height = origin.height;\n    var ctx = target.getContext('2d');\n    ctx.drawImage(origin, 0, 0);\n    return target;\n  };\n\n  var cloneImageData = function cloneImageData(imageData) {\n    var id;\n    try {\n      id = new ImageData(imageData.width, imageData.height);\n    } catch (e) {\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      id = ctx.createImageData(imageData.width, imageData.height);\n    }\n    id.data.set(new Uint8ClampedArray(imageData.data));\n    return id;\n  };\n\n  var loadImage = function loadImage(url) {\n    return new Promise(function(resolve, reject) {\n      var img = new Image();\n      img.crossOrigin = 'Anonymous';\n      img.onload = function() {\n        resolve(img);\n      };\n      img.onerror = function(e) {\n        reject(e);\n      };\n      img.src = url;\n    });\n  };\n\n  var createImageWrapperView = function createImageWrapperView(_) {\n    // create overlay view\n    var OverlayView = createImageOverlayView(_);\n\n    var ImageView = createImageView(_);\n    var createWorker = _.utils.createWorker;\n\n    var applyFilter = function applyFilter(root, filter, target) {\n      return new Promise(function(resolve) {\n        // will store image data for future filter updates\n        if (!root.ref.imageData) {\n          root.ref.imageData = target\n            .getContext('2d')\n            .getImageData(0, 0, target.width, target.height);\n        }\n\n        // get image data reference\n        var imageData = cloneImageData(root.ref.imageData);\n\n        if (!filter || filter.length !== 20) {\n          target.getContext('2d').putImageData(imageData, 0, 0);\n          return resolve();\n        }\n\n        var worker = createWorker(ColorMatrixWorker);\n        worker.post(\n          {\n            imageData: imageData,\n            colorMatrix: filter\n          },\n\n          function(response) {\n            // apply filtered colors\n            target.getContext('2d').putImageData(response, 0, 0);\n\n            // stop worker\n            worker.terminate();\n\n            // done!\n            resolve();\n          },\n          [imageData.data.buffer]\n        );\n      });\n    };\n\n    var removeImageView = function removeImageView(root, imageView) {\n      root.removeChildView(imageView);\n      imageView.image.width = 1;\n      imageView.image.height = 1;\n      imageView._destroy();\n    };\n\n    // remove an image\n    var shiftImage = function shiftImage(_ref) {\n      var root = _ref.root;\n      var imageView = root.ref.images.shift();\n      imageView.opacity = 0;\n      imageView.translateY = -15;\n      root.ref.imageViewBin.push(imageView);\n      return imageView;\n    };\n\n    // add new image\n    var pushImage = function pushImage(_ref2) {\n      var root = _ref2.root,\n        props = _ref2.props,\n        image = _ref2.image;\n      var id = props.id;\n      var item = root.query('GET_ITEM', { id: id });\n      if (!item) return;\n\n      var crop = item.getMetadata('crop') || {\n        center: {\n          x: 0.5,\n          y: 0.5\n        },\n\n        flip: {\n          horizontal: false,\n          vertical: false\n        },\n\n        zoom: 1,\n        rotation: 0,\n        aspectRatio: null\n      };\n\n      var background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      var markup;\n      var resize;\n      var dirty = false;\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        markup = item.getMetadata('markup') || [];\n        resize = item.getMetadata('resize');\n        dirty = true;\n      }\n\n      // append image presenter\n      var imageView = root.appendChildView(\n        root.createChildView(ImageView, {\n          id: id,\n          image: image,\n          crop: crop,\n          resize: resize,\n          markup: markup,\n          dirty: dirty,\n          background: background,\n          opacity: 0,\n          scaleX: 1.15,\n          scaleY: 1.15,\n          translateY: 15\n        }),\n\n        root.childViews.length\n      );\n\n      root.ref.images.push(imageView);\n\n      // reveal the preview image\n      imageView.opacity = 1;\n      imageView.scaleX = 1;\n      imageView.scaleY = 1;\n      imageView.translateY = 0;\n\n      // the preview is now ready to be drawn\n      setTimeout(function() {\n        root.dispatch('DID_IMAGE_PREVIEW_SHOW', { id: id });\n      }, 250);\n    };\n\n    var updateImage = function updateImage(_ref3) {\n      var root = _ref3.root,\n        props = _ref3.props;\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n      var imageView = root.ref.images[root.ref.images.length - 1];\n      imageView.crop = item.getMetadata('crop');\n      imageView.background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        imageView.dirty = true;\n        imageView.resize = item.getMetadata('resize');\n        imageView.markup = item.getMetadata('markup');\n      }\n    };\n\n    // replace image preview\n    var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n      var root = _ref4.root,\n        props = _ref4.props,\n        action = _ref4.action;\n      // only filter and crop trigger redraw\n      if (!/crop|filter|markup|resize/.test(action.change.key)) return;\n\n      // no images to update, exit\n      if (!root.ref.images.length) return;\n\n      // no item found, exit\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n\n      // for now, update existing image when filtering\n      if (/filter/.test(action.change.key)) {\n        var imageView = root.ref.images[root.ref.images.length - 1];\n        applyFilter(root, action.change.value, imageView.image);\n        return;\n      }\n\n      if (/crop|markup|resize/.test(action.change.key)) {\n        var crop = item.getMetadata('crop');\n        var image = root.ref.images[root.ref.images.length - 1];\n\n        // if aspect ratio has changed, we need to create a new image\n        if (\n          crop &&\n          crop.aspectRatio &&\n          image.crop &&\n          image.crop.aspectRatio &&\n          Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001\n        ) {\n          var _imageView = shiftImage({ root: root });\n          pushImage({\n            root: root,\n            props: props,\n            image: cloneCanvas(_imageView.image)\n          });\n        }\n        // if not, we can update the current image\n        else {\n          updateImage({ root: root, props: props });\n        }\n      }\n    };\n\n    var canCreateImageBitmap = function canCreateImageBitmap(file) {\n      // Firefox versions before 58 will freeze when running createImageBitmap\n      // in a Web Worker so we detect those versions and return false for support\n      var userAgent = window.navigator.userAgent;\n      var isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n      var firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n      if (firefoxVersion !== null && firefoxVersion <= 58) return false;\n\n      return 'createImageBitmap' in window && isBitmap(file);\n    };\n\n    /**\n     * Write handler for when preview container has been created\n     */\n    var didCreatePreviewContainer = function didCreatePreviewContainer(_ref5) {\n      var root = _ref5.root,\n        props = _ref5.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // determine image size of this item\n      getImageSize(fileURL, function(width, height) {\n        // we can now scale the panel to the final size\n        root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n          id: id,\n          width: width,\n          height: height\n        });\n      });\n    };\n\n    var drawPreview = function drawPreview(_ref6) {\n      var root = _ref6.root,\n        props = _ref6.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // fallback\n      var loadPreviewFallback = function loadPreviewFallback() {\n        // let's scale the image in the main thread :(\n        loadImage(fileURL).then(previewImageLoaded);\n      };\n\n      // image is now ready\n      var previewImageLoaded = function previewImageLoaded(imageData) {\n        // the file url is no longer needed\n        URL.revokeObjectURL(fileURL);\n\n        // draw the scaled down version here and use that as source so bitmapdata can be closed\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap if orientation is incorrect\n        var width = imageData.width,\n          height = imageData.height;\n\n        // if no width or height, just return early.\n        if (!width || !height) return;\n\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref7 = [height, width];\n          width = _ref7[0];\n          height = _ref7[1];\n        }\n\n        // scale canvas based on pixel density\n        // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n        var pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);\n\n        // we want as much pixels to work with as possible,\n        // this multiplies the minimum image resolution,\n        // so when zooming in it doesn't get too blurry\n        var zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR');\n\n        // imaeg scale factor\n        var scaleFactor = zoomFactor * pixelDensityFactor;\n\n        // calculate scaled preview image size\n        var previewImageRatio = height / width;\n\n        // calculate image preview height and width\n        var previewContainerWidth = root.rect.element.width;\n        var previewContainerHeight = root.rect.element.height;\n\n        var imageWidth = previewContainerWidth;\n        var imageHeight = imageWidth * previewImageRatio;\n\n        if (previewImageRatio > 1) {\n          imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n          imageHeight = imageWidth * previewImageRatio;\n        } else {\n          imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n          imageWidth = imageHeight / previewImageRatio;\n        }\n\n        // transfer to image tag so no canvas memory wasted on iOS\n        var previewImage = createPreviewImage(\n          imageData,\n          imageWidth,\n          imageHeight,\n          orientation\n        );\n\n        // done\n        var done = function done() {\n          // calculate average image color, disabled for now\n          var averageColor = root.query(\n            'GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR'\n          )\n            ? calculateAverageColor(data)\n            : null;\n          item.setMetadata('color', averageColor, true);\n\n          // data has been transferred to canvas ( if was ImageBitmap )\n          if ('close' in imageData) {\n            imageData.close();\n          }\n\n          // show the overlay\n          root.ref.overlayShadow.opacity = 1;\n\n          // create the first image\n          pushImage({ root: root, props: props, image: previewImage });\n        };\n\n        // apply filter\n        var filter = item.getMetadata('filter');\n        if (filter) {\n          applyFilter(root, filter, previewImage).then(done);\n        } else {\n          done();\n        }\n      };\n\n      // if we support scaling using createImageBitmap we use a worker\n      if (canCreateImageBitmap(item.file)) {\n        // let's scale the image in a worker\n        var worker = createWorker(BitmapWorker);\n\n        worker.post(\n          {\n            file: item.file\n          },\n\n          function(imageBitmap) {\n            // destroy worker\n            worker.terminate();\n\n            // no bitmap returned, must be something wrong,\n            // try the oldschool way\n            if (!imageBitmap) {\n              loadPreviewFallback();\n              return;\n            }\n\n            // yay we got our bitmap, let's continue showing the preview\n            previewImageLoaded(imageBitmap);\n          }\n        );\n      } else {\n        // create fallback preview\n        loadPreviewFallback();\n      }\n    };\n\n    /**\n     * Write handler for when the preview image is ready to be animated\n     */\n    var didDrawPreview = function didDrawPreview(_ref8) {\n      var root = _ref8.root;\n      // get last added image\n      var image = root.ref.images[root.ref.images.length - 1];\n      image.translateY = 0;\n      image.scaleX = 1.0;\n      image.scaleY = 1.0;\n      image.opacity = 1;\n    };\n\n    /**\n     * Write handler for when the preview has been loaded\n     */\n    var restoreOverlay = function restoreOverlay(_ref9) {\n      var root = _ref9.root;\n      root.ref.overlayShadow.opacity = 1;\n      root.ref.overlayError.opacity = 0;\n      root.ref.overlaySuccess.opacity = 0;\n    };\n\n    var didThrowError = function didThrowError(_ref10) {\n      var root = _ref10.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlayError.opacity = 1;\n    };\n\n    var didCompleteProcessing = function didCompleteProcessing(_ref11) {\n      var root = _ref11.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlaySuccess.opacity = 1;\n    };\n\n    /**\n     * Constructor\n     */\n    var create = function create(_ref12) {\n      var root = _ref12.root;\n      // image view\n      root.ref.images = [];\n\n      // the preview image data (we need this to filter the image)\n      root.ref.imageData = null;\n\n      // image bin\n      root.ref.imageViewBin = [];\n\n      // image overlays\n      root.ref.overlayShadow = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'idle'\n        })\n      );\n\n      root.ref.overlaySuccess = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'success'\n        })\n      );\n\n      root.ref.overlayError = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'failure'\n        })\n      );\n    };\n\n    return _.utils.createView({\n      name: 'image-preview-wrapper',\n      create: create,\n      styles: ['height'],\n      apis: ['height'],\n      destroy: function destroy(_ref13) {\n        var root = _ref13.root;\n        // we resize the image so memory on iOS 12 is released more quickly (it seems)\n        root.ref.images.forEach(function(imageView) {\n          imageView.image.width = 1;\n          imageView.image.height = 1;\n        });\n      },\n      didWriteView: function didWriteView(_ref14) {\n        var root = _ref14.root;\n        root.ref.images.forEach(function(imageView) {\n          imageView.dirty = false;\n        });\n      },\n      write: _.utils.createRoute(\n        {\n          // image preview stated\n          DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n          DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n          DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n\n          // file states\n          DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n          DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n          DID_THROW_ITEM_INVALID: didThrowError,\n          DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n          DID_START_ITEM_PROCESSING: restoreOverlay,\n          DID_REVERT_ITEM_PROCESSING: restoreOverlay\n        },\n\n        function(_ref15) {\n          var root = _ref15.root;\n          // views on death row\n          var viewsToRemove = root.ref.imageViewBin.filter(function(imageView) {\n            return imageView.opacity === 0;\n          });\n\n          // views to retain\n          root.ref.imageViewBin = root.ref.imageViewBin.filter(function(\n            imageView\n          ) {\n            return imageView.opacity > 0;\n          });\n\n          // remove these views\n          viewsToRemove.forEach(function(imageView) {\n            return removeImageView(root, imageView);\n          });\n          viewsToRemove.length = 0;\n        }\n      )\n    });\n  };\n\n  /**\n   * Image Preview Plugin\n   */\n  var plugin = function plugin(fpAPI) {\n    var addFilter = fpAPI.addFilter,\n      utils = fpAPI.utils;\n    var Type = utils.Type,\n      createRoute = utils.createRoute,\n      isFile = utils.isFile;\n\n    // imagePreviewView\n    var imagePreviewView = createImageWrapperView(fpAPI);\n\n    // called for each view that is created right after the 'create' method\n    addFilter('CREATE_VIEW', function(viewAPI) {\n      // get reference to created view\n      var is = viewAPI.is,\n        view = viewAPI.view,\n        query = viewAPI.query;\n\n      // only hook up to item view and only if is enabled for this cropper\n      if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return;\n\n      // create the image preview plugin, but only do so if the item is an image\n      var didLoadItem = function didLoadItem(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var id = props.id;\n        var item = query('GET_ITEM', id);\n\n        // item could theoretically have been removed in the mean time\n        if (!item || !isFile(item.file) || item.archived) return;\n\n        // get the file object\n        var file = item.file;\n\n        // exit if this is not an image\n        if (!isPreviewableImage(file)) return;\n\n        // test if is filtered\n        if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return;\n\n        // exit if image size is too high and no createImageBitmap support\n        // this would simply bring the browser to its knees and that is not what we want\n        var supportsCreateImageBitmap = 'createImageBitmap' in (window || {});\n        var maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n        if (\n          !supportsCreateImageBitmap &&\n          maxPreviewFileSize &&\n          file.size > maxPreviewFileSize\n        )\n          return;\n\n        // set preview view\n        root.ref.imagePreview = view.appendChildView(\n          view.createChildView(imagePreviewView, { id: id })\n        );\n\n        // update height if is fixed\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (fixedPreviewHeight) {\n          root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n            id: item.id,\n            height: fixedPreviewHeight\n          });\n        }\n\n        // now ready\n        var queue =\n          !supportsCreateImageBitmap &&\n          file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n        root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', { id: id }, queue);\n      };\n\n      var rescaleItem = function rescaleItem(root, props) {\n        if (!root.ref.imagePreview) return;\n        var id = props.id;\n\n        // get item\n        var item = root.query('GET_ITEM', { id: id });\n        if (!item) return;\n\n        // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n        var fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return;\n\n        // no data!\n        var _root$ref = root.ref,\n          imageWidth = _root$ref.imageWidth,\n          imageHeight = _root$ref.imageHeight;\n        if (!imageWidth || !imageHeight) return;\n\n        // get height min and max\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap of orientation is incorrect\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref2 = [imageHeight, imageWidth];\n          imageWidth = _ref2[0];\n          imageHeight = _ref2[1];\n        }\n\n        // scale up width and height when we're dealing with an SVG\n        if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n          var scalar = 2048 / imageWidth;\n          imageWidth *= scalar;\n          imageHeight *= scalar;\n        }\n\n        // image aspect ratio\n        var imageAspectRatio = imageHeight / imageWidth;\n\n        // we need the item to get to the crop size\n        var previewAspectRatio =\n          (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio;\n\n        // preview height range\n        var previewHeightMax = Math.max(\n          minPreviewHeight,\n          Math.min(imageHeight, maxPreviewHeight)\n        );\n\n        var itemWidth = root.rect.element.width;\n        var previewHeight = Math.min(\n          itemWidth * previewAspectRatio,\n          previewHeightMax\n        );\n\n        // request update to panel height\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: previewHeight\n        });\n      };\n\n      var didResizeView = function didResizeView(_ref3) {\n        var root = _ref3.root;\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n        var root = _ref4.root,\n          action = _ref4.action;\n        if (action.change.key !== 'crop') return;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didCalculatePreviewSize = function didCalculatePreviewSize(_ref5) {\n        var root = _ref5.root,\n          action = _ref5.action;\n        // remember dimensions\n        root.ref.imageWidth = action.width;\n        root.ref.imageHeight = action.height;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n        root.ref.shouldDrawPreview = true;\n\n        // as image load could take a while and fire when draw loop is resting we need to give it a kick\n        root.dispatch('KICK');\n      };\n\n      // start writing\n      view.registerWriter(\n        createRoute(\n          {\n            DID_RESIZE_ROOT: didResizeView,\n            DID_STOP_RESIZE: didResizeView,\n            DID_LOAD_ITEM: didLoadItem,\n            DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n            DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n          },\n\n          function(_ref6) {\n            var root = _ref6.root,\n              props = _ref6.props;\n            // no preview view attached\n            if (!root.ref.imagePreview) return;\n\n            // don't do anything while hidden\n            if (root.rect.element.hidden) return;\n\n            // resize the item panel\n            if (root.ref.shouldRescale) {\n              rescaleItem(root, props);\n              root.ref.shouldRescale = false;\n            }\n\n            if (root.ref.shouldDrawPreview) {\n              // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n              requestAnimationFrame(function() {\n                // this requestAnimationFrame nesting is horrible but it fixes an issue with 100hz displays on Chrome\n                // https://github.com/pqina/filepond-plugin-image-preview/issues/57\n                requestAnimationFrame(function() {\n                  root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n                    id: props.id\n                  });\n                });\n              });\n\n              root.ref.shouldDrawPreview = false;\n            }\n          }\n        )\n      );\n    });\n\n    // expose plugin\n    return {\n      options: {\n        // Enable or disable image preview\n        allowImagePreview: [true, Type.BOOLEAN],\n\n        // filters file items to determine which are shown as preview\n        imagePreviewFilterItem: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ],\n\n        // Fixed preview height\n        imagePreviewHeight: [null, Type.INT],\n\n        // Min image height\n        imagePreviewMinHeight: [44, Type.INT],\n\n        // Max image height\n        imagePreviewMaxHeight: [256, Type.INT],\n\n        // Max size of preview file for when createImageBitmap is not supported\n        imagePreviewMaxFileSize: [null, Type.INT],\n\n        // The amount of extra pixels added to the image preview to allow comfortable zooming\n        imagePreviewZoomFactor: [2, Type.INT],\n\n        // Should we upscale small images to fit the max bounding box of the preview area\n        imagePreviewUpscale: [false, Type.BOOLEAN],\n\n        // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n        imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n\n        // Style of the transparancy indicator used behind images\n        imagePreviewTransparencyIndicator: [null, Type.STRING],\n\n        // Enables or disables reading average image color\n        imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n\n        // Enables or disables the previewing of markup\n        imagePreviewMarkupShow: [true, Type.BOOLEAN],\n\n        // Allows filtering of markup to only show certain shapes\n        imagePreviewMarkupFilter: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ]\n      }\n    };\n  };\n\n  // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n  var isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  if (isBrowser) {\n    document.dispatchEvent(\n      new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n    );\n  }\n\n  return plugin;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRSxLQUE0RDtBQUM5RDtBQUNBLE1BQU0sQ0FHZ0Q7QUFDdEQsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHNCQUFzQiwwQkFBMEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsdUJBQXVCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQiw2QkFBNkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0RBQW9ELGdCQUFnQjtBQUNwRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEJBQTRCLHlCQUF5QjtBQUNyRCxrQ0FBa0MscUJBQXFCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixlQUFlO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9COztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOEJBQThCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsb0JBQW9CO0FBQzFFO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0M7QUFDeEM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnQ0FBZ0M7QUFDM0QsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsbUNBQW1DO0FBQzVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFFBQVE7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0QsUUFBUTtBQUMxRCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLGNBQWM7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFlBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiwrQ0FBK0M7QUFDckU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsZUFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsZ0JBQWdCO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3L2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcuanM/YWM4NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IDQuNi4xMlxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgID8gKG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpKVxuICAgIDogdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kXG4gICAgPyBkZWZpbmUoZmFjdG9yeSlcbiAgICA6ICgoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYpLFxuICAgICAgKGdsb2JhbC5GaWxlUG9uZFBsdWdpbkltYWdlUHJldmlldyA9IGZhY3RvcnkoKSkpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyB0ZXN0IGlmIGZpbGUgaXMgb2YgdHlwZSBpbWFnZSBhbmQgY2FuIGJlIHZpZXdlZCBpbiBjYW52YXNcbiAgdmFyIGlzUHJldmlld2FibGVJbWFnZSA9IGZ1bmN0aW9uIGlzUHJldmlld2FibGVJbWFnZShmaWxlKSB7XG4gICAgcmV0dXJuIC9eaW1hZ2UvLnRlc3QoZmlsZS50eXBlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmXG4gICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmXG4gICAgICAgICAgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlXG4gICAgICAgICAgPyAnc3ltYm9sJ1xuICAgICAgICAgIDogdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbiAgfVxuXG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cbiAgZnVuY3Rpb24gX2pzeCh0eXBlLCBwcm9wcywga2V5LCBjaGlsZHJlbikge1xuICAgIGlmICghUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPVxuICAgICAgICAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIFN5bWJvbC5mb3IgJiZcbiAgICAgICAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgICAgIDB4ZWFjNztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMztcblxuICAgIGlmICghcHJvcHMgJiYgY2hpbGRyZW5MZW5ndGggIT09IDApIHtcbiAgICAgIHByb3BzID0ge1xuICAgICAgICBjaGlsZHJlbjogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChwcm9wcyAmJiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB2b2lkIDApIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcHJvcHMpIHtcbiAgICAgIHByb3BzID0gZGVmYXVsdFByb3BzIHx8IHt9O1xuICAgIH1cblxuICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoaWxkQXJyYXkgPSBuZXcgQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgM107XG4gICAgICB9XG5cbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsga2V5LFxuICAgICAgcmVmOiBudWxsLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgX293bmVyOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY0l0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgdmFyIG1ldGhvZDtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xuICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9Bd2FpdFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy53cmFwcGVkID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfQXN5bmNHZW5lcmF0b3IoZ2VuKSB7XG4gICAgdmFyIGZyb250LCBiYWNrO1xuXG4gICAgZnVuY3Rpb24gc2VuZChrZXksIGFyZykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBhcmc6IGFyZyxcbiAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgIGJhY2sgPSBiYWNrLm5leHQgPSByZXF1ZXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZyb250ID0gYmFjayA9IHJlcXVlc3Q7XG4gICAgICAgICAgcmVzdW1lKGtleSwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdW1lKGtleSwgYXJnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICB2YXIgd3JhcHBlZEF3YWl0ID0gdmFsdWUgaW5zdGFuY2VvZiBfQXdhaXRWYWx1ZTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHdyYXBwZWRBd2FpdCA/IHZhbHVlLndyYXBwZWQgOiB2YWx1ZSkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGlmICh3cmFwcGVkQXdhaXQpIHtcbiAgICAgICAgICAgICAgcmVzdW1lKCduZXh0JywgYXJnKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXR0bGUocmVzdWx0LmRvbmUgPyAncmV0dXJuJyA6ICdub3JtYWwnLCBhcmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICByZXN1bWUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0dGxlKCd0aHJvdycsIGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dGxlKHR5cGUsIHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAncmV0dXJuJzpcbiAgICAgICAgICBmcm9udC5yZXNvbHZlKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd0aHJvdyc6XG4gICAgICAgICAgZnJvbnQucmVqZWN0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGZyb250LnJlc29sdmUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZnJvbnQgPSBmcm9udC5uZXh0O1xuXG4gICAgICBpZiAoZnJvbnQpIHtcbiAgICAgICAgcmVzdW1lKGZyb250LmtleSwgZnJvbnQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ludm9rZSA9IHNlbmQ7XG5cbiAgICBpZiAodHlwZW9mIGdlbi5yZXR1cm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmV0dXJuID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yKSB7XG4gICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cblxuICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCduZXh0JywgYXJnKTtcbiAgfTtcblxuICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLnRocm93ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgndGhyb3cnLCBhcmcpO1xuICB9O1xuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgncmV0dXJuJywgYXJnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfd3JhcEFzeW5jR2VuZXJhdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBfQXN5bmNHZW5lcmF0b3IoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hd2FpdEFzeW5jR2VuZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBfQXdhaXRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXN5bmNHZW5lcmF0b3JEZWxlZ2F0ZShpbm5lciwgYXdhaXRXcmFwKSB7XG4gICAgdmFyIGl0ZXIgPSB7fSxcbiAgICAgIHdhaXRpbmcgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHB1bXAoa2V5LCB2YWx1ZSkge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICB2YWx1ZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgcmVzb2x2ZShpbm5lcltrZXldKHZhbHVlKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogYXdhaXRXcmFwKHZhbHVlKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHVtcCgnbmV4dCcsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBpbm5lci50aHJvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaXRlci50aHJvdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHB1bXAoJ3Rocm93JywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlubmVyLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaXRlci5yZXR1cm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcHVtcCgncmV0dXJuJywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoXG4gICAgICAgICAgICBnZW4sXG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgX25leHQsXG4gICAgICAgICAgICBfdGhyb3csXG4gICAgICAgICAgICAnbmV4dCcsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAndGhyb3cnLCBlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lRW51bWVyYWJsZVByb3BlcnRpZXMob2JqLCBkZXNjcykge1xuICAgIGZvciAodmFyIGtleSBpbiBkZXNjcykge1xuICAgICAgdmFyIGRlc2MgPSBkZXNjc1trZXldO1xuICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIGRlc2MpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgb2JqZWN0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZGVzY3MpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdFN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN5bSA9IG9iamVjdFN5bWJvbHNbaV07XG4gICAgICAgIHZhciBkZXNjID0gZGVzY3Nbc3ltXTtcbiAgICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc3ltLCBkZXNjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpO1xuXG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID1cbiAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uKHN5bSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgID8gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICAgICA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgICAgICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPVxuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICAgIHJldHVybiBvO1xuICAgICAgfTtcblxuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAndW5kZWZpbmVkJyB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uKCkge30pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICBpZiAodHlwZW9mIENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgICB9XG5cbiAgICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luc3RhbmNlb2YobGVmdCwgcmlnaHQpIHtcbiAgICBpZiAoXG4gICAgICByaWdodCAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXVxuICAgICkge1xuICAgICAgcmV0dXJuIHJpZ2h0W1N5bWJvbC5oYXNJbnN0YW5jZV0obGVmdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsZWZ0IGluc3RhbmNlb2YgcmlnaHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlXG4gICAgICA/IG9ialxuICAgICAgOiB7XG4gICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHtcbiAgICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIHZhciBkZXNjID1cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpXG4gICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdPYmouZGVmYXVsdCA9IG9iajtcbiAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX25ld0Fycm93Q2hlY2soaW5uZXJUaGlzLCBib3VuZFRoaXMpIHtcbiAgICBpZiAoaW5uZXJUaGlzICE9PSBib3VuZFRoaXMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbnN0YW50aWF0ZSBhbiBhcnJvdyBmdW5jdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgZGVzdHJ1Y3R1cmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuICAgIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICB2YXIga2V5LCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICAgIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICAgIHZhciBrZXksIGk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBjYWxsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICAgIG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3QuZ2V0KSB7XG4gICAgICBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG4gICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWZsZWN0LnNldCkge1xuICAgICAgc2V0ID0gUmVmbGVjdC5zZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldCA9IGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICB2YXIgZGVzYztcblxuICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgICAgICAgZGVzYy5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlY2VpdmVyLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKGRlc2MpIHtcbiAgICAgICAgICBpZiAoIWRlc2Mud3JpdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXNjLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgZGVzYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyLCBpc1N0cmljdCkge1xuICAgIHZhciBzID0gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciB8fCB0YXJnZXQpO1xuXG4gICAgaWYgKCFzICYmIGlzU3RyaWN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBzZXQgcHJvcGVydHknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSB7XG4gICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywge1xuICAgICAgICByYXc6IHtcbiAgICAgICAgICB2YWx1ZTogT2JqZWN0LmZyZWV6ZShyYXcpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShzdHJpbmdzLCByYXcpIHtcbiAgICBpZiAoIXJhdykge1xuICAgICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgICB9XG5cbiAgICBzdHJpbmdzLnJhdyA9IHJhdztcbiAgICByZXR1cm4gc3RyaW5ncztcbiAgfVxuXG4gIGZ1bmN0aW9uIF90ZW1wb3JhbFJlZih2YWwsIG5hbWUpIHtcbiAgICBpZiAodmFsID09PSBfdGVtcG9yYWxVbmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihuYW1lICsgJyBpcyBub3QgZGVmaW5lZCAtIHRlbXBvcmFsIGRlYWQgem9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkT25seUVycm9yKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG5hbWUgKyAnXCIgaXMgcmVhZC1vbmx5Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NOYW1lVERaRXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdDbGFzcyBcIicgKyBuYW1lICsgJ1wiIGNhbm5vdCBiZSByZWZlcmVuY2VkIGluIGNvbXB1dGVkIHByb3BlcnR5IGtleXMuJ1xuICAgICk7XG4gIH1cblxuICB2YXIgX3RlbXBvcmFsVW5kZWZpbmVkID0ge307XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8XG4gICAgICBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fFxuICAgICAgX25vbkl0ZXJhYmxlUmVzdCgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5TG9vc2UoYXJyLCBpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8XG4gICAgICBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHx8XG4gICAgICBfbm9uSXRlcmFibGVSZXN0KClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspXG4gICAgICAgIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICAgIHJldHVybiBhcnIyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgaWYgKFxuICAgICAgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAnW29iamVjdCBBcmd1bWVudHNdJ1xuICAgIClcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7XG4gICAgICAgICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpO1xuICAgICAgICBfbiA9IHRydWVcbiAgICAgICkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSAhPSBudWxsKSBfaVsncmV0dXJuJ10oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuXG4gICAgZm9yIChcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDtcbiAgICAgICEoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lO1xuXG4gICAgKSB7XG4gICAgICBfYXJyLnB1c2goX3N0ZXAudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NraXBGaXJzdEdlbmVyYXRvck5leHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaXQubmV4dCgpO1xuICAgICAgcmV0dXJuIGl0O1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICAgIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcblxuICAgIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgJ2RlZmF1bHQnKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAnb2JqZWN0JykgcmV0dXJuIHJlcztcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0BAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChoaW50ID09PSAnc3RyaW5nJyA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICdzdHJpbmcnKTtcblxuICAgIHJldHVybiB0eXBlb2Yga2V5ID09PSAnc3ltYm9sJyA/IGtleSA6IFN0cmluZyhrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArXG4gICAgICAgICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArXG4gICAgICAgICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICtcbiAgICAgICAgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLidcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkge1xuICAgIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplclxuICAgICAgICA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KVxuICAgICAgICA6IHZvaWQgMFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihcbiAgICB0YXJnZXQsXG4gICAgcHJvcGVydHksXG4gICAgZGVjb3JhdG9ycyxcbiAgICBkZXNjcmlwdG9yLFxuICAgIGNvbnRleHRcbiAgKSB7XG4gICAgdmFyIGRlc2MgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICAgIH0pO1xuICAgIGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlO1xuICAgIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICAgIGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikge1xuICAgICAgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVzYyA9IGRlY29yYXRvcnNcbiAgICAgIC5zbGljZSgpXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uKGRlc2MsIGRlY29yYXRvcikge1xuICAgICAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7XG4gICAgICB9LCBkZXNjKTtcblxuICAgIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgICAgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7XG4gICAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgIGRlc2MgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjO1xuICB9XG5cbiAgdmFyIGlkID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7XG4gICAgcmV0dXJuICdfX3ByaXZhdGVfJyArIGlkKysgKyAnXycgKyBuYW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpdmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xuICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XG5cbiAgICBpZiAoZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICAgIH1cblxuICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNHZXQoXG4gICAgcmVjZWl2ZXIsXG4gICAgY2xhc3NDb25zdHJ1Y3RvcixcbiAgICBkZXNjcmlwdG9yXG4gICkge1xuICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvci52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNTZXQoXG4gICAgcmVjZWl2ZXIsXG4gICAgY2xhc3NDb25zdHJ1Y3RvcixcbiAgICBkZXNjcmlwdG9yLFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICB9XG5cbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgY2xhc3NDb25zdHJ1Y3RvciwgbWV0aG9kKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRob2Q7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kU2V0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHN0YXRpYyBwcml2YXRlIGZpZWxkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7XG4gICAgdmFyIGFwaSA9IF9nZXREZWNvcmF0b3JzQXBpKCk7XG5cbiAgICBpZiAobWl4aW5zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcGkgPSBtaXhpbnNbaV0oYXBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7XG4gICAgICBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICB9LCBzdXBlckNsYXNzKTtcbiAgICB2YXIgZGVjb3JhdGVkID0gYXBpLmRlY29yYXRlQ2xhc3MoXG4gICAgICBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksXG4gICAgICBkZWNvcmF0b3JzXG4gICAgKTtcbiAgICBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpO1xuICAgIHJldHVybiBhcGkucnVuQ2xhc3NGaW5pc2hlcnMoci5GLCBkZWNvcmF0ZWQuZmluaXNoZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkge1xuICAgIF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgYXBpID0ge1xuICAgICAgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbJ21ldGhvZCddLCBbJ2ZpZWxkJ11dLFxuICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uKE8sIGVsZW1lbnRzKSB7XG4gICAgICAgIFsnbWV0aG9kJywgJ2ZpZWxkJ10uZm9yRWFjaChmdW5jdGlvbihraW5kKSB7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSAnb3duJykge1xuICAgICAgICAgICAgICB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6IGZ1bmN0aW9uKEYsIGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBwcm90byA9IEYucHJvdG90eXBlO1xuICAgICAgICBbJ21ldGhvZCcsICdmaWVsZCddLmZvckVhY2goZnVuY3Rpb24oa2luZCkge1xuICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50O1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGVsZW1lbnQua2luZCA9PT0ga2luZCAmJlxuICAgICAgICAgICAgICAocGxhY2VtZW50ID09PSAnc3RhdGljJyB8fCBwbGFjZW1lbnQgPT09ICdwcm90b3R5cGUnKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciByZWNlaXZlciA9IHBsYWNlbWVudCA9PT0gJ3N0YXRpYycgPyBGIDogcHJvdG87XG4gICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbihyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcblxuICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnZmllbGQnKSB7XG4gICAgICAgICAgdmFyIGluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjtcbiAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH0sXG4gICAgICBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50cywgZGVjb3JhdG9ycykge1xuICAgICAgICB2YXIgbmV3RWxlbWVudHMgPSBbXTtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuICAgICAgICB2YXIgcGxhY2VtZW50cyA9IHtcbiAgICAgICAgICBzdGF0aWM6IFtdLFxuICAgICAgICAgIHByb3RvdHlwZTogW10sXG4gICAgICAgICAgb3duOiBbXVxuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoIV9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSByZXR1cm4gbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHBsYWNlbWVudHNcbiAgICAgICAgICApO1xuICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5lbGVtZW50KTtcbiAgICAgICAgICBuZXdFbGVtZW50cy5wdXNoLmFwcGx5KG5ld0VsZW1lbnRzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmV4dHJhcyk7XG4gICAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIGlmICghZGVjb3JhdG9ycykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50czogbmV3RWxlbWVudHMsXG4gICAgICAgICAgICBmaW5pc2hlcnM6IGZpbmlzaGVyc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kZWNvcmF0ZUNvbnN0cnVjdG9yKG5ld0VsZW1lbnRzLCBkZWNvcmF0b3JzKTtcbiAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCByZXN1bHQuZmluaXNoZXJzKTtcbiAgICAgICAgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVycztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwbGFjZW1lbnRzLCBzaWxlbnQpIHtcbiAgICAgICAgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTtcblxuICAgICAgICBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0R1cGxpY2F0ZWQgZWxlbWVudCAoJyArIGVsZW1lbnQua2V5ICsgJyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChlbGVtZW50LmtleSk7XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwbGFjZW1lbnRzKSB7XG4gICAgICAgIHZhciBleHRyYXMgPSBbXTtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaSA+PSAwO1xuICAgICAgICAgIGktLVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdO1xuICAgICAgICAgIGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpO1xuICAgICAgICAgIHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRGaW5pc2hlckV4dHJhcyA9IHRoaXMudG9FbGVtZW50RmluaXNoZXJFeHRyYXMoXG4gICAgICAgICAgICAoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdFxuICAgICAgICAgICk7XG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50O1xuICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpIHtcbiAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7XG5cbiAgICAgICAgICBpZiAobmV3RXh0cmFzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0V4dHJhcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQobmV3RXh0cmFzW2pdLCBwbGFjZW1lbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcnM6IGZpbmlzaGVycyxcbiAgICAgICAgICBleHRyYXM6IGV4dHJhc1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgIHZhciBmaW5pc2hlcnMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBvYmogPSB0aGlzLmZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpO1xuICAgICAgICAgIHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcihcbiAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9ialxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmaW5pc2hlcnMucHVzaChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZWxlbWVudHNbal0ua2V5ID09PSBlbGVtZW50c1trXS5rZXkgJiZcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2pdLnBsYWNlbWVudCA9PT0gZWxlbWVudHNba10ucGxhY2VtZW50XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnRHVwbGljYXRlZCBlbGVtZW50ICgnICsgZWxlbWVudHNbal0ua2V5ICsgJyknXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAga2luZDogZWxlbWVudC5raW5kLFxuICAgICAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICAgICAgcGxhY2VtZW50OiBlbGVtZW50LnBsYWNlbWVudCxcbiAgICAgICAgICBkZXNjcmlwdG9yOiBlbGVtZW50LmRlc2NyaXB0b3JcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgdmFsdWU6ICdEZXNjcmlwdG9yJyxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTtcbiAgICAgICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ2ZpZWxkJykgb2JqLmluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24oZWxlbWVudE9iamVjdHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24oZWxlbWVudE9iamVjdCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnZmluaXNoZXInLFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnZXh0cmFzJyxcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24oZWxlbWVudE9iamVjdCkge1xuICAgICAgICB2YXIga2luZCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LmtpbmQpO1xuXG4gICAgICAgIGlmIChraW5kICE9PSAnbWV0aG9kJyAmJiBraW5kICE9PSAnZmllbGQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICtcbiAgICAgICAgICAgICAgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArXG4gICAgICAgICAgICAgICcgLmtpbmQgXCInICtcbiAgICAgICAgICAgICAga2luZCArXG4gICAgICAgICAgICAgICdcIidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGVsZW1lbnRPYmplY3Qua2V5KTtcblxuICAgICAgICB2YXIgcGxhY2VtZW50ID0gU3RyaW5nKGVsZW1lbnRPYmplY3QucGxhY2VtZW50KTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGxhY2VtZW50ICE9PSAnc3RhdGljJyAmJlxuICAgICAgICAgIHBsYWNlbWVudCAhPT0gJ3Byb3RvdHlwZScgJiZcbiAgICAgICAgICBwbGFjZW1lbnQgIT09ICdvd24nXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArXG4gICAgICAgICAgICAgICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICtcbiAgICAgICAgICAgICAgJyB3aXRoIC5wbGFjZW1lbnQgXCInICtcbiAgICAgICAgICAgICAgcGxhY2VtZW50ICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgJ2VsZW1lbnRzJyxcbiAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJ1xuICAgICAgICApO1xuICAgICAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgICAgIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBlbGVtZW50T2JqZWN0LFxuICAgICAgICAgICAgJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAgICdBIG1ldGhvZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICdnZXQnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAnc2V0JyxcbiAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpO1xuXG4gICAgICAgIHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2ZpbmlzaGVyJyk7XG5cbiAgICAgICAgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgZmluaXNoZXI6IGZpbmlzaGVyLFxuICAgICAgICAgIGV4dHJhczogZXh0cmFzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZnJvbUNsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24oZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICBraW5kOiAnY2xhc3MnLFxuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpXG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZXNjID0ge1xuICAgICAgICAgIHZhbHVlOiAnRGVzY3JpcHRvcicsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdjbGFzcycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0EgY2xhc3MgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBcImNsYXNzXCIsIGJ1dCBhIGRlY29yYXRvcicgK1xuICAgICAgICAgICAgICAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICtcbiAgICAgICAgICAgICAga2luZCArXG4gICAgICAgICAgICAgICdcIidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2tleScsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ3BsYWNlbWVudCcsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2Rlc2NyaXB0b3InLCAnQSBjbGFzcyBkZXNjcmlwdG9yJyk7XG4gICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdpbml0aWFsaXplcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2V4dHJhcycsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcblxuICAgICAgICB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgJ2ZpbmlzaGVyJyk7XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICBmaW5pc2hlcjogZmluaXNoZXJcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24oY29uc3RydWN0b3IsIGZpbmlzaGVycykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBuZXdDb25zdHJ1Y3RvciA9ICgwLCBmaW5pc2hlcnNbaV0pKGNvbnN0cnVjdG9yKTtcblxuICAgICAgICAgIGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld0NvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpbmlzaGVycyBtdXN0IHJldHVybiBhIGNvbnN0cnVjdG9yLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IG5ld0NvbnN0cnVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgIH0sXG4gICAgICBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbihvYmosIG5hbWUsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgaWYgKG9ialtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgIG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArICcgcHJvcGVydHkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcGk7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IoZGVmKSB7XG4gICAgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGRlZi5rZXkpO1xuXG4gICAgdmFyIGRlc2NyaXB0b3I7XG5cbiAgICBpZiAoZGVmLmtpbmQgPT09ICdtZXRob2QnKSB7XG4gICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICB2YWx1ZTogZGVmLnZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRlZi5raW5kID09PSAnZ2V0Jykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgZ2V0OiBkZWYudmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gJ3NldCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHNldDogZGVmLnZhbHVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICBraW5kOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdmaWVsZCcgOiAnbWV0aG9kJyxcbiAgICAgIGtleToga2V5LFxuICAgICAgcGxhY2VtZW50OiBkZWYuc3RhdGljXG4gICAgICAgID8gJ3N0YXRpYydcbiAgICAgICAgOiBkZWYua2luZCA9PT0gJ2ZpZWxkJ1xuICAgICAgICA/ICdvd24nXG4gICAgICAgIDogJ3Byb3RvdHlwZScsXG4gICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yXG4gICAgfTtcbiAgICBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzO1xuICAgIGlmIChkZWYua2luZCA9PT0gJ2ZpZWxkJykgZWxlbWVudC5pbml0aWFsaXplciA9IGRlZi52YWx1ZTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikge1xuICAgIGlmIChlbGVtZW50LmRlc2NyaXB0b3IuZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG90aGVyLmRlc2NyaXB0b3IuZ2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIuZGVzY3JpcHRvci5zZXQgPSBlbGVtZW50LmRlc2NyaXB0b3Iuc2V0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICB2YXIgbmV3RWxlbWVudHMgPSBbXTtcblxuICAgIHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG90aGVyLmtpbmQgPT09ICdtZXRob2QnICYmXG4gICAgICAgIG90aGVyLmtleSA9PT0gZWxlbWVudC5rZXkgJiZcbiAgICAgICAgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgIHZhciBvdGhlcjtcblxuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmXG4gICAgICAgIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIF9pc0RhdGFEZXNjcmlwdG9yKGVsZW1lbnQuZGVzY3JpcHRvcikgfHxcbiAgICAgICAgICBfaXNEYXRhRGVzY3JpcHRvcihvdGhlci5kZXNjcmlwdG9yKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgfHwgX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICdEdXBsaWNhdGVkIG1ldGhvZHMgKCcgKyBlbGVtZW50LmtleSArIFwiKSBjYW4ndCBiZSBkZWNvcmF0ZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxuICAgICAgICAgICAgICAgIFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICAndGhlIHNhbWUgcHJvcGVydHkgKCcgK1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5rZXkgK1xuICAgICAgICAgICAgICAgICAgJykuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdGhlci5kZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0VsZW1lbnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2hhc0RlY29yYXRvcnMoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZGVzYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RHZXQocmVjZWl2ZXIsIHByaXZhdGVTZXQsIGZuKSB7XG4gICAgaWYgKCFwcml2YXRlU2V0LmhhcyhyZWNlaXZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlTWV0aG9kU2V0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byByZWFzc2lnbiBwcml2YXRlIG1ldGhvZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3dyYXBSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgIF93cmFwUmVnRXhwID0gZnVuY3Rpb24ocmUsIGdyb3Vwcykge1xuICAgICAgcmV0dXJuIG5ldyBCYWJlbFJlZ0V4cChyZSwgZ3JvdXBzKTtcbiAgICB9O1xuXG4gICAgdmFyIF9SZWdFeHAgPSBfd3JhcE5hdGl2ZVN1cGVyKFJlZ0V4cCk7XG5cbiAgICB2YXIgX3N1cGVyID0gUmVnRXhwLnByb3RvdHlwZTtcblxuICAgIHZhciBfZ3JvdXBzID0gbmV3IFdlYWtNYXAoKTtcblxuICAgIGZ1bmN0aW9uIEJhYmVsUmVnRXhwKHJlLCBncm91cHMpIHtcbiAgICAgIHZhciBfdGhpcyA9IF9SZWdFeHAuY2FsbCh0aGlzLCByZSk7XG5cbiAgICAgIF9ncm91cHMuc2V0KF90aGlzLCBncm91cHMpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2luaGVyaXRzKEJhYmVsUmVnRXhwLCBfUmVnRXhwKTtcblxuICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLmV4ZWMuY2FsbCh0aGlzLCBzdHIpO1xuXG4gICAgICBpZiAocmVzdWx0KSByZXN1bHQuZ3JvdXBzID0gYnVpbGRHcm91cHMocmVzdWx0LCB0aGlzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZVtTeW1ib2wucmVwbGFjZV0gPSBmdW5jdGlvbihzdHIsIHN1YnN0aXR1dGlvbikge1xuICAgICAgaWYgKHR5cGVvZiBzdWJzdGl0dXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBncm91cHMgPSBfZ3JvdXBzLmdldCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgc3RyLFxuICAgICAgICAgIHN1YnN0aXR1dGlvbi5yZXBsYWNlKC9cXCQ8KFtePl0rKT4vZywgZnVuY3Rpb24oXywgbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICckJyArIGdyb3Vwc1tuYW1lXTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3Vic3RpdHV0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIF9zdXBlcltTeW1ib2wucmVwbGFjZV0uY2FsbCh0aGlzLCBzdHIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgYXJncy5wdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChidWlsZEdyb3VwcyhhcmdzLCBfdGhpcykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdWJzdGl0dXRpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlcltTeW1ib2wucmVwbGFjZV0uY2FsbCh0aGlzLCBzdHIsIHN1YnN0aXR1dGlvbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKHJlc3VsdCwgcmUpIHtcbiAgICAgIHZhciBnID0gX2dyb3Vwcy5nZXQocmUpO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZykucmVkdWNlKGZ1bmN0aW9uKGdyb3VwcywgbmFtZSkge1xuICAgICAgICBncm91cHNbbmFtZV0gPSByZXN1bHRbZ1tuYW1lXV07XG4gICAgICAgIHJldHVybiBncm91cHM7XG4gICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3dyYXBSZWdFeHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHZhciB2ZWN0b3JNdWx0aXBseSA9IGZ1bmN0aW9uIHZlY3Rvck11bHRpcGx5KHYsIGFtb3VudCkge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3Iodi54ICogYW1vdW50LCB2LnkgKiBhbW91bnQpO1xuICB9O1xuXG4gIHZhciB2ZWN0b3JBZGQgPSBmdW5jdGlvbiB2ZWN0b3JBZGQoYSwgYikge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IoYS54ICsgYi54LCBhLnkgKyBiLnkpO1xuICB9O1xuXG4gIHZhciB2ZWN0b3JOb3JtYWxpemUgPSBmdW5jdGlvbiB2ZWN0b3JOb3JtYWxpemUodikge1xuICAgIHZhciBsID0gTWF0aC5zcXJ0KHYueCAqIHYueCArIHYueSAqIHYueSk7XG4gICAgaWYgKGwgPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVWZWN0b3Iodi54IC8gbCwgdi55IC8gbCk7XG4gIH07XG5cbiAgdmFyIHZlY3RvclJvdGF0ZSA9IGZ1bmN0aW9uIHZlY3RvclJvdGF0ZSh2LCByYWRpYW5zLCBvcmlnaW4pIHtcbiAgICB2YXIgY29zID0gTWF0aC5jb3MocmFkaWFucyk7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKHJhZGlhbnMpO1xuICAgIHZhciB0ID0gY3JlYXRlVmVjdG9yKHYueCAtIG9yaWdpbi54LCB2LnkgLSBvcmlnaW4ueSk7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3RvcihcbiAgICAgIG9yaWdpbi54ICsgY29zICogdC54IC0gc2luICogdC55LFxuICAgICAgb3JpZ2luLnkgKyBzaW4gKiB0LnggKyBjb3MgKiB0LnlcbiAgICApO1xuICB9O1xuXG4gIHZhciBjcmVhdGVWZWN0b3IgPSBmdW5jdGlvbiBjcmVhdGVWZWN0b3IoKSB7XG4gICAgdmFyIHggPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gIH07XG5cbiAgdmFyIGdldE1hcmt1cFZhbHVlID0gZnVuY3Rpb24gZ2V0TWFya3VwVmFsdWUodmFsdWUsIHNpemUpIHtcbiAgICB2YXIgc2NhbGFyID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICB2YXIgYXhpcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgKiBzY2FsYXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdmFsdWUgKiAoYXhpcyA/IHNpemVbYXhpc10gOiBNYXRoLm1pbihzaXplLndpZHRoLCBzaXplLmhlaWdodCkpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdmFyIGdldE1hcmt1cFN0eWxlcyA9IGZ1bmN0aW9uIGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUsIHNjYWxlKSB7XG4gICAgdmFyIGxpbmVTdHlsZSA9IG1hcmt1cC5ib3JkZXJTdHlsZSB8fCBtYXJrdXAubGluZVN0eWxlIHx8ICdzb2xpZCc7XG4gICAgdmFyIGZpbGwgPSBtYXJrdXAuYmFja2dyb3VuZENvbG9yIHx8IG1hcmt1cC5mb250Q29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgICB2YXIgc3Ryb2tlID0gbWFya3VwLmJvcmRlckNvbG9yIHx8IG1hcmt1cC5saW5lQ29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgICB2YXIgc3Ryb2tlV2lkdGggPSBnZXRNYXJrdXBWYWx1ZShcbiAgICAgIG1hcmt1cC5ib3JkZXJXaWR0aCB8fCBtYXJrdXAubGluZVdpZHRoLFxuICAgICAgc2l6ZSxcbiAgICAgIHNjYWxlXG4gICAgKTtcbiAgICB2YXIgbGluZUNhcCA9IG1hcmt1cC5saW5lQ2FwIHx8ICdyb3VuZCc7XG4gICAgdmFyIGxpbmVKb2luID0gbWFya3VwLmxpbmVKb2luIHx8ICdyb3VuZCc7XG4gICAgdmFyIGRhc2hlcyA9XG4gICAgICB0eXBlb2YgbGluZVN0eWxlID09PSAnc3RyaW5nJ1xuICAgICAgICA/ICcnXG4gICAgICAgIDogbGluZVN0eWxlXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldE1hcmt1cFZhbHVlKHYsIHNpemUsIHNjYWxlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignLCcpO1xuICAgIHZhciBvcGFjaXR5ID0gbWFya3VwLm9wYWNpdHkgfHwgMTtcbiAgICByZXR1cm4ge1xuICAgICAgJ3N0cm9rZS1saW5lY2FwJzogbGluZUNhcCxcbiAgICAgICdzdHJva2UtbGluZWpvaW4nOiBsaW5lSm9pbixcbiAgICAgICdzdHJva2Utd2lkdGgnOiBzdHJva2VXaWR0aCB8fCAwLFxuICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiBkYXNoZXMsXG4gICAgICBzdHJva2U6IHN0cm9rZSxcbiAgICAgIGZpbGw6IGZpbGwsXG4gICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaXNEZWZpbmVkID0gZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGw7XG4gIH07XG5cbiAgdmFyIGdldE1hcmt1cFJlY3QgPSBmdW5jdGlvbiBnZXRNYXJrdXBSZWN0KHJlY3QsIHNpemUpIHtcbiAgICB2YXIgc2NhbGFyID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgIHZhciBsZWZ0ID1cbiAgICAgIGdldE1hcmt1cFZhbHVlKHJlY3QueCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKSB8fFxuICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC5sZWZ0LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICAgIHZhciB0b3AgPVxuICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC55LCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKSB8fFxuICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC50b3AsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICAgIHZhciB3aWR0aCA9IGdldE1hcmt1cFZhbHVlKHJlY3Qud2lkdGgsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgdmFyIGhlaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QuaGVpZ2h0LCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKTtcbiAgICB2YXIgcmlnaHQgPSBnZXRNYXJrdXBWYWx1ZShyZWN0LnJpZ2h0LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICAgIHZhciBib3R0b20gPSBnZXRNYXJrdXBWYWx1ZShyZWN0LmJvdHRvbSwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG5cbiAgICBpZiAoIWlzRGVmaW5lZCh0b3ApKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKGhlaWdodCkgJiYgaXNEZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgICAgdG9wID0gc2l6ZS5oZWlnaHQgLSBoZWlnaHQgLSBib3R0b207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3AgPSBib3R0b207XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc0RlZmluZWQobGVmdCkpIHtcbiAgICAgIGlmIChpc0RlZmluZWQod2lkdGgpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgbGVmdCA9IHNpemUud2lkdGggLSB3aWR0aCAtIHJpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKHdpZHRoKSkge1xuICAgICAgaWYgKGlzRGVmaW5lZChsZWZ0KSAmJiBpc0RlZmluZWQocmlnaHQpKSB7XG4gICAgICAgIHdpZHRoID0gc2l6ZS53aWR0aCAtIGxlZnQgLSByaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZChoZWlnaHQpKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHRvcCkgJiYgaXNEZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgICAgaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSB0b3AgLSBib3R0b207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiBsZWZ0IHx8IDAsXG4gICAgICB5OiB0b3AgfHwgMCxcbiAgICAgIHdpZHRoOiB3aWR0aCB8fCAwLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgMFxuICAgIH07XG4gIH07XG5cbiAgdmFyIHBvaW50c1RvUGF0aFNoYXBlID0gZnVuY3Rpb24gcG9pbnRzVG9QYXRoU2hhcGUocG9pbnRzKSB7XG4gICAgcmV0dXJuIHBvaW50c1xuICAgICAgLm1hcChmdW5jdGlvbihwb2ludCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgLmNvbmNhdChpbmRleCA9PT0gMCA/ICdNJyA6ICdMJywgJyAnKVxuICAgICAgICAgIC5jb25jYXQocG9pbnQueCwgJyAnKVxuICAgICAgICAgIC5jb25jYXQocG9pbnQueSk7XG4gICAgICB9KVxuICAgICAgLmpvaW4oJyAnKTtcbiAgfTtcblxuICB2YXIgc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhhdHRyKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cltrZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgbnMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICB2YXIgc3ZnID0gZnVuY3Rpb24gc3ZnKHRhZywgYXR0cikge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0YWcpO1xuICAgIGlmIChhdHRyKSB7XG4gICAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHIpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfTtcblxuICB2YXIgdXBkYXRlUmVjdCA9IGZ1bmN0aW9uIHVwZGF0ZVJlY3QoZWxlbWVudCkge1xuICAgIHJldHVybiBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQucmVjdCwgZWxlbWVudC5zdHlsZXMpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgdXBkYXRlRWxsaXBzZSA9IGZ1bmN0aW9uIHVwZGF0ZUVsbGlwc2UoZWxlbWVudCkge1xuICAgIHZhciBjeCA9IGVsZW1lbnQucmVjdC54ICsgZWxlbWVudC5yZWN0LndpZHRoICogMC41O1xuICAgIHZhciBjeSA9IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgICB2YXIgcnggPSBlbGVtZW50LnJlY3Qud2lkdGggKiAwLjU7XG4gICAgdmFyIHJ5ID0gZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgICByZXR1cm4gc2V0QXR0cmlidXRlcyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgY3g6IGN4LFxuICAgICAgICAgIGN5OiBjeSxcbiAgICAgICAgICByeDogcngsXG4gICAgICAgICAgcnk6IHJ5XG4gICAgICAgIH0sXG4gICAgICAgIGVsZW1lbnQuc3R5bGVzXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICB2YXIgSU1BR0VfRklUX1NUWUxFID0ge1xuICAgIGNvbnRhaW46ICd4TWlkWU1pZCBtZWV0JyxcbiAgICBjb3ZlcjogJ3hNaWRZTWlkIHNsaWNlJ1xuICB9O1xuXG4gIHZhciB1cGRhdGVJbWFnZSA9IGZ1bmN0aW9uIHVwZGF0ZUltYWdlKGVsZW1lbnQsIG1hcmt1cCkge1xuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcywge1xuICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBJTUFHRV9GSVRfU1RZTEVbbWFya3VwLmZpdF0gfHwgJ25vbmUnXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgdmFyIFRFWFRfQU5DSE9SID0ge1xuICAgIGxlZnQ6ICdzdGFydCcsXG4gICAgY2VudGVyOiAnbWlkZGxlJyxcbiAgICByaWdodDogJ2VuZCdcbiAgfTtcblxuICB2YXIgdXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkge1xuICAgIHZhciBmb250U2l6ZSA9IGdldE1hcmt1cFZhbHVlKG1hcmt1cC5mb250U2l6ZSwgc2l6ZSwgc2NhbGUpO1xuICAgIHZhciBmb250RmFtaWx5ID0gbWFya3VwLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICAgIHZhciBmb250V2VpZ2h0ID0gbWFya3VwLmZvbnRXZWlnaHQgfHwgJ25vcm1hbCc7XG4gICAgdmFyIHRleHRBbGlnbiA9IFRFWFRfQU5DSE9SW21hcmt1cC50ZXh0QWxpZ25dIHx8ICdzdGFydCc7XG5cbiAgICBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQucmVjdCwgZWxlbWVudC5zdHlsZXMsIHtcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAsXG4gICAgICAgICdmb250LXdlaWdodCc6IGZvbnRXZWlnaHQsXG4gICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogZm9udEZhbWlseSxcbiAgICAgICAgJ3RleHQtYW5jaG9yJzogdGV4dEFsaWduXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyB1cGRhdGUgdGV4dFxuICAgIGlmIChlbGVtZW50LnRleHQgIT09IG1hcmt1cC50ZXh0KSB7XG4gICAgICBlbGVtZW50LnRleHQgPSBtYXJrdXAudGV4dDtcbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBtYXJrdXAudGV4dC5sZW5ndGggPyBtYXJrdXAudGV4dCA6ICcgJztcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUxpbmUgPSBmdW5jdGlvbiB1cGRhdGVMaW5lKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpIHtcbiAgICBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQucmVjdCwgZWxlbWVudC5zdHlsZXMsIHtcbiAgICAgICAgZmlsbDogJ25vbmUnXG4gICAgICB9KVxuICAgICk7XG5cbiAgICB2YXIgbGluZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgICB2YXIgYmVnaW4gPSBlbGVtZW50LmNoaWxkTm9kZXNbMV07XG4gICAgdmFyIGVuZCA9IGVsZW1lbnQuY2hpbGROb2Rlc1syXTtcblxuICAgIHZhciBvcmlnaW4gPSBlbGVtZW50LnJlY3Q7XG5cbiAgICB2YXIgdGFyZ2V0ID0ge1xuICAgICAgeDogZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGgsXG4gICAgICB5OiBlbGVtZW50LnJlY3QueSArIGVsZW1lbnQucmVjdC5oZWlnaHRcbiAgICB9O1xuXG4gICAgc2V0QXR0cmlidXRlcyhsaW5lLCB7XG4gICAgICB4MTogb3JpZ2luLngsXG4gICAgICB5MTogb3JpZ2luLnksXG4gICAgICB4MjogdGFyZ2V0LngsXG4gICAgICB5MjogdGFyZ2V0LnlcbiAgICB9KTtcblxuICAgIGlmICghbWFya3VwLmxpbmVEZWNvcmF0aW9uKSByZXR1cm47XG5cbiAgICBiZWdpbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGVuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdmFyIHYgPSB2ZWN0b3JOb3JtYWxpemUoe1xuICAgICAgeDogdGFyZ2V0LnggLSBvcmlnaW4ueCxcbiAgICAgIHk6IHRhcmdldC55IC0gb3JpZ2luLnlcbiAgICB9KTtcblxuICAgIHZhciBsID0gZ2V0TWFya3VwVmFsdWUoMC4wNSwgc2l6ZSwgc2NhbGUpO1xuXG4gICAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1iZWdpbicpICE9PSAtMSkge1xuICAgICAgdmFyIGFycm93QmVnaW5Sb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgbCk7XG4gICAgICB2YXIgYXJyb3dCZWdpbkNlbnRlciA9IHZlY3RvckFkZChvcmlnaW4sIGFycm93QmVnaW5Sb3RhdGlvblBvaW50KTtcbiAgICAgIHZhciBhcnJvd0JlZ2luQSA9IHZlY3RvclJvdGF0ZShvcmlnaW4sIDIsIGFycm93QmVnaW5DZW50ZXIpO1xuICAgICAgdmFyIGFycm93QmVnaW5CID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgLTIsIGFycm93QmVnaW5DZW50ZXIpO1xuXG4gICAgICBzZXRBdHRyaWJ1dGVzKGJlZ2luLCB7XG4gICAgICAgIHN0eWxlOiAnZGlzcGxheTpibG9jazsnLFxuICAgICAgICBkOiAnTSdcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5BLngsICcsJylcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5BLnksICcgTCcpXG4gICAgICAgICAgLmNvbmNhdChvcmlnaW4ueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQob3JpZ2luLnksICcgTCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0JlZ2luQi54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0JlZ2luQi55KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1lbmQnKSAhPT0gLTEpIHtcbiAgICAgIHZhciBhcnJvd0VuZFJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCAtbCk7XG4gICAgICB2YXIgYXJyb3dFbmRDZW50ZXIgPSB2ZWN0b3JBZGQodGFyZ2V0LCBhcnJvd0VuZFJvdGF0aW9uUG9pbnQpO1xuICAgICAgdmFyIGFycm93RW5kQSA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIDIsIGFycm93RW5kQ2VudGVyKTtcbiAgICAgIHZhciBhcnJvd0VuZEIgPSB2ZWN0b3JSb3RhdGUodGFyZ2V0LCAtMiwgYXJyb3dFbmRDZW50ZXIpO1xuXG4gICAgICBzZXRBdHRyaWJ1dGVzKGVuZCwge1xuICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6YmxvY2s7JyxcbiAgICAgICAgZDogJ00nXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEEueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQoYXJyb3dFbmRBLnksICcgTCcpXG4gICAgICAgICAgLmNvbmNhdCh0YXJnZXQueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQodGFyZ2V0LnksICcgTCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEIueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQoYXJyb3dFbmRCLnkpXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVBhdGggPSBmdW5jdGlvbiB1cGRhdGVQYXRoKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpIHtcbiAgICBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQuc3R5bGVzLCB7XG4gICAgICAgIGZpbGw6ICdub25lJyxcbiAgICAgICAgZDogcG9pbnRzVG9QYXRoU2hhcGUoXG4gICAgICAgICAgbWFya3VwLnBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHg6IGdldE1hcmt1cFZhbHVlKHBvaW50LngsIHNpemUsIHNjYWxlLCAnd2lkdGgnKSxcbiAgICAgICAgICAgICAgeTogZ2V0TWFya3VwVmFsdWUocG9pbnQueSwgc2l6ZSwgc2NhbGUsICdoZWlnaHQnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNoYXBlID0gZnVuY3Rpb24gY3JlYXRlU2hhcGUobm9kZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgIHJldHVybiBzdmcobm9kZSwgeyBpZDogbWFya3VwLmlkIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUltYWdlID0gZnVuY3Rpb24gY3JlYXRlSW1hZ2UobWFya3VwKSB7XG4gICAgdmFyIHNoYXBlID0gc3ZnKCdpbWFnZScsIHtcbiAgICAgIGlkOiBtYXJrdXAuaWQsXG4gICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgJ3N0cm9rZS1saW5lam9pbic6ICdyb3VuZCcsXG4gICAgICBvcGFjaXR5OiAnMCdcbiAgICB9KTtcblxuICAgIHNoYXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2hhcGUuc2V0QXR0cmlidXRlKCdvcGFjaXR5JywgbWFya3VwLm9wYWNpdHkgfHwgMSk7XG4gICAgfTtcbiAgICBzaGFwZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcbiAgICAgICd4bGluazpocmVmJyxcbiAgICAgIG1hcmt1cC5zcmNcbiAgICApO1xuICAgIHJldHVybiBzaGFwZTtcbiAgfTtcblxuICB2YXIgY3JlYXRlTGluZSA9IGZ1bmN0aW9uIGNyZWF0ZUxpbmUobWFya3VwKSB7XG4gICAgdmFyIHNoYXBlID0gc3ZnKCdnJywge1xuICAgICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJ1xuICAgIH0pO1xuXG4gICAgdmFyIGxpbmUgPSBzdmcoJ2xpbmUnKTtcbiAgICBzaGFwZS5hcHBlbmRDaGlsZChsaW5lKTtcblxuICAgIHZhciBiZWdpbiA9IHN2ZygncGF0aCcpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGJlZ2luKTtcblxuICAgIHZhciBlbmQgPSBzdmcoJ3BhdGgnKTtcbiAgICBzaGFwZS5hcHBlbmRDaGlsZChlbmQpO1xuXG4gICAgcmV0dXJuIHNoYXBlO1xuICB9O1xuXG4gIHZhciBDUkVBVEVfVFlQRV9ST1VURVMgPSB7XG4gICAgaW1hZ2U6IGNyZWF0ZUltYWdlLFxuICAgIHJlY3Q6IGNyZWF0ZVNoYXBlKCdyZWN0JyksXG4gICAgZWxsaXBzZTogY3JlYXRlU2hhcGUoJ2VsbGlwc2UnKSxcbiAgICB0ZXh0OiBjcmVhdGVTaGFwZSgndGV4dCcpLFxuICAgIHBhdGg6IGNyZWF0ZVNoYXBlKCdwYXRoJyksXG4gICAgbGluZTogY3JlYXRlTGluZVxuICB9O1xuXG4gIHZhciBVUERBVEVfVFlQRV9ST1VURVMgPSB7XG4gICAgcmVjdDogdXBkYXRlUmVjdCxcbiAgICBlbGxpcHNlOiB1cGRhdGVFbGxpcHNlLFxuICAgIGltYWdlOiB1cGRhdGVJbWFnZSxcbiAgICB0ZXh0OiB1cGRhdGVUZXh0LFxuICAgIHBhdGg6IHVwZGF0ZVBhdGgsXG4gICAgbGluZTogdXBkYXRlTGluZVxuICB9O1xuXG4gIHZhciBjcmVhdGVNYXJrdXBCeVR5cGUgPSBmdW5jdGlvbiBjcmVhdGVNYXJrdXBCeVR5cGUodHlwZSwgbWFya3VwKSB7XG4gICAgcmV0dXJuIENSRUFURV9UWVBFX1JPVVRFU1t0eXBlXShtYXJrdXApO1xuICB9O1xuXG4gIHZhciB1cGRhdGVNYXJrdXBCeVR5cGUgPSBmdW5jdGlvbiB1cGRhdGVNYXJrdXBCeVR5cGUoXG4gICAgZWxlbWVudCxcbiAgICB0eXBlLFxuICAgIG1hcmt1cCxcbiAgICBzaXplLFxuICAgIHNjYWxlXG4gICkge1xuICAgIGlmICh0eXBlICE9PSAncGF0aCcpIHtcbiAgICAgIGVsZW1lbnQucmVjdCA9IGdldE1hcmt1cFJlY3QobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xuICAgIFVQREFURV9UWVBFX1JPVVRFU1t0eXBlXShlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgfTtcblxuICB2YXIgTUFSS1VQX1JFQ1QgPSBbXG4gICAgJ3gnLFxuICAgICd5JyxcbiAgICAnbGVmdCcsXG4gICAgJ3RvcCcsXG4gICAgJ3JpZ2h0JyxcbiAgICAnYm90dG9tJyxcbiAgICAnd2lkdGgnLFxuICAgICdoZWlnaHQnXG4gIF07XG5cbiAgdmFyIHRvT3B0aW9uYWxGcmFjdGlvbiA9IGZ1bmN0aW9uIHRvT3B0aW9uYWxGcmFjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIC8lLy50ZXN0KHZhbHVlKVxuICAgICAgPyBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMFxuICAgICAgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBhZGRzIGRlZmF1bHQgbWFya3VwIHByb3BlcnRpZXMsIGNsb25lcyBtYXJrdXBcbiAgdmFyIHByZXBhcmVNYXJrdXAgPSBmdW5jdGlvbiBwcmVwYXJlTWFya3VwKG1hcmt1cCkge1xuICAgIHZhciBfbWFya3VwID0gX3NsaWNlZFRvQXJyYXkobWFya3VwLCAyKSxcbiAgICAgIHR5cGUgPSBfbWFya3VwWzBdLFxuICAgICAgcHJvcHMgPSBfbWFya3VwWzFdO1xuXG4gICAgdmFyIHJlY3QgPSBwcm9wcy5wb2ludHNcbiAgICAgID8ge31cbiAgICAgIDogTUFSS1VQX1JFQ1QucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cnIpIHtcbiAgICAgICAgICBwcmV2W2N1cnJdID0gdG9PcHRpb25hbEZyYWN0aW9uKHByb3BzW2N1cnJdKTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSwge30pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIHR5cGUsXG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgekluZGV4OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzLFxuICAgICAgICByZWN0XG4gICAgICApXG4gICAgXTtcbiAgfTtcblxuICB2YXIgc29ydE1hcmt1cEJ5WkluZGV4ID0gZnVuY3Rpb24gc29ydE1hcmt1cEJ5WkluZGV4KGEsIGIpIHtcbiAgICBpZiAoYVsxXS56SW5kZXggPiBiWzFdLnpJbmRleCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChhWzFdLnpJbmRleCA8IGJbMV0uekluZGV4KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNYXJrdXBWaWV3ID0gZnVuY3Rpb24gY3JlYXRlTWFya3VwVmlldyhfKSB7XG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtcHJldmlldy1tYXJrdXAnLFxuICAgICAgdGFnOiAnc3ZnJyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWyd3aWR0aCcsICdoZWlnaHQnLCAnY3JvcCcsICdtYXJrdXAnLCAncmVzaXplJywgJ2RpcnR5J11cbiAgICAgIH0sXG5cbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgICAgICBpZiAoIXByb3BzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHZhciBjcm9wID0gcHJvcHMuY3JvcCxcbiAgICAgICAgICByZXNpemUgPSBwcm9wcy5yZXNpemUsXG4gICAgICAgICAgbWFya3VwID0gcHJvcHMubWFya3VwO1xuXG4gICAgICAgIHZhciB2aWV3V2lkdGggPSBwcm9wcy53aWR0aDtcbiAgICAgICAgdmFyIHZpZXdIZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGNyb3BXaWR0aCA9IGNyb3Aud2lkdGg7XG4gICAgICAgIHZhciBjcm9wSGVpZ2h0ID0gY3JvcC5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJlc2l6ZSkge1xuICAgICAgICAgIHZhciBfc2l6ZSA9IHJlc2l6ZS5zaXplO1xuXG4gICAgICAgICAgdmFyIG91dHB1dFdpZHRoID0gX3NpemUgJiYgX3NpemUud2lkdGg7XG4gICAgICAgICAgdmFyIG91dHB1dEhlaWdodCA9IF9zaXplICYmIF9zaXplLmhlaWdodDtcbiAgICAgICAgICB2YXIgb3V0cHV0Rml0ID0gcmVzaXplLm1vZGU7XG4gICAgICAgICAgdmFyIG91dHB1dFVwc2NhbGUgPSByZXNpemUudXBzY2FsZTtcblxuICAgICAgICAgIGlmIChvdXRwdXRXaWR0aCAmJiAhb3V0cHV0SGVpZ2h0KSBvdXRwdXRIZWlnaHQgPSBvdXRwdXRXaWR0aDtcbiAgICAgICAgICBpZiAob3V0cHV0SGVpZ2h0ICYmICFvdXRwdXRXaWR0aCkgb3V0cHV0V2lkdGggPSBvdXRwdXRIZWlnaHQ7XG5cbiAgICAgICAgICB2YXIgc2hvdWxkVXBzY2FsZSA9XG4gICAgICAgICAgICBjcm9wV2lkdGggPCBvdXRwdXRXaWR0aCAmJiBjcm9wSGVpZ2h0IDwgb3V0cHV0SGVpZ2h0O1xuXG4gICAgICAgICAgaWYgKCFzaG91bGRVcHNjYWxlIHx8IChzaG91bGRVcHNjYWxlICYmIG91dHB1dFVwc2NhbGUpKSB7XG4gICAgICAgICAgICB2YXIgc2NhbGFyV2lkdGggPSBvdXRwdXRXaWR0aCAvIGNyb3BXaWR0aDtcbiAgICAgICAgICAgIHZhciBzY2FsYXJIZWlnaHQgPSBvdXRwdXRIZWlnaHQgLyBjcm9wSGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0Rml0ID09PSAnZm9yY2UnKSB7XG4gICAgICAgICAgICAgIGNyb3BXaWR0aCA9IG91dHB1dFdpZHRoO1xuICAgICAgICAgICAgICBjcm9wSGVpZ2h0ID0gb3V0cHV0SGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHNjYWxhcjtcbiAgICAgICAgICAgICAgaWYgKG91dHB1dEZpdCA9PT0gJ2NvdmVyJykge1xuICAgICAgICAgICAgICAgIHNjYWxhciA9IE1hdGgubWF4KHNjYWxhcldpZHRoLCBzY2FsYXJIZWlnaHQpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dEZpdCA9PT0gJ2NvbnRhaW4nKSB7XG4gICAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5taW4oc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3JvcFdpZHRoID0gY3JvcFdpZHRoICogc2NhbGFyO1xuICAgICAgICAgICAgICBjcm9wSGVpZ2h0ID0gY3JvcEhlaWdodCAqIHNjYWxhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2l6ZSA9IHtcbiAgICAgICAgICB3aWR0aDogdmlld1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdmlld0hlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHJvb3QuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc2l6ZS53aWR0aCk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHNpemUuaGVpZ2h0KTtcblxuICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbih2aWV3V2lkdGggLyBjcm9wV2lkdGgsIHZpZXdIZWlnaHQgLyBjcm9wSGVpZ2h0KTtcblxuICAgICAgICAvLyBjbGVhclxuICAgICAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgLy8gZ2V0IGZpbHRlclxuICAgICAgICB2YXIgbWFya3VwRmlsdGVyID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX0ZJTFRFUicpO1xuXG4gICAgICAgIC8vIGRyYXcgbmV3XG4gICAgICAgIG1hcmt1cFxuICAgICAgICAgIC5maWx0ZXIobWFya3VwRmlsdGVyKVxuICAgICAgICAgIC5tYXAocHJlcGFyZU1hcmt1cClcbiAgICAgICAgICAuc29ydChzb3J0TWFya3VwQnlaSW5kZXgpXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24obWFya3VwKSB7XG4gICAgICAgICAgICB2YXIgX21hcmt1cCA9IF9zbGljZWRUb0FycmF5KG1hcmt1cCwgMiksXG4gICAgICAgICAgICAgIHR5cGUgPSBfbWFya3VwWzBdLFxuICAgICAgICAgICAgICBzZXR0aW5ncyA9IF9tYXJrdXBbMV07XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVNYXJrdXBCeVR5cGUodHlwZSwgc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgICAgIHVwZGF0ZU1hcmt1cEJ5VHlwZShlbGVtZW50LCB0eXBlLCBzZXR0aW5ncywgc2l6ZSwgc2NhbGUpO1xuXG4gICAgICAgICAgICAvLyBhZGRcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlVmVjdG9yJDEgPSBmdW5jdGlvbiBjcmVhdGVWZWN0b3IoeCwgeSkge1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgfTtcblxuICB2YXIgdmVjdG9yRG90ID0gZnVuY3Rpb24gdmVjdG9yRG90KGEsIGIpIHtcbiAgICByZXR1cm4gYS54ICogYi54ICsgYS55ICogYi55O1xuICB9O1xuXG4gIHZhciB2ZWN0b3JTdWJ0cmFjdCA9IGZ1bmN0aW9uIHZlY3RvclN1YnRyYWN0KGEsIGIpIHtcbiAgICByZXR1cm4gY3JlYXRlVmVjdG9yJDEoYS54IC0gYi54LCBhLnkgLSBiLnkpO1xuICB9O1xuXG4gIHZhciB2ZWN0b3JEaXN0YW5jZVNxdWFyZWQgPSBmdW5jdGlvbiB2ZWN0b3JEaXN0YW5jZVNxdWFyZWQoYSwgYikge1xuICAgIHJldHVybiB2ZWN0b3JEb3QodmVjdG9yU3VidHJhY3QoYSwgYiksIHZlY3RvclN1YnRyYWN0KGEsIGIpKTtcbiAgfTtcblxuICB2YXIgdmVjdG9yRGlzdGFuY2UgPSBmdW5jdGlvbiB2ZWN0b3JEaXN0YW5jZShhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh2ZWN0b3JEaXN0YW5jZVNxdWFyZWQoYSwgYikpO1xuICB9O1xuXG4gIHZhciBnZXRPZmZzZXRQb2ludE9uRWRnZSA9IGZ1bmN0aW9uIGdldE9mZnNldFBvaW50T25FZGdlKGxlbmd0aCwgcm90YXRpb24pIHtcbiAgICB2YXIgYSA9IGxlbmd0aDtcblxuICAgIHZhciBBID0gMS41NzA3OTYzMjY3OTQ4OTY2O1xuICAgIHZhciBCID0gcm90YXRpb247XG4gICAgdmFyIEMgPSAxLjU3MDc5NjMyNjc5NDg5NjYgLSByb3RhdGlvbjtcblxuICAgIHZhciBzaW5BID0gTWF0aC5zaW4oQSk7XG4gICAgdmFyIHNpbkIgPSBNYXRoLnNpbihCKTtcbiAgICB2YXIgc2luQyA9IE1hdGguc2luKEMpO1xuICAgIHZhciBjb3NDID0gTWF0aC5jb3MoQyk7XG4gICAgdmFyIHJhdGlvID0gYSAvIHNpbkE7XG4gICAgdmFyIGIgPSByYXRpbyAqIHNpbkI7XG4gICAgdmFyIGMgPSByYXRpbyAqIHNpbkM7XG5cbiAgICByZXR1cm4gY3JlYXRlVmVjdG9yJDEoY29zQyAqIGIsIGNvc0MgKiBjKTtcbiAgfTtcblxuICB2YXIgZ2V0Um90YXRlZFJlY3RTaXplID0gZnVuY3Rpb24gZ2V0Um90YXRlZFJlY3RTaXplKHJlY3QsIHJvdGF0aW9uKSB7XG4gICAgdmFyIHcgPSByZWN0LndpZHRoO1xuICAgIHZhciBoID0gcmVjdC5oZWlnaHQ7XG5cbiAgICB2YXIgaG9yID0gZ2V0T2Zmc2V0UG9pbnRPbkVkZ2Uodywgcm90YXRpb24pO1xuICAgIHZhciB2ZXIgPSBnZXRPZmZzZXRQb2ludE9uRWRnZShoLCByb3RhdGlvbik7XG5cbiAgICB2YXIgdGwgPSBjcmVhdGVWZWN0b3IkMShyZWN0LnggKyBNYXRoLmFicyhob3IueCksIHJlY3QueSAtIE1hdGguYWJzKGhvci55KSk7XG5cbiAgICB2YXIgdHIgPSBjcmVhdGVWZWN0b3IkMShcbiAgICAgIHJlY3QueCArIHJlY3Qud2lkdGggKyBNYXRoLmFicyh2ZXIueSksXG4gICAgICByZWN0LnkgKyBNYXRoLmFicyh2ZXIueClcbiAgICApO1xuXG4gICAgdmFyIGJsID0gY3JlYXRlVmVjdG9yJDEoXG4gICAgICByZWN0LnggLSBNYXRoLmFicyh2ZXIueSksXG4gICAgICByZWN0LnkgKyByZWN0LmhlaWdodCAtIE1hdGguYWJzKHZlci54KVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHZlY3RvckRpc3RhbmNlKHRsLCB0ciksXG4gICAgICBoZWlnaHQ6IHZlY3RvckRpc3RhbmNlKHRsLCBibClcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVDYW52YXNTaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlQ2FudmFzU2l6ZShcbiAgICBpbWFnZSxcbiAgICBjYW52YXNBc3BlY3RSYXRpb1xuICApIHtcbiAgICB2YXIgem9vbSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG5cbiAgICB2YXIgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGFjdHVhbCBwaXhlbHMgb24geCBhbmQgeSBheGlzXG4gICAgdmFyIGNhbnZhc1dpZHRoID0gMTtcbiAgICB2YXIgY2FudmFzSGVpZ2h0ID0gY2FudmFzQXNwZWN0UmF0aW87XG4gICAgdmFyIGltZ1dpZHRoID0gMTtcbiAgICB2YXIgaW1nSGVpZ2h0ID0gaW1hZ2VBc3BlY3RSYXRpbztcbiAgICBpZiAoaW1nSGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XG4gICAgICBpbWdIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICBpbWdXaWR0aCA9IGltZ0hlaWdodCAvIGltYWdlQXNwZWN0UmF0aW87XG4gICAgfVxuXG4gICAgdmFyIHNjYWxhciA9IE1hdGgubWF4KGNhbnZhc1dpZHRoIC8gaW1nV2lkdGgsIGNhbnZhc0hlaWdodCAvIGltZ0hlaWdodCk7XG4gICAgdmFyIHdpZHRoID0gaW1hZ2Uud2lkdGggLyAoem9vbSAqIHNjYWxhciAqIGltZ1dpZHRoKTtcbiAgICB2YXIgaGVpZ2h0ID0gd2lkdGggKiBjYW52YXNBc3BlY3RSYXRpbztcblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldEltYWdlUmVjdFpvb21GYWN0b3IgPSBmdW5jdGlvbiBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgIGltYWdlUmVjdCxcbiAgICBjcm9wUmVjdCxcbiAgICByb3RhdGlvbixcbiAgICBjZW50ZXJcbiAgKSB7XG4gICAgLy8gY2FsY3VsYXRlIGF2YWlsYWJsZSBzcGFjZSByb3VuZCBpbWFnZSBjZW50ZXIgcG9zaXRpb25cbiAgICB2YXIgY3ggPSBjZW50ZXIueCA+IDAuNSA/IDEgLSBjZW50ZXIueCA6IGNlbnRlci54O1xuICAgIHZhciBjeSA9IGNlbnRlci55ID4gMC41ID8gMSAtIGNlbnRlci55IDogY2VudGVyLnk7XG4gICAgdmFyIGltYWdlV2lkdGggPSBjeCAqIDIgKiBpbWFnZVJlY3Qud2lkdGg7XG4gICAgdmFyIGltYWdlSGVpZ2h0ID0gY3kgKiAyICogaW1hZ2VSZWN0LmhlaWdodDtcblxuICAgIC8vIGNhbGN1bGF0ZSByb3RhdGVkIGNyb3AgcmVjdGFuZ2xlIHNpemVcbiAgICB2YXIgcm90YXRlZENyb3BTaXplID0gZ2V0Um90YXRlZFJlY3RTaXplKGNyb3BSZWN0LCByb3RhdGlvbik7XG5cbiAgICAvLyBjYWxjdWxhdGUgc2NhbGFyIHJlcXVpcmVkIHRvIGZpdCBpbWFnZVxuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgIHJvdGF0ZWRDcm9wU2l6ZS53aWR0aCAvIGltYWdlV2lkdGgsXG4gICAgICByb3RhdGVkQ3JvcFNpemUuaGVpZ2h0IC8gaW1hZ2VIZWlnaHRcbiAgICApO1xuICB9O1xuXG4gIHZhciBnZXRDZW50ZXJlZENyb3BSZWN0ID0gZnVuY3Rpb24gZ2V0Q2VudGVyZWRDcm9wUmVjdChcbiAgICBjb250YWluZXIsXG4gICAgYXNwZWN0UmF0aW9cbiAgKSB7XG4gICAgdmFyIHdpZHRoID0gY29udGFpbmVyLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIGFzcGVjdFJhdGlvO1xuICAgIGlmIChoZWlnaHQgPiBjb250YWluZXIuaGVpZ2h0KSB7XG4gICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0O1xuICAgICAgd2lkdGggPSBoZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgICB9XG4gICAgdmFyIHggPSAoY29udGFpbmVyLndpZHRoIC0gd2lkdGgpICogMC41O1xuICAgIHZhciB5ID0gKGNvbnRhaW5lci5oZWlnaHQgLSBoZWlnaHQpICogMC41O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRDdXJyZW50Q3JvcFNpemUgPSBmdW5jdGlvbiBnZXRDdXJyZW50Q3JvcFNpemUoaW1hZ2VTaXplKSB7XG4gICAgdmFyIGNyb3AgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgem9vbSA9IGNyb3Auem9vbSxcbiAgICAgIHJvdGF0aW9uID0gY3JvcC5yb3RhdGlvbixcbiAgICAgIGNlbnRlciA9IGNyb3AuY2VudGVyLFxuICAgICAgYXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvO1xuXG4gICAgaWYgKCFhc3BlY3RSYXRpbykgYXNwZWN0UmF0aW8gPSBpbWFnZVNpemUuaGVpZ2h0IC8gaW1hZ2VTaXplLndpZHRoO1xuXG4gICAgdmFyIGNhbnZhc1NpemUgPSBjYWxjdWxhdGVDYW52YXNTaXplKGltYWdlU2l6ZSwgYXNwZWN0UmF0aW8sIHpvb20pO1xuXG4gICAgdmFyIGNhbnZhc0NlbnRlciA9IHtcbiAgICAgIHg6IGNhbnZhc1NpemUud2lkdGggKiAwLjUsXG4gICAgICB5OiBjYW52YXNTaXplLmhlaWdodCAqIDAuNVxuICAgIH07XG5cbiAgICB2YXIgc3RhZ2UgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBjYW52YXNTaXplLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjYW52YXNTaXplLmhlaWdodCxcbiAgICAgIGNlbnRlcjogY2FudmFzQ2VudGVyXG4gICAgfTtcblxuICAgIHZhciBzaG91bGRMaW1pdCA9IHR5cGVvZiBjcm9wLnNjYWxlVG9GaXQgPT09ICd1bmRlZmluZWQnIHx8IGNyb3Auc2NhbGVUb0ZpdDtcblxuICAgIHZhciBzdGFnZVpvb21GYWN0b3IgPSBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgICAgaW1hZ2VTaXplLFxuICAgICAgZ2V0Q2VudGVyZWRDcm9wUmVjdChzdGFnZSwgYXNwZWN0UmF0aW8pLFxuICAgICAgcm90YXRpb24sXG4gICAgICBzaG91bGRMaW1pdCA/IGNlbnRlciA6IHsgeDogMC41LCB5OiAwLjUgfVxuICAgICk7XG5cbiAgICB2YXIgc2NhbGUgPSB6b29tICogc3RhZ2Vab29tRmFjdG9yO1xuXG4gICAgLy8gc3RhcnQgZHJhd2luZ1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aEZsb2F0OiBjYW52YXNTaXplLndpZHRoIC8gc2NhbGUsXG4gICAgICBoZWlnaHRGbG9hdDogY2FudmFzU2l6ZS5oZWlnaHQgLyBzY2FsZSxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGNhbnZhc1NpemUud2lkdGggLyBzY2FsZSksXG4gICAgICBoZWlnaHQ6IE1hdGgucm91bmQoY2FudmFzU2l6ZS5oZWlnaHQgLyBzY2FsZSlcbiAgICB9O1xuICB9O1xuXG4gIHZhciBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMgPSB7XG4gICAgdHlwZTogJ3NwcmluZycsXG4gICAgc3RpZmZuZXNzOiAwLjUsXG4gICAgZGFtcGluZzogMC40NSxcbiAgICBtYXNzOiAxMFxuICB9O1xuXG4gIC8vIGRvZXMgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgZmxpcHBpbmdcbiAgdmFyIGNyZWF0ZUJpdG1hcFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVCaXRtYXBWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdpbWFnZS1iaXRtYXAnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIG1peGluczogeyBzdHlsZXM6IFsnc2NhbGVYJywgJ3NjYWxlWSddIH0sXG4gICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChwcm9wcy5pbWFnZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gc2hpZnRzIGFuZCByb3RhdGVzIGltYWdlXG4gIHZhciBjcmVhdGVJbWFnZUNhbnZhc1dyYXBwZXIgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZUNhbnZhc1dyYXBwZXIoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLWNhbnZhcy13cmFwcGVyJyxcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnY3JvcCcsICd3aWR0aCcsICdoZWlnaHQnXSxcblxuICAgICAgICBzdHlsZXM6IFtcbiAgICAgICAgICAnb3JpZ2luWCcsXG4gICAgICAgICAgJ29yaWdpblknLFxuICAgICAgICAgICd0cmFuc2xhdGVYJyxcbiAgICAgICAgICAndHJhbnNsYXRlWScsXG4gICAgICAgICAgJ3NjYWxlWCcsXG4gICAgICAgICAgJ3NjYWxlWScsXG4gICAgICAgICAgJ3JvdGF0ZVonXG4gICAgICAgIF0sXG5cbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9yaWdpblg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBvcmlnaW5ZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgc2NhbGVYOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgc2NhbGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgdHJhbnNsYXRlWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICByb3RhdGVaOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFNcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgICAgIHByb3BzLndpZHRoID0gcHJvcHMuaW1hZ2Uud2lkdGg7XG4gICAgICAgIHByb3BzLmhlaWdodCA9IHByb3BzLmltYWdlLmhlaWdodDtcbiAgICAgICAgcm9vdC5yZWYuYml0bWFwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoY3JlYXRlQml0bWFwVmlldyhfKSwgeyBpbWFnZTogcHJvcHMuaW1hZ2UgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgICAgIHZhciBmbGlwID0gcHJvcHMuY3JvcC5mbGlwO1xuICAgICAgICB2YXIgYml0bWFwID0gcm9vdC5yZWYuYml0bWFwO1xuICAgICAgICBiaXRtYXAuc2NhbGVYID0gZmxpcC5ob3Jpem9udGFsID8gLTEgOiAxO1xuICAgICAgICBiaXRtYXAuc2NhbGVZID0gZmxpcC52ZXJ0aWNhbCA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyBjbGlwcyBjYW52YXMgdG8gY29ycmVjdCBhc3BlY3QgcmF0aW9cbiAgdmFyIGNyZWF0ZUNsaXBWaWV3ID0gZnVuY3Rpb24gY3JlYXRlQ2xpcFZpZXcoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLWNsaXAnLFxuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogW1xuICAgICAgICAgICdjcm9wJyxcbiAgICAgICAgICAnbWFya3VwJyxcbiAgICAgICAgICAncmVzaXplJyxcbiAgICAgICAgICAnd2lkdGgnLFxuICAgICAgICAgICdoZWlnaHQnLFxuICAgICAgICAgICdkaXJ0eScsXG4gICAgICAgICAgJ2JhY2tncm91bmQnXG4gICAgICAgIF0sXG5cbiAgICAgICAgc3R5bGVzOiBbJ3dpZHRoJywgJ2hlaWdodCcsICdvcGFjaXR5J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBkaWRXcml0ZVZpZXc6IGZ1bmN0aW9uIGRpZFdyaXRlVmlldyhfcmVmNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmNC5wcm9wcztcbiAgICAgICAgaWYgKCFwcm9wcy5iYWNrZ3JvdW5kKSByZXR1cm47XG4gICAgICAgIHJvb3QuZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwcm9wcy5iYWNrZ3JvdW5kO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuXG4gICAgICAgIHJvb3QucmVmLmltYWdlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgICAgICBjcmVhdGVJbWFnZUNhbnZhc1dyYXBwZXIoXyksXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBwcm9wcylcbiAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgcm9vdC5yZWYuY3JlYXRlTWFya3VwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHJvb3QucmVmLm1hcmt1cCkgcmV0dXJuO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoY3JlYXRlTWFya3VwVmlldyhfKSwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5yZWYuZGVzdHJveU1hcmt1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcm9vdC5yZWYubWFya3VwKSByZXR1cm47XG4gICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYubWFya3VwKTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BhcmVuY3kgZ3JpZFxuICAgICAgICB2YXIgdHJhbnNwYXJlbmN5SW5kaWNhdG9yID0gcm9vdC5xdWVyeShcbiAgICAgICAgICAnR0VUX0lNQUdFX1BSRVZJRVdfVFJBTlNQQVJFTkNZX0lORElDQVRPUidcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRyYW5zcGFyZW5jeUluZGljYXRvciA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGdyaWQgcGF0dGVyblxuICAgICAgICBpZiAodHJhbnNwYXJlbmN5SW5kaWNhdG9yID09PSAnZ3JpZCcpIHtcbiAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC50cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSB0cmFuc3BhcmVuY3lJbmRpY2F0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzaWMgY29sb3JcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQudHJhbnNwYXJlbmN5SW5kaWNhdG9yID0gJ2NvbG9yJztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShfcmVmNikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmNi5wcm9wcyxcbiAgICAgICAgICBzaG91bGRPcHRpbWl6ZSA9IF9yZWY2LnNob3VsZE9wdGltaXplO1xuICAgICAgICB2YXIgY3JvcCA9IHByb3BzLmNyb3AsXG4gICAgICAgICAgbWFya3VwID0gcHJvcHMubWFya3VwLFxuICAgICAgICAgIHJlc2l6ZSA9IHByb3BzLnJlc2l6ZSxcbiAgICAgICAgICBkaXJ0eSA9IHByb3BzLmRpcnR5LFxuICAgICAgICAgIHdpZHRoID0gcHJvcHMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0O1xuXG4gICAgICAgIHJvb3QucmVmLmltYWdlLmNyb3AgPSBjcm9wO1xuXG4gICAgICAgIHZhciBzdGFnZSA9IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgeDogd2lkdGggKiAwLjUsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGltYWdlID0ge1xuICAgICAgICAgIHdpZHRoOiByb290LnJlZi5pbWFnZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHJvb3QucmVmLmltYWdlLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvcmlnaW4gPSB7XG4gICAgICAgICAgeDogY3JvcC5jZW50ZXIueCAqIGltYWdlLndpZHRoLFxuICAgICAgICAgIHk6IGNyb3AuY2VudGVyLnkgKiBpbWFnZS5oZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB7XG4gICAgICAgICAgeDogc3RhZ2UuY2VudGVyLnggLSBpbWFnZS53aWR0aCAqIGNyb3AuY2VudGVyLngsXG4gICAgICAgICAgeTogc3RhZ2UuY2VudGVyLnkgLSBpbWFnZS5oZWlnaHQgKiBjcm9wLmNlbnRlci55XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gTWF0aC5QSSAqIDIgKyAoY3JvcC5yb3RhdGlvbiAlIChNYXRoLlBJICogMikpO1xuXG4gICAgICAgIHZhciBjcm9wQXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuXG4gICAgICAgIHZhciBzaG91bGRMaW1pdCA9XG4gICAgICAgICAgdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gICAgICAgIHZhciBzdGFnZVpvb21GYWN0b3IgPSBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgICAgICAgIGltYWdlLFxuICAgICAgICAgIGdldENlbnRlcmVkQ3JvcFJlY3Qoc3RhZ2UsIGNyb3BBc3BlY3RSYXRpbyksXG5cbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBzaG91bGRMaW1pdCA/IGNyb3AuY2VudGVyIDogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIHNjYWxlID0gY3JvcC56b29tICogc3RhZ2Vab29tRmFjdG9yO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBtYXJrdXAgdmlld1xuICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC5sZW5ndGgpIHtcbiAgICAgICAgICByb290LnJlZi5jcmVhdGVNYXJrdXAoKTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC5yZXNpemUgPSByZXNpemU7XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwLmRpcnR5ID0gZGlydHk7XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwLm1hcmt1cCA9IG1hcmt1cDtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAuY3JvcCA9IGdldEN1cnJlbnRDcm9wU2l6ZShpbWFnZSwgY3JvcCk7XG4gICAgICAgIH0gZWxzZSBpZiAocm9vdC5yZWYubWFya3VwKSB7XG4gICAgICAgICAgcm9vdC5yZWYuZGVzdHJveU1hcmt1cCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGltYWdlIHZpZXdcbiAgICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlO1xuXG4gICAgICAgIC8vIGRvbid0IHVwZGF0ZSBjbGlwIGxheW91dFxuICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICBpbWFnZVZpZXcub3JpZ2luWCA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblkgPSBudWxsO1xuICAgICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnJvdGF0ZVogPSBudWxsO1xuICAgICAgICAgIGltYWdlVmlldy5zY2FsZVggPSBudWxsO1xuICAgICAgICAgIGltYWdlVmlldy5zY2FsZVkgPSBudWxsO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlVmlldy5vcmlnaW5YID0gb3JpZ2luLng7XG4gICAgICAgIGltYWdlVmlldy5vcmlnaW5ZID0gb3JpZ2luLnk7XG4gICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVYID0gdHJhbnNsYXRpb24ueDtcbiAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSB0cmFuc2xhdGlvbi55O1xuICAgICAgICBpbWFnZVZpZXcucm90YXRlWiA9IHJvdGF0aW9uO1xuICAgICAgICBpbWFnZVZpZXcuc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIGltYWdlVmlldy5zY2FsZVkgPSBzY2FsZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSW1hZ2VWaWV3ID0gZnVuY3Rpb24gY3JlYXRlSW1hZ2VWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdpbWFnZS1wcmV2aWV3JyxcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnaW1hZ2UnLCAnY3JvcCcsICdtYXJrdXAnLCAncmVzaXplJywgJ2RpcnR5JywgJ2JhY2tncm91bmQnXSxcblxuICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcblxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgc2NhbGVYOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgc2NhbGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgdHJhbnNsYXRlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDQwMCB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWY3KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY3LnByb3BzO1xuICAgICAgICByb290LnJlZi5jbGlwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoY3JlYXRlQ2xpcFZpZXcoXyksIHtcbiAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgICAgICAgIGltYWdlOiBwcm9wcy5pbWFnZSxcbiAgICAgICAgICAgIGNyb3A6IHByb3BzLmNyb3AsXG4gICAgICAgICAgICBtYXJrdXA6IHByb3BzLm1hcmt1cCxcbiAgICAgICAgICAgIHJlc2l6ZTogcHJvcHMucmVzaXplLFxuICAgICAgICAgICAgZGlydHk6IHByb3BzLmRpcnR5LFxuICAgICAgICAgICAgYmFja2dyb3VuZDogcHJvcHMuYmFja2dyb3VuZFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKF9yZWY4KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY4LnByb3BzLFxuICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjguc2hvdWxkT3B0aW1pemU7XG4gICAgICAgIHZhciBjbGlwID0gcm9vdC5yZWYuY2xpcDtcbiAgICAgICAgdmFyIGltYWdlID0gcHJvcHMuaW1hZ2UsXG4gICAgICAgICAgY3JvcCA9IHByb3BzLmNyb3AsXG4gICAgICAgICAgbWFya3VwID0gcHJvcHMubWFya3VwLFxuICAgICAgICAgIHJlc2l6ZSA9IHByb3BzLnJlc2l6ZSxcbiAgICAgICAgICBkaXJ0eSA9IHByb3BzLmRpcnR5O1xuXG4gICAgICAgIGNsaXAuY3JvcCA9IGNyb3A7XG4gICAgICAgIGNsaXAubWFya3VwID0gbWFya3VwO1xuICAgICAgICBjbGlwLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICAgICAgY2xpcC5kaXJ0eSA9IGRpcnR5O1xuXG4gICAgICAgIC8vIGRvbid0IHVwZGF0ZSBjbGlwIGxheW91dFxuICAgICAgICBjbGlwLm9wYWNpdHkgPSBzaG91bGRPcHRpbWl6ZSA/IDAgOiAxO1xuXG4gICAgICAgIC8vIGRvbid0IHJlLXJlbmRlciBpZiBvcHRpbWl6aW5nIG9yIGhpZGRlbiAod2lkdGggd2lsbCBiZSB6ZXJvIHJlc3VsdGluZyBpbiB3ZWlyZCBhbmltYXRpb25zKVxuICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUgfHwgcm9vdC5yZWN0LmVsZW1lbnQuaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHNjYWxlZCBwcmV2aWV3IGltYWdlIHNpemVcbiAgICAgICAgdmFyIGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZS5oZWlnaHQgLyBpbWFnZS53aWR0aDtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gY3JvcC5hc3BlY3RSYXRpbyB8fCBpbWFnZUFzcGVjdFJhdGlvO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBjb250YWluZXIgc2l6ZVxuICAgICAgICB2YXIgY29udGFpbmVyV2lkdGggPSByb290LnJlY3QuaW5uZXIud2lkdGg7XG4gICAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSByb290LnJlY3QuaW5uZXIuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBmaXhlZFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgICAgdmFyIG1pblByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NSU5fSEVJR0hUJyk7XG4gICAgICAgIHZhciBtYXhQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0hFSUdIVCcpO1xuXG4gICAgICAgIHZhciBwYW5lbEFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICB2YXIgYWxsb3dNdWx0aXBsZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpO1xuXG4gICAgICAgIGlmIChwYW5lbEFzcGVjdFJhdGlvICYmICFhbGxvd011bHRpcGxlKSB7XG4gICAgICAgICAgZml4ZWRQcmV2aWV3SGVpZ2h0ID0gY29udGFpbmVyV2lkdGggKiBwYW5lbEFzcGVjdFJhdGlvO1xuICAgICAgICAgIGFzcGVjdFJhdGlvID0gcGFuZWxBc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSBjbGlwIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgdmFyIGNsaXBIZWlnaHQgPVxuICAgICAgICAgIGZpeGVkUHJldmlld0hlaWdodCAhPT0gbnVsbFxuICAgICAgICAgICAgPyBmaXhlZFByZXZpZXdIZWlnaHRcbiAgICAgICAgICAgIDogTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgbWluUHJldmlld0hlaWdodCxcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihjb250YWluZXJXaWR0aCAqIGFzcGVjdFJhdGlvLCBtYXhQcmV2aWV3SGVpZ2h0KVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgIHZhciBjbGlwV2lkdGggPSBjbGlwSGVpZ2h0IC8gYXNwZWN0UmF0aW87XG4gICAgICAgIGlmIChjbGlwV2lkdGggPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgIGNsaXBXaWR0aCA9IGNvbnRhaW5lcldpZHRoO1xuICAgICAgICAgIGNsaXBIZWlnaHQgPSBjbGlwV2lkdGggKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGlwSGVpZ2h0ID4gY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgICAgY2xpcEhlaWdodCA9IGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgICBjbGlwV2lkdGggPSBjb250YWluZXJIZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGNsaXAud2lkdGggPSBjbGlwV2lkdGg7XG4gICAgICAgIGNsaXAuaGVpZ2h0ID0gY2xpcEhlaWdodDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgU1ZHX01BU0sgPVxuICAgICc8c3ZnIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgdmlld0JveD1cIjAgMCA1MDAgMjAwXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIj5cXG4gICAgPGRlZnM+XFxuICAgICAgICA8cmFkaWFsR3JhZGllbnQgaWQ9XCJncmFkaWVudC1fX1VJRF9fXCIgY3g9XCIuNVwiIGN5PVwiMS4yNVwiIHI9XCIxLjE1XCI+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzUwJVxcJyBzdG9wLWNvbG9yPVxcJyMwMDAwMDBcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc1NiVcXCcgc3RvcC1jb2xvcj1cXCcjMGEwYTBhXFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnNjMlXFwnIHN0b3AtY29sb3I9XFwnIzI2MjYyNlxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzY5JVxcJyBzdG9wLWNvbG9yPVxcJyM0ZjRmNGZcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc3NSVcXCcgc3RvcC1jb2xvcj1cXCcjODA4MDgwXFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnODElXFwnIHN0b3AtY29sb3I9XFwnI2IxYjFiMVxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzg4JVxcJyBzdG9wLWNvbG9yPVxcJyNkYWRhZGFcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc5NCVcXCcgc3RvcC1jb2xvcj1cXCcjZjZmNmY2XFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnMTAwJVxcJyBzdG9wLWNvbG9yPVxcJyNmZmZmZmZcXCcvPlxcbiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD5cXG4gICAgICAgIDxtYXNrIGlkPVwibWFzay1fX1VJRF9fXCI+XFxuICAgICAgICAgICAgPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgZmlsbD1cInVybCgjZ3JhZGllbnQtX19VSURfXylcIj48L3JlY3Q+XFxuICAgICAgICA8L21hc2s+XFxuICAgIDwvZGVmcz5cXG4gICAgPHJlY3QgeD1cIjBcIiB3aWR0aD1cIjUwMFwiIGhlaWdodD1cIjIwMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBtYXNrPVwidXJsKCNtYXNrLV9fVUlEX18pXCI+PC9yZWN0Plxcbjwvc3ZnPic7XG5cbiAgdmFyIFNWR01hc2tVbmlxdWVJZCA9IDA7XG5cbiAgdmFyIGNyZWF0ZUltYWdlT3ZlcmxheVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZU92ZXJsYXlWaWV3KGZwQVBJKSB7XG4gICAgcmV0dXJuIGZwQVBJLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXctb3ZlcmxheScsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICB2YXIgbWFzayA9IFNWR19NQVNLO1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpKSB7XG4gICAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwoXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5oYXNoLCAnJylcbiAgICAgICAgICApLmhyZWY7XG4gICAgICAgICAgbWFzayA9IG1hc2sucmVwbGFjZSgvdXJsXFwoXFwjL2csICd1cmwoJyArIHVybCArICcjJyk7XG4gICAgICAgIH1cblxuICAgICAgICBTVkdNYXNrVW5pcXVlSWQrKztcbiAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXG4gICAgICAgICAgJ2ZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktJy5jb25jYXQocHJvcHMuc3RhdHVzKVxuICAgICAgICApO1xuXG4gICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSBtYXNrLnJlcGxhY2UoL19fVUlEX18vZywgU1ZHTWFza1VuaXF1ZUlkKTtcbiAgICAgIH0sXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3NwcmluZycsIG1hc3M6IDI1IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaXRtYXAgV29ya2VyXG4gICAqL1xuICB2YXIgQml0bWFwV29ya2VyID0gZnVuY3Rpb24gQml0bWFwV29ya2VyKCkge1xuICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgY3JlYXRlSW1hZ2VCaXRtYXAoZS5kYXRhLm1lc3NhZ2UuZmlsZSkudGhlbihmdW5jdGlvbihiaXRtYXApIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIG1lc3NhZ2U6IGJpdG1hcCB9LCBbYml0bWFwXSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb2xvck1hdHJpeCBXb3JrZXJcbiAgICovXG4gIHZhciBDb2xvck1hdHJpeFdvcmtlciA9IGZ1bmN0aW9uIENvbG9yTWF0cml4V29ya2VyKCkge1xuICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IGUuZGF0YS5tZXNzYWdlLmltYWdlRGF0YTtcbiAgICAgIHZhciBtYXRyaXggPSBlLmRhdGEubWVzc2FnZS5jb2xvck1hdHJpeDtcblxuICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICAgIHZhciBsID0gZGF0YS5sZW5ndGg7XG5cbiAgICAgIHZhciBtMTEgPSBtYXRyaXhbMF07XG4gICAgICB2YXIgbTEyID0gbWF0cml4WzFdO1xuICAgICAgdmFyIG0xMyA9IG1hdHJpeFsyXTtcbiAgICAgIHZhciBtMTQgPSBtYXRyaXhbM107XG4gICAgICB2YXIgbTE1ID0gbWF0cml4WzRdO1xuXG4gICAgICB2YXIgbTIxID0gbWF0cml4WzVdO1xuICAgICAgdmFyIG0yMiA9IG1hdHJpeFs2XTtcbiAgICAgIHZhciBtMjMgPSBtYXRyaXhbN107XG4gICAgICB2YXIgbTI0ID0gbWF0cml4WzhdO1xuICAgICAgdmFyIG0yNSA9IG1hdHJpeFs5XTtcblxuICAgICAgdmFyIG0zMSA9IG1hdHJpeFsxMF07XG4gICAgICB2YXIgbTMyID0gbWF0cml4WzExXTtcbiAgICAgIHZhciBtMzMgPSBtYXRyaXhbMTJdO1xuICAgICAgdmFyIG0zNCA9IG1hdHJpeFsxM107XG4gICAgICB2YXIgbTM1ID0gbWF0cml4WzE0XTtcblxuICAgICAgdmFyIG00MSA9IG1hdHJpeFsxNV07XG4gICAgICB2YXIgbTQyID0gbWF0cml4WzE2XTtcbiAgICAgIHZhciBtNDMgPSBtYXRyaXhbMTddO1xuICAgICAgdmFyIG00NCA9IG1hdHJpeFsxOF07XG4gICAgICB2YXIgbTQ1ID0gbWF0cml4WzE5XTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgciA9IDAuMCxcbiAgICAgICAgZyA9IDAuMCxcbiAgICAgICAgYiA9IDAuMCxcbiAgICAgICAgYSA9IDAuMDtcblxuICAgICAgZm9yICg7IGluZGV4IDwgbDsgaW5kZXggKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpbmRleF0gLyAyNTU7XG4gICAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV0gLyAyNTU7XG4gICAgICAgIGIgPSBkYXRhW2luZGV4ICsgMl0gLyAyNTU7XG4gICAgICAgIGEgPSBkYXRhW2luZGV4ICsgM10gLyAyNTU7XG4gICAgICAgIGRhdGFbaW5kZXhdID0gTWF0aC5tYXgoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLm1pbigociAqIG0xMSArIGcgKiBtMTIgKyBiICogbTEzICsgYSAqIG0xNCArIG0xNSkgKiAyNTUsIDI1NSlcbiAgICAgICAgKTtcbiAgICAgICAgZGF0YVtpbmRleCArIDFdID0gTWF0aC5tYXgoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLm1pbigociAqIG0yMSArIGcgKiBtMjIgKyBiICogbTIzICsgYSAqIG0yNCArIG0yNSkgKiAyNTUsIDI1NSlcbiAgICAgICAgKTtcbiAgICAgICAgZGF0YVtpbmRleCArIDJdID0gTWF0aC5tYXgoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLm1pbigociAqIG0zMSArIGcgKiBtMzIgKyBiICogbTMzICsgYSAqIG0zNCArIG0zNSkgKiAyNTUsIDI1NSlcbiAgICAgICAgKTtcbiAgICAgICAgZGF0YVtpbmRleCArIDNdID0gTWF0aC5tYXgoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLm1pbigociAqIG00MSArIGcgKiBtNDIgKyBiICogbTQzICsgYSAqIG00NCArIG00NSkgKiAyNTUsIDI1NSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIG1lc3NhZ2U6IGltYWdlRGF0YSB9LCBbXG4gICAgICAgIGltYWdlRGF0YS5kYXRhLmJ1ZmZlclxuICAgICAgXSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gZ2V0SW1hZ2VTaXplKHVybCwgY2IpIHtcbiAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgaW1hZ2UgPSBudWxsO1xuICAgICAgY2Iod2lkdGgsIGhlaWdodCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSB1cmw7XG4gIH07XG5cbiAgdmFyIHRyYW5zZm9ybXMgPSB7XG4gICAgMTogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBbMSwgMCwgMCwgMSwgMCwgMF07XG4gICAgfSxcbiAgICAyOiBmdW5jdGlvbiBfKHdpZHRoKSB7XG4gICAgICByZXR1cm4gWy0xLCAwLCAwLCAxLCB3aWR0aCwgMF07XG4gICAgfSxcbiAgICAzOiBmdW5jdGlvbiBfKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiBbLTEsIDAsIDAsIC0xLCB3aWR0aCwgaGVpZ2h0XTtcbiAgICB9LFxuICAgIDQ6IGZ1bmN0aW9uIF8od2lkdGgsIGhlaWdodCkge1xuICAgICAgcmV0dXJuIFsxLCAwLCAwLCAtMSwgMCwgaGVpZ2h0XTtcbiAgICB9LFxuICAgIDU6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gWzAsIDEsIDEsIDAsIDAsIDBdO1xuICAgIH0sXG4gICAgNjogZnVuY3Rpb24gXyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gWzAsIDEsIC0xLCAwLCBoZWlnaHQsIDBdO1xuICAgIH0sXG4gICAgNzogZnVuY3Rpb24gXyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gWzAsIC0xLCAtMSwgMCwgaGVpZ2h0LCB3aWR0aF07XG4gICAgfSxcbiAgICA4OiBmdW5jdGlvbiBfKHdpZHRoKSB7XG4gICAgICByZXR1cm4gWzAsIC0xLCAxLCAwLCAwLCB3aWR0aF07XG4gICAgfVxuICB9O1xuXG4gIHZhciBmaXhJbWFnZU9yaWVudGF0aW9uID0gZnVuY3Rpb24gZml4SW1hZ2VPcmllbnRhdGlvbihcbiAgICBjdHgsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIG9yaWVudGF0aW9uXG4gICkge1xuICAgIC8vIG5vIG9yaWVudGF0aW9uIHN1cHBsaWVkXG4gICAgaWYgKG9yaWVudGF0aW9uID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCB0cmFuc2Zvcm1zW29yaWVudGF0aW9uXSh3aWR0aCwgaGVpZ2h0KSk7XG4gIH07XG5cbiAgLy8gZHJhd3MgdGhlIHByZXZpZXcgaW1hZ2UgdG8gY2FudmFzXG4gIHZhciBjcmVhdGVQcmV2aWV3SW1hZ2UgPSBmdW5jdGlvbiBjcmVhdGVQcmV2aWV3SW1hZ2UoXG4gICAgZGF0YSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgb3JpZW50YXRpb25cbiAgKSB7XG4gICAgLy8gY2FuJ3QgZHJhdyBvbiBoYWxmIHBpeGVsc1xuICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gICAgLy8gZHJhdyBpbWFnZVxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8vIGlmIGlzIHJvdGF0ZWQgaW5jb3JyZWN0bHkgc3dhcCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgaWYgKG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gOCkge1xuICAgICAgdmFyIF9yZWYgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICB3aWR0aCA9IF9yZWZbMF07XG4gICAgICBoZWlnaHQgPSBfcmVmWzFdO1xuICAgIH1cblxuICAgIC8vIGNvcnJlY3QgaW1hZ2Ugb3JpZW50YXRpb25cbiAgICBmaXhJbWFnZU9yaWVudGF0aW9uKGN0eCwgd2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gICAgLy8gZHJhdyB0aGUgaW1hZ2VcbiAgICBjdHguZHJhd0ltYWdlKGRhdGEsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfTtcblxuICB2YXIgaXNCaXRtYXAgPSBmdW5jdGlvbiBpc0JpdG1hcChmaWxlKSB7XG4gICAgcmV0dXJuIC9eaW1hZ2UvLnRlc3QoZmlsZS50eXBlKSAmJiAhL3N2Zy8udGVzdChmaWxlLnR5cGUpO1xuICB9O1xuXG4gIHZhciBNQVhfV0lEVEggPSAxMDtcbiAgdmFyIE1BWF9IRUlHSFQgPSAxMDtcblxuICB2YXIgY2FsY3VsYXRlQXZlcmFnZUNvbG9yID0gZnVuY3Rpb24gY2FsY3VsYXRlQXZlcmFnZUNvbG9yKGltYWdlKSB7XG4gICAgdmFyIHNjYWxhciA9IE1hdGgubWluKE1BWF9XSURUSCAvIGltYWdlLndpZHRoLCBNQVhfSEVJR0hUIC8gaW1hZ2UuaGVpZ2h0KTtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIHdpZHRoID0gKGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChpbWFnZS53aWR0aCAqIHNjYWxhcikpO1xuICAgIHZhciBoZWlnaHQgPSAoY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChpbWFnZS5oZWlnaHQgKiBzY2FsYXIpKTtcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBsID0gZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgciA9IDA7XG4gICAgdmFyIGcgPSAwO1xuICAgIHZhciBiID0gMDtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkgKz0gNCkge1xuICAgICAgciArPSBkYXRhW2ldICogZGF0YVtpXTtcbiAgICAgIGcgKz0gZGF0YVtpICsgMV0gKiBkYXRhW2kgKyAxXTtcbiAgICAgIGIgKz0gZGF0YVtpICsgMl0gKiBkYXRhW2kgKyAyXTtcbiAgICB9XG5cbiAgICByID0gYXZlcmFnZUNvbG9yKHIsIGwpO1xuICAgIGcgPSBhdmVyYWdlQ29sb3IoZywgbCk7XG4gICAgYiA9IGF2ZXJhZ2VDb2xvcihiLCBsKTtcblxuICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcbiAgfTtcblxuICB2YXIgYXZlcmFnZUNvbG9yID0gZnVuY3Rpb24gYXZlcmFnZUNvbG9yKGMsIGwpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnNxcnQoYyAvIChsIC8gNCkpKTtcbiAgfTtcblxuICB2YXIgY2xvbmVDYW52YXMgPSBmdW5jdGlvbiBjbG9uZUNhbnZhcyhvcmlnaW4sIHRhcmdldCkge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0YXJnZXQud2lkdGggPSBvcmlnaW4ud2lkdGg7XG4gICAgdGFyZ2V0LmhlaWdodCA9IG9yaWdpbi5oZWlnaHQ7XG4gICAgdmFyIGN0eCA9IHRhcmdldC5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5kcmF3SW1hZ2Uob3JpZ2luLCAwLCAwKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHZhciBjbG9uZUltYWdlRGF0YSA9IGZ1bmN0aW9uIGNsb25lSW1hZ2VEYXRhKGltYWdlRGF0YSkge1xuICAgIHZhciBpZDtcbiAgICB0cnkge1xuICAgICAgaWQgPSBuZXcgSW1hZ2VEYXRhKGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWQgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG4gICAgfVxuICAgIGlkLmRhdGEuc2V0KG5ldyBVaW50OENsYW1wZWRBcnJheShpbWFnZURhdGEuZGF0YSkpO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICB2YXIgbG9hZEltYWdlID0gZnVuY3Rpb24gbG9hZEltYWdlKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICB9O1xuICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH07XG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3ID0gZnVuY3Rpb24gY3JlYXRlSW1hZ2VXcmFwcGVyVmlldyhfKSB7XG4gICAgLy8gY3JlYXRlIG92ZXJsYXkgdmlld1xuICAgIHZhciBPdmVybGF5VmlldyA9IGNyZWF0ZUltYWdlT3ZlcmxheVZpZXcoXyk7XG5cbiAgICB2YXIgSW1hZ2VWaWV3ID0gY3JlYXRlSW1hZ2VWaWV3KF8pO1xuICAgIHZhciBjcmVhdGVXb3JrZXIgPSBfLnV0aWxzLmNyZWF0ZVdvcmtlcjtcblxuICAgIHZhciBhcHBseUZpbHRlciA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKHJvb3QsIGZpbHRlciwgdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAvLyB3aWxsIHN0b3JlIGltYWdlIGRhdGEgZm9yIGZ1dHVyZSBmaWx0ZXIgdXBkYXRlc1xuICAgICAgICBpZiAoIXJvb3QucmVmLmltYWdlRGF0YSkge1xuICAgICAgICAgIHJvb3QucmVmLmltYWdlRGF0YSA9IHRhcmdldFxuICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgIC5nZXRJbWFnZURhdGEoMCwgMCwgdGFyZ2V0LndpZHRoLCB0YXJnZXQuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBpbWFnZSBkYXRhIHJlZmVyZW5jZVxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY2xvbmVJbWFnZURhdGEocm9vdC5yZWYuaW1hZ2VEYXRhKTtcblxuICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIubGVuZ3RoICE9PSAyMCkge1xuICAgICAgICAgIHRhcmdldC5nZXRDb250ZXh0KCcyZCcpLnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd29ya2VyID0gY3JlYXRlV29ya2VyKENvbG9yTWF0cml4V29ya2VyKTtcbiAgICAgICAgd29ya2VyLnBvc3QoXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VEYXRhOiBpbWFnZURhdGEsXG4gICAgICAgICAgICBjb2xvck1hdHJpeDogZmlsdGVyXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBhcHBseSBmaWx0ZXJlZCBjb2xvcnNcbiAgICAgICAgICAgIHRhcmdldC5nZXRDb250ZXh0KCcyZCcpLnB1dEltYWdlRGF0YShyZXNwb25zZSwgMCwgMCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3Agd29ya2VyXG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbaW1hZ2VEYXRhLmRhdGEuYnVmZmVyXVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVJbWFnZVZpZXcgPSBmdW5jdGlvbiByZW1vdmVJbWFnZVZpZXcocm9vdCwgaW1hZ2VWaWV3KSB7XG4gICAgICByb290LnJlbW92ZUNoaWxkVmlldyhpbWFnZVZpZXcpO1xuICAgICAgaW1hZ2VWaWV3LmltYWdlLndpZHRoID0gMTtcbiAgICAgIGltYWdlVmlldy5pbWFnZS5oZWlnaHQgPSAxO1xuICAgICAgaW1hZ2VWaWV3Ll9kZXN0cm95KCk7XG4gICAgfTtcblxuICAgIC8vIHJlbW92ZSBhbiBpbWFnZVxuICAgIHZhciBzaGlmdEltYWdlID0gZnVuY3Rpb24gc2hpZnRJbWFnZShfcmVmKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICAgIHZhciBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZXMuc2hpZnQoKTtcbiAgICAgIGltYWdlVmlldy5vcGFjaXR5ID0gMDtcbiAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gLTE1O1xuICAgICAgcm9vdC5yZWYuaW1hZ2VWaWV3QmluLnB1c2goaW1hZ2VWaWV3KTtcbiAgICAgIHJldHVybiBpbWFnZVZpZXc7XG4gICAgfTtcblxuICAgIC8vIGFkZCBuZXcgaW1hZ2VcbiAgICB2YXIgcHVzaEltYWdlID0gZnVuY3Rpb24gcHVzaEltYWdlKF9yZWYyKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjIucHJvcHMsXG4gICAgICAgIGltYWdlID0gX3JlZjIuaW1hZ2U7XG4gICAgICB2YXIgaWQgPSBwcm9wcy5pZDtcbiAgICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkOiBpZCB9KTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICB2YXIgY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKSB8fCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICB5OiAwLjVcbiAgICAgICAgfSxcblxuICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgICAgICAgdmVydGljYWw6IGZhbHNlXG4gICAgICAgIH0sXG5cbiAgICAgICAgem9vbTogMSxcbiAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgIGFzcGVjdFJhdGlvOiBudWxsXG4gICAgICB9O1xuXG4gICAgICB2YXIgYmFja2dyb3VuZCA9IHJvb3QucXVlcnkoXG4gICAgICAgICdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19CQUNLR1JPVU5EX0NPTE9SJ1xuICAgICAgKTtcblxuICAgICAgdmFyIG1hcmt1cDtcbiAgICAgIHZhciByZXNpemU7XG4gICAgICB2YXIgZGlydHkgPSBmYWxzZTtcbiAgICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfU0hPVycpKSB7XG4gICAgICAgIG1hcmt1cCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ21hcmt1cCcpIHx8IFtdO1xuICAgICAgICByZXNpemUgPSBpdGVtLmdldE1ldGFkYXRhKCdyZXNpemUnKTtcbiAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBhcHBlbmQgaW1hZ2UgcHJlc2VudGVyXG4gICAgICB2YXIgaW1hZ2VWaWV3ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KEltYWdlVmlldywge1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgY3JvcDogY3JvcCxcbiAgICAgICAgICByZXNpemU6IHJlc2l6ZSxcbiAgICAgICAgICBtYXJrdXA6IG1hcmt1cCxcbiAgICAgICAgICBkaXJ0eTogZGlydHksXG4gICAgICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCxcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHNjYWxlWDogMS4xNSxcbiAgICAgICAgICBzY2FsZVk6IDEuMTUsXG4gICAgICAgICAgdHJhbnNsYXRlWTogMTVcbiAgICAgICAgfSksXG5cbiAgICAgICAgcm9vdC5jaGlsZFZpZXdzLmxlbmd0aFxuICAgICAgKTtcblxuICAgICAgcm9vdC5yZWYuaW1hZ2VzLnB1c2goaW1hZ2VWaWV3KTtcblxuICAgICAgLy8gcmV2ZWFsIHRoZSBwcmV2aWV3IGltYWdlXG4gICAgICBpbWFnZVZpZXcub3BhY2l0eSA9IDE7XG4gICAgICBpbWFnZVZpZXcuc2NhbGVYID0gMTtcbiAgICAgIGltYWdlVmlldy5zY2FsZVkgPSAxO1xuICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSAwO1xuXG4gICAgICAvLyB0aGUgcHJldmlldyBpcyBub3cgcmVhZHkgdG8gYmUgZHJhd25cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX1NIT1cnLCB7IGlkOiBpZCB9KTtcbiAgICAgIH0sIDI1MCk7XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVJbWFnZSA9IGZ1bmN0aW9uIHVwZGF0ZUltYWdlKF9yZWYzKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgIHZhciBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgaW1hZ2VWaWV3LmNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyk7XG4gICAgICBpbWFnZVZpZXcuYmFja2dyb3VuZCA9IHJvb3QucXVlcnkoXG4gICAgICAgICdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19CQUNLR1JPVU5EX0NPTE9SJ1xuICAgICAgKTtcblxuICAgICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BUktVUF9TSE9XJykpIHtcbiAgICAgICAgaW1hZ2VWaWV3LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgaW1hZ2VWaWV3LnJlc2l6ZSA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Jlc2l6ZScpO1xuICAgICAgICBpbWFnZVZpZXcubWFya3VwID0gaXRlbS5nZXRNZXRhZGF0YSgnbWFya3VwJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIHJlcGxhY2UgaW1hZ2UgcHJldmlld1xuICAgIHZhciBkaWRVcGRhdGVJdGVtTWV0YWRhdGEgPSBmdW5jdGlvbiBkaWRVcGRhdGVJdGVtTWV0YWRhdGEoX3JlZjQpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmNC5wcm9wcyxcbiAgICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgICAgLy8gb25seSBmaWx0ZXIgYW5kIGNyb3AgdHJpZ2dlciByZWRyYXdcbiAgICAgIGlmICghL2Nyb3B8ZmlsdGVyfG1hcmt1cHxyZXNpemUvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSByZXR1cm47XG5cbiAgICAgIC8vIG5vIGltYWdlcyB0byB1cGRhdGUsIGV4aXRcbiAgICAgIGlmICghcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAvLyBubyBpdGVtIGZvdW5kLCBleGl0XG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgLy8gZm9yIG5vdywgdXBkYXRlIGV4aXN0aW5nIGltYWdlIHdoZW4gZmlsdGVyaW5nXG4gICAgICBpZiAoL2ZpbHRlci8udGVzdChhY3Rpb24uY2hhbmdlLmtleSkpIHtcbiAgICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGFwcGx5RmlsdGVyKHJvb3QsIGFjdGlvbi5jaGFuZ2UudmFsdWUsIGltYWdlVmlldy5pbWFnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKC9jcm9wfG1hcmt1cHxyZXNpemUvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSB7XG4gICAgICAgIHZhciBjcm9wID0gaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpO1xuICAgICAgICB2YXIgaW1hZ2UgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIC8vIGlmIGFzcGVjdCByYXRpbyBoYXMgY2hhbmdlZCwgd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgaW1hZ2VcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNyb3AgJiZcbiAgICAgICAgICBjcm9wLmFzcGVjdFJhdGlvICYmXG4gICAgICAgICAgaW1hZ2UuY3JvcCAmJlxuICAgICAgICAgIGltYWdlLmNyb3AuYXNwZWN0UmF0aW8gJiZcbiAgICAgICAgICBNYXRoLmFicyhjcm9wLmFzcGVjdFJhdGlvIC0gaW1hZ2UuY3JvcC5hc3BlY3RSYXRpbykgPiAwLjAwMDAxXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBfaW1hZ2VWaWV3ID0gc2hpZnRJbWFnZSh7IHJvb3Q6IHJvb3QgfSk7XG4gICAgICAgICAgcHVzaEltYWdlKHtcbiAgICAgICAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICBpbWFnZTogY2xvbmVDYW52YXMoX2ltYWdlVmlldy5pbWFnZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBub3QsIHdlIGNhbiB1cGRhdGUgdGhlIGN1cnJlbnQgaW1hZ2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdXBkYXRlSW1hZ2UoeyByb290OiByb290LCBwcm9wczogcHJvcHMgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGNhbkNyZWF0ZUltYWdlQml0bWFwID0gZnVuY3Rpb24gY2FuQ3JlYXRlSW1hZ2VCaXRtYXAoZmlsZSkge1xuICAgICAgLy8gRmlyZWZveCB2ZXJzaW9ucyBiZWZvcmUgNTggd2lsbCBmcmVlemUgd2hlbiBydW5uaW5nIGNyZWF0ZUltYWdlQml0bWFwXG4gICAgICAvLyBpbiBhIFdlYiBXb3JrZXIgc28gd2UgZGV0ZWN0IHRob3NlIHZlcnNpb25zIGFuZCByZXR1cm4gZmFsc2UgZm9yIHN1cHBvcnRcbiAgICAgIHZhciB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICAgIHZhciBpc0ZpcmVmb3ggPSB1c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8pO1xuICAgICAgdmFyIGZpcmVmb3hWZXJzaW9uID0gaXNGaXJlZm94ID8gcGFyc2VJbnQoaXNGaXJlZm94WzFdKSA6IG51bGw7XG4gICAgICBpZiAoZmlyZWZveFZlcnNpb24gIT09IG51bGwgJiYgZmlyZWZveFZlcnNpb24gPD0gNTgpIHJldHVybiBmYWxzZTtcblxuICAgICAgcmV0dXJuICdjcmVhdGVJbWFnZUJpdG1hcCcgaW4gd2luZG93ICYmIGlzQml0bWFwKGZpbGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHByZXZpZXcgY29udGFpbmVyIGhhcyBiZWVuIGNyZWF0ZWRcbiAgICAgKi9cbiAgICB2YXIgZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lciA9IGZ1bmN0aW9uIGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIoX3JlZjUpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcztcbiAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgZmlsZSBkYXRhIHRvIGRldGVybWluZSB0aGUgZXZlbnR1YWwgaW1hZ2Ugc2l6ZVxuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAvLyBnZXQgdXJsIHRvIGZpbGUgKHdlJ2xsIHJldm9rZSBpdCBsYXRlciBvbiB3aGVuIGRvbmUpXG4gICAgICB2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaXRlbS5maWxlKTtcblxuICAgICAgLy8gZGV0ZXJtaW5lIGltYWdlIHNpemUgb2YgdGhpcyBpdGVtXG4gICAgICBnZXRJbWFnZVNpemUoZmlsZVVSTCwgZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICAvLyB3ZSBjYW4gbm93IHNjYWxlIHRoZSBwYW5lbCB0byB0aGUgZmluYWwgc2l6ZVxuICAgICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19DQUxDVUxBVEVfU0laRScsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBkcmF3UHJldmlldyA9IGZ1bmN0aW9uIGRyYXdQcmV2aWV3KF9yZWY2KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjYucHJvcHM7XG4gICAgICB2YXIgaWQgPSBwcm9wcy5pZDtcblxuICAgICAgLy8gd2UgbmVlZCB0byBnZXQgdGhlIGZpbGUgZGF0YSB0byBkZXRlcm1pbmUgdGhlIGV2ZW50dWFsIGltYWdlIHNpemVcbiAgICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBpZCk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgLy8gZ2V0IHVybCB0byBmaWxlICh3ZSdsbCByZXZva2UgaXQgbGF0ZXIgb24gd2hlbiBkb25lKVxuICAgICAgdmFyIGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGl0ZW0uZmlsZSk7XG5cbiAgICAgIC8vIGZhbGxiYWNrXG4gICAgICB2YXIgbG9hZFByZXZpZXdGYWxsYmFjayA9IGZ1bmN0aW9uIGxvYWRQcmV2aWV3RmFsbGJhY2soKSB7XG4gICAgICAgIC8vIGxldCdzIHNjYWxlIHRoZSBpbWFnZSBpbiB0aGUgbWFpbiB0aHJlYWQgOihcbiAgICAgICAgbG9hZEltYWdlKGZpbGVVUkwpLnRoZW4ocHJldmlld0ltYWdlTG9hZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIGltYWdlIGlzIG5vdyByZWFkeVxuICAgICAgdmFyIHByZXZpZXdJbWFnZUxvYWRlZCA9IGZ1bmN0aW9uIHByZXZpZXdJbWFnZUxvYWRlZChpbWFnZURhdGEpIHtcbiAgICAgICAgLy8gdGhlIGZpbGUgdXJsIGlzIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChmaWxlVVJMKTtcblxuICAgICAgICAvLyBkcmF3IHRoZSBzY2FsZWQgZG93biB2ZXJzaW9uIGhlcmUgYW5kIHVzZSB0aGF0IGFzIHNvdXJjZSBzbyBiaXRtYXBkYXRhIGNhbiBiZSBjbG9zZWRcbiAgICAgICAgLy8gb3JpZW50YXRpb24gaW5mb1xuICAgICAgICB2YXIgZXhpZiA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2V4aWYnKSB8fCB7fTtcbiAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gZXhpZi5vcmllbnRhdGlvbiB8fCAtMTtcblxuICAgICAgICAvLyBnZXQgd2lkdGggYW5kIGhlaWdodCBmcm9tIGFjdGlvbiwgYW5kIHN3YXAgaWYgb3JpZW50YXRpb24gaXMgaW5jb3JyZWN0XG4gICAgICAgIHZhciB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0O1xuXG4gICAgICAgIC8vIGlmIG5vIHdpZHRoIG9yIGhlaWdodCwganVzdCByZXR1cm4gZWFybHkuXG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA+PSA1ICYmIG9yaWVudGF0aW9uIDw9IDgpIHtcbiAgICAgICAgICB2YXIgX3JlZjcgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgICAgd2lkdGggPSBfcmVmN1swXTtcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmN1sxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNjYWxlIGNhbnZhcyBiYXNlZCBvbiBwaXhlbCBkZW5zaXR5XG4gICAgICAgIC8vIHdlIG11bHRpcGx5IGJ5IC43NSBhcyB0aGF0IGNyZWF0ZXMgc21hbGxlciBidXQgc3RpbGwgY2xlYXIgaW1hZ2VzIG9uIHNjcmVlbnMgd2l0aCBoaWdoIHJlcyBkaXNwbGF5c1xuICAgICAgICB2YXIgcGl4ZWxEZW5zaXR5RmFjdG9yID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiAwLjc1KTtcblxuICAgICAgICAvLyB3ZSB3YW50IGFzIG11Y2ggcGl4ZWxzIHRvIHdvcmsgd2l0aCBhcyBwb3NzaWJsZSxcbiAgICAgICAgLy8gdGhpcyBtdWx0aXBsaWVzIHRoZSBtaW5pbXVtIGltYWdlIHJlc29sdXRpb24sXG4gICAgICAgIC8vIHNvIHdoZW4gem9vbWluZyBpbiBpdCBkb2Vzbid0IGdldCB0b28gYmx1cnJ5XG4gICAgICAgIHZhciB6b29tRmFjdG9yID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfWk9PTV9GQUNUT1InKTtcblxuICAgICAgICAvLyBpbWFlZyBzY2FsZSBmYWN0b3JcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gem9vbUZhY3RvciAqIHBpeGVsRGVuc2l0eUZhY3RvcjtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgc2NhbGVkIHByZXZpZXcgaW1hZ2Ugc2l6ZVxuICAgICAgICB2YXIgcHJldmlld0ltYWdlUmF0aW8gPSBoZWlnaHQgLyB3aWR0aDtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgaW1hZ2UgcHJldmlldyBoZWlnaHQgYW5kIHdpZHRoXG4gICAgICAgIHZhciBwcmV2aWV3Q29udGFpbmVyV2lkdGggPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgdmFyIHByZXZpZXdDb250YWluZXJIZWlnaHQgPSByb290LnJlY3QuZWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGltYWdlV2lkdGggPSBwcmV2aWV3Q29udGFpbmVyV2lkdGg7XG4gICAgICAgIHZhciBpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggKiBwcmV2aWV3SW1hZ2VSYXRpbztcblxuICAgICAgICBpZiAocHJldmlld0ltYWdlUmF0aW8gPiAxKSB7XG4gICAgICAgICAgaW1hZ2VXaWR0aCA9IE1hdGgubWluKHdpZHRoLCBwcmV2aWV3Q29udGFpbmVyV2lkdGggKiBzY2FsZUZhY3Rvcik7XG4gICAgICAgICAgaW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoICogcHJldmlld0ltYWdlUmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW1hZ2VIZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQsIHByZXZpZXdDb250YWluZXJIZWlnaHQgKiBzY2FsZUZhY3Rvcik7XG4gICAgICAgICAgaW1hZ2VXaWR0aCA9IGltYWdlSGVpZ2h0IC8gcHJldmlld0ltYWdlUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmFuc2ZlciB0byBpbWFnZSB0YWcgc28gbm8gY2FudmFzIG1lbW9yeSB3YXN0ZWQgb24gaU9TXG4gICAgICAgIHZhciBwcmV2aWV3SW1hZ2UgPSBjcmVhdGVQcmV2aWV3SW1hZ2UoXG4gICAgICAgICAgaW1hZ2VEYXRhLFxuICAgICAgICAgIGltYWdlV2lkdGgsXG4gICAgICAgICAgaW1hZ2VIZWlnaHQsXG4gICAgICAgICAgb3JpZW50YXRpb25cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBkb25lXG4gICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgICAvLyBjYWxjdWxhdGUgYXZlcmFnZSBpbWFnZSBjb2xvciwgZGlzYWJsZWQgZm9yIG5vd1xuICAgICAgICAgIHZhciBhdmVyYWdlQ29sb3IgPSByb290LnF1ZXJ5KFxuICAgICAgICAgICAgJ0dFVF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9BVkVSQUdFX0lNQUdFX0NPTE9SJ1xuICAgICAgICAgIClcbiAgICAgICAgICAgID8gY2FsY3VsYXRlQXZlcmFnZUNvbG9yKGRhdGEpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YSgnY29sb3InLCBhdmVyYWdlQ29sb3IsIHRydWUpO1xuXG4gICAgICAgICAgLy8gZGF0YSBoYXMgYmVlbiB0cmFuc2ZlcnJlZCB0byBjYW52YXMgKCBpZiB3YXMgSW1hZ2VCaXRtYXAgKVxuICAgICAgICAgIGlmICgnY2xvc2UnIGluIGltYWdlRGF0YSkge1xuICAgICAgICAgICAgaW1hZ2VEYXRhLmNsb3NlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2hvdyB0aGUgb3ZlcmxheVxuICAgICAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgdGhlIGZpcnN0IGltYWdlXG4gICAgICAgICAgcHVzaEltYWdlKHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzLCBpbWFnZTogcHJldmlld0ltYWdlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFwcGx5IGZpbHRlclxuICAgICAgICB2YXIgZmlsdGVyID0gaXRlbS5nZXRNZXRhZGF0YSgnZmlsdGVyJyk7XG4gICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICBhcHBseUZpbHRlcihyb290LCBmaWx0ZXIsIHByZXZpZXdJbWFnZSkudGhlbihkb25lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIGlmIHdlIHN1cHBvcnQgc2NhbGluZyB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCB3ZSB1c2UgYSB3b3JrZXJcbiAgICAgIGlmIChjYW5DcmVhdGVJbWFnZUJpdG1hcChpdGVtLmZpbGUpKSB7XG4gICAgICAgIC8vIGxldCdzIHNjYWxlIHRoZSBpbWFnZSBpbiBhIHdvcmtlclxuICAgICAgICB2YXIgd29ya2VyID0gY3JlYXRlV29ya2VyKEJpdG1hcFdvcmtlcik7XG5cbiAgICAgICAgd29ya2VyLnBvc3QoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmlsZTogaXRlbS5maWxlXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGZ1bmN0aW9uKGltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICAvLyBkZXN0cm95IHdvcmtlclxuICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuXG4gICAgICAgICAgICAvLyBubyBiaXRtYXAgcmV0dXJuZWQsIG11c3QgYmUgc29tZXRoaW5nIHdyb25nLFxuICAgICAgICAgICAgLy8gdHJ5IHRoZSBvbGRzY2hvb2wgd2F5XG4gICAgICAgICAgICBpZiAoIWltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICAgIGxvYWRQcmV2aWV3RmFsbGJhY2soKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB5YXkgd2UgZ290IG91ciBiaXRtYXAsIGxldCdzIGNvbnRpbnVlIHNob3dpbmcgdGhlIHByZXZpZXdcbiAgICAgICAgICAgIHByZXZpZXdJbWFnZUxvYWRlZChpbWFnZUJpdG1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGZhbGxiYWNrIHByZXZpZXdcbiAgICAgICAgbG9hZFByZXZpZXdGYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHRoZSBwcmV2aWV3IGltYWdlIGlzIHJlYWR5IHRvIGJlIGFuaW1hdGVkXG4gICAgICovXG4gICAgdmFyIGRpZERyYXdQcmV2aWV3ID0gZnVuY3Rpb24gZGlkRHJhd1ByZXZpZXcoX3JlZjgpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjgucm9vdDtcbiAgICAgIC8vIGdldCBsYXN0IGFkZGVkIGltYWdlXG4gICAgICB2YXIgaW1hZ2UgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgaW1hZ2UudHJhbnNsYXRlWSA9IDA7XG4gICAgICBpbWFnZS5zY2FsZVggPSAxLjA7XG4gICAgICBpbWFnZS5zY2FsZVkgPSAxLjA7XG4gICAgICBpbWFnZS5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXIgcmVzdG9yZU92ZXJsYXkgPSBmdW5jdGlvbiByZXN0b3JlT3ZlcmxheShfcmVmOSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmOS5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvci5vcGFjaXR5ID0gMDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzLm9wYWNpdHkgPSAwO1xuICAgIH07XG5cbiAgICB2YXIgZGlkVGhyb3dFcnJvciA9IGZ1bmN0aW9uIGRpZFRocm93RXJyb3IoX3JlZjEwKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMC4yNTtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvci5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZENvbXBsZXRlUHJvY2Vzc2luZyA9IGZ1bmN0aW9uIGRpZENvbXBsZXRlUHJvY2Vzc2luZyhfcmVmMTEpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjExLnJvb3Q7XG4gICAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAwLjI1O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3Mub3BhY2l0eSA9IDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmMTIpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjEyLnJvb3Q7XG4gICAgICAvLyBpbWFnZSB2aWV3XG4gICAgICByb290LnJlZi5pbWFnZXMgPSBbXTtcblxuICAgICAgLy8gdGhlIHByZXZpZXcgaW1hZ2UgZGF0YSAod2UgbmVlZCB0aGlzIHRvIGZpbHRlciB0aGUgaW1hZ2UpXG4gICAgICByb290LnJlZi5pbWFnZURhdGEgPSBudWxsO1xuXG4gICAgICAvLyBpbWFnZSBiaW5cbiAgICAgIHJvb3QucmVmLmltYWdlVmlld0JpbiA9IFtdO1xuXG4gICAgICAvLyBpbWFnZSBvdmVybGF5c1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgc3RhdHVzOiAnaWRsZSdcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KE92ZXJsYXlWaWV3LCB7XG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJ1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcm9vdC5yZWYub3ZlcmxheUVycm9yID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KE92ZXJsYXlWaWV3LCB7XG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtcHJldmlldy13cmFwcGVyJyxcbiAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgc3R5bGVzOiBbJ2hlaWdodCddLFxuICAgICAgYXBpczogWydoZWlnaHQnXSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjEzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjEzLnJvb3Q7XG4gICAgICAgIC8vIHdlIHJlc2l6ZSB0aGUgaW1hZ2Ugc28gbWVtb3J5IG9uIGlPUyAxMiBpcyByZWxlYXNlZCBtb3JlIHF1aWNrbHkgKGl0IHNlZW1zKVxuICAgICAgICByb290LnJlZi5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZVZpZXcpIHtcbiAgICAgICAgICBpbWFnZVZpZXcuaW1hZ2Uud2lkdGggPSAxO1xuICAgICAgICAgIGltYWdlVmlldy5pbWFnZS5oZWlnaHQgPSAxO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBkaWRXcml0ZVZpZXc6IGZ1bmN0aW9uIGRpZFdyaXRlVmlldyhfcmVmMTQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTQucm9vdDtcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oaW1hZ2VWaWV3KSB7XG4gICAgICAgICAgaW1hZ2VWaWV3LmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiBfLnV0aWxzLmNyZWF0ZVJvdXRlKFxuICAgICAgICB7XG4gICAgICAgICAgLy8gaW1hZ2UgcHJldmlldyBzdGF0ZWRcbiAgICAgICAgICBESURfSU1BR0VfUFJFVklFV19EUkFXOiBkaWREcmF3UHJldmlldyxcbiAgICAgICAgICBESURfSU1BR0VfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFOiBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyLFxuICAgICAgICAgIERJRF9GSU5JU0hfQ0FMQ1VMQVRFX1BSRVZJRVdTSVpFOiBkcmF3UHJldmlldyxcbiAgICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSxcblxuICAgICAgICAgIC8vIGZpbGUgc3RhdGVzXG4gICAgICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGRpZFRocm93RXJyb3IsXG4gICAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogZGlkQ29tcGxldGVQcm9jZXNzaW5nLFxuICAgICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5LFxuICAgICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiByZXN0b3JlT3ZlcmxheVxuICAgICAgICB9LFxuXG4gICAgICAgIGZ1bmN0aW9uKF9yZWYxNSkge1xuICAgICAgICAgIHZhciByb290ID0gX3JlZjE1LnJvb3Q7XG4gICAgICAgICAgLy8gdmlld3Mgb24gZGVhdGggcm93XG4gICAgICAgICAgdmFyIHZpZXdzVG9SZW1vdmUgPSByb290LnJlZi5pbWFnZVZpZXdCaW4uZmlsdGVyKGZ1bmN0aW9uKGltYWdlVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlVmlldy5vcGFjaXR5ID09PSAwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gdmlld3MgdG8gcmV0YWluXG4gICAgICAgICAgcm9vdC5yZWYuaW1hZ2VWaWV3QmluID0gcm9vdC5yZWYuaW1hZ2VWaWV3QmluLmZpbHRlcihmdW5jdGlvbihcbiAgICAgICAgICAgIGltYWdlVmlld1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlVmlldy5vcGFjaXR5ID4gMDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIHJlbW92ZSB0aGVzZSB2aWV3c1xuICAgICAgICAgIHZpZXdzVG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbihpbWFnZVZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVJbWFnZVZpZXcocm9vdCwgaW1hZ2VWaWV3KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2aWV3c1RvUmVtb3ZlLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW1hZ2UgUHJldmlldyBQbHVnaW5cbiAgICovXG4gIHZhciBwbHVnaW4gPSBmdW5jdGlvbiBwbHVnaW4oZnBBUEkpIHtcbiAgICB2YXIgYWRkRmlsdGVyID0gZnBBUEkuYWRkRmlsdGVyLFxuICAgICAgdXRpbHMgPSBmcEFQSS51dGlscztcbiAgICB2YXIgVHlwZSA9IHV0aWxzLlR5cGUsXG4gICAgICBjcmVhdGVSb3V0ZSA9IHV0aWxzLmNyZWF0ZVJvdXRlLFxuICAgICAgaXNGaWxlID0gdXRpbHMuaXNGaWxlO1xuXG4gICAgLy8gaW1hZ2VQcmV2aWV3Vmlld1xuICAgIHZhciBpbWFnZVByZXZpZXdWaWV3ID0gY3JlYXRlSW1hZ2VXcmFwcGVyVmlldyhmcEFQSSk7XG5cbiAgICAvLyBjYWxsZWQgZm9yIGVhY2ggdmlldyB0aGF0IGlzIGNyZWF0ZWQgcmlnaHQgYWZ0ZXIgdGhlICdjcmVhdGUnIG1ldGhvZFxuICAgIGFkZEZpbHRlcignQ1JFQVRFX1ZJRVcnLCBmdW5jdGlvbih2aWV3QVBJKSB7XG4gICAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGNyZWF0ZWQgdmlld1xuICAgICAgdmFyIGlzID0gdmlld0FQSS5pcyxcbiAgICAgICAgdmlldyA9IHZpZXdBUEkudmlldyxcbiAgICAgICAgcXVlcnkgPSB2aWV3QVBJLnF1ZXJ5O1xuXG4gICAgICAvLyBvbmx5IGhvb2sgdXAgdG8gaXRlbSB2aWV3IGFuZCBvbmx5IGlmIGlzIGVuYWJsZWQgZm9yIHRoaXMgY3JvcHBlclxuICAgICAgaWYgKCFpcygnZmlsZScpIHx8ICFxdWVyeSgnR0VUX0FMTE9XX0lNQUdFX1BSRVZJRVcnKSkgcmV0dXJuO1xuXG4gICAgICAvLyBjcmVhdGUgdGhlIGltYWdlIHByZXZpZXcgcGx1Z2luLCBidXQgb25seSBkbyBzbyBpZiB0aGUgaXRlbSBpcyBhbiBpbWFnZVxuICAgICAgdmFyIGRpZExvYWRJdGVtID0gZnVuY3Rpb24gZGlkTG9hZEl0ZW0oX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcblxuICAgICAgICAvLyBpdGVtIGNvdWxkIHRoZW9yZXRpY2FsbHkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gdGhlIG1lYW4gdGltZVxuICAgICAgICBpZiAoIWl0ZW0gfHwgIWlzRmlsZShpdGVtLmZpbGUpIHx8IGl0ZW0uYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBnZXQgdGhlIGZpbGUgb2JqZWN0XG4gICAgICAgIHZhciBmaWxlID0gaXRlbS5maWxlO1xuXG4gICAgICAgIC8vIGV4aXQgaWYgdGhpcyBpcyBub3QgYW4gaW1hZ2VcbiAgICAgICAgaWYgKCFpc1ByZXZpZXdhYmxlSW1hZ2UoZmlsZSkpIHJldHVybjtcblxuICAgICAgICAvLyB0ZXN0IGlmIGlzIGZpbHRlcmVkXG4gICAgICAgIGlmICghcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0ZJTFRFUl9JVEVNJykoaXRlbSkpIHJldHVybjtcblxuICAgICAgICAvLyBleGl0IGlmIGltYWdlIHNpemUgaXMgdG9vIGhpZ2ggYW5kIG5vIGNyZWF0ZUltYWdlQml0bWFwIHN1cHBvcnRcbiAgICAgICAgLy8gdGhpcyB3b3VsZCBzaW1wbHkgYnJpbmcgdGhlIGJyb3dzZXIgdG8gaXRzIGtuZWVzIGFuZCB0aGF0IGlzIG5vdCB3aGF0IHdlIHdhbnRcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAgPSAnY3JlYXRlSW1hZ2VCaXRtYXAnIGluICh3aW5kb3cgfHwge30pO1xuICAgICAgICB2YXIgbWF4UHJldmlld0ZpbGVTaXplID0gcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BWF9GSUxFX1NJWkUnKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFzdXBwb3J0c0NyZWF0ZUltYWdlQml0bWFwICYmXG4gICAgICAgICAgbWF4UHJldmlld0ZpbGVTaXplICYmXG4gICAgICAgICAgZmlsZS5zaXplID4gbWF4UHJldmlld0ZpbGVTaXplXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gc2V0IHByZXZpZXcgdmlld1xuICAgICAgICByb290LnJlZi5pbWFnZVByZXZpZXcgPSB2aWV3LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICB2aWV3LmNyZWF0ZUNoaWxkVmlldyhpbWFnZVByZXZpZXdWaWV3LCB7IGlkOiBpZCB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBoZWlnaHQgaWYgaXMgZml4ZWRcbiAgICAgICAgdmFyIGZpeGVkUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0hFSUdIVCcpO1xuICAgICAgICBpZiAoZml4ZWRQcmV2aWV3SGVpZ2h0KSB7XG4gICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1VQREFURV9QQU5FTF9IRUlHSFQnLCB7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIGhlaWdodDogZml4ZWRQcmV2aWV3SGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgcmVhZHlcbiAgICAgICAgdmFyIHF1ZXVlID1cbiAgICAgICAgICAhc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCAmJlxuICAgICAgICAgIGZpbGUuc2l6ZSA+IHF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSU5TVEFOVF9QUkVWSUVXX0ZJTEVfU0laRScpO1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFJywgeyBpZDogaWQgfSwgcXVldWUpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlc2NhbGVJdGVtID0gZnVuY3Rpb24gcmVzY2FsZUl0ZW0ocm9vdCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCFyb290LnJlZi5pbWFnZVByZXZpZXcpIHJldHVybjtcbiAgICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgICAgLy8gZ2V0IGl0ZW1cbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IGlkIH0pO1xuICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgICAvLyBpZiBpcyBmaXhlZCBoZWlnaHQgb3IgcGFuZWwgaGFzIGFzcGVjdCByYXRpbywgZXhpdCBoZXJlLCBoZWlnaHQgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkXG4gICAgICAgIHZhciBwYW5lbEFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICB2YXIgaXRlbVBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8nKTtcbiAgICAgICAgdmFyIGZpeGVkSGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfSEVJR0hUJyk7XG4gICAgICAgIGlmIChwYW5lbEFzcGVjdFJhdGlvIHx8IGl0ZW1QYW5lbEFzcGVjdFJhdGlvIHx8IGZpeGVkSGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgLy8gbm8gZGF0YSFcbiAgICAgICAgdmFyIF9yb290JHJlZiA9IHJvb3QucmVmLFxuICAgICAgICAgIGltYWdlV2lkdGggPSBfcm9vdCRyZWYuaW1hZ2VXaWR0aCxcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IF9yb290JHJlZi5pbWFnZUhlaWdodDtcbiAgICAgICAgaWYgKCFpbWFnZVdpZHRoIHx8ICFpbWFnZUhlaWdodCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGdldCBoZWlnaHQgbWluIGFuZCBtYXhcbiAgICAgICAgdmFyIG1pblByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NSU5fSEVJR0hUJyk7XG4gICAgICAgIHZhciBtYXhQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0hFSUdIVCcpO1xuXG4gICAgICAgIC8vIG9yaWVudGF0aW9uIGluZm9cbiAgICAgICAgdmFyIGV4aWYgPSBpdGVtLmdldE1ldGFkYXRhKCdleGlmJykgfHwge307XG4gICAgICAgIHZhciBvcmllbnRhdGlvbiA9IGV4aWYub3JpZW50YXRpb24gfHwgLTE7XG5cbiAgICAgICAgLy8gZ2V0IHdpZHRoIGFuZCBoZWlnaHQgZnJvbSBhY3Rpb24sIGFuZCBzd2FwIG9mIG9yaWVudGF0aW9uIGlzIGluY29ycmVjdFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgICAgICAgdmFyIF9yZWYyID0gW2ltYWdlSGVpZ2h0LCBpbWFnZVdpZHRoXTtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gX3JlZjJbMF07XG4gICAgICAgICAgaW1hZ2VIZWlnaHQgPSBfcmVmMlsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNjYWxlIHVwIHdpZHRoIGFuZCBoZWlnaHQgd2hlbiB3ZSdyZSBkZWFsaW5nIHdpdGggYW4gU1ZHXG4gICAgICAgIGlmICghaXNCaXRtYXAoaXRlbS5maWxlKSB8fCByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19VUFNDQUxFJykpIHtcbiAgICAgICAgICB2YXIgc2NhbGFyID0gMjA0OCAvIGltYWdlV2lkdGg7XG4gICAgICAgICAgaW1hZ2VXaWR0aCAqPSBzY2FsYXI7XG4gICAgICAgICAgaW1hZ2VIZWlnaHQgKj0gc2NhbGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW1hZ2UgYXNwZWN0IHJhdGlvXG4gICAgICAgIHZhciBpbWFnZUFzcGVjdFJhdGlvID0gaW1hZ2VIZWlnaHQgLyBpbWFnZVdpZHRoO1xuXG4gICAgICAgIC8vIHdlIG5lZWQgdGhlIGl0ZW0gdG8gZ2V0IHRvIHRoZSBjcm9wIHNpemVcbiAgICAgICAgdmFyIHByZXZpZXdBc3BlY3RSYXRpbyA9XG4gICAgICAgICAgKGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKSB8fCB7fSkuYXNwZWN0UmF0aW8gfHwgaW1hZ2VBc3BlY3RSYXRpbztcblxuICAgICAgICAvLyBwcmV2aWV3IGhlaWdodCByYW5nZVxuICAgICAgICB2YXIgcHJldmlld0hlaWdodE1heCA9IE1hdGgubWF4KFxuICAgICAgICAgIG1pblByZXZpZXdIZWlnaHQsXG4gICAgICAgICAgTWF0aC5taW4oaW1hZ2VIZWlnaHQsIG1heFByZXZpZXdIZWlnaHQpXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGl0ZW1XaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgcHJldmlld0hlaWdodCA9IE1hdGgubWluKFxuICAgICAgICAgIGl0ZW1XaWR0aCAqIHByZXZpZXdBc3BlY3RSYXRpbyxcbiAgICAgICAgICBwcmV2aWV3SGVpZ2h0TWF4XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmVxdWVzdCB1cGRhdGUgdG8gcGFuZWwgaGVpZ2h0XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9VUERBVEVfUEFORUxfSEVJR0hUJywge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIGhlaWdodDogcHJldmlld0hlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRSZXNpemVWaWV3ID0gZnVuY3Rpb24gZGlkUmVzaXplVmlldyhfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgICAgcm9vdC5yZWYuc2hvdWxkUmVzY2FsZSA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGlkVXBkYXRlSXRlbU1ldGFkYXRhID0gZnVuY3Rpb24gZGlkVXBkYXRlSXRlbU1ldGFkYXRhKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgICAgIGlmIChhY3Rpb24uY2hhbmdlLmtleSAhPT0gJ2Nyb3AnKSByZXR1cm47XG5cbiAgICAgICAgLy8gYWN0aW9ucyBpbiBuZXh0IHdyaXRlIG9wZXJhdGlvblxuICAgICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRDYWxjdWxhdGVQcmV2aWV3U2l6ZSA9IGZ1bmN0aW9uIGRpZENhbGN1bGF0ZVByZXZpZXdTaXplKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICBhY3Rpb24gPSBfcmVmNS5hY3Rpb247XG4gICAgICAgIC8vIHJlbWVtYmVyIGRpbWVuc2lvbnNcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VXaWR0aCA9IGFjdGlvbi53aWR0aDtcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VIZWlnaHQgPSBhY3Rpb24uaGVpZ2h0O1xuXG4gICAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgICAgcm9vdC5yZWYuc2hvdWxkUmVzY2FsZSA9IHRydWU7XG4gICAgICAgIHJvb3QucmVmLnNob3VsZERyYXdQcmV2aWV3ID0gdHJ1ZTtcblxuICAgICAgICAvLyBhcyBpbWFnZSBsb2FkIGNvdWxkIHRha2UgYSB3aGlsZSBhbmQgZmlyZSB3aGVuIGRyYXcgbG9vcCBpcyByZXN0aW5nIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIGtpY2tcbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnS0lDSycpO1xuICAgICAgfTtcblxuICAgICAgLy8gc3RhcnQgd3JpdGluZ1xuICAgICAgdmlldy5yZWdpc3RlcldyaXRlcihcbiAgICAgICAgY3JlYXRlUm91dGUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgRElEX1JFU0laRV9ST09UOiBkaWRSZXNpemVWaWV3LFxuICAgICAgICAgICAgRElEX1NUT1BfUkVTSVpFOiBkaWRSZXNpemVWaWV3LFxuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW0sXG4gICAgICAgICAgICBESURfSU1BR0VfUFJFVklFV19DQUxDVUxBVEVfU0laRTogZGlkQ2FsY3VsYXRlUHJldmlld1NpemUsXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBmdW5jdGlvbihfcmVmNikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY2LnByb3BzO1xuICAgICAgICAgICAgLy8gbm8gcHJldmlldyB2aWV3IGF0dGFjaGVkXG4gICAgICAgICAgICBpZiAoIXJvb3QucmVmLmltYWdlUHJldmlldykgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyB3aGlsZSBoaWRkZW5cbiAgICAgICAgICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAgICAgLy8gcmVzaXplIHRoZSBpdGVtIHBhbmVsXG4gICAgICAgICAgICBpZiAocm9vdC5yZWYuc2hvdWxkUmVzY2FsZSkge1xuICAgICAgICAgICAgICByZXNjYWxlSXRlbShyb290LCBwcm9wcyk7XG4gICAgICAgICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZERyYXdQcmV2aWV3KSB7XG4gICAgICAgICAgICAgIC8vIHF1ZXVlIHRpbGwgbmV4dCBmcmFtZSBzbyB3ZSdyZSBzdXJlIHRoZSBoZWlnaHQgaGFzIGJlZW4gYXBwbGllZCB0aGlzIGZvcmNlcyB0aGUgZHJhdyBpbWFnZSBjYWxsIGluc2lkZSB0aGUgd3JhcHBlciB2aWV3IHRvIHVzZSB0aGUgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIG5lc3RpbmcgaXMgaG9ycmlibGUgYnV0IGl0IGZpeGVzIGFuIGlzc3VlIHdpdGggMTAwaHogZGlzcGxheXMgb24gQ2hyb21lXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BxaW5hL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3L2lzc3Vlcy81N1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9GSU5JU0hfQ0FMQ1VMQVRFX1BSRVZJRVdTSVpFJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogcHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByb290LnJlZi5zaG91bGREcmF3UHJldmlldyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBwbHVnaW5cbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBpbWFnZSBwcmV2aWV3XG4gICAgICAgIGFsbG93SW1hZ2VQcmV2aWV3OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBmaWx0ZXJzIGZpbGUgaXRlbXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGFyZSBzaG93biBhcyBwcmV2aWV3XG4gICAgICAgIGltYWdlUHJldmlld0ZpbHRlckl0ZW06IFtcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgVHlwZS5GVU5DVElPTlxuICAgICAgICBdLFxuXG4gICAgICAgIC8vIEZpeGVkIHByZXZpZXcgaGVpZ2h0XG4gICAgICAgIGltYWdlUHJldmlld0hlaWdodDogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBNaW4gaW1hZ2UgaGVpZ2h0XG4gICAgICAgIGltYWdlUHJldmlld01pbkhlaWdodDogWzQ0LCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWF4IGltYWdlIGhlaWdodFxuICAgICAgICBpbWFnZVByZXZpZXdNYXhIZWlnaHQ6IFsyNTYsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBNYXggc2l6ZSBvZiBwcmV2aWV3IGZpbGUgZm9yIHdoZW4gY3JlYXRlSW1hZ2VCaXRtYXAgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICBpbWFnZVByZXZpZXdNYXhGaWxlU2l6ZTogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBUaGUgYW1vdW50IG9mIGV4dHJhIHBpeGVscyBhZGRlZCB0byB0aGUgaW1hZ2UgcHJldmlldyB0byBhbGxvdyBjb21mb3J0YWJsZSB6b29taW5nXG4gICAgICAgIGltYWdlUHJldmlld1pvb21GYWN0b3I6IFsyLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gU2hvdWxkIHdlIHVwc2NhbGUgc21hbGwgaW1hZ2VzIHRvIGZpdCB0aGUgbWF4IGJvdW5kaW5nIGJveCBvZiB0aGUgcHJldmlldyBhcmVhXG4gICAgICAgIGltYWdlUHJldmlld1Vwc2NhbGU6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBNYXggc2l6ZSBvZiBwcmV2aWV3IGZpbGUgdGhhdCB3ZSBhbGxvdyB0byB0cnkgdG8gaW5zdGFudCBwcmV2aWV3IGlmIGNyZWF0ZUltYWdlQml0bWFwIGlzIG5vdCBzdXBwb3J0ZWQsIGVsc2UgaW1hZ2UgaXMgcXVldWVkIGZvciBsb2FkaW5nXG4gICAgICAgIGltYWdlUHJldmlld01heEluc3RhbnRQcmV2aWV3RmlsZVNpemU6IFsxMDAwMDAwLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gU3R5bGUgb2YgdGhlIHRyYW5zcGFyYW5jeSBpbmRpY2F0b3IgdXNlZCBiZWhpbmQgaW1hZ2VzXG4gICAgICAgIGltYWdlUHJldmlld1RyYW5zcGFyZW5jeUluZGljYXRvcjogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIHJlYWRpbmcgYXZlcmFnZSBpbWFnZSBjb2xvclxuICAgICAgICBpbWFnZVByZXZpZXdDYWxjdWxhdGVBdmVyYWdlSW1hZ2VDb2xvcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHByZXZpZXdpbmcgb2YgbWFya3VwXG4gICAgICAgIGltYWdlUHJldmlld01hcmt1cFNob3c6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEFsbG93cyBmaWx0ZXJpbmcgb2YgbWFya3VwIHRvIG9ubHkgc2hvdyBjZXJ0YWluIHNoYXBlc1xuICAgICAgICBpbWFnZVByZXZpZXdNYXJrdXBGaWx0ZXI6IFtcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgVHlwZS5GVU5DVElPTlxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuICB2YXIgaXNCcm93c2VyID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHBsdWdpbjtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js\n");

/***/ }),

/***/ "./node_modules/filepond/dist/filepond.js":
/*!************************************************!*\
  !*** ./node_modules/filepond/dist/filepond.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("/*!\n * FilePond 4.30.6\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n     true\n        ? factory(exports)\n        : 0;\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substring(2, 11);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelFileSizeBytes: ['bytes', Type.STRING],\n        labelFileSizeKilobytes: ['KB', Type.STRING],\n        labelFileSizeMegabytes: ['MB', Type.STRING],\n        labelFileSizeGigabytes: ['GB', Type.STRING],\n\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n\n            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {\n                return {\n                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n                };\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return ('' + url)\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substring(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // a completed upload will have a serverFileReference, a failed chunked upload where\n                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n                var serverTransferId =\n                    state.serverFileReference !== null\n                        ? state.serverFileReference\n                        : state.transferId;\n\n                // cannot revert without a server id for this process\n                if (serverTransferId === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    serverTransferId,\n                    function() {\n                        // reset file server id and transfer id as now it's not available on the server\n                        state.serverFileReference = null;\n                        state.transferId = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function(e) {\n                            if (!e || !e.error || !e.status) return handleAdd(false);\n                            dispatch('DID_THROW_ITEM_INVALID', {\n                                id: id,\n                                error: e.error,\n                                status: e.status,\n                            });\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        (options.revert &&\n                            item.origin !== FileOrigin.LOCAL &&\n                            item.serverId !== null) ||\n                        // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                        // revert before removing from the view...\n                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                        (state.options.chunkUploads && state.options.chunkForce)\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                // get all keys passed\n                var optionKeys = Object.keys(options);\n\n                // get prioritized keyed to include (remove once not in options object)\n                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {\n                    return optionKeys.includes(key);\n                });\n\n                // order the keys, prioritized first, then rest\n                var orderedOptionKeys = [].concat(\n                    _toConsumableArray(prioritizedOptionKeys),\n                    _toConsumableArray(\n                        Object.keys(options).filter(function(key) {\n                            return !prioritizedOptionKeys.includes(key);\n                        })\n                    )\n                );\n\n                // dispatch set event for each option\n                orderedOptionKeys.forEach(function(key) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: options[key],\n                    });\n                });\n            },\n        };\n    };\n\n    var PrioritizedOptions = ['server'];\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var _options$labelBytes = options.labelBytes,\n            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,\n            _options$labelKilobyt = options.labelKilobytes,\n            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,\n            _options$labelMegabyt = options.labelMegabytes,\n            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,\n            _options$labelGigabyt = options.labelGigabytes,\n            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;\n\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' ' + labelBytes;\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' ' + labelKilobytes;\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE'),\n                root.query('GET_FILE_SIZE_LABELS', root.query)\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            updateFile({ root: root, props: props });\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files. will refuse to update the value if the field\n    // is a file field\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            if (field.type != 'file') {\n                field.value = action.value;\n            }\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substring(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : 1;\n\n        if (!allowMultiple && allowReplace) {\n            // There is only one item, so there is room to replace or add an item\n            return false;\n        }\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxLQUE0RDtBQUNoRTtBQUNBLFVBQVUsQ0FFNEQ7QUFDdEUsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3QkFBd0I7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLGtCQUFrQjtBQUM3RCxTQUFTOztBQUVUO0FBQ0E7QUFDQSw2Q0FBNkMsb0NBQW9DO0FBQ2pGLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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OztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0M7O0FBRS9DO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7O0FBRUE7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7O0FBRUE7QUFDQTtBQUNBLDZDQUE2QztBQUM3Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsVUFBVTtBQUNqQywyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhOztBQUVuQztBQUNBLGtEQUFrRCwyQkFBMkI7QUFDN0U7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBLDRCQUE0QixvQkFBb0I7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7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QkFBNkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7O0FBRTFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNEQUFzRCwrQkFBK0I7QUFDckY7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0REFBNEQsa0NBQWtDO0FBQzlGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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LGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlDQUFpQyxzQkFBc0I7QUFDdkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQjtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdEQUFnRCx3QkFBd0IsMkJBQTJCO0FBQ25HO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsSUFBSSxJQUFJO0FBQzVELGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLGdEQUFnRDtBQUNoRCx3Q0FBd0M7QUFDeEMsOENBQThDO0FBQzlDLDBDQUEwQztBQUMxQywwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxhQUFhO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0EsdUJBQXVCOztBQUV2QixnREFBZ0Q7QUFDaEQ7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0RBQXdEO0FBQ3hEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFD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QUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOEJBQThCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOEJBQThCO0FBQ3pELGFBQWE7O0FBRWI7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4QkFBOEI7QUFDekQsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0MsV0FBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixZQUFZO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFROztBQUVwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQSxxQ0FBcUMsMkJBQTJCOztBQUVoRTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDRDQUE0QztBQUM5RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiw0Q0FBNEM7O0FBRTlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBOEM7QUFDcEUsU0FBUztBQUNULDhCQUE4QixzQkFBc0IsMkNBQTJDO0FBQy9GO0FBQ0E7QUFDQSxzQkFBc0IsaURBQWlEO0FBQ3ZFLFNBQVM7QUFDVCx5QkFBeUIsWUFBWTtBQUNyQyx5QkFBeUIsc0JBQXNCLHFDQUFxQztBQUNwRiwyQkFBMkIsc0JBQXNCLDJDQUEyQzs7QUFFNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOEJBQThCO0FBQ3pEO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOEJBQThCO0FBQ3pELGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFlBQVk7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDRDQUE0QztBQUM5RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsMENBQTBDO0FBQzFDLHdDQUF3QztBQUN4Qyx3Q0FBd0M7QUFDeEMsd0NBQXdDO0FBQ3hDLDhDQUE4QztBQUM5Qzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHdDQUF3QztBQUN4QyxrREFBa0Q7QUFDbEQsd0NBQXdDO0FBQ3hDLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isd0NBQXdDO0FBQ3hDOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRCxrQkFBa0I7QUFDbkU7O0FBRUE7QUFDQSw0RUFBNEUsb0JBQW9COztBQUVoRztBQUNBO0FBQ0EsNERBQTREO0FBQzVEOztBQUVBO0FBQ0Esd0ZBQXdGOztBQUV4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxnQkFBZ0I7QUFDbEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDRDQUE0Qzs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLG1DQUFtQztBQUNuQztBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCLHVEQUF1RCx5QkFBeUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7O0FBRWpCLDRDQUE0QyxvQkFBb0I7O0FBRWhFLGdEQUFnRCxvQkFBb0I7QUFDcEU7O0FBRUE7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFOztBQUVBO0FBQ0EsNENBQTRDLG9CQUFvQjtBQUNoRSxhQUFhOztBQUViO0FBQ0EsZ0RBQWdELG9CQUFvQjtBQUNwRTs7QUFFQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHlCQUF5QjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MseUJBQXlCOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxtQkFBbUI7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7O0FBRUE7QUFDQSxtREFBbUQ7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLGVBQWU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakIsaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxrQkFBa0I7QUFDckU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtDQUFrQyxLQUFLLHNCQUFzQjtBQUN6RjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwREFBMEQsYUFBYSxjQUFjOztBQUVyRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQSxjQUFjOztBQUVkO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsNEJBQTRCO0FBQ3JGLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0JBQWtCO0FBQ3RFLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFNBQVM7O0FB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QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtREFBbUQsYUFBYTtBQUNoRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2Rpc3QvZmlsZXBvbmQuanM/ZDQ5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEZpbGVQb25kIDQuMzAuNlxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZmFjdG9yeShleHBvcnRzKVxuICAgICAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgICAgICA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSlcbiAgICAgICAgOiAoKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmKSwgZmFjdG9yeSgoZ2xvYmFsLkZpbGVQb25kID0ge30pKSk7XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGlzTm9kZSA9IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVN0b3JlID0gZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBxdWVyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgICAvLyBpbnRlcm5hbCBzdGF0ZVxuICAgICAgICB2YXIgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUpO1xuXG4gICAgICAgIC8vIGNvbnRhaW5zIGFsbCBhY3Rpb25zIGZvciBuZXh0IGZyYW1lLCBpcyBjbGVhciB3aGVuIGFjdGlvbnMgYXJlIHJlcXVlc3RlZFxuICAgICAgICB2YXIgYWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgdmFyIGRpc3BhdGNoUXVldWUgPSBbXTtcblxuICAgICAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgIHZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBhY3Rpb25zIGFycmF5IGFuZCBjbGVhcnMgdGhlIGFjdGlvbnMgYXJyYXlcbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb25RdWV1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NBY3Rpb25RdWV1ZSgpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IFtdLmNvbmNhdChhY3Rpb25RdWV1ZSk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgICAgICBhY3Rpb25RdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcHJvY2Vzc2VzIGFjdGlvbnMgdGhhdCBtaWdodCBibG9jayB0aGUgbWFpbiBVSSB0aHJlYWRcbiAgICAgICAgdmFyIHByb2Nlc3NEaXNwYXRjaFF1ZXVlID0gZnVuY3Rpb24gcHJvY2Vzc0Rpc3BhdGNoUXVldWUoKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgY29weSBvZiBhY3Rpb25zIHF1ZXVlXG4gICAgICAgICAgICB2YXIgcXVldWUgPSBbXS5jb25jYXQoZGlzcGF0Y2hRdWV1ZSk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIC8vIG5vdyBkaXNwYXRjaCB0aGVzZSBhY3Rpb25zXG4gICAgICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uKF9yZWYpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh0eXBlLCBkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZHMgYSBuZXcgYWN0aW9uLCBjYWxscyBpdHMgaGFuZGxlciBhbmRcbiAgICAgICAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2godHlwZSwgZGF0YSwgaXNCbG9ja2luZykge1xuICAgICAgICAgICAgLy8gaXMgYmxvY2tpbmcgYWN0aW9uIChzaG91bGQgbmV2ZXIgYmxvY2sgaWYgZG9jdW1lbnQgaXMgaGlkZGVuKVxuICAgICAgICAgICAgaWYgKGlzQmxvY2tpbmcgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IHR5cGU6IHR5cGUsIGRhdGE6IGRhdGEgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGFjdGlvbiBoYXMgYSBoYW5kbGVyLCBoYW5kbGUgdGhlIGFjdGlvblxuICAgICAgICAgICAgaWYgKGFjdGlvbkhhbmRsZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uSGFuZGxlcnNbdHlwZV0oZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyBhZGQgYWN0aW9uXG4gICAgICAgICAgICBhY3Rpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcXVlcnkgPSBmdW5jdGlvbiBxdWVyeShzdHIpIHtcbiAgICAgICAgICAgIHZhciBfcXVlcnlIYW5kbGVzO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTtcbiAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5SGFuZGxlc1tzdHJdXG4gICAgICAgICAgICAgICAgPyAoX3F1ZXJ5SGFuZGxlcyA9IHF1ZXJ5SGFuZGxlcylbc3RyXS5hcHBseShfcXVlcnlIYW5kbGVzLCBhcmdzKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgICAgICAgcHJvY2Vzc0FjdGlvblF1ZXVlOiBwcm9jZXNzQWN0aW9uUXVldWUsXG4gICAgICAgICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZTogcHJvY2Vzc0Rpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHF1ZXJ5SGFuZGxlcyA9IHt9O1xuICAgICAgICBxdWVyaWVzLmZvckVhY2goZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5SGFuZGxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5KHN0YXRlKSwge30sIHF1ZXJ5SGFuZGxlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhY3Rpb25IYW5kbGVycyA9IHt9O1xuICAgICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb25IYW5kbGVycyA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSwge30sIGFjdGlvbkhhbmRsZXJzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5LCBPYmplY3QuYXNzaWduKHt9LCBkZWZpbml0aW9uKSk7XG4gICAgfTtcblxuICAgIHZhciBmb3JpbiA9IGZ1bmN0aW9uIGZvcmluKG9iaiwgY2IpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYihrZXksIG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24gY3JlYXRlT2JqZWN0KGRlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBmb3JpbihkZWZpbml0aW9uLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbltwcm9wZXJ0eV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgdmFyIGF0dHIgPSBmdW5jdGlvbiBhdHRyKG5vZGUsIG5hbWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZShuYW1lKSB8fCBub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIHZhciBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgdmFyIHN2Z0VsZW1lbnRzID0gWydzdmcnLCAncGF0aCddOyAvLyBvbmx5IHN2ZyBlbGVtZW50cyB1c2VkXG5cbiAgICB2YXIgaXNTVkdFbGVtZW50ID0gZnVuY3Rpb24gaXNTVkdFbGVtZW50KHRhZykge1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudHMuaW5jbHVkZXModGFnKTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IGlzU1ZHRWxlbWVudCh0YWcpXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKVxuICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1NWR0VsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgJ2NsYXNzJywgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yaW4oYXR0cmlidXRlcywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIHZhciBhcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIGFwcGVuZENoaWxkKHBhcmVudCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBwYXJlbnQuY2hpbGRyZW5baW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50LmNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBhcHBlbmRDaGlsZFZpZXcgPSBmdW5jdGlvbiBhcHBlbmRDaGlsZFZpZXcocGFyZW50LCBjaGlsZFZpZXdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3LCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShpbmRleCwgMCwgdmlldyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkVmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVDaGlsZFZpZXcgPSBmdW5jdGlvbiByZW1vdmVDaGlsZFZpZXcocGFyZW50LCBjaGlsZFZpZXdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBjaGlsZCB2aWV3c1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5zcGxpY2UoY2hpbGRWaWV3cy5pbmRleE9mKHZpZXcpLCAxKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBpZiAodmlldy5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBJU19CUk9XU0VSID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfSkoKTtcbiAgICB2YXIgaXNCcm93c2VyID0gZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgICAgICByZXR1cm4gSVNfQlJPV1NFUjtcbiAgICB9O1xuXG4gICAgdmFyIHRlc3RFbGVtZW50ID0gaXNCcm93c2VyKCkgPyBjcmVhdGVFbGVtZW50KCdzdmcnKSA6IHt9O1xuICAgIHZhciBnZXRDaGlsZENvdW50ID1cbiAgICAgICAgJ2NoaWxkcmVuJyBpbiB0ZXN0RWxlbWVudFxuICAgICAgICAgICAgPyBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgdmFyIGdldFZpZXdSZWN0ID0gZnVuY3Rpb24gZ2V0Vmlld1JlY3QoZWxlbWVudFJlY3QsIGNoaWxkVmlld3MsIG9mZnNldCwgc2NhbGUpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBvZmZzZXRbMF0gfHwgZWxlbWVudFJlY3QubGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IG9mZnNldFsxXSB8fCBlbGVtZW50UmVjdC50b3A7XG4gICAgICAgIHZhciByaWdodCA9IGxlZnQgKyBlbGVtZW50UmVjdC53aWR0aDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGVsZW1lbnRSZWN0LmhlaWdodCAqIChzY2FsZVsxXSB8fCAxKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHtcbiAgICAgICAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmXG4gICAgICAgICAgICBlbGVtZW50OiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50UmVjdCksXG5cbiAgICAgICAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgZXhwYW5kZWQgdG8gY29udGFpbiBpdHMgY2hpbGRyZW4sIGRvZXMgbm90IGluY2x1ZGUgYW55IG1hcmdpbnNcbiAgICAgICAgICAgIGlubmVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICByaWdodDogZWxlbWVudFJlY3QucmlnaHQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBlbGVtZW50UmVjdC5ib3R0b20sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBvd24gbWFyZ2luIGFuZCBjaGlsZCBtYXJnaW5zXG4gICAgICAgICAgICAvLyBtYXJnaW5zIHdpbGwgYmUgYWRkZWQgYWZ0ZXIgd2UndmUgcmVjYWxjdWxhdGVkIHRoZSBzaXplXG4gICAgICAgICAgICBvdXRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleHBhbmQgcmVjdCB0byBmaXQgYWxsIGNoaWxkIHJlY3RhbmdsZXNcbiAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWNoaWxkVmlldy5pc1JlY3RJZ25vcmVkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRWaWV3LnJlY3Q7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2hpbGRWaWV3UmVjdCkge1xuICAgICAgICAgICAgICAgIGV4cGFuZFJlY3QocmVjdC5pbm5lciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5pbm5lcikpO1xuICAgICAgICAgICAgICAgIGV4cGFuZFJlY3QocmVjdC5vdXRlciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5vdXRlcikpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGlubmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgY2FsY3VsYXRlUmVjdFNpemUocmVjdC5pbm5lcik7XG5cbiAgICAgICAgLy8gYXBwZW5kIGFkZGl0aW9uYWwgbWFyZ2luICh0b3AgYW5kIGxlZnQgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW4gdG9wIGFuZCBsZWZ0IGF1dG9tYXRpY2FsbHkpXG4gICAgICAgIHJlY3Qub3V0ZXIuYm90dG9tICs9IHJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG4gICAgICAgIHJlY3Qub3V0ZXIucmlnaHQgKz0gcmVjdC5lbGVtZW50Lm1hcmdpblJpZ2h0O1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBvdXRlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3Qub3V0ZXIpO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG5cbiAgICB2YXIgZXhwYW5kUmVjdCA9IGZ1bmN0aW9uIGV4cGFuZFJlY3QocGFyZW50LCBjaGlsZCkge1xuICAgICAgICAvLyBhZGp1c3QgZm9yIHBhcmVudCBvZmZzZXRcbiAgICAgICAgY2hpbGQudG9wICs9IHBhcmVudC50b3A7XG4gICAgICAgIGNoaWxkLnJpZ2h0ICs9IHBhcmVudC5sZWZ0O1xuICAgICAgICBjaGlsZC5ib3R0b20gKz0gcGFyZW50LnRvcDtcbiAgICAgICAgY2hpbGQubGVmdCArPSBwYXJlbnQubGVmdDtcblxuICAgICAgICBpZiAoY2hpbGQuYm90dG9tID4gcGFyZW50LmJvdHRvbSkge1xuICAgICAgICAgICAgcGFyZW50LmJvdHRvbSA9IGNoaWxkLmJvdHRvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5yaWdodCA+IHBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgcGFyZW50LnJpZ2h0ID0gY2hpbGQucmlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZVJlY3RTaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlUmVjdFNpemUocmVjdCkge1xuICAgICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xuICAgIH07XG5cbiAgICB2YXIgaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBwb3NpdGlvbiBpcyBhdCBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSB2ZWxvY2l0eVxuICAgICAqIEBwYXJhbSBlcnJvck1hcmdpblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhciB0aGVyZVlldCA9IGZ1bmN0aW9uIHRoZXJlWWV0KHBvc2l0aW9uLCBkZXN0aW5hdGlvbiwgdmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIGVycm9yTWFyZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwLjAwMTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHBvc2l0aW9uIC0gZGVzdGluYXRpb24pIDwgZXJyb3JNYXJnaW4gJiYgTWF0aC5hYnModmVsb2NpdHkpIDwgZXJyb3JNYXJnaW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwcmluZyBhbmltYXRpb25cbiAgICAgKi9cbiAgICB2YXIgc3ByaW5nID1cbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIGZ1bmN0aW9uIHNwcmluZygpIC8vIG1ldGhvZCBkZWZpbml0aW9uXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICAgICAgICBfcmVmJHN0aWZmbmVzcyA9IF9yZWYuc3RpZmZuZXNzLFxuICAgICAgICAgICAgICAgIHN0aWZmbmVzcyA9IF9yZWYkc3RpZmZuZXNzID09PSB2b2lkIDAgPyAwLjUgOiBfcmVmJHN0aWZmbmVzcyxcbiAgICAgICAgICAgICAgICBfcmVmJGRhbXBpbmcgPSBfcmVmLmRhbXBpbmcsXG4gICAgICAgICAgICAgICAgZGFtcGluZyA9IF9yZWYkZGFtcGluZyA9PT0gdm9pZCAwID8gMC43NSA6IF9yZWYkZGFtcGluZyxcbiAgICAgICAgICAgICAgICBfcmVmJG1hc3MgPSBfcmVmLm1hc3MsXG4gICAgICAgICAgICAgICAgbWFzcyA9IF9yZWYkbWFzcyA9PT0gdm9pZCAwID8gMTAgOiBfcmVmJG1hc3M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBzcHJpbmcgc3RhdGVcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHRzLCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIGluIHJlc3QsIGRvbid0IGFuaW1hdGVcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZCBhdCBsZWFzdCBhIHRhcmdldCBvciBwb3NpdGlvbiB0byBkbyBzcHJpbmd5IHRoaW5nc1xuICAgICAgICAgICAgICAgIGlmICghKGlzTnVtYmVyKHRhcmdldCkgJiYgaXNOdW1iZXIocG9zaXRpb24pKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHNwcmluZyBmb3JjZVxuICAgICAgICAgICAgICAgIHZhciBmID0gLShwb3NpdGlvbiAtIHRhcmdldCkgKiBzdGlmZm5lc3M7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgYnkgYWRkaW5nIGZvcmNlIGJhc2VkIG9uIG1hc3NcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSArPSBmIC8gbWFzcztcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmVsb2NpdHlcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSB2ZWxvY2l0eTtcblxuICAgICAgICAgICAgICAgIC8vIHNsb3cgZG93biBiYXNlZCBvbiBhbW91bnQgb2YgZGFtcGluZ1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ICo9IGRhbXBpbmc7XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBhcnJpdmVkIGlmIHdlJ3JlIG5lYXIgdGFyZ2V0IGFuZCBvdXIgdmVsb2NpdHkgaXMgbmVhciB6ZXJvXG4gICAgICAgICAgICAgICAgaWYgKHRoZXJlWWV0KHBvc2l0aW9uLCB0YXJnZXQsIHZlbG9jaXR5KSB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb25lXG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzcyB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBuZXcgdGFyZ2V0IHZhbHVlXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHNldFRhcmdldCA9IGZ1bmN0aW9uIHNldFRhcmdldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGN1cnJlbnRseSBoYXMgbm8gcG9zaXRpb24sIHNldCB0YXJnZXQgYW5kIHBvc2l0aW9uIHRvIHRoaXMgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpICYmICFpc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IHRhcmdldCB2YWx1ZSB3aWxsIG5vdCBiZSBhbmltYXRlZCB0b1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbGV0IHN0YXJ0IG1vdmluZyB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgYXQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSB0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IHJlc3RpbmcgYXMgdGFyZ2V0IGlzIGN1cnJlbnQgcG9zaXRpb24sIHN0b3AgbW92aW5nXG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUocG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgICAgICAgIHZhciBhcGkgPSBjcmVhdGVPYmplY3Qoe1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbiAgICB2YXIgZWFzZUxpbmVhciA9IGZ1bmN0aW9uIGVhc2VMaW5lYXIodCkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHZhciBlYXNlSW5PdXRRdWFkID0gZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0KSB7XG4gICAgICAgIHJldHVybiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4gICAgfTtcblxuICAgIHZhciB0d2VlbiA9XG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIHR3ZWVuKCkgLy8gbWV0aG9kIGRlZmluaXRpb25cbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgICAgICAgIF9yZWYkZHVyYXRpb24gPSBfcmVmLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gX3JlZiRkdXJhdGlvbiA9PT0gdm9pZCAwID8gNTAwIDogX3JlZiRkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBfcmVmJGVhc2luZyA9IF9yZWYuZWFzaW5nLFxuICAgICAgICAgICAgICAgIGVhc2luZyA9IF9yZWYkZWFzaW5nID09PSB2b2lkIDAgPyBlYXNlSW5PdXRRdWFkIDogX3JlZiRlYXNpbmcsXG4gICAgICAgICAgICAgICAgX3JlZiRkZWxheSA9IF9yZWYuZGVsYXksXG4gICAgICAgICAgICAgICAgZGVsYXkgPSBfcmVmJGRlbGF5ID09PSB2b2lkIDAgPyAwIDogX3JlZiRkZWxheTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdDtcbiAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHJldmVyc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBudWxsO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0cywgc2tpcFRvRW5kU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZyB8fCB0YXJnZXQgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0cyAtIHN0YXJ0IDwgZGVsYXkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHQgPSB0cyAtIHN0YXJ0IC0gZGVsYXk7XG5cbiAgICAgICAgICAgICAgICBpZiAodCA+PSBkdXJhdGlvbiB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHJldmVyc2UgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBhcGkub25jb21wbGV0ZShwICogdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHQgLyBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKCh0ID49IDAgPyBlYXNpbmcocmV2ZXJzZSA/IDEgLSBwIDogcCkgOiAwKSAqIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gbmVlZCAnYXBpJyB0byBjYWxsIG9udXBkYXRlIGNhbGxiYWNrXG4gICAgICAgICAgICB2YXIgYXBpID0gY3JlYXRlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVyc2UgPyAwIDogdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FudCB0byB0d2VlbiB0byBhIHNtYWxsZXIgdmFsdWUgYW5kIGhhdmUgYSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgdHdlZW5pbmcgdG8gYSBzbWFsbGVyIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBnbyFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbiAgICB2YXIgYW5pbWF0b3IgPSB7XG4gICAgICAgIHNwcmluZzogc3ByaW5nLFxuICAgICAgICB0d2VlbjogdHdlZW4sXG4gICAgfTtcblxuICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3NwcmluZycsIHN0aWZmbmVzczogLjUsIGRhbXBpbmc6IC43NSwgbWFzczogMTAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2xhdGlvbjogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0sIC4uLiB9XG4gICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNsYXRpb246IHsgeDogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0gfSB9XG4gICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB2YXIgY3JlYXRlQW5pbWF0b3IgPSBmdW5jdGlvbiBjcmVhdGVBbmltYXRvcihkZWZpbml0aW9uLCBjYXRlZ29yeSwgcHJvcGVydHkpIHtcbiAgICAgICAgLy8gZGVmYXVsdCBpcyBzaW5nbGUgZGVmaW5pdGlvblxuICAgICAgICAvLyB3ZSBjaGVjayBpZiB0cmFuc2Zvcm0gaXMgc2V0LCBpZiBzbywgd2UgY2hlY2sgaWYgcHJvcGVydHkgaXMgc2V0XG4gICAgICAgIHZhciBkZWYgPVxuICAgICAgICAgICAgZGVmaW5pdGlvbltjYXRlZ29yeV0gJiYgdHlwZW9mIGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XSA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XVxuICAgICAgICAgICAgICAgIDogZGVmaW5pdGlvbltjYXRlZ29yeV0gfHwgZGVmaW5pdGlvbjtcblxuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBkZWYgPT09ICdzdHJpbmcnID8gZGVmIDogZGVmLnR5cGU7XG4gICAgICAgIHZhciBwcm9wcyA9IHR5cGVvZiBkZWYgPT09ICdvYmplY3QnID8gT2JqZWN0LmFzc2lnbih7fSwgZGVmKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBhbmltYXRvclt0eXBlXSA/IGFuaW1hdG9yW3R5cGVdKHByb3BzKSA6IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBhZGRHZXRTZXQgPSBmdW5jdGlvbiBhZGRHZXRTZXQoa2V5cywgb2JqLCBwcm9wcykge1xuICAgICAgICB2YXIgb3ZlcndyaXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcbiAgICAgICAgb2JqID0gQXJyYXkuaXNBcnJheShvYmopID8gb2JqIDogW29ial07XG4gICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGtleTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0dGVyID0gZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1trZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGtleS5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGdldHRlciA9IGtleS5nZXR0ZXIgfHwgZ2V0dGVyO1xuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSBrZXkuc2V0dGVyIHx8IHNldHRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gYWRkIHRvIHN0YXRlLFxuICAgIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gICAgLy8gc2V0dXAgYW5pbWF0b3JzXG5cbiAgICB2YXIgYW5pbWF0aW9ucyA9IGZ1bmN0aW9uIGFuaW1hdGlvbnMoX3JlZikge1xuICAgICAgICB2YXIgbWl4aW5Db25maWcgPSBfcmVmLm1peGluQ29uZmlnLFxuICAgICAgICAgICAgdmlld1Byb3BzID0gX3JlZi52aWV3UHJvcHMsXG4gICAgICAgICAgICB2aWV3SW50ZXJuYWxBUEkgPSBfcmVmLnZpZXdJbnRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgICAgICAvLyBpbml0aWFsIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIGluaXRpYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gbGlzdCBvZiBhbGwgYWN0aXZlIGFuaW1hdGlvbnNcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBzZXR1cCBhbmltYXRvcnNcbiAgICAgICAgZm9yaW4obWl4aW5Db25maWcsIGZ1bmN0aW9uKHByb3BlcnR5LCBhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRvciA9IGNyZWF0ZUFuaW1hdG9yKGFuaW1hdGlvbik7XG4gICAgICAgICAgICBpZiAoIWFuaW1hdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBhbmltYXRvciB1cGRhdGVzLCB1cGRhdGUgdGhlIHZpZXcgc3RhdGUgdmFsdWVcbiAgICAgICAgICAgIGFuaW1hdG9yLm9udXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2aWV3UHJvcHNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzZXQgYW5pbWF0b3IgdGFyZ2V0XG4gICAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSBpbml0aWFsUHJvcHNbcHJvcGVydHldO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHZhbHVlIGlzIHNldCwgc2V0IHRoZSBhbmltYXRvciB0YXJnZXQgdmFsdWVcbiAgICAgICAgICAgIHZhciBwcm9wID0ge1xuICAgICAgICAgICAgICAgIGtleTogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgc2V0dGVyOiBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWxyZWFkeSBhdCB0YXJnZXQsIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRvci50YXJnZXQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldHRlcjogZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlld1Byb3BzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnNcbiAgICAgICAgICAgIGFkZEdldFNldChbcHJvcF0sIFt2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSV0sIHZpZXdQcm9wcywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBpdCB0byB0aGUgbGlzdCBmb3IgZWFzeSB1cGRhdGluZyBmcm9tIHRoZSBfd3JpdGUgbWV0aG9kXG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0b3IpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBleHBvc2UgaW50ZXJuYWwgd3JpdGUgYXBpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUodHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2tpcFRvRW5kU3RhdGUgPSBkb2N1bWVudC5oaWRkZW47XG4gICAgICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbihhbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb24ucmVzdGluZykgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uaW50ZXJwb2xhdGUodHMsIHNraXBUb0VuZFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdGluZztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge30sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBhZGRFdmVudCA9IGZ1bmN0aW9uIGFkZEV2ZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gbWl4aW5cbiAgICB2YXIgbGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKF9yZWYpIHtcbiAgICAgICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgICAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgICAgICAgdmlld0ludGVybmFsQVBJID0gX3JlZi52aWV3SW50ZXJuYWxBUEksXG4gICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEkgPSBfcmVmLnZpZXdFeHRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXdTdGF0ZSA9IF9yZWYudmlld1N0YXRlLFxuICAgICAgICAgICAgdmlldyA9IF9yZWYudmlldztcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciBhZGQgPSBhZGRFdmVudCh2aWV3LmVsZW1lbnQpO1xuICAgICAgICB2YXIgcmVtb3ZlID0gcmVtb3ZlRXZlbnQodmlldy5lbGVtZW50KTtcblxuICAgICAgICB2aWV3RXh0ZXJuYWxBUEkub24gPSBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgZm46IGZuLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFkZCh0eXBlLCBmbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmlld0V4dGVybmFsQVBJLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICBldmVudHMuc3BsaWNlKFxuICAgICAgICAgICAgICAgIGV2ZW50cy5maW5kSW5kZXgoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09IHR5cGUgJiYgZXZlbnQuZm4gPT09IGZuO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlbW92ZSh0eXBlLCBmbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgYnVzeVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGV2ZW50LnR5cGUsIGV2ZW50LmZuKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIGFkZCB0byBleHRlcm5hbCBhcGkgYW5kIGxpbmsgdG8gcHJvcHNcblxuICAgIHZhciBhcGlzID0gZnVuY3Rpb24gYXBpcyhfcmVmKSB7XG4gICAgICAgIHZhciBtaXhpbkNvbmZpZyA9IF9yZWYubWl4aW5Db25maWcsXG4gICAgICAgICAgICB2aWV3UHJvcHMgPSBfcmVmLnZpZXdQcm9wcyxcbiAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgICAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIHZpZXdFeHRlcm5hbEFQSSwgdmlld1Byb3BzKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRGVmaW5lZCA9IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gYWRkIHRvIHN0YXRlLFxuICAgIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gICAgLy8gc2V0IGluaXRpYWwgc3RhdGUgYmFzZWQgb24gcHJvcHMgaW4gdmlld1Byb3BzXG4gICAgLy8gYXBwbHkgYXMgdHJhbnNmb3JtcyBlYWNoIGZyYW1lXG5cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlWDogMSxcbiAgICAgICAgc2NhbGVZOiAxLFxuICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICByb3RhdGVYOiAwLFxuICAgICAgICByb3RhdGVZOiAwLFxuICAgICAgICByb3RhdGVaOiAwLFxuICAgICAgICBvcmlnaW5YOiAwLFxuICAgICAgICBvcmlnaW5ZOiAwLFxuICAgIH07XG5cbiAgICB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKF9yZWYpIHtcbiAgICAgICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgICAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgICAgICAgdmlld0ludGVybmFsQVBJID0gX3JlZi52aWV3SW50ZXJuYWxBUEksXG4gICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEkgPSBfcmVmLnZpZXdFeHRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXcgPSBfcmVmLnZpZXc7XG4gICAgICAgIC8vIGluaXRpYWwgcHJvcHNcbiAgICAgICAgdmFyIGluaXRpYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gY3VycmVudCBwcm9wc1xuICAgICAgICB2YXIgY3VycmVudFByb3BzID0ge307XG5cbiAgICAgICAgLy8gd2Ugd2lsbCBhZGQgdGhvc2UgcHJvcGVydGllcyB0byB0aGUgZXh0ZXJuYWwgQVBJIGFuZCBsaW5rIHRoZW0gdG8gdGhlIHZpZXdTdGF0ZVxuICAgICAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIFt2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSV0sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gb3ZlcnJpZGUgcmVjdCBvbiBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgcmVjdCBnZXR0ZXIgc28gaXQgdGFrZXMgaW4gYWNjb3VudCB0cmFuc2Zvcm1zXG4gICAgICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3ZpZXdQcm9wc1sndHJhbnNsYXRlWCddIHx8IDAsIHZpZXdQcm9wc1sndHJhbnNsYXRlWSddIHx8IDBdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRTY2FsZSA9IGZ1bmN0aW9uIGdldFNjYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFt2aWV3UHJvcHNbJ3NjYWxlWCddIHx8IDAsIHZpZXdQcm9wc1snc2NhbGVZJ10gfHwgMF07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRSZWN0ID0gZnVuY3Rpb24gZ2V0UmVjdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LnJlY3RcbiAgICAgICAgICAgICAgICA/IGdldFZpZXdSZWN0KHZpZXcucmVjdCwgdmlldy5jaGlsZFZpZXdzLCBnZXRPZmZzZXQoKSwgZ2V0U2NhbGUoKSlcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHZpZXdJbnRlcm5hbEFQSS5yZWN0ID0geyBnZXQ6IGdldFJlY3QgfTtcbiAgICAgICAgdmlld0V4dGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuXG4gICAgICAgIC8vIGFwcGx5IHZpZXcgcHJvcHNcbiAgICAgICAgbWl4aW5Db25maWcuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZpZXdQcm9wc1trZXldID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5pdGlhbFByb3BzW2tleV0gPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHNba2V5XSA6IGluaXRpYWxQcm9wc1trZXldO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBleHBvc2UgYXBpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VlIGlmIHByb3BzIGhhdmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmICghcHJvcHNIYXZlQ2hhbmdlZChjdXJyZW50UHJvcHMsIHZpZXdQcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmVzIGVsZW1lbnQgdG8gY29ycmVjdCBwb3NpdGlvbiBvbiBzY3JlZW5cbiAgICAgICAgICAgICAgICBhcHBseVN0eWxlcyh2aWV3LmVsZW1lbnQsIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBuZXcgdHJhbnNmb3Jtc1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFByb3BzLCBPYmplY3QuYXNzaWduKHt9LCB2aWV3UHJvcHMpKTtcblxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciBidXN5XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcHJvcHNIYXZlQ2hhbmdlZCA9IGZ1bmN0aW9uIHByb3BzSGF2ZUNoYW5nZWQoY3VycmVudFByb3BzLCBuZXdQcm9wcykge1xuICAgICAgICAvLyBkaWZmZXJlbnQgYW1vdW50IG9mIGtleXNcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGN1cnJlbnRQcm9wcykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXdQcm9wcykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYW5hbHl6ZSB0aGUgaW5kaXZpZHVhbCBwcm9wc1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHNbcHJvcF0gIT09IGN1cnJlbnRQcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlTdHlsZXMgPSBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LCBfcmVmMikge1xuICAgICAgICB2YXIgb3BhY2l0eSA9IF9yZWYyLm9wYWNpdHksXG4gICAgICAgICAgICBwZXJzcGVjdGl2ZSA9IF9yZWYyLnBlcnNwZWN0aXZlLFxuICAgICAgICAgICAgdHJhbnNsYXRlWCA9IF9yZWYyLnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICB0cmFuc2xhdGVZID0gX3JlZjIudHJhbnNsYXRlWSxcbiAgICAgICAgICAgIHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWSA9IF9yZWYyLnNjYWxlWSxcbiAgICAgICAgICAgIHJvdGF0ZVggPSBfcmVmMi5yb3RhdGVYLFxuICAgICAgICAgICAgcm90YXRlWSA9IF9yZWYyLnJvdGF0ZVksXG4gICAgICAgICAgICByb3RhdGVaID0gX3JlZjIucm90YXRlWixcbiAgICAgICAgICAgIG9yaWdpblggPSBfcmVmMi5vcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWSA9IF9yZWYyLm9yaWdpblksXG4gICAgICAgICAgICB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm1zID0gJyc7XG4gICAgICAgIHZhciBzdHlsZXMgPSAnJztcblxuICAgICAgICAvLyBoYW5kbGUgdHJhbnNmb3JtIG9yaWdpblxuICAgICAgICBpZiAoaXNEZWZpbmVkKG9yaWdpblgpIHx8IGlzRGVmaW5lZChvcmlnaW5ZKSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICd0cmFuc2Zvcm0tb3JpZ2luOiAnICsgKG9yaWdpblggfHwgMCkgKyAncHggJyArIChvcmlnaW5ZIHx8IDApICsgJ3B4Oyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmFuc2Zvcm0gb3JkZXIgaXMgcmVsZXZhbnRcbiAgICAgICAgLy8gMC4gcGVyc3BlY3RpdmVcbiAgICAgICAgaWYgKGlzRGVmaW5lZChwZXJzcGVjdGl2ZSkpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMgKz0gJ3BlcnNwZWN0aXZlKCcgKyBwZXJzcGVjdGl2ZSArICdweCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEuIHRyYW5zbGF0ZVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRyYW5zbGF0ZVgpIHx8IGlzRGVmaW5lZCh0cmFuc2xhdGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPVxuICAgICAgICAgICAgICAgICd0cmFuc2xhdGUzZCgnICsgKHRyYW5zbGF0ZVggfHwgMCkgKyAncHgsICcgKyAodHJhbnNsYXRlWSB8fCAwKSArICdweCwgMCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIHNjYWxlXG4gICAgICAgIGlmIChpc0RlZmluZWQoc2NhbGVYKSB8fCBpc0RlZmluZWQoc2NhbGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPVxuICAgICAgICAgICAgICAgICdzY2FsZTNkKCcgK1xuICAgICAgICAgICAgICAgIChpc0RlZmluZWQoc2NhbGVYKSA/IHNjYWxlWCA6IDEpICtcbiAgICAgICAgICAgICAgICAnLCAnICtcbiAgICAgICAgICAgICAgICAoaXNEZWZpbmVkKHNjYWxlWSkgPyBzY2FsZVkgOiAxKSArXG4gICAgICAgICAgICAgICAgJywgMSkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIHJvdGF0ZVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHJvdGF0ZVopKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zICs9ICdyb3RhdGVaKCcgKyByb3RhdGVaICsgJ3JhZCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocm90YXRlWCkpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMgKz0gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAncmFkKSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChyb3RhdGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPSAncm90YXRlWSgnICsgcm90YXRlWSArICdyYWQpICc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdHJhbnNmb3Jtc1xuICAgICAgICBpZiAodHJhbnNmb3Jtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlcyArPSAndHJhbnNmb3JtOicgKyB0cmFuc2Zvcm1zICsgJzsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIG9wYWNpdHlcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICdvcGFjaXR5OicgKyBvcGFjaXR5ICsgJzsnO1xuXG4gICAgICAgICAgICAvLyBpZiB3ZSByZWFjaCB6ZXJvLCB3ZSBtYWtlIHRoZSBlbGVtZW50IGluYWNjZXNzaWJsZVxuICAgICAgICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMgKz0gJ3Zpc2liaWxpdHk6aGlkZGVuOyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGJlbG93IDEwMCUgb3BhY2l0eSB0aGlzIGVsZW1lbnQgY2FuJ3QgYmUgY2xpY2tlZFxuICAgICAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICdwb2ludGVyLWV2ZW50czpub25lOyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgaGVpZ2h0XG4gICAgICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICdoZWlnaHQ6JyArIGhlaWdodCArICdweDsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHdpZHRoXG4gICAgICAgIGlmIChpc0RlZmluZWQod2lkdGgpKSB7XG4gICAgICAgICAgICBzdHlsZXMgKz0gJ3dpZHRoOicgKyB3aWR0aCArICdweDsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgc3R5bGVzXG4gICAgICAgIHZhciBlbGVtZW50Q3VycmVudFN0eWxlID0gZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlIHx8ICcnO1xuXG4gICAgICAgIC8vIGlmIG5ldyBzdHlsZXMgZG9lcyBub3QgbWF0Y2ggY3VycmVudCBzdHlsZXMsIGxldHMgdXBkYXRlIVxuICAgICAgICBpZiAoc3R5bGVzLmxlbmd0aCAhPT0gZWxlbWVudEN1cnJlbnRTdHlsZS5sZW5ndGggfHwgc3R5bGVzICE9PSBlbGVtZW50Q3VycmVudFN0eWxlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZXM7XG4gICAgICAgICAgICAvLyBzdG9yZSBjdXJyZW50IHN0eWxlcyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVtIHRvIG5ldyBzdHlsZXMgbGF0ZXIgb25cbiAgICAgICAgICAgIC8vIF9ub3RfIGdldHRpbmcgdGhlIHN0eWxlIHZhbHVlIGlzIGZhc3RlclxuICAgICAgICAgICAgZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlID0gc3R5bGVzO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBNaXhpbnMgPSB7XG4gICAgICAgIHN0eWxlczogc3R5bGVzLFxuICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICAgICAgYXBpczogYXBpcyxcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZVJlY3QgPSBmdW5jdGlvbiB1cGRhdGVSZWN0KCkge1xuICAgICAgICB2YXIgcmVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgIHZhciBlbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHN0eWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCkge1xuICAgICAgICAgICAgcmVjdC5wYWRkaW5nVG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApIHx8IDA7XG4gICAgICAgICAgICByZWN0Lm1hcmdpblRvcCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApIHx8IDA7XG4gICAgICAgICAgICByZWN0Lm1hcmdpblJpZ2h0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgICAgICAgcmVjdC5tYXJnaW5Cb3R0b20gPSBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKSB8fCAwO1xuICAgICAgICAgICAgcmVjdC5tYXJnaW5MZWZ0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApIHx8IDA7XG4gICAgICAgICAgICBlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdC5sZWZ0ID0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7XG4gICAgICAgIHJlY3QudG9wID0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICAgICAgcmVjdC53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAwO1xuXG4gICAgICAgIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoO1xuICAgICAgICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgcmVjdC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICByZWN0LmhpZGRlbiA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlVmlldyA9XG4gICAgICAgIC8vIGRlZmF1bHQgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVZpZXcoKSB7XG4gICAgICAgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgICAgICAgX3JlZiR0YWcgPSBfcmVmLnRhZyxcbiAgICAgICAgICAgICAgICB0YWcgPSBfcmVmJHRhZyA9PT0gdm9pZCAwID8gJ2RpdicgOiBfcmVmJHRhZyxcbiAgICAgICAgICAgICAgICBfcmVmJG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYkbmFtZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkbmFtZSxcbiAgICAgICAgICAgICAgICBfcmVmJGF0dHJpYnV0ZXMgPSBfcmVmLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IF9yZWYkYXR0cmlidXRlcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgX3JlZiRyZWFkID0gX3JlZi5yZWFkLFxuICAgICAgICAgICAgICAgIHJlYWQgPSBfcmVmJHJlYWQgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJHJlYWQsXG4gICAgICAgICAgICAgICAgX3JlZiR3cml0ZSA9IF9yZWYud3JpdGUsXG4gICAgICAgICAgICAgICAgd3JpdGUgPSBfcmVmJHdyaXRlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiR3cml0ZSxcbiAgICAgICAgICAgICAgICBfcmVmJGNyZWF0ZSA9IF9yZWYuY3JlYXRlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZSA9IF9yZWYkY3JlYXRlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRjcmVhdGUsXG4gICAgICAgICAgICAgICAgX3JlZiRkZXN0cm95ID0gX3JlZi5kZXN0cm95LFxuICAgICAgICAgICAgICAgIGRlc3Ryb3kgPSBfcmVmJGRlc3Ryb3kgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRlc3Ryb3ksXG4gICAgICAgICAgICAgICAgX3JlZiRmaWx0ZXJGcmFtZUFjdGlvID0gX3JlZi5maWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCA9XG4gICAgICAgICAgICAgICAgICAgIF9yZWYkZmlsdGVyRnJhbWVBY3RpbyA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGNoaWxkLCBhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfcmVmJGZpbHRlckZyYW1lQWN0aW8sXG4gICAgICAgICAgICAgICAgX3JlZiRkaWRDcmVhdGVWaWV3ID0gX3JlZi5kaWRDcmVhdGVWaWV3LFxuICAgICAgICAgICAgICAgIGRpZENyZWF0ZVZpZXcgPSBfcmVmJGRpZENyZWF0ZVZpZXcgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRpZENyZWF0ZVZpZXcsXG4gICAgICAgICAgICAgICAgX3JlZiRkaWRXcml0ZVZpZXcgPSBfcmVmLmRpZFdyaXRlVmlldyxcbiAgICAgICAgICAgICAgICBkaWRXcml0ZVZpZXcgPSBfcmVmJGRpZFdyaXRlVmlldyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZGlkV3JpdGVWaWV3LFxuICAgICAgICAgICAgICAgIF9yZWYkaWdub3JlUmVjdCA9IF9yZWYuaWdub3JlUmVjdCxcbiAgICAgICAgICAgICAgICBpZ25vcmVSZWN0ID0gX3JlZiRpZ25vcmVSZWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkaWdub3JlUmVjdCxcbiAgICAgICAgICAgICAgICBfcmVmJGlnbm9yZVJlY3RVcGRhdGUgPSBfcmVmLmlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgICAgICAgICAgaWdub3JlUmVjdFVwZGF0ZSA9IF9yZWYkaWdub3JlUmVjdFVwZGF0ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgICAgICAgICAgX3JlZiRtaXhpbnMgPSBfcmVmLm1peGlucyxcbiAgICAgICAgICAgICAgICBtaXhpbnMgPSBfcmVmJG1peGlucyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJG1peGlucztcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAvLyBlYWNoIHZpZXcgcmVxdWlyZXMgcmVmZXJlbmNlIHRvIHN0b3JlXG4gICAgICAgICAgICAgICAgc3RvcmVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgICAgICAgICAgLy8gcm9vdCBlbGVtZW50IHNob3VsZCBub3QgYmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0YWcsICdmaWxlcG9uZC0tJyArIG5hbWUsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3R5bGUgcmVmZXJlbmNlIHNob3VsZCBhbHNvIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gdXBkYXRlUmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZVJlY3QgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzdCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBpc1Jlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIHByZXR0eSBzZWxmIGV4cGxhbmF0b3J5XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkVmlld3MgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIGxvYWRlZCBtaXhpbnNcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlTWl4aW5zID0gW107XG5cbiAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICB2YXIgcmVmID0ge307XG5cbiAgICAgICAgICAgICAgICAvLyBzdGF0ZSB1c2VkIGZvciBlYWNoIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0ge307XG5cbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIHdyaXRlcnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB0byB1cGRhdGUgdGhpcyB2aWV3XG4gICAgICAgICAgICAgICAgdmFyIHdyaXRlcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlLCAvLyBkZWZhdWx0IHdyaXRlclxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVhZGVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgcmVhZCwgLy8gZGVmYXVsdCByZWFkZXJcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlc3Ryb3llcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3ksIC8vIGRlZmF1bHQgZGVzdHJveVxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICAvLyBjb3JlIHZpZXcgbWV0aG9kc1xuICAgICAgICAgICAgICAgIHZhciBnZXRFbGVtZW50ID0gZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0Q2hpbGRWaWV3cyA9IGZ1bmN0aW9uIGdldENoaWxkVmlld3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZFZpZXdzLmNvbmNhdCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGdldFJlZmVyZW5jZSA9IGZ1bmN0aW9uIGdldFJlZmVyZW5jZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVDaGlsZFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVDaGlsZFZpZXcoc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcsIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGdldFJlY3QgPSBmdW5jdGlvbiBnZXRSZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWVSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVSZWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lUmVjdCA9IGdldFZpZXdSZWN0KHJlY3QsIGNoaWxkVmlld3MsIFswLCAwXSwgWzEsIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lUmVjdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlYWQgZGF0YSBmcm9tIERPTVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIF9yZWFkID0gZnVuY3Rpb24gX3JlYWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lUmVjdCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBjaGlsZCB2aWV3c1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5fcmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gIShpZ25vcmVSZWN0VXBkYXRlICYmIHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWN0KHJlY3QsIGVsZW1lbnQsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwaSA9IHsgcm9vdDogaW50ZXJuYWxBUEksIHByb3BzOiBwcm9wcywgcmVjdDogcmVjdCB9O1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJzLmZvckVhY2goZnVuY3Rpb24ocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyKGFwaSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBkYXRhIHRvIERPTVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIF93cml0ZSA9IGZ1bmN0aW9uIF93cml0ZSh0cywgZnJhbWVBY3Rpb25zLCBzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBhY3Rpb25zLCB3ZSBhc3N1bWUgdGhhdCB0aGUgdmlldyBpcyByZXN0aW5nXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN0aW5nID0gZnJhbWVBY3Rpb25zLmxlbmd0aCA9PT0gMDtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3cml0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlcnMuZm9yRWFjaChmdW5jdGlvbih3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cml0ZXJSZXN0aW5nID0gd3JpdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdDogaW50ZXJuYWxBUEksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemU6IHNob3VsZE9wdGltaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cml0ZXJSZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcnVuIG1peGluc1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVNaXhpbnMuZm9yRWFjaChmdW5jdGlvbihtaXhpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBtaXhpbnMgaXMgc3RpbGwgYnVzeSBhZnRlciB3cml0ZSBvcGVyYXRpb24sIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peGluUmVzdGluZyA9IG1peGluLndyaXRlKHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpblJlc3RpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGVzIGNoaWxkIHZpZXdzIHRoYXQgYXJlIGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGUgRE9NXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVmlld3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhIGNoaWxkIHZpZXcgaXMgbm90IHJlc3RpbmcsIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFJlc3RpbmcgPSBjaGlsZC5fd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZFJlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBuZXcgZWxlbWVudHMgdG8gRE9NIGFuZCB1cGRhdGUgdGhvc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8uZmlsdGVyKGNoaWxkID0+ICFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBza2lwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRvIERPTVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsQVBJLmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQsIGluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgcmVhZCAobmVlZCB0byBrbm93IHRoZSBzaXplIG9mIHRoZXNlIGVsZW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLl9yZWFkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1jYWxsIHdyaXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuX3dyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQoY2hpbGQsIGZyYW1lQWN0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgYWRkZWQgc29tdGhpbmcgdG8gdGhlIGRvbSwgbm8gcmVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSByZXN0aW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzdGluZyA9IHJlc3Rpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGlkV3JpdGVWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHBhcmVudCBrbm93IGlmIHdlIGFyZSByZXN0aW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgX2Rlc3Ryb3kgPSBmdW5jdGlvbiBfZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlTWl4aW5zLmZvckVhY2goZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtaXhpbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95ZXJzLmZvckVhY2goZnVuY3Rpb24oZGVzdHJveWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0cm95ZXIoeyByb290OiBpbnRlcm5hbEFQSSwgcHJvcHM6IHByb3BzIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuX2Rlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNoYXJlZEFQSVxuICAgICAgICAgICAgICAgIHZhciBzaGFyZWRBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0U3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRDaGlsZFZpZXdzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBwcml2YXRlIEFQSSBkZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGludGVybmFsQVBJRGVmaW5pdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZEFQSURlZmluaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRSZWN0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VzcyB0byBjdXN0b20gY2hpbGRyZW4gcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICByZWY6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0UmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbSBtb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgaXM6IGZ1bmN0aW9uIGlzKG5lZWRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IG5lZWRsZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDaGlsZFZpZXc6IGNyZWF0ZUNoaWxkVmlldyhzdG9yZSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmtWaWV3OiBmdW5jdGlvbiBsaW5rVmlldyh2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnB1c2godmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdW5saW5rVmlldzogZnVuY3Rpb24gdW5saW5rVmlldyh2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShjaGlsZFZpZXdzLmluZGV4T2YodmlldyksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZFZpZXc6IGFwcGVuZENoaWxkVmlldyhlbGVtZW50LCBjaGlsZFZpZXdzKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGRWaWV3OiByZW1vdmVDaGlsZFZpZXcoZWxlbWVudCwgY2hpbGRWaWV3cyksXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyV3JpdGVyOiBmdW5jdGlvbiByZWdpc3RlcldyaXRlcih3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXJzLnB1c2god3JpdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWFkZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyUmVhZGVyKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlcnMucHVzaChyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3llcjogZnVuY3Rpb24gcmVnaXN0ZXJEZXN0cm95ZXIoZGVzdHJveWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzdHJveWVycy5wdXNoKGRlc3Ryb3llcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRhdGVMYXlvdXQ6IGZ1bmN0aW9uIGludmFsaWRhdGVMYXlvdXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgdG8gZGF0YSBzdG9yZVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogc3RvcmUuZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBzdG9yZS5xdWVyeSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHB1YmxpYyB2aWV3IEFQSSBtZXRob2RzXG4gICAgICAgICAgICAgICAgdmFyIGV4dGVybmFsQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0Q2hpbGRWaWV3cyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldFJlY3QsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUmVzdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgaXNSZWN0SWdub3JlZDogZnVuY3Rpb24gaXNSZWN0SWdub3JlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZ25vcmVSZWN0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhZDogX3JlYWQsXG4gICAgICAgICAgICAgICAgICAgIF93cml0ZTogX3dyaXRlLFxuICAgICAgICAgICAgICAgICAgICBfZGVzdHJveTogX2Rlc3Ryb3ksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIG1peGluIEFQSSBtZXRob2RzXG4gICAgICAgICAgICAgICAgdmFyIG1peGluQVBJRGVmaW5pdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZEFQSURlZmluaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIG1peGluIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhtaXhpbnMpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgc3R5bGVzIHRvIHRoZSBiYWNrIG9mIHRoZSBtaXhpbiBsaXN0IChzbyBhZGp1c3RtZW50cyBvZiBvdGhlciBtaXhpbnMgYXJlIGFwcGxpZWQgdG8gdGhlIHByb3BzIGNvcnJlY3RseSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaXhpbkFQSSA9IE1peGluc1trZXldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXhpbkNvbmZpZzogbWl4aW5zW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld1Byb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbnRlcm5hbEFQSTogaW50ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSTogZXh0ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGNyZWF0ZU9iamVjdChtaXhpbkFQSURlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbkFQSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1peGlucy5wdXNoKG1peGluQVBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgcHJpdmF0ZSBhcGlcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxBUEkgPSBjcmVhdGVPYmplY3QoaW50ZXJuYWxBUElEZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgdmlld1xuICAgICAgICAgICAgICAgIGNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBhcHBlbmQgY3JlYXRlZCBjaGlsZCB2aWV3cyB0byByb290IG5vZGVcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb3VudCA9IGdldENoaWxkQ291bnQoZWxlbWVudCk7IC8vIG5lZWQgdG8ga25vdyB0aGUgY3VycmVudCBjaGlsZCBjb3VudCBzbyBhcHBlbmRpbmcgaGFwcGVucyBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEFQSS5hcHBlbmRDaGlsZChjaGlsZC5lbGVtZW50LCBjaGlsZENvdW50ICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkaWQgY3JlYXRlXG4gICAgICAgICAgICAgICAgZGlkQ3JlYXRlVmlldyhpbnRlcm5hbEFQSSk7XG5cbiAgICAgICAgICAgICAgICAvLyBleHBvc2UgcHVibGljIGFwaVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXh0ZXJuYWxBUElEZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICB2YXIgY3JlYXRlUGFpbnRlciA9IGZ1bmN0aW9uIGNyZWF0ZVBhaW50ZXIocmVhZCwgd3JpdGUpIHtcbiAgICAgICAgdmFyIGZwcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNjA7XG5cbiAgICAgICAgdmFyIG5hbWUgPSAnX19mcmFtZVBhaW50ZXInO1xuXG4gICAgICAgIC8vIHNldCBnbG9iYWwgcGFpbnRlclxuICAgICAgICBpZiAod2luZG93W25hbWVdKSB7XG4gICAgICAgICAgICB3aW5kb3dbbmFtZV0ucmVhZGVycy5wdXNoKHJlYWQpO1xuICAgICAgICAgICAgd2luZG93W25hbWVdLndyaXRlcnMucHVzaCh3cml0ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3dbbmFtZV0gPSB7XG4gICAgICAgICAgICByZWFkZXJzOiBbcmVhZF0sXG4gICAgICAgICAgICB3cml0ZXJzOiBbd3JpdGVdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwYWludGVyID0gd2luZG93W25hbWVdO1xuXG4gICAgICAgIHZhciBpbnRlcnZhbCA9IDEwMDAgLyBmcHM7XG4gICAgICAgIHZhciBsYXN0ID0gbnVsbDtcbiAgICAgICAgdmFyIGlkID0gbnVsbDtcbiAgICAgICAgdmFyIHJlcXVlc3RUaWNrID0gbnVsbDtcbiAgICAgICAgdmFyIGNhbmNlbFRpY2sgPSBudWxsO1xuXG4gICAgICAgIHZhciBzZXRUaW1lclR5cGUgPSBmdW5jdGlvbiBzZXRUaW1lclR5cGUoKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYW5jZWxUaWNrID0gZnVuY3Rpb24gY2FuY2VsVGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gcmVxdWVzdFRpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FuY2VsVGljayA9IGZ1bmN0aW9uIGNhbmNlbFRpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNhbmNlbFRpY2spIGNhbmNlbFRpY2soKTtcbiAgICAgICAgICAgIHNldFRpbWVyVHlwZSgpO1xuICAgICAgICAgICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0aWNrID0gZnVuY3Rpb24gdGljayh0cykge1xuICAgICAgICAgICAgLy8gcXVldWUgbmV4dCB0aWNrXG4gICAgICAgICAgICBpZCA9IHJlcXVlc3RUaWNrKHRpY2spO1xuXG4gICAgICAgICAgICAvLyBsaW1pdCBmcHNcbiAgICAgICAgICAgIGlmICghbGFzdCkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSB0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRlbHRhID0gdHMgLSBsYXN0O1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEgPD0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGZyYW1lXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhbGlnbiBuZXh0IGZyYW1lXG4gICAgICAgICAgICBsYXN0ID0gdHMgLSAoZGVsdGEgJSBpbnRlcnZhbCk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3XG4gICAgICAgICAgICBwYWludGVyLnJlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihyZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFpbnRlci53cml0ZXJzLmZvckVhY2goZnVuY3Rpb24od3JpdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGUodHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0VGltZXJUeXBlKCk7XG4gICAgICAgIHRpY2socGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsVGljayhpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlUm91dGUgPSBmdW5jdGlvbiBjcmVhdGVSb3V0ZShyb3V0ZXMsIGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihfcmVmKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICAgICAgICAgICAgX3JlZiRhY3Rpb25zID0gX3JlZi5hY3Rpb25zLFxuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmJGFjdGlvbnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA9IF9yZWYudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZi5zaG91bGRPcHRpbWl6ZTtcbiAgICAgICAgICAgIGFjdGlvbnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVzW2FjdGlvbi50eXBlXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemU6IHNob3VsZE9wdGltaXplLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oe1xuICAgICAgICAgICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZTogc2hvdWxkT3B0aW1pemUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBpbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiBpbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9O1xuXG4gICAgdmFyIGluc2VydEFmdGVyID0gZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlLm5leHRTaWJsaW5nKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgdHJpbSA9IGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgIH07XG5cbiAgICB2YXIgdG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICAgIHZhciBzcGxpdHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJywnO1xuICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpXG4gICAgICAgICAgICAuc3BsaXQoc3BsaXR0ZXIpXG4gICAgICAgICAgICAubWFwKHRyaW0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpc0Jvb2xlYW4gPSBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xuICAgIH07XG5cbiAgICB2YXIgdG9Cb29sZWFuID0gZnVuY3Rpb24gdG9Cb29sZWFuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0Jvb2xlYW4odmFsdWUpID8gdmFsdWUgOiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIH07XG5cbiAgICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgICB9O1xuXG4gICAgdmFyIHRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKVxuICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgOiBpc1N0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgID8gdG9TdHJpbmcodmFsdWUpLnJlcGxhY2UoL1thLXpdKy9naSwgJycpXG4gICAgICAgICAgICA6IDA7XG4gICAgfTtcblxuICAgIHZhciB0b0ludCA9IGZ1bmN0aW9uIHRvSW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0b051bWJlcih2YWx1ZSksIDEwKTtcbiAgICB9O1xuXG4gICAgdmFyIHRvRmxvYXQgPSBmdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRvTnVtYmVyKHZhbHVlKSk7XG4gICAgfTtcblxuICAgIHZhciBpc0ludCA9IGZ1bmN0aW9uIGlzSW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKHZhbHVlKSB7XG4gICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwO1xuICAgICAgICAvLyBpcyBpbiBieXRlc1xuICAgICAgICBpZiAoaXNJbnQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpcyBuYXR1cmFsIGZpbGUgc2l6ZVxuICAgICAgICB2YXIgbmF0dXJhbEZpbGVTaXplID0gdG9TdHJpbmcodmFsdWUpLnRyaW0oKTtcblxuICAgICAgICAvLyBpZiBpcyB2YWx1ZSBpbiBtZWdhYnl0ZXNcbiAgICAgICAgaWYgKC9NQiQvaS50ZXN0KG5hdHVyYWxGaWxlU2l6ZSkpIHtcbiAgICAgICAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9NQiRpLywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogYmFzZSAqIGJhc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpcyB2YWx1ZSBpbiBraWxvYnl0ZXNcbiAgICAgICAgaWYgKC9LQi9pLnRlc3QobmF0dXJhbEZpbGVTaXplKSkge1xuICAgICAgICAgICAgbmF0dXJhbEZpbGVTaXplID0gbmF0dXJhbEZpbGVTaXplLnJlcGxhY2UoL0tCJGkvLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSkgKiBiYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSk7XG4gICAgfTtcblxuICAgIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgIH07XG5cbiAgICB2YXIgdG9GdW5jdGlvblJlZmVyZW5jZSA9IGZ1bmN0aW9uIHRvRnVuY3Rpb25SZWZlcmVuY2Uoc3RyaW5nKSB7XG4gICAgICAgIHZhciByZWYgPSBzZWxmO1xuICAgICAgICB2YXIgbGV2ZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBsZXZlbCA9IG51bGw7XG4gICAgICAgIHdoaWxlICgobGV2ZWwgPSBsZXZlbHMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgIHJlZiA9IHJlZltsZXZlbF07XG4gICAgICAgICAgICBpZiAoIXJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfTtcblxuICAgIHZhciBtZXRob2RzID0ge1xuICAgICAgICBwcm9jZXNzOiAnUE9TVCcsXG4gICAgICAgIHBhdGNoOiAnUEFUQ0gnLFxuICAgICAgICByZXZlcnQ6ICdERUxFVEUnLFxuICAgICAgICBmZXRjaDogJ0dFVCcsXG4gICAgICAgIHJlc3RvcmU6ICdHRVQnLFxuICAgICAgICBsb2FkOiAnR0VUJyxcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNlcnZlckFQSSA9IGZ1bmN0aW9uIGNyZWF0ZVNlcnZlckFQSShvdXRsaW5lKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fTtcblxuICAgICAgICBhcGkudXJsID0gaXNTdHJpbmcob3V0bGluZSkgPyBvdXRsaW5lIDogb3V0bGluZS51cmwgfHwgJyc7XG4gICAgICAgIGFwaS50aW1lb3V0ID0gb3V0bGluZS50aW1lb3V0ID8gcGFyc2VJbnQob3V0bGluZS50aW1lb3V0LCAxMCkgOiAwO1xuICAgICAgICBhcGkuaGVhZGVycyA9IG91dGxpbmUuaGVhZGVycyA/IG91dGxpbmUuaGVhZGVycyA6IHt9O1xuXG4gICAgICAgIGZvcmluKG1ldGhvZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgYXBpW2tleV0gPSBjcmVhdGVBY3Rpb24oa2V5LCBvdXRsaW5lW2tleV0sIG1ldGhvZHNba2V5XSwgYXBpLnRpbWVvdXQsIGFwaS5oZWFkZXJzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHByb2Nlc3MgaWYgbm8gdXJsIG9yIHByb2Nlc3Mgb24gb3V0bGluZVxuICAgICAgICBhcGkucHJvY2VzcyA9IG91dGxpbmUucHJvY2VzcyB8fCBpc1N0cmluZyhvdXRsaW5lKSB8fCBvdXRsaW5lLnVybCA/IGFwaS5wcm9jZXNzIDogbnVsbDtcblxuICAgICAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgcmVtb3ZlXG4gICAgICAgIGFwaS5yZW1vdmUgPSBvdXRsaW5lLnJlbW92ZSB8fCBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSBnZW5lcmljIGhlYWRlcnMgZnJvbSBhcGkgb2JqZWN0XG4gICAgICAgIGRlbGV0ZSBhcGkuaGVhZGVycztcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gY3JlYXRlQWN0aW9uKG5hbWUsIG91dGxpbmUsIG1ldGhvZCwgdGltZW91dCwgaGVhZGVycykge1xuICAgICAgICAvLyBpcyBleHBsaWNpdGVseSBzZXQgdG8gbnVsbCBzbyBkaXNhYmxlXG4gICAgICAgIGlmIChvdXRsaW5lID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGlzIGN1c3RvbSBmdW5jdGlvbiwgZG9uZSEgRGV2IGhhbmRsZXMgZXZlcnl0aGluZy5cbiAgICAgICAgaWYgKHR5cGVvZiBvdXRsaW5lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0bGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIGFjdGlvbiBvYmplY3RcbiAgICAgICAgdmFyIGFjdGlvbiA9IHtcbiAgICAgICAgICAgIHVybDogbWV0aG9kID09PSAnR0VUJyB8fCBtZXRob2QgPT09ICdQQVRDSCcgPyAnPycgKyBuYW1lICsgJz0nIDogJycsXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgdGltZW91dDogdGltZW91dCxcbiAgICAgICAgICAgIG9ubG9hZDogbnVsbCxcbiAgICAgICAgICAgIG9uZGF0YTogbnVsbCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaXMgYSBzaW5nbGUgdXJsXG4gICAgICAgIGlmIChpc1N0cmluZyhvdXRsaW5lKSkge1xuICAgICAgICAgICAgYWN0aW9uLnVybCA9IG91dGxpbmU7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3ZlcndyaXRlXG4gICAgICAgIE9iamVjdC5hc3NpZ24oYWN0aW9uLCBvdXRsaW5lKTtcblxuICAgICAgICAvLyBzZWUgaWYgc2hvdWxkIHJlZm9ybWF0IGhlYWRlcnM7XG4gICAgICAgIGlmIChpc1N0cmluZyhhY3Rpb24uaGVhZGVycykpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGFjdGlvbi5oZWFkZXJzLnNwbGl0KC86KC4rKS8pO1xuICAgICAgICAgICAgYWN0aW9uLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyOiBwYXJ0c1swXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFydHNbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaXMgYm9vbCB3aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgYWN0aW9uLndpdGhDcmVkZW50aWFscyA9IHRvQm9vbGVhbihhY3Rpb24ud2l0aENyZWRlbnRpYWxzKTtcblxuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH07XG5cbiAgICB2YXIgdG9TZXJ2ZXJBUEkgPSBmdW5jdGlvbiB0b1NlcnZlckFQSSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlU2VydmVyQVBJKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzTnVsbCA9IGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgaXNBUEkgPSBmdW5jdGlvbiBpc0FQSSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgICAgICBpc1N0cmluZyh2YWx1ZS51cmwpICYmXG4gICAgICAgICAgICBpc09iamVjdCh2YWx1ZS5wcm9jZXNzKSAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUucmV2ZXJ0KSAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUucmVzdG9yZSkgJiZcbiAgICAgICAgICAgIGlzT2JqZWN0KHZhbHVlLmZldGNoKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bGwodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSW50KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdpbnQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9eWzAtOV0rID8oPzpHQnxNQnxLQikkL2dpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2J5dGVzJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0FQSSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnYXBpJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWU7XG4gICAgfTtcblxuICAgIHZhciByZXBsYWNlU2luZ2xlUXVvdGVzID0gZnVuY3Rpb24gcmVwbGFjZVNpbmdsZVF1b3RlcyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoL3tcXHMqJy9nLCAne1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8nXFxzKn0vZywgJ1wifScpXG4gICAgICAgICAgICAucmVwbGFjZSgvJ1xccyo6L2csICdcIjonKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzpcXHMqJy9nLCAnOlwiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8sXFxzKicvZywgJyxcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgvJ1xccyosL2csICdcIiwnKTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbnZlcnNpb25UYWJsZSA9IHtcbiAgICAgICAgYXJyYXk6IHRvQXJyYXksXG4gICAgICAgIGJvb2xlYW46IHRvQm9vbGVhbixcbiAgICAgICAgaW50OiBmdW5jdGlvbiBpbnQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHZhbHVlKSA9PT0gJ2J5dGVzJyA/IHRvQnl0ZXModmFsdWUpIDogdG9JbnQodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBudW1iZXI6IHRvRmxvYXQsXG4gICAgICAgIGZsb2F0OiB0b0Zsb2F0LFxuICAgICAgICBieXRlczogdG9CeXRlcyxcbiAgICAgICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogdG9TdHJpbmcodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbjogZnVuY3Rpb24gX2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9GdW5jdGlvblJlZmVyZW5jZSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlcnZlcmFwaTogdG9TZXJ2ZXJBUEksXG4gICAgICAgIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlcGxhY2VTaW5nbGVRdW90ZXModmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgdmFyIGNvbnZlcnRUbyA9IGZ1bmN0aW9uIGNvbnZlcnRUbyh2YWx1ZSwgdHlwZSkge1xuICAgICAgICByZXR1cm4gY29udmVyc2lvblRhYmxlW3R5cGVdKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFZhbHVlQnlUeXBlID0gZnVuY3Rpb24gZ2V0VmFsdWVCeVR5cGUobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKSB7XG4gICAgICAgIC8vIGNhbiBhbHdheXMgYXNzaWduIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgdHlwZSBvZiB0aGUgbmV3IHZhbHVlXG4gICAgICAgIHZhciBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKG5ld1ZhbHVlKTtcblxuICAgICAgICAvLyBpcyB2YWxpZCB0eXBlP1xuICAgICAgICBpZiAobmV3VmFsdWVUeXBlICE9PSB2YWx1ZVR5cGUpIHtcbiAgICAgICAgICAgIC8vIGlzIHN0cmluZyBpbnB1dCwgbGV0J3MgYXR0ZW1wdCB0byBjb252ZXJ0XG4gICAgICAgICAgICB2YXIgY29udmVydGVkVmFsdWUgPSBjb252ZXJ0VG8obmV3VmFsdWUsIHZhbHVlVHlwZSk7XG5cbiAgICAgICAgICAgIC8vIHdoYXQgaXMgdGhlIHR5cGUgbm93XG4gICAgICAgICAgICBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKGNvbnZlcnRlZFZhbHVlKTtcblxuICAgICAgICAgICAgLy8gbm8gdmFsaWQgY29udmVyc2lvbnMgZm91bmRcbiAgICAgICAgICAgIGlmIChjb252ZXJ0ZWRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93ICdUcnlpbmcgdG8gYXNzaWduIHZhbHVlIHdpdGggaW5jb3JyZWN0IHR5cGUgdG8gXCInICtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiLCBhbGxvd2VkIHR5cGU6IFwiJyArXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZSArXG4gICAgICAgICAgICAgICAgICAgICdcIic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhc3NpZ24gbmV3IHZhbHVlXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZU9wdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbihkZWZhdWx0VmFsdWUsIHZhbHVlVHlwZSkge1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBnZXRWYWx1ZUJ5VHlwZShuZXdWYWx1ZSwgZGVmYXVsdFZhbHVlLCB2YWx1ZVR5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZU9wdGlvbnMgPSBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uRGVmaW5pdGlvbiA9IG9wdGlvbnNbcHJvcF07XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSBjcmVhdGVPcHRpb24ob3B0aW9uRGVmaW5pdGlvblswXSwgb3B0aW9uRGVmaW5pdGlvblsxXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY3JlYXRlT2JqZWN0KG9iaik7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVJbml0aWFsU3RhdGUgPSBmdW5jdGlvbiBjcmVhdGVJbml0aWFsU3RhdGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gbW9kZWxcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcblxuICAgICAgICAgICAgLy8gdGltZW91dCB1c2VkIGZvciBjYWxsaW5nIHVwZGF0ZSBpdGVtc1xuICAgICAgICAgICAgbGlzdFVwZGF0ZVRpbWVvdXQ6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIHRpbWVvdXQgdXNlZCBmb3Igc3RhY2tpbmcgbWV0YWRhdGEgdXBkYXRlc1xuICAgICAgICAgICAgaXRlbVVwZGF0ZVRpbWVvdXQ6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIHF1ZXVlIG9mIGl0ZW1zIHdhaXRpbmcgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICBwcm9jZXNzaW5nUXVldWU6IFtdLFxuXG4gICAgICAgICAgICAvLyBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zOiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZnJvbUNhbWVscyA9IGZ1bmN0aW9uIGZyb21DYW1lbHMoc3RyaW5nKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICctJztcbiAgICAgICAgcmV0dXJuIHN0cmluZ1xuICAgICAgICAgICAgLnNwbGl0KC8oPz1bQS1aXSkvKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT3B0aW9uQVBJID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgZm9yaW4ob3B0aW9ucywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1NFVF8nICsgZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVPcHRpb25BY3Rpb25zID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQWN0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGZyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBvYmpbJ1NFVF8nICsgbmFtZV0gPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnNba2V5XSA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30gLy8gbm9wZSwgZmFpbGVkXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc3VjY2Vzc2Z1bGx5IHNldCB0aGUgdmFsdWUgb2YgdGhpcyBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TRVRfJyArIG5hbWUsIHsgdmFsdWU6IHN0YXRlLm9wdGlvbnNba2V5XSB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT3B0aW9uUXVlcmllcyA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvblF1ZXJpZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIG9ialsnR0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpXSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBJbnRlcmFjdGlvbk1ldGhvZCA9IHtcbiAgICAgICAgQVBJOiAxLFxuICAgICAgICBEUk9QOiAyLFxuICAgICAgICBCUk9XU0U6IDMsXG4gICAgICAgIFBBU1RFOiA0LFxuICAgICAgICBOT05FOiA1LFxuICAgIH07XG5cbiAgICB2YXIgZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbiBnZXRVbmlxdWVJZCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKClcbiAgICAgICAgICAgIC50b1N0cmluZygzNilcbiAgICAgICAgICAgIC5zdWJzdHJpbmcoMiwgMTEpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90eXBlb2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcbiAgICAgICAgICAgICAgICAgICAgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlXG4gICAgICAgICAgICAgICAgICAgID8gJ3N5bWJvbCdcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdHlwZW9mKG9iaik7XG4gICAgfVxuXG4gICAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuICAgIGZ1bmN0aW9uIF9qc3godHlwZSwgcHJvcHMsIGtleSwgY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXSAmJiBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgICAgICAgICAgICAgMHhlYWM3O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuXG4gICAgICAgIGlmICghcHJvcHMgJiYgY2hpbGRyZW5MZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB2b2lkIDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgICAgICAgcHJvcHMgPSBkZWZhdWx0UHJvcHMgfHwge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcnJheSA9IG5ldyBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBrZXk6IGtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsga2V5LFxuICAgICAgICAgICAgcmVmOiBudWxsLFxuICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgX293bmVyOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hc3luY0l0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBtZXRob2Q7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX0F3YWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX0FzeW5jR2VuZXJhdG9yKGdlbikge1xuICAgICAgICB2YXIgZnJvbnQsIGJhY2s7XG5cbiAgICAgICAgZnVuY3Rpb24gc2VuZChrZXksIGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBiYWNrID0gYmFjay5uZXh0ID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9udCA9IGJhY2sgPSByZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bWUoa2V5LCBhcmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzdW1lKGtleSwgYXJnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZEF3YWl0ID0gdmFsdWUgaW5zdGFuY2VvZiBfQXdhaXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUod3JhcHBlZEF3YWl0ID8gdmFsdWUud3JhcHBlZCA6IHZhbHVlKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwcGVkQXdhaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bWUoJ25leHQnLCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGxlKHJlc3VsdC5kb25lID8gJ3JldHVybicgOiAnbm9ybWFsJywgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bWUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzZXR0bGUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldHRsZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncmV0dXJuJzpcbiAgICAgICAgICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0aHJvdyc6XG4gICAgICAgICAgICAgICAgICAgIGZyb250LnJlamVjdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udCA9IGZyb250Lm5leHQ7XG5cbiAgICAgICAgICAgIGlmIChmcm9udCkge1xuICAgICAgICAgICAgICAgIHJlc3VtZShmcm9udC5rZXksIGZyb250LmFyZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faW52b2tlID0gc2VuZDtcblxuICAgICAgICBpZiAodHlwZW9mIGdlbi5yZXR1cm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKCduZXh0JywgYXJnKTtcbiAgICB9O1xuXG4gICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKCd0aHJvdycsIGFyZyk7XG4gICAgfTtcblxuICAgIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ3JldHVybicsIGFyZyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF93cmFwQXN5bmNHZW5lcmF0b3IoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfQXN5bmNHZW5lcmF0b3IoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2F3YWl0QXN5bmNHZW5lcmF0b3IodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfQXdhaXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FzeW5jR2VuZXJhdG9yRGVsZWdhdGUoaW5uZXIsIGF3YWl0V3JhcCkge1xuICAgICAgICB2YXIgaXRlciA9IHt9LFxuICAgICAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHB1bXAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGlubmVyW2tleV0odmFsdWUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYXdhaXRXcmFwKHZhbHVlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAod2FpdGluZykge1xuICAgICAgICAgICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwdW1wKCduZXh0JywgdmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgaW5uZXIudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGl0ZXIudGhyb3cgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoJ3Rocm93JywgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5uZXIucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpdGVyLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoJ3JldHVybicsIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAnbmV4dCcsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9kZWZpbmVFbnVtZXJhYmxlUHJvcGVydGllcyhvYmosIGRlc2NzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkZXNjcykge1xuICAgICAgICAgICAgdmFyIGRlc2MgPSBkZXNjc1trZXldO1xuICAgICAgICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIGRlc2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3RTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhkZXNjcyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzeW0gPSBvYmplY3RTeW1ib2xzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gZGVzY3Nbc3ltXTtcbiAgICAgICAgICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc3ltLCBkZXNjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgICAgICBfZXh0ZW5kcyA9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgICAgICBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uKHN5bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgICAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgICAgICAgaWYgKGVudW1lcmFibGVPbmx5KVxuICAgICAgICAgICAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbihzeW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICAgICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgICAgICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICAgICAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgICAgICAgID8gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICAgICAgICAgICA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgIF9zZXRQcm90b3R5cGVPZiA9XG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgICAgICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAndW5kZWZpbmVkJyB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uKCkge30pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgICAgaWYgKGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgICAgICAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9PSAtMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICAgIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICAgICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5zdGFuY2VvZihsZWZ0LCByaWdodCkge1xuICAgICAgICBpZiAocmlnaHQgIT0gbnVsbCAmJiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiByaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdKSB7XG4gICAgICAgICAgICByZXR1cm4gISFyaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdKGxlZnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGVcbiAgICAgICAgICAgID8gb2JqXG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG9iaixcbiAgICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHtcbiAgICAgICAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2MgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7XG4gICAgICAgICAgICByZXR1cm4gbmV3T2JqO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25ld0Fycm93Q2hlY2soaW5uZXJUaGlzLCBib3VuZFRoaXMpIHtcbiAgICAgICAgaWYgKGlubmVyVGhpcyAhPT0gYm91bmRUaGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW5zdGFudGlhdGUgYW4gYXJyb3cgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChvYmogPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGRlc3RydWN0dXJlIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gICAgICAgIHZhciB0YXJnZXQgPSB7fTtcbiAgICAgICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICB2YXIga2V5LCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgICAgIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICAgICAgICB2YXIga2V5LCBpO1xuXG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICAgICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBjYWxsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICAgICAgICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICAgICAgICAgIF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgICAgICAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldCA9IGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlc2M7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXNjKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVzYy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyLCBpc1N0cmljdCkge1xuICAgICAgICB2YXIgcyA9IHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcblxuICAgICAgICBpZiAoIXMgJiYgaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHNldCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7XG4gICAgICAgIGlmICghcmF3KSB7XG4gICAgICAgICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7XG4gICAgICAgICAgICAgICAgcmF3OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICAgICAgICBpZiAoIXJhdykge1xuICAgICAgICAgICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdGVtcG9yYWxSZWYodmFsLCBuYW1lKSB7XG4gICAgICAgIGlmICh2YWwgPT09IF90ZW1wb3JhbFVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkIC0gdGVtcG9yYWwgZGVhZCB6b25lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG5hbWUgKyAnXCIgaXMgcmVhZC1vbmx5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzTmFtZVREWkVycm9yKG5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGFzcyBcIicgKyBuYW1lICsgJ1wiIGNhbm5vdCBiZSByZWZlcmVuY2VkIGluIGNvbXB1dGVkIHByb3BlcnR5IGtleXMuJyk7XG4gICAgfVxuXG4gICAgdmFyIF90ZW1wb3JhbFVuZGVmaW5lZCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgICAgIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXlMb29zZShhcnIsIGkpIHtcbiAgICAgICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90b0FycmF5KGFycikge1xuICAgICAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gICAgICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgICAgICAgICAgcmV0dXJuIGFycjI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHxcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSdcbiAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgICAgICB2YXIgX2FyciA9IFtdO1xuICAgICAgICB2YXIgX24gPSB0cnVlO1xuICAgICAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfZCA9IHRydWU7XG4gICAgICAgICAgICBfZSA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10gIT0gbnVsbCkgX2lbJ3JldHVybiddKCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2FycjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHtcbiAgICAgICAgdmFyIF9hcnIgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7ICkge1xuICAgICAgICAgICAgX2Fyci5wdXNoKF9zdGVwLnZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9hcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc2tpcEZpcnN0R2VuZXJhdG9yTmV4dChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaXQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaXQubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICAgICAgICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG5cbiAgICAgICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoaGludCA9PT0gJ3N0cmluZycgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgICAgICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICdzdHJpbmcnKTtcblxuICAgICAgICByZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArXG4gICAgICAgICAgICAgICAgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICtcbiAgICAgICAgICAgICAgICAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArXG4gICAgICAgICAgICAgICAgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLFxuICAgICAgICAgICAgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkge1xuICAgICAgICB2YXIgZGVzYyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gICAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHtcbiAgICAgICAgICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzYyA9IGRlY29yYXRvcnNcbiAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKGRlc2MsIGRlY29yYXRvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgICAgICAgIH0sIGRlc2MpO1xuXG4gICAgICAgIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7XG4gICAgICAgICAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgICAgICAgZGVzYyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYztcbiAgICB9XG5cbiAgICB2YXIgaWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkge1xuICAgICAgICByZXR1cm4gJ19fcHJpdmF0ZV8nICsgaWQrKyArICdfJyArIG5hbWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpdmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkRGVzdHJ1Y3R1cmVTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICAgICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgaWYgKCEoJ19fZGVzdHJPYmonIGluIGRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5fX2Rlc3RyT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXQgdmFsdWUodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuX19kZXN0ck9iajtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlRmllbGRTcGVjR2V0KHJlY2VpdmVyLCBjbGFzc0NvbnN0cnVjdG9yLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNTZXQocmVjZWl2ZXIsIGNsYXNzQ29uc3RydWN0b3IsIGRlc2NyaXB0b3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgY2xhc3NDb25zdHJ1Y3RvciwgbWV0aG9kKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZFNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgc3RhdGljIHByaXZhdGUgZmllbGQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7XG4gICAgICAgIHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpO1xuXG4gICAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXBpID0gbWl4aW5zW2ldKGFwaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7XG4gICAgICAgICAgICBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICAgICAgfSwgc3VwZXJDbGFzcyk7XG4gICAgICAgIHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhcbiAgICAgICAgICAgIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSxcbiAgICAgICAgICAgIGRlY29yYXRvcnNcbiAgICAgICAgKTtcbiAgICAgICAgYXBpLmluaXRpYWxpemVDbGFzc0VsZW1lbnRzKHIuRiwgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkge1xuICAgICAgICBfZ2V0RGVjb3JhdG9yc0FwaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbJ21ldGhvZCddLCBbJ2ZpZWxkJ11dLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uKE8sIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgWydtZXRob2QnLCAnZmllbGQnXS5mb3JFYWNoKGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSAnb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24oRiwgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICBbJ21ldGhvZCcsICdmaWVsZCddLmZvckVhY2goZnVuY3Rpb24oa2luZCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQua2luZCA9PT0ga2luZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwbGFjZW1lbnQgPT09ICdzdGF0aWMnIHx8IHBsYWNlbWVudCA9PT0gJ3Byb3RvdHlwZScpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwbGFjZW1lbnQgPT09ICdzdGF0aWMnID8gRiA6IHByb3RvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbihyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ2ZpZWxkJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50cywgZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBmaW5pc2hlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2VtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgb3duOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlY29yYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpO1xuICAgICAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgcmVzdWx0LmZpbmlzaGVycyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVycztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEdXBsaWNhdGVkIGVsZW1lbnQgKCcgKyBlbGVtZW50LmtleSArICcpJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGVsZW1lbnQua2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmFzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50RmluaXNoZXJFeHRyYXMgPSB0aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGRlY29yYXRvcnNbaV0pKGVsZW1lbnRPYmplY3QpIHx8IGVsZW1lbnRPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdFeHRyYXMgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZXh0cmFzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdFeHRyYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhcy5wdXNoLmFwcGx5KGV4dHJhcywgbmV3RXh0cmFzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgICAgICAgICAgICBleHRyYXM6IGV4dHJhcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9ialxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2pdLmtleSA9PT0gZWxlbWVudHNba10ua2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2F0ZWQgZWxlbWVudCAoJyArIGVsZW1lbnRzW2pdLmtleSArICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzOiBmaW5pc2hlcnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBlbGVtZW50LmtpbmQsXG4gICAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Rlc2NyaXB0b3InLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdmaWVsZCcpIG9iai5pbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24oZWxlbWVudE9iamVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdG9BcnJheShlbGVtZW50T2JqZWN0cykubWFwKGZ1bmN0aW9uKGVsZW1lbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZmluaXNoZXInLCAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZXh0cmFzJywgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5raW5kKTtcblxuICAgICAgICAgICAgICAgIGlmIChraW5kICE9PSAnbWV0aG9kJyAmJiBraW5kICE9PSAnZmllbGQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIGVpdGhlciBcIm1ldGhvZFwiIG9yJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAua2luZCBcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBsYWNlbWVudCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LnBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50ICE9PSAnc3RhdGljJyAmJiBwbGFjZW1lbnQgIT09ICdwcm90b3R5cGUnICYmIHBsYWNlbWVudCAhPT0gJ293bicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIFwicHJvdG90eXBlXCIgb3IgXCJvd25cIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIC5wbGFjZW1lbnQgXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2VsZW1lbnRzJywgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCAhPT0gJ2ZpZWxkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2luaXRpYWxpemVyJywgJ0EgbWV0aG9kIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KGVsZW1lbnRPYmplY3QsICdmaW5pc2hlcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyOiBmaW5pc2hlcixcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFzOiBleHRyYXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjbGFzcycsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnRGVzY3JpcHRvcicsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBTdHJpbmcob2JqLmtpbmQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgIT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBIGNsYXNzIGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgXCJjbGFzc1wiLCBidXQgYSBkZWNvcmF0b3InICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2tleScsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAncGxhY2VtZW50JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdkZXNjcmlwdG9yJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdpbml0aWFsaXplcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZXh0cmFzJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosICdmaW5pc2hlcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXI6IGZpbmlzaGVyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQ2xhc3NGaW5pc2hlcnM6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBmaW5pc2hlcnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbihvYmosIG5hbWUsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihvYmplY3RUeXBlICsgXCIgY2FuJ3QgaGF2ZSBhIC5cIiArIG5hbWUgKyAnIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikge1xuICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7XG5cbiAgICAgICAgdmFyIGRlc2NyaXB0b3I7XG5cbiAgICAgICAgaWYgKGRlZi5raW5kID09PSAnbWV0aG9kJykge1xuICAgICAgICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdnZXQnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgIGdldDogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgIHNldDogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICBraW5kOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdmaWVsZCcgOiAnbWV0aG9kJyxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgcGxhY2VtZW50OiBkZWYuc3RhdGljID8gJ3N0YXRpYycgOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdvd24nIDogJ3Byb3RvdHlwZScsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzO1xuICAgICAgICBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBkZWYudmFsdWU7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikge1xuICAgICAgICBpZiAoZWxlbWVudC5kZXNjcmlwdG9yLmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgb3RoZXIua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgICAgICAgICBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICAgICAgICAgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIG90aGVyO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiAob3RoZXIgPSBuZXdFbGVtZW50cy5maW5kKGlzU2FtZUVsZW1lbnQpKSkge1xuICAgICAgICAgICAgICAgIGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRHVwbGljYXRlZCBtZXRob2RzICgnICsgZWxlbWVudC5rZXkgKyBcIikgY2FuJ3QgYmUgZGVjb3JhdGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHNhbWUgcHJvcGVydHkgKCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5rZXkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJykuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdFbGVtZW50cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXNEYXRhRGVzY3JpcHRvcihkZXNjKSB7XG4gICAgICAgIHJldHVybiBkZXNjICE9PSB1bmRlZmluZWQgJiYgIShkZXNjLnZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVzYy53cml0YWJsZSA9PT0gdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgbmFtZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RHZXQocmVjZWl2ZXIsIHByaXZhdGVTZXQsIGZuKSB7XG4gICAgICAgIGlmICghcHJpdmF0ZVNldC5oYXMocmVjZWl2ZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZU1ldGhvZFNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHJlYXNzaWduIHByaXZhdGUgbWV0aG9kJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3dyYXBSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgICAgICBfd3JhcFJlZ0V4cCA9IGZ1bmN0aW9uKHJlLCBncm91cHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFiZWxSZWdFeHAocmUsIGdyb3Vwcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIF9SZWdFeHAgPSBfd3JhcE5hdGl2ZVN1cGVyKFJlZ0V4cCk7XG5cbiAgICAgICAgdmFyIF9zdXBlciA9IFJlZ0V4cC5wcm90b3R5cGU7XG5cbiAgICAgICAgdmFyIF9ncm91cHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEJhYmVsUmVnRXhwKHJlLCBncm91cHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9SZWdFeHAuY2FsbCh0aGlzLCByZSk7XG5cbiAgICAgICAgICAgIF9ncm91cHMuc2V0KF90aGlzLCBncm91cHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfaW5oZXJpdHMoQmFiZWxSZWdFeHAsIF9SZWdFeHApO1xuXG4gICAgICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLmV4ZWMuY2FsbCh0aGlzLCBzdHIpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQuZ3JvdXBzID0gYnVpbGRHcm91cHMocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgQmFiZWxSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RpdHV0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN1YnN0aXR1dGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBzID0gX2dyb3Vwcy5nZXQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbi5yZXBsYWNlKC9cXCQ8KFtePl0rKT4vZywgZnVuY3Rpb24oXywgbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICckJyArIGdyb3Vwc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3Vic3RpdHV0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwodGhpcywgc3RyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYnVpbGRHcm91cHMoYXJncywgX3RoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzdGl0dXRpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwodGhpcywgc3RyLCBzdWJzdGl0dXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKHJlc3VsdCwgcmUpIHtcbiAgICAgICAgICAgIHZhciBnID0gX2dyb3Vwcy5nZXQocmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZykucmVkdWNlKGZ1bmN0aW9uKGdyb3VwcywgbmFtZSkge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tuYW1lXSA9IHJlc3VsdFtnW25hbWVdXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgICAgICAgICAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3dyYXBSZWdFeHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlSZW1vdmUgPSBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bihjYiwgc3luYykge1xuICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgxKS50aGVuKGNiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbiA9IGZ1bmN0aW9uIG9uKCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBvZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQsIGNiKSB7XG4gICAgICAgICAgICBhcnJheVJlbW92ZShcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLmZpbmRJbmRleChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50ICYmIChsaXN0ZW5lci5jYiA9PT0gY2IgfHwgIWNiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9maXJlID0gZnVuY3Rpb24gZmlyZShldmVudCwgYXJncywgc3luYykge1xuICAgICAgICAgICAgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2I7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgc3luYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJlU3luYzogZnVuY3Rpb24gZmlyZVN5bmMoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9rZXkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICAgICAgX2tleSsrXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZmlyZShldmVudCwgYXJncywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlyZTogZnVuY3Rpb24gZmlyZShldmVudCkge1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2tleTIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfa2V5MiA8IF9sZW4yO1xuICAgICAgICAgICAgICAgICAgICBfa2V5MisrXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9maXJlKGV2ZW50LCBhcmdzLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBjYjogY2IgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25PbmNlOiBmdW5jdGlvbiBvbk9uY2UoZXZlbnQsIF9jYikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjYjogZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmYoZXZlbnQsIF9jYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2IuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9mZjogb2ZmLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdCA9IGZ1bmN0aW9uIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICAgIHNyYyxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBleGNsdWRlZFxuICAgICkge1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzcmMpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFleGNsdWRlZC5pbmNsdWRlcyhwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3JjLCBrZXkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgUFJJVkFURSA9IFtcbiAgICAgICAgJ2ZpcmUnLFxuICAgICAgICAncHJvY2VzcycsXG4gICAgICAgICdyZXZlcnQnLFxuICAgICAgICAnbG9hZCcsXG4gICAgICAgICdvbicsXG4gICAgICAgICdvZmYnLFxuICAgICAgICAnb25PbmNlJyxcbiAgICAgICAgJ3JldHJ5TG9hZCcsXG4gICAgICAgICdleHRlbmQnLFxuICAgICAgICAnYXJjaGl2ZScsXG4gICAgICAgICdhcmNoaXZlZCcsXG4gICAgICAgICdyZWxlYXNlJyxcbiAgICAgICAgJ3JlbGVhc2VkJyxcbiAgICAgICAgJ3JlcXVlc3RQcm9jZXNzaW5nJyxcbiAgICAgICAgJ2ZyZWV6ZScsXG4gICAgXTtcblxuICAgIHZhciBjcmVhdGVJdGVtQVBJID0gZnVuY3Rpb24gY3JlYXRlSXRlbUFQSShpdGVtKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fTtcbiAgICAgICAgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdChpdGVtLCBhcGksIFBSSVZBVEUpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlUmVsZWFzZWRJdGVtcyA9IGZ1bmN0aW9uIHJlbW92ZVJlbGVhc2VkSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucmVsZWFzZWQpIHtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZShpdGVtcywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIEl0ZW1TdGF0dXMgPSB7XG4gICAgICAgIElOSVQ6IDEsXG4gICAgICAgIElETEU6IDIsXG4gICAgICAgIFBST0NFU1NJTkdfUVVFVUVEOiA5LFxuICAgICAgICBQUk9DRVNTSU5HOiAzLFxuICAgICAgICBQUk9DRVNTSU5HX0NPTVBMRVRFOiA1LFxuICAgICAgICBQUk9DRVNTSU5HX0VSUk9SOiA2LFxuICAgICAgICBQUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogMTAsXG4gICAgICAgIExPQURJTkc6IDcsXG4gICAgICAgIExPQURfRVJST1I6IDgsXG4gICAgfTtcblxuICAgIHZhciBGaWxlT3JpZ2luID0ge1xuICAgICAgICBJTlBVVDogMSxcbiAgICAgICAgTElNQk86IDIsXG4gICAgICAgIExPQ0FMOiAzLFxuICAgIH07XG5cbiAgICB2YXIgZ2V0Tm9uTnVtZXJpYyA9IGZ1bmN0aW9uIGdldE5vbk51bWVyaWMoc3RyKSB7XG4gICAgICAgIHJldHVybiAvW14wLTldKy8uZXhlYyhzdHIpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RGVjaW1hbFNlcGFyYXRvciA9IGZ1bmN0aW9uIGdldERlY2ltYWxTZXBhcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBnZXROb25OdW1lcmljKCgxLjEpLnRvTG9jYWxlU3RyaW5nKCkpWzBdO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VGhvdXNhbmRzU2VwYXJhdG9yID0gZnVuY3Rpb24gZ2V0VGhvdXNhbmRzU2VwYXJhdG9yKCkge1xuICAgICAgICAvLyBBZGRlZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QgcmV0dXJuIHRoZSB0aG91c2FuZHMgc2VwYXJhdG9yIChoYXBwZW5kIG9uIG5hdGl2ZSBicm93c2VyIEFuZHJvaWQgNC40LjQpXG4gICAgICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgdGhlIG5vcm1hbCB0b1N0cmluZyBvdXRwdXQgYW5kIGlmIHRoZXkncmUgdGhlIHNhbWUgcmV0dXJuIGEgY29tbWEgd2hlbiBkZWNpbWFsIHNlcGFyYXRvciBpcyBhIGRvdFxuICAgICAgICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IGdldERlY2ltYWxTZXBhcmF0b3IoKTtcbiAgICAgICAgdmFyIHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgPSAoMTAwMC4wKS50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICB2YXIgdGhvdXNhbmRzU3RyaW5nV2l0aG91dFNlcGFyYXRvciA9ICgxMDAwLjApLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yICE9PSB0aG91c2FuZHNTdHJpbmdXaXRob3V0U2VwYXJhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Tm9uTnVtZXJpYyh0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjaW1hbFNlcGFyYXRvciA9PT0gJy4nID8gJywnIDogJy4nO1xuICAgIH07XG5cbiAgICB2YXIgVHlwZSA9IHtcbiAgICAgICAgQk9PTEVBTjogJ2Jvb2xlYW4nLFxuICAgICAgICBJTlQ6ICdpbnQnLFxuICAgICAgICBOVU1CRVI6ICdudW1iZXInLFxuICAgICAgICBTVFJJTkc6ICdzdHJpbmcnLFxuICAgICAgICBBUlJBWTogJ2FycmF5JyxcbiAgICAgICAgT0JKRUNUOiAnb2JqZWN0JyxcbiAgICAgICAgRlVOQ1RJT046ICdmdW5jdGlvbicsXG4gICAgICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgICAgIFNFUlZFUl9BUEk6ICdzZXJ2ZXJhcGknLFxuICAgICAgICBSRUdFWDogJ3JlZ2V4JyxcbiAgICB9O1xuXG4gICAgLy8gYWxsIHJlZ2lzdGVyZWQgZmlsdGVyc1xuICAgIHZhciBmaWx0ZXJzID0gW107XG5cbiAgICAvLyBsb29wcyBvdmVyIG1hdGNoaW5nIGZpbHRlcnMgYW5kIHBhc3NlcyBvcHRpb25zIHRvIGVhY2ggZmlsdGVyLCByZXR1cm5pbmcgdGhlIG1hcHBlZCByZXN1bHRzXG4gICAgdmFyIGFwcGx5RmlsdGVyQ2hhaW4gPSBmdW5jdGlvbiBhcHBseUZpbHRlckNoYWluKGtleSwgdmFsdWUsIHV0aWxzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWF0Y2hpbmcgZmlsdGVycyBmb3IgdGhpcyBrZXlcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0ZpbHRlcnMgPSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmtleSA9PT0ga2V5O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmNiO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyByZXNvbHZlIG5vd1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nRmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpcnN0IGZpbHRlciB0byBraWNrIHRoaW5ncyBvZlxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaWx0ZXIgPSBtYXRjaGluZ0ZpbHRlcnMuc2hpZnQoKTtcblxuICAgICAgICAgICAgLy8gY2hhaW4gZmlsdGVyc1xuICAgICAgICAgICAgbWF0Y2hpbmdGaWx0ZXJzXG4gICAgICAgICAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCBvdmVyIHByb21pc2VzIHBhc3NpbmcgdmFsdWUgdG8gbmV4dCBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50LnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCh2YWx1ZSwgdXRpbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBpbml0aWFsIGZpbHRlciwgd2lsbCByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaWx0ZXIodmFsdWUsIHV0aWxzKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBleGVjdXRlZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlGaWx0ZXJzID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKGtleSwgdmFsdWUsIHV0aWxzKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5rZXkgPT09IGtleTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYih2YWx1ZSwgdXRpbHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBsaXN0XG4gICAgdmFyIGFkZEZpbHRlciA9IGZ1bmN0aW9uIGFkZEZpbHRlcihrZXksIGNiKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJzLnB1c2goeyBrZXk6IGtleSwgY2I6IGNiIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXh0ZW5kRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiBleHRlbmREZWZhdWx0T3B0aW9ucyhhZGRpdGlvbmFsT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgYWRkaXRpb25hbE9wdGlvbnMpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHZhciBzZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIGZvcmluKG9wdHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGtleSBkb2VzIG5vdCBleGlzdCwgc28gdGhpcyBvcHRpb24gY2Fubm90IGJlIHNldFxuICAgICAgICAgICAgaWYgKCFkZWZhdWx0T3B0aW9uc1trZXldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVswXSA9IGdldFZhbHVlQnlUeXBlKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV1bMF0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVsxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGRlZmF1bHQgb3B0aW9ucyBvbiBhcHBcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIC8vIHRoZSBpZCB0byBhZGQgdG8gdGhlIHJvb3QgZWxlbWVudFxuICAgICAgICBpZDogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBpbnB1dCBmaWVsZCBuYW1lIHRvIHVzZVxuICAgICAgICBuYW1lOiBbJ2ZpbGVwb25kJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIC8vIGRpc2FibGUgdGhlIGZpZWxkXG4gICAgICAgIGRpc2FibGVkOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gY2xhc3NuYW1lIHRvIHB1dCBvbiB3cmFwcGVyXG4gICAgICAgIGNsYXNzTmFtZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBpcyB0aGUgZmllbGQgcmVxdWlyZWRcbiAgICAgICAgcmVxdWlyZWQ6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBBbGxvdyBtZWRpYSBjYXB0dXJlIHdoZW4gdmFsdWUgaXMgc2V0XG4gICAgICAgIGNhcHR1cmVNZXRob2Q6IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgICAgIC8vIC0gXCJjYW1lcmFcIiwgXCJtaWNyb3Bob25lXCIgb3IgXCJjYW1jb3JkZXJcIixcbiAgICAgICAgLy8gLSBEb2VzIG5vdCB3b3JrIHdpdGggbXVsdGlwbGUgb24gYXBwbGUgZGV2aWNlc1xuICAgICAgICAvLyAtIElmIHNldCwgYWNjZXB0ZWRGaWxlVHlwZXMgbXVzdCBiZSBtYWRlIHRvIG1hdGNoIHdpdGggbWVkaWEgd2lsZGNhcmQgXCJpbWFnZS8qXCIsIFwiYXVkaW8vKlwiIG9yIFwidmlkZW8vKlwiXG5cbiAgICAgICAgLy8gc3luYyBgYWNjZXB0ZWRGaWxlVHlwZXNgIHByb3BlcnR5IHdpdGggYGFjY2VwdGAgYXR0cmlidXRlXG4gICAgICAgIGFsbG93U3luY0FjY2VwdEF0dHJpYnV0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gRmVhdHVyZSB0b2dnbGVzXG4gICAgICAgIGFsbG93RHJvcDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIG9mIGZpbGVzXG4gICAgICAgIGFsbG93QnJvd3NlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgYnJvd3NpbmcgdGhlIGZpbGUgc3lzdGVtXG4gICAgICAgIGFsbG93UGFzdGU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBwYXN0aW5nIGZpbGVzXG4gICAgICAgIGFsbG93TXVsdGlwbGU6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgbXVsdGlwbGUgZmlsZXMgKGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIG11bHRpcGxlIGF0dHJpYnV0ZSBpcyBhbHNvIHJlcXVpcmVkIG9uIGlucHV0IHRvIGFsbG93IG11bHRpcGxlKVxuICAgICAgICBhbGxvd1JlcGxhY2U6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBhIGZpbGUgb24gb3RoZXIgZmlsZSB0byByZXBsYWNlIGl0IChvbmx5IHdvcmtzIHdoZW4gbXVsdGlwbGUgaXMgc2V0IHRvIGZhbHNlKVxuICAgICAgICBhbGxvd1JldmVydDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93cyB1c2VyIHRvIHJldmVydCBmaWxlIHVwbG9hZFxuICAgICAgICBhbGxvd1JlbW92ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHVzZXIgdG8gcmVtb3ZlIGEgZmlsZVxuICAgICAgICBhbGxvd1Byb2Nlc3M6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvd3MgdXNlciB0byBwcm9jZXNzIGEgZmlsZSwgd2hlbiBzZXQgdG8gZmFsc2UsIHRoaXMgcmVtb3ZlcyB0aGUgZmlsZSB1cGxvYWQgYnV0dG9uXG4gICAgICAgIGFsbG93UmVvcmRlcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyByZW9yZGVyaW5nIG9mIGZpbGVzXG4gICAgICAgIGFsbG93RGlyZWN0b3JpZXNPbmx5OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IG9ubHkgc2VsZWN0aW5nIGRpcmVjdG9yaWVzIHdpdGggYnJvd3NlIChubyBzdXBwb3J0IGZvciBmaWx0ZXJpbmcgZG5kIGF0IHRoaXMgcG9pbnQpXG5cbiAgICAgICAgLy8gVHJ5IHN0b3JlIGZpbGUgaWYgYHNlcnZlcmAgbm90IHNldFxuICAgICAgICBzdG9yZUFzRmlsZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIFJldmVydCBtb2RlXG4gICAgICAgIGZvcmNlUmV2ZXJ0OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byAnZm9yY2UnIHRvIHJlcXVpcmUgdGhlIGZpbGUgdG8gYmUgcmV2ZXJ0ZWQgYmVmb3JlIHJlbW92YWxcblxuICAgICAgICAvLyBJbnB1dCByZXF1aXJlbWVudHNcbiAgICAgICAgbWF4RmlsZXM6IFtudWxsLCBUeXBlLklOVF0sIC8vIE1heCBudW1iZXIgb2YgZmlsZXNcbiAgICAgICAgY2hlY2tWYWxpZGl0eTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGVzIGN1c3RvbSB2YWxpZGl0eSBtZXNzYWdlc1xuXG4gICAgICAgIC8vIFdoZXJlIHRvIHB1dCBmaWxlXG4gICAgICAgIGl0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb206IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBTZXQgdG8gZmFsc2UgdG8gYWx3YXlzIGFkZCBpdGVtcyB0byBiZWdpbiBvciBlbmQgb2YgbGlzdFxuICAgICAgICBpdGVtSW5zZXJ0TG9jYXRpb246IFsnYmVmb3JlJywgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGluZGV4IGluIGxpc3QgdG8gYWRkIGl0ZW1zIHRoYXQgaGF2ZSBiZWVuIGRyb3BwZWQgYXQgdGhlIHRvcCBvZiB0aGUgbGlzdFxuICAgICAgICBpdGVtSW5zZXJ0SW50ZXJ2YWw6IFs3NSwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIERyYWcgJ24gRHJvcCByZWxhdGVkXG4gICAgICAgIGRyb3BPblBhZ2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgb2YgZmlsZXMgYW55d2hlcmUgb24gcGFnZSAocHJldmVudHMgYnJvd3NlciBmcm9tIG9wZW5pbmcgZmlsZSBpZiBkcm9wcGVkIG91dHNpZGUgb2YgVXApXG4gICAgICAgIGRyb3BPbkVsZW1lbnQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBEcm9wIG5lZWRzIHRvIGhhcHBlbiBvbiBlbGVtZW50IChzZXQgdG8gZmFsc2UgdG8gYWxzbyBsb2FkIGRyb3BzIG91dHNpZGUgb2YgVXApXG4gICAgICAgIGRyb3BWYWxpZGF0aW9uOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEVuYWJsZSBvciBkaXNhYmxlIHZhbGlkYXRpbmcgZmlsZXMgb24gZHJvcFxuICAgICAgICBpZ25vcmVkRmlsZXM6IFtbJy5kc19zdG9yZScsICd0aHVtYnMuZGInLCAnZGVza3RvcC5pbmknXSwgVHlwZS5BUlJBWV0sXG5cbiAgICAgICAgLy8gVXBsb2FkIHJlbGF0ZWRcbiAgICAgICAgaW5zdGFudFVwbG9hZDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIFNob3VsZCB1cGxvYWQgZmlsZXMgaW1tZWRpYXRlbHkgb24gZHJvcFxuICAgICAgICBtYXhQYXJhbGxlbFVwbG9hZHM6IFsyLCBUeXBlLklOVF0sIC8vIE1heGltdW0gZmlsZXMgdG8gdXBsb2FkIGluIHBhcmFsbGVsXG4gICAgICAgIGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gaWYgdHJ1ZSB1cGxvYWRzIHRha2UgYXQgbGVhc3QgNzUwIG1zLCB0aGlzIGVuc3VyZXMgdGhlIHVzZXIgc2VlcyB0aGUgdXBsb2FkIHByb2dyZXNzIGdpdmluZyB0cnVzdCB0aGUgdXBsb2FkIGFjdHVhbGx5IGhhcHBlbmVkXG5cbiAgICAgICAgLy8gQ2h1bmtzXG4gICAgICAgIGNodW5rVXBsb2FkczogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGUgY2h1bmtlZCB1cGxvYWRzXG4gICAgICAgIGNodW5rRm9yY2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRm9yY2UgdXNlIG9mIGNodW5rIHVwbG9hZHMgZXZlbiBmb3IgZmlsZXMgc21hbGxlciB0aGFuIGNodW5rIHNpemVcbiAgICAgICAgY2h1bmtTaXplOiBbNTAwMDAwMCwgVHlwZS5JTlRdLCAvLyBTaXplIG9mIGNodW5rcyAoNU1CIGRlZmF1bHQpXG4gICAgICAgIGNodW5rUmV0cnlEZWxheXM6IFtbNTAwLCAxMDAwLCAzMDAwXSwgVHlwZS5BUlJBWV0sIC8vIEFtb3VudCBvZiB0aW1lcyB0byByZXRyeSB1cGxvYWQgb2YgYSBjaHVuayB3aGVuIGl0IGZhaWxzXG5cbiAgICAgICAgLy8gVGhlIHNlcnZlciBhcGkgZW5kIHBvaW50cyB0byB1c2UgZm9yIHVwbG9hZGluZyAoc2VlIGRvY3MpXG4gICAgICAgIHNlcnZlcjogW251bGwsIFR5cGUuU0VSVkVSX0FQSV0sXG5cbiAgICAgICAgLy8gRmlsZSBzaXplIGNhbGN1bGF0aW9ucywgY2FuIHNldCB0byAxMDI0LCB0aGlzIGlzIG9ubHkgdXNlZCBmb3IgZGlzcGxheSwgcHJvcGVydGllcyB1c2UgZmlsZSBzaXplIGJhc2UgMTAwMFxuICAgICAgICBmaWxlU2l6ZUJhc2U6IFsxMDAwLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTGFiZWxzIGFuZCBzdGF0dXMgbWVzc2FnZXNcbiAgICAgICAgbGFiZWxGaWxlU2l6ZUJ5dGVzOiBbJ2J5dGVzJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplS2lsb2J5dGVzOiBbJ0tCJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplTWVnYWJ5dGVzOiBbJ01CJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplR2lnYWJ5dGVzOiBbJ0dCJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIGxhYmVsRGVjaW1hbFNlcGFyYXRvcjogW2dldERlY2ltYWxTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcbiAgICAgICAgbGFiZWxUaG91c2FuZHNTZXBhcmF0b3I6IFtnZXRUaG91c2FuZHNTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcblxuICAgICAgICBsYWJlbElkbGU6IFtcbiAgICAgICAgICAgICdEcmFnICYgRHJvcCB5b3VyIGZpbGVzIG9yIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPkJyb3dzZTwvc3Bhbj4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgbGFiZWxJbnZhbGlkRmllbGQ6IFsnRmllbGQgY29udGFpbnMgaW52YWxpZCBmaWxlcycsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFsnV2FpdGluZyBmb3Igc2l6ZScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogWydTaXplIG5vdCBhdmFpbGFibGUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZUNvdW50U2luZ3VsYXI6IFsnZmlsZSBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVDb3VudFBsdXJhbDogWydmaWxlcyBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVMb2FkaW5nOiBbJ0xvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZUFkZGVkOiBbJ0FkZGVkJywgVHlwZS5TVFJJTkddLCAvLyBhc3Npc3RpdmUgb25seVxuICAgICAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFsnRXJyb3IgZHVyaW5nIGxvYWQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVJlbW92ZWQ6IFsnUmVtb3ZlZCcsIFR5cGUuU1RSSU5HXSwgLy8gYXNzaXN0aXZlIG9ubHlcbiAgICAgICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJlbW92ZScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogWydVcGxvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogWydVcGxvYWQgY29tcGxldGUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiBbJ1VwbG9hZCBjYW5jZWxsZWQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogWydFcnJvciBkdXJpbmcgdXBsb2FkJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJldmVydCcsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbFRhcFRvQ2FuY2VsOiBbJ3RhcCB0byBjYW5jZWwnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsVGFwVG9SZXRyeTogWyd0YXAgdG8gcmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsVGFwVG9VbmRvOiBbJ3RhcCB0byB1bmRvJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogWydSZW1vdmUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogWydBYm9ydCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiBbJ1JldHJ5JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IFsnQ2FuY2VsJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogWydVbmRvJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFsnUmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFsnVXBsb2FkJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3aWR0aCBhbmQgaGVpZ2h0IHBsdXMgdmlld3BveCBhcmUgZXZlbiBudW1iZXJzIHNvIGljb25zIGFyZSBuaWNlbHkgY2VudGVyZWRcbiAgICAgICAgaWNvblJlbW92ZTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjU4NiAxM2wtMi4yOTMgMi4yOTNhMSAxIDAgMCAwIDEuNDE0IDEuNDE0TDEzIDE0LjQxNGwyLjI5MyAyLjI5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMMTQuNDE0IDEzbDIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNC0xLjQxNEwxMyAxMS41ODZsLTIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEwxMS41ODYgMTN6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgICAgICAgIFR5cGUuU1RSSU5HLFxuICAgICAgICBdLFxuXG4gICAgICAgIGljb25Qcm9jZXNzOiBbXG4gICAgICAgICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTQgMTAuNDE0djMuNTg1YTEgMSAwIDAgMS0yIDB2LTMuNTg1bC0xLjI5MyAxLjI5M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsMy0zYTEgMSAwIDAgMSAxLjQxNCAwbDMgM2ExIDEgMCAwIDEtMS40MTQgMS40MTVMMTQgMTAuNDE0ek05IDE4YTEgMSAwIDAgMSAwLTJoOGExIDEgMCAwIDEgMCAySDl6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICAgICAgICAgIFR5cGUuU1RSSU5HLFxuICAgICAgICBdLFxuXG4gICAgICAgIGljb25SZXRyeTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjgxIDkuMTg1bC0uMDM4LjAyQTQuOTk3IDQuOTk3IDAgMCAwIDggMTMuNjgzYTUgNSAwIDAgMCA1IDUgNSA1IDAgMCAwIDUtNSAxIDEgMCAwIDEgMiAwQTcgNyAwIDEgMSA5LjcyMiA3LjQ5NmwtLjg0Mi0uMjFhLjk5OS45OTkgMCAxIDEgLjQ4NC0xLjk0bDMuMjMuODA2Yy41MzUuMTMzLjg2LjY3NS43MyAxLjIxbC0uODA0IDMuMjMzYS45OTcuOTk3IDAgMCAxLTEuMjEuNzMuOTk3Ljk5NyAwIDAgMS0uNzMtMS4yMWwuMjMtLjkyOHYtLjAwMnpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgaWNvblVuZG86IFtcbiAgICAgICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk05LjE4NSAxMC44MWwuMDItLjAzOEE0Ljk5NyA0Ljk5NyAwIDAgMSAxMy42ODMgOGE1IDUgMCAwIDEgNSA1IDUgNSAwIDAgMS01IDUgMSAxIDAgMCAwIDAgMkE3IDcgMCAxIDAgNy40OTYgOS43MjJsLS4yMS0uODQyYS45OTkuOTk5IDAgMSAwLTEuOTQuNDg0bC44MDYgMy4yM2MuMTMzLjUzNS42NzUuODYgMS4yMS43M2wzLjIzMy0uODAzYS45OTcuOTk3IDAgMCAwIC43My0xLjIxLjk5Ny45OTcgMCAwIDAtMS4yMS0uNzNsLS45MjguMjMtLjAwMi0uMDAxelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICAgICAgICBUeXBlLlNUUklORyxcbiAgICAgICAgXSxcblxuICAgICAgICBpY29uRG9uZTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE4LjI5MyA5LjI5M2ExIDEgMCAwIDEgMS40MTQgMS40MTRsLTcuMDAyIDdhMSAxIDAgMCAxLTEuNDE0IDBsLTMuOTk4LTRhMSAxIDAgMSAxIDEuNDE0LTEuNDE0TDEyIDE1LjU4Nmw2LjI5NC02LjI5M3pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgb25pbml0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ud2FybmluZzogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbmVycm9yOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9uYWN0aXZhdGVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9uaW5pdGZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlc3RhcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucHJvY2Vzc2ZpbGVzdGFydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnByb2Nlc3NmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcm9jZXNzZmlsZWFib3J0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucHJvY2Vzc2ZpbGVyZXZlcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcm9jZXNzZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnByb2Nlc3NmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnJlbW92ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcmVwYXJlZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnVwZGF0ZWZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucmVvcmRlcmZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAgICAgLy8gaG9va3NcbiAgICAgICAgYmVmb3JlRHJvcEZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgYmVmb3JlQWRkRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBiZWZvcmVSZW1vdmVGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIGJlZm9yZVByZXBhcmVGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAgICAgLy8gc3R5bGVzXG4gICAgICAgIHN0eWxlUGFuZWxMYXlvdXQ6IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgJ2ludGVncmF0ZWQnLCAnY29tcGFjdCcsICdjaXJjbGUnXG4gICAgICAgIHN0eWxlUGFuZWxBc3BlY3RSYXRpbzogW251bGwsIFR5cGUuU1RSSU5HXSwgLy8gbnVsbCBvciAnMzoyJyBvciAxXG4gICAgICAgIHN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uOiBbJ2xlZnQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlQnV0dG9uUHJvY2Vzc0l0ZW1Qb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgc3R5bGVMb2FkSW5kaWNhdG9yUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgc3R5bGVCdXR0b25SZW1vdmVJdGVtQWxpZ246IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBjdXN0b20gaW5pdGlhbCBmaWxlcyBhcnJheVxuICAgICAgICBmaWxlczogW1tdLCBUeXBlLkFSUkFZXSxcblxuICAgICAgICAvLyBzaG93IHN1cHBvcnQgYnkgZGlzcGxheWluZyBjcmVkaXRzXG4gICAgICAgIGNyZWRpdHM6IFtbJ2h0dHBzOi8vcHFpbmEubmwvJywgJ1Bvd2VyZWQgYnkgUFFJTkEnXSwgVHlwZS5BUlJBWV0sXG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtQnlRdWVyeSA9IGZ1bmN0aW9uIGdldEl0ZW1CeVF1ZXJ5KGl0ZW1zLCBxdWVyeSkge1xuICAgICAgICAvLyBqdXN0IHJldHVybiBmaXJzdCBpbmRleFxuICAgICAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtc1swXSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVlcnkgaXMgaW5kZXhcbiAgICAgICAgaWYgKGlzSW50KHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zW3F1ZXJ5XSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgcXVlcnkgaXMgaXRlbSwgZ2V0IHRoZSBpZFxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFzc3VtZSBxdWVyeSBpcyBhIHN0cmluZyBhbmQgcmV0dXJuIGl0ZW0gYnkgaWRcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGl0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBxdWVyeTtcbiAgICAgICAgICAgIH0pIHx8IG51bGxcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcgPSBmdW5jdGlvbiBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIGlmIChpc0VtcHR5KGFzcGVjdFJhdGlvKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvOi8udGVzdChhc3BlY3RSYXRpbykpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGFzcGVjdFJhdGlvLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICByZXR1cm4gcGFydHNbMV0gLyBwYXJ0c1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhc3BlY3RSYXRpbyk7XG4gICAgfTtcblxuICAgIHZhciBnZXRBY3RpdmVJdGVtcyA9IGZ1bmN0aW9uIGdldEFjdGl2ZUl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICFpdGVtLmFyY2hpdmVkO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIFN0YXR1cyA9IHtcbiAgICAgICAgRU1QVFk6IDAsXG4gICAgICAgIElETEU6IDEsIC8vIHdhaXRpbmdcbiAgICAgICAgRVJST1I6IDIsIC8vIGEgZmlsZSBpcyBpbiBlcnJvciBzdGF0ZVxuICAgICAgICBCVVNZOiAzLCAvLyBidXN5IHByb2Nlc3Npbmcgb3IgbG9hZGluZ1xuICAgICAgICBSRUFEWTogNCwgLy8gYWxsIGZpbGVzIHVwbG9hZGVkXG4gICAgfTtcblxuICAgIHZhciByZXMgPSBudWxsO1xuICAgIHZhciBjYW5VcGRhdGVGaWxlSW5wdXQgPSBmdW5jdGlvbiBjYW5VcGRhdGVGaWxlSW5wdXQoKSB7XG4gICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKG5ldyBGaWxlKFsnaGVsbG8gd29ybGQnXSwgJ1RoaXNfV29ya3MudHh0JykpO1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2ZpbGUnKTtcbiAgICAgICAgICAgICAgICBlbC5maWxlcyA9IGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICAgICAgICAgICAgICByZXMgPSBlbC5maWxlcy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICB2YXIgSVRFTV9FUlJPUiA9IFtcbiAgICAgICAgSXRlbVN0YXR1cy5MT0FEX0VSUk9SLFxuICAgICAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IsXG4gICAgICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IsXG4gICAgXTtcblxuICAgIHZhciBJVEVNX0JVU1kgPSBbXG4gICAgICAgIEl0ZW1TdGF0dXMuTE9BRElORyxcbiAgICAgICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HLFxuICAgICAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVELFxuICAgICAgICBJdGVtU3RhdHVzLklOSVQsXG4gICAgXTtcblxuICAgIHZhciBJVEVNX1JFQURZID0gW0l0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURV07XG5cbiAgICB2YXIgaXNJdGVtSW5FcnJvclN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5FcnJvclN0YXRlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIElURU1fRVJST1IuaW5jbHVkZXMoaXRlbS5zdGF0dXMpO1xuICAgIH07XG4gICAgdmFyIGlzSXRlbUluQnVzeVN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5CdXN5U3RhdGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gSVRFTV9CVVNZLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbiAgICB9O1xuICAgIHZhciBpc0l0ZW1JblJlYWR5U3RhdGUgPSBmdW5jdGlvbiBpc0l0ZW1JblJlYWR5U3RhdGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gSVRFTV9SRUFEWS5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG4gICAgfTtcblxuICAgIHZhciBpc0FzeW5jID0gZnVuY3Rpb24gaXNBc3luYyhzdGF0ZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIpICYmXG4gICAgICAgICAgICAoaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIucHJvY2VzcykgfHwgaXNGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci5wcm9jZXNzKSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHF1ZXJpZXMgPSBmdW5jdGlvbiBxdWVyaWVzKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBHRVRfU1RBVFVTOiBmdW5jdGlvbiBHRVRfU1RBVFVTKCkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcbiAgICAgICAgICAgICAgICB2YXIgRU1QVFkgPSBTdGF0dXMuRU1QVFksXG4gICAgICAgICAgICAgICAgICAgIEVSUk9SID0gU3RhdHVzLkVSUk9SLFxuICAgICAgICAgICAgICAgICAgICBCVVNZID0gU3RhdHVzLkJVU1ksXG4gICAgICAgICAgICAgICAgICAgIElETEUgPSBTdGF0dXMuSURMRSxcbiAgICAgICAgICAgICAgICAgICAgUkVBRFkgPSBTdGF0dXMuUkVBRFk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gRU1QVFk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkVycm9yU3RhdGUpKSByZXR1cm4gRVJST1I7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkJ1c3lTdGF0ZSkpIHJldHVybiBCVVNZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5SZWFkeVN0YXRlKSkgcmV0dXJuIFJFQURZO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIElETEU7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBHRVRfSVRFTTogZnVuY3Rpb24gR0VUX0lURU0ocXVlcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9BQ1RJVkVfSVRFTTogZnVuY3Rpb24gR0VUX0FDVElWRV9JVEVNKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEl0ZW1CeVF1ZXJ5KGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSwgcXVlcnkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0FDVElWRV9JVEVNUzogZnVuY3Rpb24gR0VUX0FDVElWRV9JVEVNUygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1TOiBmdW5jdGlvbiBHRVRfSVRFTVMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fTkFNRTogZnVuY3Rpb24gR0VUX0lURU1fTkFNRShxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZW5hbWUgOiBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fU0laRTogZnVuY3Rpb24gR0VUX0lURU1fU0laRShxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZVNpemUgOiBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX1NUWUxFUzogZnVuY3Rpb24gR0VUX1NUWUxFUygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUub3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvXnN0eWxlLy50ZXN0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUub3B0aW9uc1tvcHRpb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBHRVRfUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfUEFORUxfQVNQRUNUX1JBVElPKCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1NoYXBlQ2lyY2xlID0gL2NpcmNsZS8udGVzdChzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxMYXlvdXQpO1xuICAgICAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGlzU2hhcGVDaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxBc3BlY3RSYXRpbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm9wdGlvbnMuc3R5bGVJdGVtUGFuZWxBc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9JVEVNU19CWV9TVEFUVVM6IGZ1bmN0aW9uIEdFVF9JVEVNU19CWV9TVEFUVVMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zdGF0dXMgPT09IHN0YXR1cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9UT1RBTF9JVEVNUzogZnVuY3Rpb24gR0VUX1RPVEFMX0lURU1TKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUOiBmdW5jdGlvbiBTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm9wdGlvbnMuc3RvcmVBc0ZpbGUgJiYgY2FuVXBkYXRlRmlsZUlucHV0KCkgJiYgIWlzQXN5bmMoc3RhdGUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgSVNfQVNZTkM6IGZ1bmN0aW9uIElTX0FTWU5DKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0FzeW5jKHN0YXRlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9GSUxFX1NJWkVfTEFCRUxTOiBmdW5jdGlvbiBHRVRfRklMRV9TSVpFX0xBQkVMUyhxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsQnl0ZXM6IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX0JZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbEtpbG9ieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfS0lMT0JZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbE1lZ2FieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfTUVHQUJZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbEdpZ2FieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfR0lHQUJZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgaGFzUm9vbUZvckl0ZW0gPSBmdW5jdGlvbiBoYXNSb29tRm9ySXRlbShzdGF0ZSkge1xuICAgICAgICB2YXIgY291bnQgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIGNhbm5vdCBoYXZlIG11bHRpcGxlIGl0ZW1zLCB0byBhZGQgb25lIGl0ZW0gaXQgc2hvdWxkIGN1cnJlbnRseSBub3QgY29udGFpbiBpdGVtc1xuICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvdW50ID09PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYWxsb3dzIG11bHRpcGxlIGl0ZW1zLCB3ZSBjaGVjayBpZiBhIG1heCBpdGVtIGNvdW50IGhhcyBiZWVuIHNldCwgaWYgbm90LCB0aGVyZSdzIG5vIGxpbWl0XG4gICAgICAgIHZhciBtYXhGaWxlQ291bnQgPSBzdGF0ZS5vcHRpb25zLm1heEZpbGVzO1xuICAgICAgICBpZiAobWF4RmlsZUNvdW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIGNoZWNrIGlmIHRoZSBjdXJyZW50IGNvdW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgbWF4IGNvdW50LCBpZiBzbywgYW5vdGhlciBmaWxlIGNhbiBzdGlsbCBiZSBhZGRlZFxuICAgICAgICBpZiAoY291bnQgPCBtYXhGaWxlQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gbW9yZSByb29tIGZvciBhbm90aGVyIGZpbGVcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiBsaW1pdCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKG1heCwgdmFsdWUpLCBtaW4pO1xuICAgIH07XG5cbiAgICB2YXIgYXJyYXlJbnNlcnQgPSBmdW5jdGlvbiBhcnJheUluc2VydChhcnIsIGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgICB9O1xuXG4gICAgdmFyIGluc2VydEl0ZW0gPSBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW1zLCBpdGVtLCBpbmRleCkge1xuICAgICAgICBpZiAoaXNFbXB0eShpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpbmRleCBpcyB1bmRlZmluZWQsIGFwcGVuZFxuICAgICAgICBpZiAodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGltaXQgdGhlIGluZGV4IHRvIHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhcnJheVxuICAgICAgICBpbmRleCA9IGxpbWl0KGluZGV4LCAwLCBpdGVtcy5sZW5ndGgpO1xuXG4gICAgICAgIC8vIGFkZCBpdGVtIHRvIGFycmF5XG4gICAgICAgIGFycmF5SW5zZXJ0KGl0ZW1zLCBpbmRleCwgaXRlbSk7XG5cbiAgICAgICAgLy8gZXhwb3NlXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH07XG5cbiAgICB2YXIgaXNCYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gaXNCYXNlNjREYXRhVVJJKHN0cikge1xuICAgICAgICByZXR1cm4gL15cXHMqZGF0YTooW2Etel0rXFwvW2EtejAtOS0rLl0rKDtbYS16LV0rPVthLXowLTktXSspPyk/KDtiYXNlNjQpPywoW2EtejAtOSEkJicsKCkqKzs9XFwtLl9+OkBcXC8/JVxcc10qKVxccyokL2kudGVzdChcbiAgICAgICAgICAgIHN0clxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZW5hbWVGcm9tVVJMID0gZnVuY3Rpb24gZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCkge1xuICAgICAgICByZXR1cm4gKCcnICsgdXJsKVxuICAgICAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgICAgIC5wb3AoKVxuICAgICAgICAgICAgLnNwbGl0KCc/JylcbiAgICAgICAgICAgIC5zaGlmdCgpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lID0gZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICB9O1xuXG4gICAgdmFyIGd1ZXNzdGltYXRlRXh0ZW5zaW9uID0gZnVuY3Rpb24gZ3Vlc3N0aW1hdGVFeHRlbnNpb24odHlwZSkge1xuICAgICAgICAvLyBpZiBubyBleHRlbnNpb24gc3VwcGxpZWQsIGV4aXQgaGVyZVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgc3VidHlwZVxuICAgICAgICB2YXIgc3VidHlwZSA9IHR5cGUuc3BsaXQoJy8nKS5wb3AoKTtcblxuICAgICAgICAvLyBpcyBzdmcgc3VidHlwZVxuICAgICAgICBpZiAoL3N2Zy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdzdmcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC96aXB8Y29tcHJlc3NlZC8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuICd6aXAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9wbGFpbi8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuICd0eHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9tc3dvcmQvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnZG9jJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGlzIHZhbGlkIHN1YnR5cGVcbiAgICAgICAgaWYgKC9bYS16XSsvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgICAgIC8vIGFsd2F5cyB1c2UganBnIGV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKHN1YnR5cGUgPT09ICdqcGVnJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnanBnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmV0dXJuIHN1YnR5cGVcbiAgICAgICAgICAgIHJldHVybiBzdWJ0eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICB2YXIgbGVmdFBhZCA9IGZ1bmN0aW9uIGxlZnRQYWQodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgICAgICByZXR1cm4gKHBhZGRpbmcgKyB2YWx1ZSkuc2xpY2UoLXBhZGRpbmcubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldERhdGVTdHJpbmcgPSBmdW5jdGlvbiBnZXREYXRlU3RyaW5nKCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSArXG4gICAgICAgICAgICAnLScgK1xuICAgICAgICAgICAgbGVmdFBhZChkYXRlLmdldE1vbnRoKCkgKyAxLCAnMDAnKSArXG4gICAgICAgICAgICAnLScgK1xuICAgICAgICAgICAgbGVmdFBhZChkYXRlLmdldERhdGUoKSwgJzAwJykgK1xuICAgICAgICAgICAgJ18nICtcbiAgICAgICAgICAgIGxlZnRQYWQoZGF0ZS5nZXRIb3VycygpLCAnMDAnKSArXG4gICAgICAgICAgICAnLScgK1xuICAgICAgICAgICAgbGVmdFBhZChkYXRlLmdldE1pbnV0ZXMoKSwgJzAwJykgK1xuICAgICAgICAgICAgJy0nICtcbiAgICAgICAgICAgIGxlZnRQYWQoZGF0ZS5nZXRTZWNvbmRzKCksICcwMCcpXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlRnJvbUJsb2IgPSBmdW5jdGlvbiBnZXRGaWxlRnJvbUJsb2IoYmxvYiwgZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG4gICAgICAgIHZhciBmaWxlID1cbiAgICAgICAgICAgIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gYmxvYi5zbGljZSgwLCBibG9iLnNpemUsIHR5cGUpXG4gICAgICAgICAgICAgICAgOiBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgYmxvYi50eXBlKTtcbiAgICAgICAgZmlsZS5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICAvLyBjb3B5IHJlbGF0aXZlIHBhdGhcbiAgICAgICAgaWYgKGJsb2IuX3JlbGF0aXZlUGF0aCkgZmlsZS5fcmVsYXRpdmVQYXRoID0gYmxvYi5fcmVsYXRpdmVQYXRoO1xuXG4gICAgICAgIC8vIGlmIGJsb2IgaGFzIG5hbWUgcHJvcGVydHksIHVzZSBhcyBmaWxlbmFtZSBpZiBubyBmaWxlbmFtZSBzdXBwbGllZFxuICAgICAgICBpZiAoIWlzU3RyaW5nKGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBnZXREYXRlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBmaWxlbmFtZSBzdXBwbGllZCBidXQgbm8gZXh0ZW5zaW9uIGFuZCBmaWxlbmFtZSBoYXMgZXh0ZW5zaW9uXG4gICAgICAgIGlmIChmaWxlbmFtZSAmJiBleHRlbnNpb24gPT09IG51bGwgJiYgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gfHwgZ3Vlc3N0aW1hdGVFeHRlbnNpb24oZmlsZS50eXBlKTtcbiAgICAgICAgICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lICsgKGV4dGVuc2lvbiA/ICcuJyArIGV4dGVuc2lvbiA6ICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QmxvYkJ1aWxkZXIgPSBmdW5jdGlvbiBnZXRCbG9iQnVpbGRlcigpIHtcbiAgICAgICAgcmV0dXJuICh3aW5kb3cuQmxvYkJ1aWxkZXIgPVxuICAgICAgICAgICAgd2luZG93LkJsb2JCdWlsZGVyIHx8XG4gICAgICAgICAgICB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgICAgIHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgd2luZG93Lk1TQmxvYkJ1aWxkZXIpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQmxvYiA9IGZ1bmN0aW9uIGNyZWF0ZUJsb2IoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKSB7XG4gICAgICAgIHZhciBCQiA9IGdldEJsb2JCdWlsZGVyKCk7XG5cbiAgICAgICAgaWYgKEJCKSB7XG4gICAgICAgICAgICB2YXIgYmIgPSBuZXcgQkIoKTtcbiAgICAgICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYihtaW1lVHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSwge1xuICAgICAgICAgICAgdHlwZTogbWltZVR5cGUsXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlID0gZnVuY3Rpb24gZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlKFxuICAgICAgICBieXRlU3RyaW5nLFxuICAgICAgICBtaW1lVHlwZVxuICAgICkge1xuICAgICAgICB2YXIgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgICAgICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShhYik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpYVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVCbG9iKGFiLCBtaW1lVHlwZSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSB7XG4gICAgICAgIHJldHVybiAoL15kYXRhOiguKyk7Ly5leGVjKGRhdGFVUkkpIHx8IFtdKVsxXSB8fCBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpIHtcbiAgICAgICAgLy8gZ2V0IGRhdGEgcGFydCBvZiBzdHJpbmcgKHJlbW92ZSBkYXRhOmltYWdlL2pwZWcuLi4sKVxuICAgICAgICB2YXIgZGF0YSA9IGRhdGFVUkkuc3BsaXQoJywnKVsxXTtcblxuICAgICAgICAvLyByZW1vdmUgYW55IHdoaXRlc3BhY2UgYXMgdGhhdCBjYXVzZXMgSW52YWxpZENoYXJhY3RlckVycm9yIGluIElFXG4gICAgICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gICAgfTtcblxuICAgIHZhciBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkge1xuICAgICAgICByZXR1cm4gYXRvYihnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QmxvYkZyb21CYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gZ2V0QmxvYkZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlID0gZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKTtcbiAgICAgICAgdmFyIGJ5dGVTdHJpbmcgPSBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSk7XG5cbiAgICAgICAgcmV0dXJuIGdldEJsb2JGcm9tQnl0ZVN0cmluZ1dpdGhNaW1lVHlwZShieXRlU3RyaW5nLCBtaW1lVHlwZSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSwgZmlsZW5hbWUsIGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gZ2V0RmlsZUZyb21CbG9iKGdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSwgZmlsZW5hbWUsIG51bGwsIGV4dGVuc2lvbik7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlTmFtZUZyb21IZWFkZXIgPSBmdW5jdGlvbiBnZXRGaWxlTmFtZUZyb21IZWFkZXIoaGVhZGVyKSB7XG4gICAgICAgIC8vIHRlc3QgaWYgaXMgY29udGVudCBkaXNwb3NpdGlvbiBoZWFkZXIsIGlmIG5vdCBleGl0XG4gICAgICAgIGlmICghL15jb250ZW50LWRpc3Bvc2l0aW9uOi9pLnRlc3QoaGVhZGVyKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgLy8gZ2V0IGZpbGVuYW1lIHBhcnRzXG4gICAgICAgIHZhciBtYXRjaGVzID0gaGVhZGVyXG4gICAgICAgICAgICAuc3BsaXQoL2ZpbGVuYW1lPXxmaWxlbmFtZVxcKj0uKycnLylcbiAgICAgICAgICAgIC5zcGxpY2UoMSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lLnRyaW0oKS5yZXBsYWNlKC9eW1wiJ118WztcIiddezAsMn0kL2csICcnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZS5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGggPyBkZWNvZGVVUkkobWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdKSA6IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlU2l6ZUZyb21IZWFkZXIgPSBmdW5jdGlvbiBnZXRGaWxlU2l6ZUZyb21IZWFkZXIoaGVhZGVyKSB7XG4gICAgICAgIGlmICgvY29udGVudC1sZW5ndGg6L2kudGVzdChoZWFkZXIpKSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IGhlYWRlci5tYXRjaCgvWzAtOV0rLylbMF07XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSA/IHBhcnNlSW50KHNpemUsIDEwKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBnZXRUcmFuZnNlcklkRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldFRyYW5mc2VySWRGcm9tSGVhZGVyKGhlYWRlcikge1xuICAgICAgICBpZiAoL3gtY29udGVudC10cmFuc2Zlci1pZDovaS50ZXN0KGhlYWRlcikpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IChoZWFkZXIuc3BsaXQoJzonKVsxXSB8fCAnJykudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIGlkIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzID0gZnVuY3Rpb24gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJvd3MgPSBoZWFkZXJzLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gcm93c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwO1xuICAgICAgICAgICAgICAgICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGdldEZpbGVOYW1lRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm8ubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gZ2V0RmlsZVNpemVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGdldFRyYW5mc2VySWRGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUZpbGVMb2FkZXIgPSBmdW5jdGlvbiBjcmVhdGVGaWxlTG9hZGVyKGZldGNoRm4pIHtcbiAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgICAgICBzaXplOiBudWxsLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIGdldFByb2dyZXNzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnByb2dyZXNzO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZXF1ZXN0ICYmIHN0YXRlLnJlcXVlc3QuYWJvcnQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbG9hZCBzb3VyY2VcbiAgICAgICAgdmFyIGxvYWQgPSBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICAgICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZVxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHN0YXRlLnNvdXJjZTtcblxuICAgICAgICAgICAgYXBpLmZpcmUoJ2luaXQnLCBzb3VyY2UpO1xuXG4gICAgICAgICAgICAvLyBMb2FkIEZpbGVzXG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdsb2FkJywgc291cmNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgIC8vIExvYWQgYmxvYnMsIHNldCBkZWZhdWx0IG5hbWUgdG8gY3VycmVudCBkYXRlXG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBnZXRGaWxlRnJvbUJsb2Ioc291cmNlLCBzb3VyY2UubmFtZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAgICAgICAgIC8vIExvYWQgYmFzZSA2NCwgc2V0IGRlZmF1bHQgbmFtZSB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIGdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSShzb3VyY2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVhbCBhcyBpZiBpcyBleHRlcm5hbCBVUkwsIGxldCdzIGxvYWQgaXQhXG4gICAgICAgICAgICAgICAgbG9hZFVSTChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGxvYWRzIGEgdXJsXG4gICAgICAgIHZhciBsb2FkVVJMID0gZnVuY3Rpb24gbG9hZFVSTCh1cmwpIHtcbiAgICAgICAgICAgIC8vIGlzIHJlbW90ZSB1cmwgYW5kIG5vIGZldGNoIG1ldGhvZCBzdXBwbGllZFxuICAgICAgICAgICAgaWYgKCFmZXRjaEZuKSB7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBcIkNhbid0IGxvYWQgVVJMXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IHJlcXVlc3Qgc3RhcnRcbiAgICAgICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgIC8vIGxvYWQgZmlsZVxuICAgICAgICAgICAgc3RhdGUucmVxdWVzdCA9IGZldGNoRm4oXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gYmxvYiByZXNwb25zZSBpbnRvIGEgZmlsZVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGdldEZpbGVGcm9tQmxvYihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5uYW1lIHx8IGdldEZpbGVuYW1lRnJvbVVSTCh1cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBoYXMgcmVjZWl2ZWQgYmxvYiwgd2UgZ28gd2l0aCBibG9iLCBpZiBubyByZXNwb25zZSwgd2UgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlIGluc3RhbmNlb2YgQmxvYiA/IHJlc3BvbnNlIDogcmVzcG9uc2UgPyByZXNwb25zZS5ib2R5IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihjb21wdXRhYmxlLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb2xsZWN0ZWQgc29tZSBtZXRhIGRhdGEgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNpemUgPSB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgY29tcHV0ZSBwcm9ncmVzcywgd2UncmUgbm90IGdvaW5nIHRvIGZpcmUgcHJvZ3Jlc3MgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHByb2dyZXNzIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjdXJyZW50IC8gdG90YWw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb3NlXG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCdwcm9ncmVzcycsIHN0YXRlLnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhcGkuZmlyZSgnYWJvcnQnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlaW5mbyA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmVzcG9uc2UgPT09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCdtZXRhJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc3RhdGUuc2l6ZSB8fCBmaWxlaW5mby5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVpbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGZpbGVpbmZvLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0gT2JqZWN0LmFzc2lnbih7fSwgb24oKSwge1xuICAgICAgICAgICAgc2V0U291cmNlOiBmdW5jdGlvbiBzZXRTb3VyY2Uoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5zb3VyY2UgPSBzb3VyY2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFByb2dyZXNzOiBnZXRQcm9ncmVzcywgLy8gZmlsZSBsb2FkIHByb2dyZXNzXG4gICAgICAgICAgICBhYm9ydDogYWJvcnQsIC8vIGFib3J0IGZpbGUgbG9hZFxuICAgICAgICAgICAgbG9hZDogbG9hZCwgLy8gc3RhcnQgbG9hZFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgaXNHZXQgPSBmdW5jdGlvbiBpc0dldChtZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIC9HRVR8SEVBRC8udGVzdChtZXRob2QpO1xuICAgIH07XG5cbiAgICB2YXIgc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBzZW5kUmVxdWVzdChkYXRhLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFwaSA9IHtcbiAgICAgICAgICAgIG9uaGVhZGVyczogZnVuY3Rpb24gb25oZWFkZXJzKCkge30sXG4gICAgICAgICAgICBvbnByb2dyZXNzOiBmdW5jdGlvbiBvbnByb2dyZXNzKCkge30sXG4gICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9LFxuICAgICAgICAgICAgb250aW1lb3V0OiBmdW5jdGlvbiBvbnRpbWVvdXQoKSB7fSxcbiAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIG9uZXJyb3IoKSB7fSxcbiAgICAgICAgICAgIG9uYWJvcnQ6IGZ1bmN0aW9uIG9uYWJvcnQoKSB7fSxcbiAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdGltZW91dCBpZGVudGlmaWVyLCBvbmx5IHVzZWQgd2hlbiB0aW1lb3V0IGlzIGRlZmluZWRcbiAgICAgICAgdmFyIGFib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhlYWRlcnNSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZW5jb2RlIHVybFxuICAgICAgICB1cmwgPSBlbmNvZGVVUkkodXJsKTtcblxuICAgICAgICAvLyBpZiBtZXRob2QgaXMgR0VULCBhZGQgYW55IHJlY2VpdmVkIGRhdGEgdG8gdXJsXG5cbiAgICAgICAgaWYgKGlzR2V0KG9wdGlvbnMubWV0aG9kKSAmJiBkYXRhKSB7XG4gICAgICAgICAgICB1cmwgPVxuICAgICAgICAgICAgICAgICcnICtcbiAgICAgICAgICAgICAgICB1cmwgK1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHJlcXVlc3RcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIHByb2dyZXNzIG9mIGxvYWRcbiAgICAgICAgdmFyIHByb2Nlc3MgPSBpc0dldChvcHRpb25zLm1ldGhvZCkgPyB4aHIgOiB4aHIudXBsb2FkO1xuICAgICAgICBwcm9jZXNzLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyBubyBwcm9ncmVzcyBldmVudCB3aGVuIGFib3J0ZWQgKCBvbnByb2dyZXNzIGlzIGNhbGxlZCBvbmNlIGFmdGVyIGFib3J0KCkgKVxuICAgICAgICAgICAgaWYgKGFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFwaS5vbnByb2dyZXNzKGUubGVuZ3RoQ29tcHV0YWJsZSwgZS5sb2FkZWQsIGUudG90YWwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHRyaWVzIHRvIGdldCBoZWFkZXIgaW5mbyB0byB0aGUgYXBwIGFzIGZhc3QgYXMgcG9zc2libGVcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gbm90IGludGVyZXN0aW5nIGluIHRoZXNlIHN0YXRlcyAoJ3Vuc2VudCcgYW5kICdvcGVuZW5kJyBhcyB0aGV5IGRvbid0IGdpdmUgdXMgYW55IGFkZGl0aW9uYWwgaW5mbylcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA8IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vIHNlcnZlciByZXNwb25zZVxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoZWFkZXJzUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhlYWRlcnNSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIHdlJ3ZlIHByb2JhYmx5IHJlY2VpdmVkIHNvbWUgdXNlZnVsIGRhdGEgaW4gcmVzcG9uc2UgaGVhZGVyc1xuICAgICAgICAgICAgYXBpLm9uaGVhZGVycyh4aHIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGxvYWQgc3VjY2Vzc2Z1bFxuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBpcyBjbGFzc2lmaWVkIGFzIHZhbGlkIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgIGFwaS5vbmxvYWQoeGhyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXBpLm9uZXJyb3IoeGhyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBlcnJvciBkdXJpbmcgbG9hZFxuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5vbmVycm9yKHhocik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcmVxdWVzdCBhYm9ydGVkXG4gICAgICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFwaS5vbmFib3J0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkub250aW1lb3V0KHhocik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gb3BlbiB1cCBvcGVuIHVwIVxuICAgICAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgICAgICAvLyBzZXQgdGltZW91dCBpZiBkZWZpbmVkIChkbyBpdCBhZnRlciBvcGVuIHNvIElFMTEgcGxheXMgYmFsbClcbiAgICAgICAgaWYgKGlzSW50KG9wdGlvbnMudGltZW91dCkpIHtcbiAgICAgICAgICAgIHhoci50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGhlYWRlcnNcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KG9wdGlvbnMuaGVhZGVyc1trZXldKSk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0IHR5cGUgb2YgcmVzcG9uc2VcbiAgICAgICAgaWYgKG9wdGlvbnMucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgY3JlZGVudGlhbHNcbiAgICAgICAgaWYgKG9wdGlvbnMud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCdzIHNlbmQgb3VyIGRhdGFcbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2UodHlwZSwgY29kZSwgYm9keSwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVRpbWVvdXRSZXNwb25zZSA9IGZ1bmN0aW9uIGNyZWF0ZVRpbWVvdXRSZXNwb25zZShjYikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICBjYihjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnVGltZW91dCcsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgaGFzUVMgPSBmdW5jdGlvbiBoYXNRUyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIC9cXD8vLnRlc3Qoc3RyKTtcbiAgICB9O1xuICAgIHZhciBidWlsZFVSTCA9IGZ1bmN0aW9uIGJ1aWxkVVJMKCkge1xuICAgICAgICB2YXIgdXJsID0gJyc7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwYXJ0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIHBhcnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLmZvckVhY2goZnVuY3Rpb24ocGFydCkge1xuICAgICAgICAgICAgdXJsICs9IGhhc1FTKHVybCkgJiYgaGFzUVMocGFydCkgPyBwYXJ0LnJlcGxhY2UoL1xcPy8sICcmJykgOiBwYXJ0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUZldGNoRnVuY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVGZXRjaEZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXBpVXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBjdXN0b20gaGFuZGxlciAoc2hvdWxkIGFsc28gaGFuZGxlIGZpbGUsIGxvYWQsIGVycm9yLCBwcm9ncmVzcyBhbmQgYWJvcnQpXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkXG4gICAgICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICAgICAgdmFyIG9ubG9hZCA9XG4gICAgICAgICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBpbnRlcm5hbCBoYW5kbGVyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbih1cmwsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIGhlYWRlcnMpIHtcbiAgICAgICAgICAgIC8vIGRvIGxvY2FsIG9yIHJlbW90ZSByZXF1ZXN0IGJhc2VkIG9uIGlmIHRoZSB1cmwgaXMgZXh0ZXJuYWxcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIC8vIGdldCBoZWFkZXJzXG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgZmlsZW5hbWVcbiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCk7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICBsb2FkKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ubWV0aG9kID09PSAnSEVBRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldEZpbGVGcm9tQmxvYihvbmxvYWQoeGhyLnJlc3BvbnNlKSwgZmlsZW5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmhlYWRlcnMgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzKGNyZWF0ZVJlc3BvbnNlKCdoZWFkZXJzJywgeGhyLnN0YXR1cywgbnVsbCwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICAgIHJlcXVlc3Qub25hYm9ydCA9IGFib3J0O1xuXG4gICAgICAgICAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgQ2h1bmtTdGF0dXMgPSB7XG4gICAgICAgIFFVRVVFRDogMCxcbiAgICAgICAgQ09NUExFVEU6IDEsXG4gICAgICAgIFBST0NFU1NJTkc6IDIsXG4gICAgICAgIEVSUk9SOiAzLFxuICAgICAgICBXQUlUSU5HOiA0LFxuICAgIH07XG5cbiAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQ6KCkgPT4ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgIC8vIGFwaVVybCwgYWN0aW9uLCBuYW1lLCBmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIsIG9wdGlvbnNcbiAgICB2YXIgcHJvY2Vzc0ZpbGVDaHVua2VkID0gZnVuY3Rpb24gcHJvY2Vzc0ZpbGVDaHVua2VkKFxuICAgICAgICBhcGlVcmwsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgIGxvYWQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgYWJvcnQsXG4gICAgICAgIHRyYW5zZmVyLFxuICAgICAgICBvcHRpb25zXG4gICAgKSB7XG4gICAgICAgIC8vIGFsbCBjaHVua3NcbiAgICAgICAgdmFyIGNodW5rcyA9IFtdO1xuICAgICAgICB2YXIgY2h1bmtUcmFuc2ZlcklkID0gb3B0aW9ucy5jaHVua1RyYW5zZmVySWQsXG4gICAgICAgICAgICBjaHVua1NlcnZlciA9IG9wdGlvbnMuY2h1bmtTZXJ2ZXIsXG4gICAgICAgICAgICBjaHVua1NpemUgPSBvcHRpb25zLmNodW5rU2l6ZSxcbiAgICAgICAgICAgIGNodW5rUmV0cnlEZWxheXMgPSBvcHRpb25zLmNodW5rUmV0cnlEZWxheXM7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBzdGF0ZVxuICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICBzZXJ2ZXJJZDogY2h1bmtUcmFuc2ZlcklkLFxuICAgICAgICAgICAgYWJvcnRlZDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IG9ubG9hZCBoYW5kbGVyc1xuICAgICAgICB2YXIgb25kYXRhID1cbiAgICAgICAgICAgIGFjdGlvbi5vbmRhdGEgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGZkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIG9ubG9hZCA9XG4gICAgICAgICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICAgICAgICBmdW5jdGlvbih4aHIsIG1ldGhvZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2QgPT09ICdIRUFEJyA/IHhoci5nZXRSZXNwb25zZUhlYWRlcignVXBsb2FkLU9mZnNldCcpIDogeGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBjcmVhdGUgc2VydmVyIGhvb2tcbiAgICAgICAgdmFyIHJlcXVlc3RUcmFuc2ZlcklkID0gZnVuY3Rpb24gcmVxdWVzdFRyYW5zZmVySWQoY2IpIHtcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICAgICAgICAvLyBhZGQgbWV0YWRhdGEgdW5kZXIgc2FtZSBuYW1lXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QobWV0YWRhdGEpKSBmb3JtRGF0YS5hcHBlbmQobmFtZSwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcblxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKGZpbGUsIG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5oZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdVcGxvYWQtTGVuZ3RoJzogZmlsZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbiwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgICAgICAgICBvbmRhdGEoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksXG4gICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Iob25sb2FkKHhociwgcmVxdWVzdFBhcmFtcy5tZXRob2QpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVxdWVzdFRyYW5zZmVyT2Zmc2V0ID0gZnVuY3Rpb24gcmVxdWVzdFRyYW5zZmVyT2Zmc2V0KGNiKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdFVybCA9IGJ1aWxkVVJMKGFwaVVybCwgY2h1bmtTZXJ2ZXIudXJsLCBzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICAgICAgICAgIHZhciBoZWFkZXJzID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhY3Rpb24uaGVhZGVycyhzdGF0ZS5zZXJ2ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uaGVhZGVycyk7XG5cbiAgICAgICAgICAgIHZhciByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnSEVBRCcsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG51bGwsIHJlcXVlc3RVcmwsIHJlcXVlc3RQYXJhbXMpO1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYihvbmxvYWQoeGhyLCByZXF1ZXN0UGFyYW1zLm1ldGhvZCkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNyZWF0ZSBjaHVua3NcbiAgICAgICAgdmFyIGxhc3RDaHVua0luZGV4ID0gTWF0aC5mbG9vcihmaWxlLnNpemUgLyBjaHVua1NpemUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsYXN0Q2h1bmtJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gaSAqIGNodW5rU2l6ZTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZmlsZS5zbGljZShvZmZzZXQsIG9mZnNldCArIGNodW5rU2l6ZSwgJ2FwcGxpY2F0aW9uL29mZnNldCtvY3RldC1zdHJlYW0nKTtcbiAgICAgICAgICAgIGNodW5rc1tpXSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBzaXplOiBkYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICAgICAgICAgIHJldHJpZXM6IF90b0NvbnN1bWFibGVBcnJheShjaHVua1JldHJ5RGVsYXlzKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IENodW5rU3RhdHVzLlFVRVVFRCxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcyA9IGZ1bmN0aW9uIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcygpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkKHN0YXRlLnNlcnZlcklkKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY2FuUHJvY2Vzc0NodW5rID0gZnVuY3Rpb24gY2FuUHJvY2Vzc0NodW5rKGNodW5rKSB7XG4gICAgICAgICAgICByZXR1cm4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5RVUVVRUQgfHwgY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5FUlJPUjtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHJvY2Vzc0NodW5rID0gZnVuY3Rpb24gcHJvY2Vzc0NodW5rKGNodW5rKSB7XG4gICAgICAgICAgICAvLyBwcm9jZXNzaW5nIGlzIHBhdXNlZCwgd2FpdCBoZXJlXG4gICAgICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBnZXQgbmV4dCBjaHVuayB0byBwcm9jZXNzXG4gICAgICAgICAgICBjaHVuayA9IGNodW5rIHx8IGNodW5rcy5maW5kKGNhblByb2Nlc3NDaHVuayk7XG5cbiAgICAgICAgICAgIC8vIG5vIG1vcmUgY2h1bmtzIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGlmICghY2h1bmspIHtcbiAgICAgICAgICAgICAgICAvLyBhbGwgZG9uZT9cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5ldmVyeShmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG5vIGNodW5rIHRvIGhhbmRsZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm93IHByb2Nlc3NpbmcgdGhpcyBjaHVua1xuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuUFJPQ0VTU0lORztcbiAgICAgICAgICAgIGNodW5rLnByb2dyZXNzID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gYWxsb3cgcGFyc2luZyBvZiBmb3JtZGF0YVxuICAgICAgICAgICAgdmFyIG9uZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmtTZXJ2ZXIub25kYXRhIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgICAgICAgICAgY2h1bmtTZXJ2ZXIub25lcnJvciB8fFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICAgICAgICB2YXIgcmVxdWVzdFVybCA9IGJ1aWxkVVJMKGFwaVVybCwgY2h1bmtTZXJ2ZXIudXJsLCBzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICAgICAgICAgIHZhciBoZWFkZXJzID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgY2h1bmtTZXJ2ZXIuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGNodW5rU2VydmVyLmhlYWRlcnMoY2h1bmspXG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgY2h1bmtTZXJ2ZXIuaGVhZGVycywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29mZnNldCtvY3RldC1zdHJlYW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBsb2FkLU9mZnNldCc6IGNodW5rLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1MZW5ndGgnOiBmaWxlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdVcGxvYWQtTmFtZSc6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSAoY2h1bmsucmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICAgICAgICAgIG9uZGF0YShjaHVuay5kYXRhKSxcbiAgICAgICAgICAgICAgICByZXF1ZXN0VXJsLFxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGNodW5rU2VydmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgcmVxdWVzdCByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgbW9yZSBjaHVua3NcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihsZW5ndGhDb21wdXRhYmxlLCBsb2FkZWQsIHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBsZW5ndGhDb21wdXRhYmxlID8gbG9hZGVkIDogbnVsbDtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5FUlJPUjtcbiAgICAgICAgICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaHVuay5lcnJvciA9IG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dDtcbiAgICAgICAgICAgICAgICBpZiAoIXJldHJ5UHJvY2Vzc0NodW5rKGNodW5rKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5FUlJPUjtcbiAgICAgICAgICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIXJldHJ5UHJvY2Vzc0NodW5rKGNodW5rKSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpKHhocik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuUVVFVUVEO1xuICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXRyeVByb2Nlc3NDaHVuayA9IGZ1bmN0aW9uIHJldHJ5UHJvY2Vzc0NodW5rKGNodW5rKSB7XG4gICAgICAgICAgICAvLyBubyBtb3JlIHJldHJpZXMgbGVmdFxuICAgICAgICAgICAgaWYgKGNodW5rLnJldHJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIG5ldyByZXRyeVxuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuV0FJVElORztcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjaHVuay50aW1lb3V0KTtcbiAgICAgICAgICAgIGNodW5rLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDaHVuayhjaHVuayk7XG4gICAgICAgICAgICB9LCBjaHVuay5yZXRyaWVzLnNoaWZ0KCkpO1xuXG4gICAgICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byByZXRyeVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHVwZGF0ZVRvdGFsUHJvZ3Jlc3MgPSBmdW5jdGlvbiB1cGRhdGVUb3RhbFByb2dyZXNzKCkge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsIHByb2dyZXNzIGZyYWN0aW9uXG4gICAgICAgICAgICB2YXIgdG90YWxCeXRlc1RyYW5zZmVyZWQgPSBjaHVua3MucmVkdWNlKGZ1bmN0aW9uKHAsIGNodW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKHAgPT09IG51bGwgfHwgY2h1bmsucHJvZ3Jlc3MgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBwICsgY2h1bmsucHJvZ3Jlc3M7XG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgLy8gY2FuJ3QgY29tcHV0ZSBwcm9ncmVzc1xuICAgICAgICAgICAgaWYgKHRvdGFsQnl0ZXNUcmFuc2ZlcmVkID09PSBudWxsKSByZXR1cm4gcHJvZ3Jlc3MoZmFsc2UsIDAsIDApO1xuXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcHJvZ3Jlc3MgdmFsdWVzXG4gICAgICAgICAgICB2YXIgdG90YWxTaXplID0gY2h1bmtzLnJlZHVjZShmdW5jdGlvbih0b3RhbCwgY2h1bmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgKyBjaHVuay5zaXplO1xuICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIC8vIGNhbiB1cGRhdGUgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICAgICAgICBwcm9ncmVzcyh0cnVlLCB0b3RhbEJ5dGVzVHJhbnNmZXJlZCwgdG90YWxTaXplKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBwcm9jZXNzIG5ldyBjaHVua3NcbiAgICAgICAgdmFyIHByb2Nlc3NDaHVua3MgPSBmdW5jdGlvbiBwcm9jZXNzQ2h1bmtzKCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsUHJvY2Vzc2luZyA9IGNodW5rcy5maWx0ZXIoZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5QUk9DRVNTSU5HO1xuICAgICAgICAgICAgfSkubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRvdGFsUHJvY2Vzc2luZyA+PSAxKSByZXR1cm47XG4gICAgICAgICAgICBwcm9jZXNzQ2h1bmsoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWJvcnRDaHVua3MgPSBmdW5jdGlvbiBhYm9ydENodW5rcygpIHtcbiAgICAgICAgICAgIGNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNodW5rLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIGlmIChjaHVuay5yZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBsZXQncyBnbyFcbiAgICAgICAgaWYgKCFzdGF0ZS5zZXJ2ZXJJZCkge1xuICAgICAgICAgICAgcmVxdWVzdFRyYW5zZmVySWQoZnVuY3Rpb24oc2VydmVySWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIGhlcmUgaWYgYWJvcnRlZCwgbWlnaHQgaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIHJlcXVlc3QgYW5kIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIHBhc3MgYmFjayB0byBpdGVtIHNvIHdlIGNhbiB1c2UgaXQgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgICAgICAgICB0cmFuc2ZlcihzZXJ2ZXJJZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBpbnRlcm5hbGx5XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVySWQgPSBzZXJ2ZXJJZDtcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RUcmFuc2Zlck9mZnNldChmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIGhlcmUgaWYgYWJvcnRlZCwgbWlnaHQgaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIHJlcXVlc3QgYW5kIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgY2h1bmtzIHdpdGggbG93ZXIgb2Zmc2V0IGFzIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgY2h1bmtzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaHVuay5vZmZzZXQgPCBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5DT01QTEVURTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnByb2dyZXNzID0gY2h1bmsuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjb250aW51ZSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NodW5rcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFib3J0Q2h1bmtzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0OigpID0+IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgdmFyIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbihcbiAgICAgICAgYXBpVXJsLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIG5hbWUsXG4gICAgICAgIG9wdGlvbnNcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlcikge1xuICAgICAgICAgICAgLy8gbm8gZmlsZSByZWNlaXZlZFxuICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGlmIHdhcyBwYXNzZWQgYSBmaWxlLCBhbmQgd2UgY2FuIGNodW5rIGl0LCBleGl0IGhlcmVcbiAgICAgICAgICAgIHZhciBjYW5DaHVua1VwbG9hZCA9IG9wdGlvbnMuY2h1bmtVcGxvYWRzO1xuICAgICAgICAgICAgdmFyIHNob3VsZENodW5rVXBsb2FkID0gY2FuQ2h1bmtVcGxvYWQgJiYgZmlsZS5zaXplID4gb3B0aW9ucy5jaHVua1NpemU7XG4gICAgICAgICAgICB2YXIgd2lsbENodW5rVXBsb2FkID0gY2FuQ2h1bmtVcGxvYWQgJiYgKHNob3VsZENodW5rVXBsb2FkIHx8IG9wdGlvbnMuY2h1bmtGb3JjZSk7XG4gICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIEJsb2IgJiYgd2lsbENodW5rVXBsb2FkKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzRmlsZUNodW5rZWQoXG4gICAgICAgICAgICAgICAgICAgIGFwaVVybCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICBhYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBzZXQgaGFuZGxlcnNcbiAgICAgICAgICAgIHZhciBvbmRhdGEgPVxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbmRhdGEgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihmZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvbmxvYWQgPVxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbmVycm9yIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBoZWFkZXJzID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhY3Rpb24uaGVhZGVycyhmaWxlLCBtZXRhZGF0YSkgfHwge31cbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7fSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHZhciByZXF1ZXN0UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgZm9ybWRhdGEgb2JqZWN0XG4gICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICAgICAgICAgICAgLy8gYWRkIG1ldGFkYXRhIHVuZGVyIHNhbWUgbmFtZVxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUdXJuIGludG8gYW4gYXJyYXkgb2Ygb2JqZWN0cyBzbyBubyBtYXR0ZXIgd2hhdCB0aGUgaW5wdXQsIHdlIGNhbiBoYW5kbGUgaXQgdGhlIHNhbWUgd2F5XG4gICAgICAgICAgICAoZmlsZSBpbnN0YW5jZW9mIEJsb2IgPyBbeyBuYW1lOiBudWxsLCBmaWxlOiBmaWxlIH1dIDogZmlsZSkuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBpdGVtLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSA9PT0gbnVsbCA/IGl0ZW0uZmlsZS5uYW1lIDogJycgKyBpdGVtLm5hbWUgKyBpdGVtLmZpbGUubmFtZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgICAgICAgICBvbmRhdGEoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksXG4gICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgbG9hZChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkKHhoci5yZXNwb25zZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgICAgICAgIC8vIHNob3VsZCByZXR1cm4gcmVxdWVzdFxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXBpVXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIGN1c3RvbSBoYW5kbGVyIChzaG91bGQgYWxzbyBoYW5kbGUgZmlsZSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzIGFuZCBhYm9ydClcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwYXJhbXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICAgICAgX2tleSsrXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5hcHBseSh2b2lkIDAsIFtuYW1lXS5jb25jYXQocGFyYW1zLCBbb3B0aW9uc10pKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkXG4gICAgICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgLy8gaW50ZXJuYWwgaGFuZGxlclxuICAgICAgICByZXR1cm4gY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uKGFwaVVybCwgYWN0aW9uLCBuYW1lLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1bmlxdWVGaWxlSWQsIGxvYWQsIGVycm9yKSA9PiB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgdmFyIGNyZWF0ZVJldmVydEZ1bmN0aW9uID0gZnVuY3Rpb24gY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcGlVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGlzIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZCwgcmV0dXJuIHN0dWIgZnVuY3Rpb24sIGludGVyZmFjZSB3aWxsIHdvcmssIGJ1dCBmaWxlIHdvbid0IGJlIHJlbW92ZWRcbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odW5pcXVlRmlsZUlkLCBsb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICAgICAgdmFyIG9ubG9hZCA9XG4gICAgICAgICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odW5pcXVlRmlsZUlkLCBsb2FkLCBlcnJvcikge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgICAgICAgICB1bmlxdWVGaWxlSWQsXG4gICAgICAgICAgICAgICAgYXBpVXJsICsgYWN0aW9uLnVybCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gLy8gY29udGFpbnMgbWV0aG9kLCBoZWFkZXJzIGFuZCB3aXRoQ3JlZGVudGlhbHMgcHJvcGVydGllc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgbG9hZChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkKHhoci5yZXNwb25zZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBnZXRSYW5kb21OdW1iZXIgPSBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXIoKSB7XG4gICAgICAgIHZhciBtaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBtYXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG4gICAgICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIgPSBmdW5jdGlvbiBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIoY2IpIHtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgdGlja01pbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMjU7XG4gICAgICAgIHZhciB0aWNrTWF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAyNTA7XG4gICAgICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgICAgICB2YXIgcnVudGltZSA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICAgICAgICAgIHZhciBkZWxheSA9IGdldFJhbmRvbU51bWJlcih0aWNrTWluLCB0aWNrTWF4KTtcblxuICAgICAgICAgICAgaWYgKHJ1bnRpbWUgKyBkZWxheSA+IGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGVsYXkgPSBydW50aW1lICsgZGVsYXkgLSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gcnVudGltZSAvIGR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEgfHwgZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgY2IoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYihwcm9ncmVzcyk7XG5cbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHRpY2ssIGRlbGF5KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZHVyYXRpb24gPiAwKSB0aWNrKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRmlsZVByb2Nlc3NvciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVQcm9jZXNzb3IocHJvY2Vzc0ZuLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgIHBlcmNlaXZlZFByb2dyZXNzOiAwLFxuICAgICAgICAgICAgcGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyOiBudWxsLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICBwZXJjZWl2ZWREdXJhdGlvbjogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gPSBvcHRpb25zLmFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uO1xuXG4gICAgICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhmaWxlLCBtZXRhZGF0YSkge1xuICAgICAgICAgICAgdmFyIHByb2dyZXNzRm4gPSBmdW5jdGlvbiBwcm9ncmVzc0ZuKCkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIG5vdCB5ZXQgc3RhcnRlZCB0aGUgcmVhbCBkb3dubG9hZCwgc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgbWlnaHQgbm90IGdvIHRocm91Z2gsIGZvciBpbnN0YW5jZSwgdGhlcmUgbWlnaHQgYmUgc29tZSBzZXJ2ZXIgdHJvdWJsZVxuICAgICAgICAgICAgICAgIC8vIGlmIHN0YXRlLnByb2dyZXNzIGlzIG51bGwsIHRoZSBzZXJ2ZXIgZG9lcyBub3QgYWxsb3cgY29tcHV0aW5nIHByb2dyZXNzIGFuZCB3ZSBzaG93IHRoZSBzcGlubmVyIGluc3RlYWRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuZHVyYXRpb24gPT09IDAgfHwgc3RhdGUucHJvZ3Jlc3MgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGFzIHdlJ3JlIG5vdyBwcm9jZXNzaW5nLCBmaXJlIHRoZSBwcm9ncmVzcyBldmVudFxuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdwcm9ncmVzcycsIGFwaS5nZXRQcm9ncmVzcygpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZUZuID0gZnVuY3Rpb24gY29tcGxldGVGbigpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQtcGVyY2VpdmVkJywgc3RhdGUucmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBsZXQncyBzdGFydCBwcm9jZXNzaW5nXG4gICAgICAgICAgICBhcGkuZmlyZSgnc3RhcnQnKTtcblxuICAgICAgICAgICAgLy8gc2V0IHJlcXVlc3Qgc3RhcnRcbiAgICAgICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2UgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIgPSBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzRm4oKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBmYWtlIHByb2dyZXNzIGlzIGRvbmUsIGFuZCBhIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UndmUgbm90IHlldCBjYWxsZWQgdGhlIGNvbXBsZXRlIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUucmVzcG9uc2UgJiYgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPT09IDEgJiYgIXN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb25lIVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVGbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyByYW5kb20gZGVsYXkgYXMgaW4gYSBsaXN0IG9mIGZpbGVzIHlvdSBzdGFydCBub3RpY2luZ1xuICAgICAgICAgICAgICAgIC8vIGZpbGVzIHVwbG9hZGluZyBhdCB0aGUgZXhhY3Qgc2FtZSBzcGVlZFxuICAgICAgICAgICAgICAgIGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uID8gZ2V0UmFuZG9tTnVtYmVyKDc1MCwgMTUwMCkgOiAwXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyByZW1lbWJlciByZXF1ZXN0IHNvIHdlIGNhbiBhYm9ydCBpdCBsYXRlclxuICAgICAgICAgICAgc3RhdGUucmVxdWVzdCA9IHByb2Nlc3NGbihcbiAgICAgICAgICAgICAgICAvLyB0aGUgZmlsZSB0byBwcm9jZXNzXG4gICAgICAgICAgICAgICAgZmlsZSxcblxuICAgICAgICAgICAgICAgIC8vIHRoZSBtZXRhZGF0YSB0byBzZW5kIGFsb25nXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEsXG5cbiAgICAgICAgICAgICAgICAvLyBjYWxsYmFja3MgKGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyKVxuICAgICAgICAgICAgICAgIC8vIGxvYWQgZXhwZWN0cyB0aGUgYm9keSB0byBiZSBhIHNlcnZlciBpZCBpZlxuICAgICAgICAgICAgICAgIC8vIHlvdSB3YW50IHRvIG1ha2UgdXNlIG9mIHJldmVydFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHB1dCB0aGUgcmVzcG9uc2UgaW4gc3RhdGUgc28gd2UgY2FuIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCBvdXRzaWRlIG9mIHRoaXMgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnJlc3BvbnNlID0gaXNPYmplY3QocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6ICcnICsgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlIHByb2dyZXNzIHRvIDEgYXMgd2UncmUgbm93IGRvbmVcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjdHVhbCBsb2FkIGlzIGRvbmUgbGV0J3Mgc2hhcmUgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIHN0YXRlLnJlc3BvbnNlLmJvZHkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSByZWFsbHkgZG9uZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBwZXJjZWl2ZWQgcHJvZ3Jlc3MgaXMgMSAoIHdhaXQgZm9yIHBlcmNlaXZlZCBwcm9ncmVzcyB0byBjb21wbGV0ZSApXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHByb2dyZXNzICggbnVsbCApXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICFhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uICYmIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID09PSAxKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBlcnJvciBpcyBleHBlY3RlZCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0eXBlLCBjb2RlLCBib2R5XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuY2VsIHVwZGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIG90aGVycyBhYm91dCB0aGlzIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT2JqZWN0KGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogJycgKyBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsIHByb2Nlc3NpbmcgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihjb21wdXRhYmxlLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYWN0dWFsIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYWN0dWFsIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gY29tcHV0YWJsZSA/IGN1cnJlbnQgLyB0b3RhbCA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NGbigpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBhYm9ydCBkb2VzIG5vdCBleHBlY3QgYSB2YWx1ZVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIHVwZGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyZSB0aGUgYWJvcnQgZXZlbnQgc28gd2UgY2FuIHN3aXRjaCB2aXN1YWxzXG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcsIHN0YXRlLnJlc3BvbnNlID8gc3RhdGUucmVzcG9uc2UuYm9keSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciB0aGUgaWQgZm9yIHRoaXMgdHJhbnNmZXJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbih0cmFuc2ZlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCd0cmFuc2ZlcicsIHRyYW5zZmVySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICAvLyBubyByZXF1ZXN0IHJ1bm5pbmcsIGNhbid0IGFib3J0XG4gICAgICAgICAgICBpZiAoIXN0YXRlLnJlcXVlc3QpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gc3RvcCB1cGRhdGVyXG4gICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgICAgLy8gYWJvcnQgYWN0dWFsIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZXF1ZXN0LmFib3J0KSBzdGF0ZS5yZXF1ZXN0LmFib3J0KCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGhhcyByZXNwb25zZSBvYmplY3QsIHdlJ3ZlIGNvbXBsZXRlZCB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgIHN0YXRlLmNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgc3RhdGUuZHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgc3RhdGUucmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5yZXNwb25zZSA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFByb2dyZXNzID0gYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb25cbiAgICAgICAgICAgID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUucHJvZ3Jlc3MgPyBNYXRoLm1pbihzdGF0ZS5wcm9ncmVzcywgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MpIDogbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5wcm9ncmVzcyB8fCBudWxsO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXREdXJhdGlvbiA9IGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uXG4gICAgICAgICAgICA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHN0YXRlLmR1cmF0aW9uLCBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZHVyYXRpb247XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwaSA9IE9iamVjdC5hc3NpZ24oe30sIG9uKCksIHtcbiAgICAgICAgICAgIHByb2Nlc3M6IHByb2Nlc3MsIC8vIHN0YXJ0IHByb2Nlc3NpbmcgZmlsZVxuICAgICAgICAgICAgYWJvcnQ6IGFib3J0LCAvLyBhYm9ydCBhY3RpdmUgcHJvY2VzcyByZXF1ZXN0XG4gICAgICAgICAgICBnZXRQcm9ncmVzczogZ2V0UHJvZ3Jlc3MsXG4gICAgICAgICAgICBnZXREdXJhdGlvbjogZ2V0RHVyYXRpb24sXG4gICAgICAgICAgICByZXNldDogcmVzZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24gPSBmdW5jdGlvbiBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sYXN0SW5kZXhPZignLicpKSB8fCBuYW1lO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRmlsZVN0dWIgPSBmdW5jdGlvbiBjcmVhdGVGaWxlU3R1Yihzb3VyY2UpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBbc291cmNlLm5hbWUsIHNvdXJjZS5zaXplLCBzb3VyY2UudHlwZV07XG5cbiAgICAgICAgLy8gaXMgYmxvYiBvciBiYXNlNjQsIHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIG5hbWVcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEJsb2IgfHwgaXNCYXNlNjREYXRhVVJJKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGRhdGFbMF0gPSBzb3VyY2UubmFtZSB8fCBnZXREYXRlU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNCYXNlNjREYXRhVVJJKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGlzIGJhc2U2NCBkYXRhIHVyaSB3ZSBuZWVkIHRvIGRldGVybWluZSB0aGUgYXZlcmFnZSBzaXplIGFuZCB0eXBlXG4gICAgICAgICAgICBkYXRhWzFdID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgIGRhdGFbMl0gPSBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoc291cmNlKSkge1xuICAgICAgICAgICAgLy8gdXJsXG4gICAgICAgICAgICBkYXRhWzBdID0gZ2V0RmlsZW5hbWVGcm9tVVJMKHNvdXJjZSk7XG4gICAgICAgICAgICBkYXRhWzFdID0gMDtcbiAgICAgICAgICAgIGRhdGFbMl0gPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBkYXRhWzBdLFxuICAgICAgICAgICAgc2l6ZTogZGF0YVsxXSxcbiAgICAgICAgICAgIHR5cGU6IGRhdGFbMl0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBpc0ZpbGUgPSBmdW5jdGlvbiBpc0ZpbGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICEhKHZhbHVlIGluc3RhbmNlb2YgRmlsZSB8fCAodmFsdWUgaW5zdGFuY2VvZiBCbG9iICYmIHZhbHVlLm5hbWUpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZXBDbG9uZU9iamVjdCA9IGZ1bmN0aW9uIGRlZXBDbG9uZU9iamVjdChzcmMpIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChzcmMpKSByZXR1cm4gc3JjO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgICAgICAgaWYgKCFzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkgY29udGludWU7XG4gICAgICAgICAgICB2YXIgdiA9IHNyY1trZXldO1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2ICYmIGlzT2JqZWN0KHYpID8gZGVlcENsb25lT2JqZWN0KHYpIDogdjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlSXRlbSA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHZhciBzZXJ2ZXJGaWxlUmVmZXJlbmNlID1cbiAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcbiAgICAgICAgdmFyIGZpbGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgICAgIC8vIHVuaXF1ZSBpZCBmb3IgdGhpcyBpdGVtLCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBpdGVtIGFjcm9zcyB2aWV3c1xuICAgICAgICB2YXIgaWQgPSBnZXRVbmlxdWVJZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAvLyBpcyBhcmNoaXZlZFxuICAgICAgICAgICAgYXJjaGl2ZWQ6IGZhbHNlLFxuXG4gICAgICAgICAgICAvLyBpZiBpcyBmcm96ZW4sIG5vIGxvbmdlciBmaXJlcyBldmVudHNcbiAgICAgICAgICAgIGZyb3plbjogZmFsc2UsXG5cbiAgICAgICAgICAgIC8vIHJlbW92ZWQgZnJvbSB2aWV3XG4gICAgICAgICAgICByZWxlYXNlZDogZmFsc2UsXG5cbiAgICAgICAgICAgIC8vIG9yaWdpbmFsIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuXG4gICAgICAgICAgICAvLyBmaWxlIG1vZGVsIHJlZmVyZW5jZVxuICAgICAgICAgICAgZmlsZTogZmlsZSxcblxuICAgICAgICAgICAgLy8gaWQgb2YgZmlsZSBvbiBzZXJ2ZXJcbiAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IHNlcnZlckZpbGVSZWZlcmVuY2UsXG5cbiAgICAgICAgICAgIC8vIGlkIG9mIGZpbGUgdHJhbnNmZXIgb24gc2VydmVyXG4gICAgICAgICAgICB0cmFuc2ZlcklkOiBudWxsLFxuXG4gICAgICAgICAgICAvLyBpcyBhYm9ydGVkXG4gICAgICAgICAgICBwcm9jZXNzaW5nQWJvcnRlZDogZmFsc2UsXG5cbiAgICAgICAgICAgIC8vIGN1cnJlbnQgaXRlbSBzdGF0dXNcbiAgICAgICAgICAgIHN0YXR1czogc2VydmVyRmlsZVJlZmVyZW5jZSA/IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSA6IEl0ZW1TdGF0dXMuSU5JVCxcblxuICAgICAgICAgICAgLy8gYWN0aXZlIHByb2Nlc3Nlc1xuICAgICAgICAgICAgYWN0aXZlTG9hZGVyOiBudWxsLFxuICAgICAgICAgICAgYWN0aXZlUHJvY2Vzc29yOiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNhbGxiYWNrIHVzZWQgd2hlbiBhYm9ydCBwcm9jZXNzaW5nIGlzIGNhbGxlZCB0byBsaW5rIGJhY2sgdG8gdGhlIHJlc29sdmUgbWV0aG9kXG4gICAgICAgIHZhciBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlcm5hbGx5IGFkZGVkIGl0ZW0gbWV0YWRhdGFcbiAgICAgICAgICovXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIGl0ZW0gZGF0YVxuICAgICAgICB2YXIgc2V0U3RhdHVzID0gZnVuY3Rpb24gc2V0U3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5zdGF0dXMgPSBzdGF0dXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGZpcmUgZXZlbnQgdW5sZXNzIHRoZSBpdGVtIGhhcyBiZWVuIGFyY2hpdmVkXG4gICAgICAgIHZhciBmaXJlID0gZnVuY3Rpb24gZmlyZShldmVudCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLnJlbGVhc2VkIHx8IHN0YXRlLmZyb3plbikgcmV0dXJuO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxO1xuICAgICAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgICAgIF9rZXkrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaS5maXJlLmFwcGx5KGFwaSwgW2V2ZW50XS5jb25jYXQocGFyYW1zKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZmlsZSBkYXRhXG4gICAgICAgIHZhciBnZXRGaWxlRXh0ZW5zaW9uID0gZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoc3RhdGUuZmlsZS5uYW1lKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldEZpbGVUeXBlID0gZnVuY3Rpb24gZ2V0RmlsZVR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsZS50eXBlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0RmlsZVNpemUgPSBmdW5jdGlvbiBnZXRGaWxlU2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWxlLnNpemU7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRGaWxlID0gZnVuY3Rpb24gZ2V0RmlsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWxlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGxvZ2ljIHRvIGxvYWQgYSBmaWxlXG4gICAgICAgIC8vXG4gICAgICAgIHZhciBsb2FkID0gZnVuY3Rpb24gbG9hZChzb3VyY2UsIGxvYWRlciwgb25sb2FkKSB7XG4gICAgICAgICAgICAvLyByZW1lbWJlciB0aGUgb3JpZ2luYWwgaXRlbSBzb3VyY2VcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAgICAgLy8gc291cmNlIGlzIGtub3duXG4gICAgICAgICAgICBhcGkuZmlyZVN5bmMoJ2luaXQnKTtcblxuICAgICAgICAgICAgLy8gZmlsZSBzdHViIGlzIGFscmVhZHkgdGhlcmVcbiAgICAgICAgICAgIGlmIChzdGF0ZS5maWxlKSB7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmVTeW5jKCdsb2FkLXNraXAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCBhIHN0dWIgZmlsZSBvYmplY3Qgd2hpbGUgbG9hZGluZyB0aGUgYWN0dWFsIGRhdGFcbiAgICAgICAgICAgIHN0YXRlLmZpbGUgPSBjcmVhdGVGaWxlU3R1Yihzb3VyY2UpO1xuXG4gICAgICAgICAgICAvLyBzdGFydHMgbG9hZGluZ1xuICAgICAgICAgICAgbG9hZGVyLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1pbml0Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gd2UnZXZlIHJlY2VpdmVkIGEgc2l6ZSBpbmRpY2F0aW9uLCBsZXQncyB1cGRhdGUgdGhlIHN0dWJcbiAgICAgICAgICAgIGxvYWRlci5vbignbWV0YScsIGZ1bmN0aW9uKG1ldGEpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgc2l6ZSBvZiBmaWxlIHN0dWJcbiAgICAgICAgICAgICAgICBzdGF0ZS5maWxlLnNpemUgPSBtZXRhLnNpemU7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgbmFtZSBvZiBmaWxlIHN0dWJcbiAgICAgICAgICAgICAgICBzdGF0ZS5maWxlLmZpbGVuYW1lID0gbWV0YS5maWxlbmFtZTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGhhcyByZWNlaXZlZCBzb3VyY2UsIHdlIGRvbmVcbiAgICAgICAgICAgICAgICBpZiAobWV0YS5zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID0gRmlsZU9yaWdpbi5MSU1CTztcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IG1ldGEuc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2l6ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1tZXRhJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdGhlIGZpbGUgaXMgbm93IGxvYWRpbmcgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICAgICAgICAgIGxvYWRlci5vbigncHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURJTkcpO1xuXG4gICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1wcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBhbiBlcnJvciB3YXMgdGhyb3duIHdoaWxlIGxvYWRpbmcgdGhlIGZpbGUsIHdlIG5lZWQgdG8gc3dpdGNoIHRvIGVycm9yIHN0YXRlXG4gICAgICAgICAgICBsb2FkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FEX0VSUk9SKTtcblxuICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQtcmVxdWVzdC1lcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB1c2VyIG9yIGFub3RoZXIgcHJvY2VzcyBhYm9ydGVkIHRoZSBmaWxlIGxvYWQgKGNhbm5vdCByZXRyeSlcbiAgICAgICAgICAgIGxvYWRlci5vbignYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JTklUKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gZG9uZSBsb2FkaW5nXG4gICAgICAgICAgICBsb2FkZXIub24oJ2xvYWQnLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gYXMgd2UndmUgbm93IGxvYWRlZCB0aGUgZmlsZSB0aGUgbG9hZGVyIGlzIG5vIGxvbmdlciByZXF1aXJlZFxuICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiBmaWxlIGhhcyBsb2FkZWQgc3VjY2VzZnVsbHlcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCAocG9zc2libHkpIHRyYW5zZm9ybWVkIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZmlsZSA9IGlzRmlsZShyZXN1bHQpID8gcmVzdWx0IDogc3RhdGUuZmlsZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW4gPT09IEZpbGVPcmlnaW4uTElNQk8gJiYgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQnKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBvcmlnaW5hbCBmaWxlXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLW1ldGEnKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FEX0VSUk9SKTtcbiAgICAgICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1maWxlLWVycm9yJywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYWxyZWFkeSBoYXZlIGEgc2VydmVyIGZpbGUgcmVmZXJlbmNlLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgdGhlIG9ubG9hZCBtZXRob2RcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm8gc2VydmVyIGlkLCBsZXQncyBnaXZlIHRoaXMgZmlsZSB0aGUgZnVsbCB0cmVhdG1lbnRcbiAgICAgICAgICAgICAgICBvbmxvYWQoZmlsZSwgc3VjY2VzcywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNldCBsb2FkZXIgc291cmNlIGRhdGFcbiAgICAgICAgICAgIGxvYWRlci5zZXRTb3VyY2Uoc291cmNlKTtcblxuICAgICAgICAgICAgLy8gc2V0IGFzIGFjdGl2ZSBsb2FkZXJcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlciA9IGxvYWRlcjtcblxuICAgICAgICAgICAgLy8gbG9hZCB0aGUgc291cmNlIGRhdGFcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJ5TG9hZCA9IGZ1bmN0aW9uIHJldHJ5TG9hZCgpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGUuYWN0aXZlTG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyLmxvYWQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWJvcnRMb2FkID0gZnVuY3Rpb24gYWJvcnRMb2FkKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZUxvYWRlcikge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgICAgICAgZmlyZSgnbG9hZC1hYm9ydCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGxvZ2ljIHRvIHByb2Nlc3MgYSBmaWxlXG4gICAgICAgIC8vXG4gICAgICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24gcHJvY2Vzcyhwcm9jZXNzb3IsIG9ucHJvY2Vzcykge1xuICAgICAgICAgICAgLy8gcHJvY2Vzc2luZyB3YXMgYWJvcnRlZFxuICAgICAgICAgICAgaWYgKHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyBwcm9jZXNzaW5nXG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgYWJvcnQgY2FsbGJhY2tcbiAgICAgICAgICAgIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGlmIG5vIGZpbGUgbG9hZGVkIHdlJ2xsIHdhaXQgZm9yIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgICAgICBpZiAoIShzdGF0ZS5maWxlIGluc3RhbmNlb2YgQmxvYikpIHtcbiAgICAgICAgICAgICAgICBhcGkub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcyhwcm9jZXNzb3IsIG9ucHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXR1cCBwcm9jZXNzb3JcbiAgICAgICAgICAgIHByb2Nlc3Nvci5vbignbG9hZCcsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRoaXMgaWQgdG8gYmUgYWJsZSB0byByZXZlcnQgdGhlIHVwbG9hZFxuICAgICAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRyYW5zZmVyIGlkXG4gICAgICAgICAgICBwcm9jZXNzb3Iub24oJ3RyYW5zZmVyJywgZnVuY3Rpb24odHJhbnNmZXJJZCkge1xuICAgICAgICAgICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVydCB0aGUgdXBsb2FkXG4gICAgICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IHRyYW5zZmVySWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkLXBlcmNlaXZlZCcsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXIgdGhlIHVwbG9hZFxuICAgICAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSk7XG4gICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1jb21wbGV0ZScsIHNlcnZlckZpbGVSZWZlcmVuY2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHByb2Nlc3Nvci5vbignc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXN0YXJ0Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0VSUk9SKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLWVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHByb2Nlc3Nvci5vbignYWJvcnQnLCBmdW5jdGlvbihzZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGZpbGUgd2FzIHVwbG9hZGVkIGJ1dCBwcm9jZXNzaW5nIHdhcyBjYW5jZWxsZWQgZHVyaW5nIHBlcmNlaXZlZCBwcm9jZXNzb3IgdGltZSBzdG9yZSBmaWxlIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1hYm9ydCcpO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFzIHRpbWVvdXQgc28gZG9lc24ndCBpbnRlcmZlcmUgd2l0aCByZW1vdmUgYWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1wcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHN1Y2Nlc3NmdWxseSB0cmFuc2Zvcm1lZFxuICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3YXMgYXJjaGl2ZWQgaW4gdGhlIG1lYW4gdGltZSwgZG9uJ3QgcHJvY2Vzc1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hcmNoaXZlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBmaWxlIVxuICAgICAgICAgICAgICAgIHByb2Nlc3Nvci5wcm9jZXNzKGZpbGUsIE9iamVjdC5hc3NpZ24oe30sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgdHJhbnNmb3JtIHBoYXNlXG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBwcm9jZXNzaW5nIHRoZSBmaWxlXG4gICAgICAgICAgICBvbnByb2Nlc3Moc3RhdGUuZmlsZSwgc3VjY2VzcywgZXJyb3IpO1xuXG4gICAgICAgICAgICAvLyBzZXQgYXMgYWN0aXZlIHByb2Nlc3NvclxuICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXF1ZXN0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uIHJlcXVlc3RQcm9jZXNzaW5nKCkge1xuICAgICAgICAgICAgc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVEKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWJvcnRQcm9jZXNzaW5nID0gZnVuY3Rpb24gYWJvcnRQcm9jZXNzaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmFjdGl2ZVByb2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtYWJvcnQnKTtcblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBmdW5jdGlvbiBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yLmFib3J0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvL1xuICAgICAgICAvLyBsb2dpYyB0byByZXZlcnQgYSBwcm9jZXNzZWQgZmlsZVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmV2ZXJ0ID0gZnVuY3Rpb24gcmV2ZXJ0KHJldmVydEZpbGVVcGxvYWQsIGZvcmNlUmV2ZXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gYSBjb21wbGV0ZWQgdXBsb2FkIHdpbGwgaGF2ZSBhIHNlcnZlckZpbGVSZWZlcmVuY2UsIGEgZmFpbGVkIGNodW5rZWQgdXBsb2FkIHdoZXJlXG4gICAgICAgICAgICAgICAgLy8gZ2V0dGluZyBhIHNlcnZlcklkIHN1Y2NlZWRlZCBidXQgPj0wIGNodW5rcyBoYXZlIGJlZW4gdXBsb2FkZWQgd2lsbCBoYXZlIHRyYW5zZmVySWQgc2V0XG4gICAgICAgICAgICAgICAgdmFyIHNlcnZlclRyYW5zZmVySWQgPVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc3RhdGUudHJhbnNmZXJJZDtcblxuICAgICAgICAgICAgICAgIC8vIGNhbm5vdCByZXZlcnQgd2l0aG91dCBhIHNlcnZlciBpZCBmb3IgdGhpcyBwcm9jZXNzXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZlclRyYW5zZmVySWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IHRoZSB1cGxvYWQgKGZpcmUgYW5kIGZvcmdldClcbiAgICAgICAgICAgICAgICByZXZlcnRGaWxlVXBsb2FkKFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUcmFuc2ZlcklkLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGZpbGUgc2VydmVyIGlkIGFuZCB0cmFuc2ZlciBpZCBhcyBub3cgaXQncyBub3QgYXZhaWxhYmxlIG9uIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBzZXQgZXJyb3Igc3RhdGUgd2hlbiByZXZlcnRpbmcgaXMgb3B0aW9uYWwsIGl0IHdpbGwgYWx3YXlzIHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvaCBubyBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtcmV2ZXJ0LWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpcmUgZXZlbnRcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXJldmVydCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZXhwb3NlZCBtZXRob2RzXG4gICAgICAgIHZhciBfc2V0TWV0YWRhdGEgPSBmdW5jdGlvbiBzZXRNZXRhZGF0YShrZXksIHZhbHVlLCBzaWxlbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IGtleXNbMF07XG4gICAgICAgICAgICB2YXIgbGFzdCA9IGtleXMucG9wKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0YSA9IGRhdGFba2V5XSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY29tcGFyZSBvbGQgdmFsdWUgYWdhaW5zdCBuZXcgdmFsdWUsIGlmIHRoZXkncmUgdGhlIHNhbWUsIHdlJ3JlIG5vdCB1cGRhdGluZ1xuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGRhdGFbbGFzdF0pID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgICAgICBkYXRhW2xhc3RdID0gdmFsdWU7XG5cbiAgICAgICAgICAgIC8vIGZpcmUgdXBkYXRlXG4gICAgICAgICAgICBmaXJlKCdtZXRhZGF0YS11cGRhdGUnLCB7XG4gICAgICAgICAgICAgICAga2V5OiByb290LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtZXRhZGF0YVtyb290XSxcbiAgICAgICAgICAgICAgICBzaWxlbnQ6IHNpbGVudCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIGdldE1ldGFkYXRhKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZXBDbG9uZU9iamVjdChrZXkgPyBtZXRhZGF0YVtrZXldIDogbWV0YWRhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcGkgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAob3JpZ2luID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VydmVySWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zZmVySWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUudHJhbnNmZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZToge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWxlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZVdpdGhvdXRFeHRlbnNpb246IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uKHN0YXRlLmZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWxlRXh0ZW5zaW9uOiB7IGdldDogZ2V0RmlsZUV4dGVuc2lvbiB9LFxuICAgICAgICAgICAgICAgIGZpbGVUeXBlOiB7IGdldDogZ2V0RmlsZVR5cGUgfSxcbiAgICAgICAgICAgICAgICBmaWxlU2l6ZTogeyBnZXQ6IGdldEZpbGVTaXplIH0sXG4gICAgICAgICAgICAgICAgZmlsZTogeyBnZXQ6IGdldEZpbGUgfSxcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsZS5fcmVsYXRpdmVQYXRoO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuc291cmNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBnZXRNZXRhZGF0YTogZ2V0TWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc2V0TWV0YWRhdGE6IGZ1bmN0aW9uIHNldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRNZXRhZGF0YShrZXksIGRhdGFba2V5XSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9zZXRNZXRhZGF0YShrZXksIHZhbHVlLCBzaWxlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGV4dGVuZDogZnVuY3Rpb24gZXh0ZW5kKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpdGVtQVBJW25hbWVdID0gaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGFib3J0TG9hZDogYWJvcnRMb2FkLFxuICAgICAgICAgICAgICAgIHJldHJ5TG9hZDogcmV0cnlMb2FkLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RQcm9jZXNzaW5nOiByZXF1ZXN0UHJvY2Vzc2luZyxcbiAgICAgICAgICAgICAgICBhYm9ydFByb2Nlc3Npbmc6IGFib3J0UHJvY2Vzc2luZyxcblxuICAgICAgICAgICAgICAgIGxvYWQ6IGxvYWQsXG4gICAgICAgICAgICAgICAgcHJvY2VzczogcHJvY2VzcyxcbiAgICAgICAgICAgICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uKCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnJlZXplOiBmdW5jdGlvbiBmcmVlemUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3RhdGUuZnJvemVuID0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJlbGVhc2U6IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3RhdGUucmVsZWFzZWQgPSB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbGVhc2VkOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnJlbGVhc2VkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBhcmNoaXZlOiBmdW5jdGlvbiBhcmNoaXZlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHN0YXRlLmFyY2hpdmVkID0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhcmNoaXZlZDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5hcmNoaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBpdCBoZXJlIGluc3RlYWQgb2YgcmV0dXJuaW5nIGl0IGluc3RhbnRseSBzbyB3ZSBjYW4gZXh0ZW5kIGl0IGxhdGVyXG4gICAgICAgIHZhciBpdGVtQVBJID0gY3JlYXRlT2JqZWN0KGFwaSk7XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1BUEk7XG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtSW5kZXhCeVF1ZXJ5ID0gZnVuY3Rpb24gZ2V0SXRlbUluZGV4QnlRdWVyeShpdGVtcywgcXVlcnkpIHtcbiAgICAgICAgLy8ganVzdCByZXR1cm4gZmlyc3QgaW5kZXhcbiAgICAgICAgaWYgKGlzRW1wdHkocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGludmFsaWQgcXVlcmllc1xuICAgICAgICBpZiAoIWlzU3RyaW5nKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIGl0ZW0gYnkgaWQgKG9yIC0xIGlmIG5vdCBmb3VuZClcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gcXVlcnk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0SXRlbUJ5SWQgPSBmdW5jdGlvbiBnZXRJdGVtQnlJZChpdGVtcywgaXRlbUlkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGdldEl0ZW1JbmRleEJ5UXVlcnkoaXRlbXMsIGl0ZW1JZCk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbXNbaW5kZXhdIHx8IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBmZXRjaEJsb2IgPSBmdW5jdGlvbiBmZXRjaEJsb2IodXJsLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCBoZWFkZXJzKSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QobnVsbCwgdXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAvLyBnZXQgaGVhZGVyc1xuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG5cbiAgICAgICAgICAgIC8vIGdldCBmaWxlbmFtZVxuICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhoZWFkZXJzKS5uYW1lIHx8IGdldEZpbGVuYW1lRnJvbVVSTCh1cmwpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGxvYWQoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoJ2xvYWQnLCB4aHIuc3RhdHVzLCBnZXRGaWxlRnJvbUJsb2IoeGhyLnJlc3BvbnNlLCBmaWxlbmFtZSksIGhlYWRlcnMpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgZXJyb3IoY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25oZWFkZXJzID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICBoZWFkZXJzKGNyZWF0ZVJlc3BvbnNlKCdoZWFkZXJzJywgeGhyLnN0YXR1cywgbnVsbCwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RG9tYWluRnJvbVVSTCA9IGZ1bmN0aW9uIGdldERvbWFpbkZyb21VUkwodXJsKSB7XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAgICAgICAgICAgdXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5yZXBsYWNlKCdibG9iOicsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbYS16XSk/OlxcL1xcLy8sICckMScpXG4gICAgICAgICAgICAuc3BsaXQoJy8nKVswXTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRXh0ZXJuYWxVUkwgPSBmdW5jdGlvbiBpc0V4dGVybmFsVVJMKHVybCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHVybC5pbmRleE9mKCc6JykgPiAtMSB8fCB1cmwuaW5kZXhPZignLy8nKSA+IC0xKSAmJlxuICAgICAgICAgICAgZ2V0RG9tYWluRnJvbVVSTChsb2NhdGlvbi5ocmVmKSAhPT0gZ2V0RG9tYWluRnJvbVVSTCh1cmwpXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBkeW5hbWljTGFiZWwgPSBmdW5jdGlvbiBkeW5hbWljTGFiZWwobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24obGFiZWwpID8gbGFiZWwuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpIDogbGFiZWw7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBpc01vY2tJdGVtID0gZnVuY3Rpb24gaXNNb2NrSXRlbShpdGVtKSB7XG4gICAgICAgIHJldHVybiAhaXNGaWxlKGl0ZW0uZmlsZSk7XG4gICAgfTtcblxuICAgIHZhciBsaXN0VXBkYXRlZCA9IGZ1bmN0aW9uIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc3RhdGUubGlzdFVwZGF0ZVRpbWVvdXQpO1xuICAgICAgICBzdGF0ZS5saXN0VXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNUycsIHsgaXRlbXM6IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIHZhciBvcHRpb25hbFByb21pc2UgPSBmdW5jdGlvbiBvcHRpb25hbFByb21pc2UoZm4pIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7XG4gICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgIF9rZXkrK1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHBhcmFtc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KHZvaWQgMCwgcGFyYW1zKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc29ydEl0ZW1zID0gZnVuY3Rpb24gc29ydEl0ZW1zKHN0YXRlLCBjb21wYXJlKSB7XG4gICAgICAgIHN0YXRlLml0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoY3JlYXRlSXRlbUFQSShhKSwgY3JlYXRlSXRlbUFQSShiKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyByZXR1cm5zIGl0ZW0gYmFzZWQgb24gc3RhdGVcbiAgICB2YXIgZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUgPSBmdW5jdGlvbiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgaXRlbUhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeSxcbiAgICAgICAgICAgICAgICBfcmVmJHN1Y2Nlc3MgPSBfcmVmLnN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IF9yZWYkc3VjY2VzcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBfcmVmJGZhaWx1cmUgPSBfcmVmLmZhaWx1cmUsXG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9IF9yZWYkZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZmFpbHVyZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsncXVlcnknLCAnc3VjY2VzcycsICdmYWlsdXJlJ10pO1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZSh7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1IYW5kbGVyKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUsIG9wdGlvbnMgfHwge30pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgYWN0aW9ucyA9IGZ1bmN0aW9uIGFjdGlvbnMoZGlzcGF0Y2gsIHF1ZXJ5LCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBYm9ydHMgYWxsIG9uZ29pbmcgcHJvY2Vzc2VzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIEFCT1JUX0FMTDogZnVuY3Rpb24gQUJPUlRfQUxMKCkge1xuICAgICAgICAgICAgICAgIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5mcmVlemUoKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hYm9ydExvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyBpbml0aWFsIGZpbGVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIERJRF9TRVRfRklMRVM6IGZ1bmN0aW9uIERJRF9TRVRfRklMRVMoX3JlZjIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3JlZjIkdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMiR2YWx1ZSA9PT0gdm9pZCAwID8gW10gOiBfcmVmMiR2YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyBtYXAgdmFsdWVzIHRvIGZpbGUgb2JqZWN0c1xuICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IHZhbHVlLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGZpbGUuc291cmNlID8gZmlsZS5zb3VyY2UgOiBmaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZmlsZS5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gbG9vcCBvdmVyIGZpbGVzLCBpZiBmaWxlIGlzIGluIGxpc3QsIGxlYXZlIGl0IGJlLCBpZiBub3QsIHJlbW92ZVxuICAgICAgICAgICAgICAgIC8vIHRlc3QgaWYgaXRlbXMgc2hvdWxkIGJlIG1vdmVkXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuXG4gICAgICAgICAgICAgICAgYWN0aXZlSXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0ZW0gbm90IGlzIGluIG5ldyB2YWx1ZSwgcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICFmaWxlcy5maW5kKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZS5zb3VyY2UgPT09IGl0ZW0uc291cmNlIHx8IGZpbGUuc291cmNlID09PSBpdGVtLmZpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0sIHJlbW92ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBuZXcgZmlsZXNcbiAgICAgICAgICAgICAgICBhY3RpdmVJdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcbiAgICAgICAgICAgICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGZpbGUgaXMgYWxyZWFkeSBpbiBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUl0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnNvdXJjZSA9PT0gZmlsZS5zb3VyY2UgfHwgaXRlbS5maWxlID09PSBmaWxlLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBub3QgaW4gbGlzdCwgYWRkXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FERF9JVEVNJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGZpbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuTk9ORSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEFEQVRBOiBmdW5jdGlvbiBESURfVVBEQVRFX0lURU1fTUVUQURBVEEoX3JlZjMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBfcmVmMy5pZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSBfcmVmMy5jaGFuZ2U7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLnNpbGVudCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGNsb3NlIHN1Y2Nlc3Npb24gd2UgY29tYmluZWQgYWxsIGNhbGxzIHRvZ2V0aGVyIHRvIHNhdmUgcmVzb3VyY2VzXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pdGVtVXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5SWQoc3RhdGUuaXRlbXMsIGlkKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHJldmVydCBhbmQgYXR0ZW1wdCB0byB1cGxvYWQgd2hlbiB3ZSdyZSB1cGxvYWRpbmcgdG8gYSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWVyeSgnSVNfQVNZTkMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHVwZGF0ZSB0aGUgb3V0cHV0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBjaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwbHVnaW5zIGRldGVybWluZWQgdGhlIG91dHB1dCBkYXRhIHNob3VsZCBiZSBwcmVwYXJlZCAob3Igbm90KSwgY2FuIGJlIGFkanVzdGVkIHdpdGggYmVmb3JlUHJlcGFyZU91dHB1dCBob29rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlZm9yZVByZXBhcmVGaWxlID0gcXVlcnkoJ0dFVF9CRUZPUkVfUFJFUEFSRV9GSUxFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZVByZXBhcmVGaWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQcmVwYXJlT3V0cHV0ID0gYmVmb3JlUHJlcGFyZUZpbGUoaXRlbSwgc2hvdWxkUHJlcGFyZU91dHB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFByZXBhcmVPdXRwdXQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaWQsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzIGxvY2FsIGl0ZW0gd2UgbmVlZCB0byBlbmFibGUgdXBsb2FkIGJ1dHRvbiBzbyBjaGFuZ2UgY2FuIGJlIHByb3BhZ2F0ZWQgdG8gc2VydmVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogaXRlbS5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBhc3luYyBzY2VuYXJpb3NcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHB1c2ggdGhpcyBmb3J3YXJkIGEgYml0IHNvIHRoZSBpbnRlcmZhY2UgaXMgdXBkYXRlZCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMik7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldmVydCA9IGZ1bmN0aW9uIHJldmVydChkb1VwbG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXZlcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZG9VcGxvYWQgPyB1cGxvYWQgOiBmdW5jdGlvbigpIHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydChkb1VwbG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKGRvVXBsb2FkID8gdXBsb2FkIDogZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIHJlLXVwbG9hZCB0aGUgZmlsZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVydChzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY3VycmVudGx5IHVwbG9hZGluZywgY2FuY2VsIHVwbG9hZFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFib3J0KHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgTU9WRV9JVEVNOiBmdW5jdGlvbiBNT1ZFX0lURU0oX3JlZjQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBfcmVmNC5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBfcmVmNC5pbmRleDtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXRlLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBsaW1pdChpbmRleCwgMCwgc3RhdGUuaXRlbXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHJldHVybjtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pdGVtcy5zcGxpY2UoaW5kZXgsIDAsIHN0YXRlLml0ZW1zLnNwbGljZShjdXJyZW50SW5kZXgsIDEpWzBdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFNPUlQ6IGZ1bmN0aW9uIFNPUlQoX3JlZjUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyZSA9IF9yZWY1LmNvbXBhcmU7XG4gICAgICAgICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBjb21wYXJlKTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1NPUlRfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgQUREX0lURU1TOiBmdW5jdGlvbiBBRERfSVRFTVMoX3JlZjYpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNi5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBfcmVmNi5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QgPSBfcmVmNi5pbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgX3JlZjYkc3VjY2VzcyA9IF9yZWY2LnN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBfcmVmNiRzdWNjZXNzID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjYkc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgX3JlZjYkZmFpbHVyZSA9IF9yZWY2LmZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBfcmVmNiRmYWlsdXJlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjYkZmFpbHVyZTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xIHx8IHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxJdGVtcyA9IHF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaW5zZXJ0TG9jYXRpb24gPT09ICdiZWZvcmUnID8gMCA6IHRvdGFsSXRlbXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGlnbm9yZWRGaWxlcyA9IHF1ZXJ5KCdHRVRfSUdOT1JFRF9GSUxFUycpO1xuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkRmlsZSA9IGZ1bmN0aW9uIGlzVmFsaWRGaWxlKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNGaWxlKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gIWlnbm9yZWRGaWxlcy5pbmNsdWRlcyhzb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAhaXNFbXB0eShzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXNWYWxpZEZpbGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2VzID0gdmFsaWRJdGVtcy5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdBRERfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2Uuc291cmNlIHx8IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4KyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogc291cmNlLm9wdGlvbnMgfHwge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oc3VjY2VzcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZhaWx1cmUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0gc291cmNlXG4gICAgICAgICAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgICAgICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbk1ldGhvZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBBRERfSVRFTTogZnVuY3Rpb24gQUREX0lURU0oX3JlZjcpIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gX3JlZjcuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNyRpbmRleCA9IF9yZWY3LmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IF9yZWY3JGluZGV4ID09PSB2b2lkIDAgPyAtMSA6IF9yZWY3JGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCA9IF9yZWY3LmludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNyRzdWNjZXNzID0gX3JlZjcuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IF9yZWY3JHN1Y2Nlc3MgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNyRzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNyRmYWlsdXJlID0gX3JlZjcuZmFpbHVyZSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSA9IF9yZWY3JGZhaWx1cmUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNyRmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNyRvcHRpb25zID0gX3JlZjcub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWY3JG9wdGlvbnMgPT09IHZvaWQgMCA/IHt9IDogX3JlZjckb3B0aW9ucztcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBzb3VyY2Ugc3VwcGxpZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdObyBzb3VyY2UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGludmFsaWQgZmlsZSBpdGVtcywgdXNlZCB0byBmaWx0ZXIgZHJvcHBlZCBkaXJlY3RvcnkgY29udGVudHNcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGlzRmlsZShzb3VyY2UpICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZhaWwgc2lsZW50bHlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHRlc3QgaWYgdGhlcmUncyBzdGlsbCByb29tIGluIHRoZSBsaXN0IG9mIGZpbGVzXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNSb29tRm9ySXRlbShzdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbXVsdGlwbGUgYWxsb3dlZCwgd2UgY2FuJ3QgcmVwbGFjZVxuICAgICAgICAgICAgICAgICAgICAvLyBvciBpZiBvbmx5IGEgc2luZ2xlIGl0ZW0gaXMgYWxsb3dlZCBidXQgd2UncmUgbm90IGFsbG93ZWQgdG8gcmVwbGFjZSBpdCB3ZSBleGl0XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKCFzdGF0ZS5vcHRpb25zLmFsbG93TXVsdGlwbGUgJiYgIXN0YXRlLm9wdGlvbnMuYWxsb3dSZXBsYWNlKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvciwgZmlsZTogbnVsbCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgcmVwbGFjZSB0aGUgaXRlbVxuICAgICAgICAgICAgICAgICAgICAvLyBpZCBvZiBmaXJzdCBpdGVtIHdlJ3JlIGFib3V0IHRvIHJlbW92ZVxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZW0gPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcylbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaGFzIGJlZW4gcHJvY2Vzc2VkIHJlbW92ZSBpdCBmcm9tIHRoZSBzZXJ2ZXIgYXMgd2VsbFxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcmNlUmV2ZXJ0ID0gcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VSZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gYWRkIG5vd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQUREX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7IC8vIG5vIG5lZWQgdG8gaGFuZGxlIHRoaXMgY2F0Y2ggc3RhdGUgZm9yIG5vd1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2VSZXZlcnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmaXJzdCBpdGVtIGFzIGl0IHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhpcyBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IF9pdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHdoZXJlIGRpZCB0aGUgZmlsZSBvcmlnaW5hdGVcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50eXBlID09PSAnbG9jYWwnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEZpbGVPcmlnaW4uTE9DQUxcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucy50eXBlID09PSAnbGltYm8nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEZpbGVPcmlnaW4uTElNQk9cbiAgICAgICAgICAgICAgICAgICAgICAgIDogRmlsZU9yaWdpbi5JTlBVVDtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBibGFuayBpdGVtXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjcmVhdGVJdGVtKFxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVyZSBkaWQgdGhpcyBmaWxlIGNvbWUgZnJvbVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gaW5wdXQgZmlsZSBuZXZlciBoYXMgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUID8gbnVsbCA6IHNvdXJjZSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIG1vY2sgZGF0YSwgaWYgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZpbGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IGluaXRpYWwgbWV0YSBkYXRhXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5tZXRhZGF0YSB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YShrZXksIG9wdGlvbnMubWV0YWRhdGFba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGVkIHRoZSBpdGVtLCBsZXQgcGx1Z2lucyBhZGQgbWV0aG9kc1xuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVycygnRElEX0NSRUFURV9JVEVNJywgaXRlbSwgeyBxdWVyeTogcXVlcnksIGRpc3BhdGNoOiBkaXNwYXRjaCB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHdoZXJlIHRvIGluc2VydCBuZXcgaXRlbXNcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRqdXN0IGluZGV4IGlmIGlzIG5vdCBhbGxvd2VkIHRvIHBpY2sgbG9jYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuaXRlbUluc2VydExvY2F0aW9uRnJlZWRvbSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGl0ZW1JbnNlcnRMb2NhdGlvbiA9PT0gJ2JlZm9yZScgPyAtMSA6IHN0YXRlLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbSB0byBsaXN0XG4gICAgICAgICAgICAgICAgaW5zZXJ0SXRlbShzdGF0ZS5pdGVtcywgaXRlbSwgaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgLy8gc29ydCBpdGVtcyBpbiBsaXN0XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaXRlbUluc2VydExvY2F0aW9uKSAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBpdGVtSW5zZXJ0TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGdldCBhIHF1aWNrIHJlZmVyZW5jZSB0byB0aGUgaXRlbSBpZFxuICAgICAgICAgICAgICAgIHZhciBpZCA9IGl0ZW0uaWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBvYnNlcnZlIGl0ZW0gZXZlbnRzXG4gICAgICAgICAgICAgICAgaXRlbS5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0lOSVRfSVRFTScsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbignbG9hZC1pbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9MT0FEJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLW1ldGEnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9NRVRBJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLXByb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTJywgeyBpZDogaWQsIHByb2dyZXNzOiBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQtcmVxdWVzdC1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYWluU3RhdHVzID0gZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlTG9hZEVycm9yKShlcnJvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgY2xpZW50IGVycm9yLCBubyB3YXkgdG8gcmVjb3ZlclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA+PSA0MDAgJiYgZXJyb3IuY29kZSA8IDUwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0lOVkFMSUQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogbWFpblN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBlcnJvci5jb2RlICsgJyAoJyArIGVycm9yLmJvZHkgKyAnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWplY3QgdGhlIGZpbGUgc28gY2FuIGJlIGRlYWx0IHdpdGggdGhyb3VnaCBBUElcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmUoeyBlcnJvcjogZXJyb3IsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBwb3NzaWJsZSBzZXJ2ZXIgZXJyb3IsIHNvIG1pZ2h0IGJlIHBvc3NpYmxlIHRvIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogbWFpblN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IHN0YXRlLm9wdGlvbnMubGFiZWxUYXBUb1JldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLWZpbGUtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvci5zdGF0dXMsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLWFib3J0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbignbG9hZC1za2lwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdDT01QTEVURV9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUFkZCA9IGZ1bmN0aW9uIGhhbmRsZUFkZChzaG91bGRBZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIHNob3VsZCBub3QgYWRkIHRoaXMgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRBZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93IGludGVyZXN0ZWQgaW4gbWV0YWRhdGEgdXBkYXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbignbWV0YWRhdGEtdXBkYXRlJywgZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9NRVRBREFUQScsIHsgaWQ6IGlkLCBjaGFuZ2U6IGNoYW5nZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgcGx1Z2lucyBkZWNpZGUgaWYgdGhlIG91dHB1dCBkYXRhIHNob3VsZCBiZSBwcmVwYXJlZCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtZWFucyB3ZSdsbCBkbyB0aGlzIGFuZCB3YWl0IGZvciBpZGxlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdTSE9VTERfUFJFUEFSRV9PVVRQVVQnLCBmYWxzZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihzaG91bGRQcmVwYXJlT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGx1Z2lucyBkZXRlcm1pbmVkIHRoZSBvdXRwdXQgZGF0YSBzaG91bGQgYmUgcHJlcGFyZWQgKG9yIG5vdCksIGNhbiBiZSBhZGp1c3RlZCB3aXRoIGJlZm9yZVByZXBhcmVPdXRwdXQgaG9va1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVQcmVwYXJlRmlsZSA9IHF1ZXJ5KCdHRVRfQkVGT1JFX1BSRVBBUkVfRklMRScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVQcmVwYXJlRmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJlcGFyZU91dHB1dCA9IGJlZm9yZVByZXBhcmVGaWxlKGl0ZW0sIHNob3VsZFByZXBhcmVPdXRwdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIGxvYWRDb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0NPTVBMRVRFX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUHJlcGFyZU91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBpZGxlIHN0YXRlIGFuZCB0aGVuIHJ1biBQUkVQQVJFX09VVFBVVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGlkLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZW0gbG9hZGVkLCBhbGxvdyBwbHVnaW5zIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gcmVhZCBkYXRhIChxdWlja2x5KVxuICAgICAgICAgICAgICAgICAgICAvLyAtIGFkZCBtZXRhZGF0YVxuICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdESURfTE9BRF9JVEVNJywgaXRlbSwgeyBxdWVyeTogcXVlcnksIGRpc3BhdGNoOiBkaXNwYXRjaCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxQcm9taXNlKHF1ZXJ5KCdHRVRfQkVGT1JFX0FERF9GSUxFJyksIGNyZWF0ZUl0ZW1BUEkoaXRlbSkpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgIWUuZXJyb3IgfHwgIWUuc3RhdHVzKSByZXR1cm4gaGFuZGxlQWRkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1zdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1wcm9ncmVzcycsIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUycsIHsgaWQ6IGlkLCBwcm9ncmVzczogcHJvZ3Jlc3MgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3IpKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IHN0YXRlLm9wdGlvbnMubGFiZWxUYXBUb1JldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXJldmVydC1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcikoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtY29tcGxldGUnLCBmdW5jdGlvbihzZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHsgaWQ6IGlkLCB2YWx1ZTogc2VydmVyRmlsZVJlZmVyZW5jZSB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcmV2ZXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHsgaWQ6IGlkLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGxldCB2aWV3IGtub3cgdGhlIGl0ZW0gaGFzIGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IGludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGxvYWRpbmcgdGhlIHNvdXJjZVxuICAgICAgICAgICAgICAgIHZhciBfcmVmOCA9IHN0YXRlLm9wdGlvbnMuc2VydmVyIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBfcmVmOC51cmwsXG4gICAgICAgICAgICAgICAgICAgIGxvYWQgPSBfcmVmOC5sb2FkLFxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlID0gX3JlZjgucmVzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2ggPSBfcmVmOC5mZXRjaDtcblxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZChcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbG9hZHMgdGhlIGZpbGUgYmFzZWQgb24gdGhlIHR5cGUgb2YgZmlsZSAoc3RyaW5nLCBiYXNlNjQsIGJsb2IsIGZpbGUpIGFuZCBsb2NhdGlvbiBvZiBmaWxlIChsb2NhbCwgcmVtb3RlLCBsaW1ibylcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRmlsZUxvYWRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5JTlBVVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLy8gaW5wdXQsIGlmIGlzIHJlbW90ZSwgc2VlIGlmIHNob3VsZCB1c2UgY3VzdG9tIGZldGNoLCBlbHNlIHVzZSBkZWZhdWx0IGZldGNoQmxvYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTdHJpbmcoc291cmNlKSAmJiBpc0V4dGVybmFsVVJMKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmZXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGZXRjaEZ1bmN0aW9uKHVybCwgZmV0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZldGNoQmxvYiAvLyByZW1vdGUgdXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmV0Y2hCbG9iIC8vIHRyeSB0byBmZXRjaCB1cmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIGxpbWJvIG9yIGxvY2FsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGZXRjaEZ1bmN0aW9uKHVybCwgcmVzdG9yZSkgLy8gbGltYm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBsb2FkKSAvLyBsb2NhbFxuICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSBmaWxlIGlzIGxvYWRlZCBzbyBpdCBjYW4gYmUgcGlwZWQgdGhyb3VnaCB0aGUgZmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihmaWxlLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgcHJvY2VzcyB0aGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignTE9BRF9GSUxFJywgZmlsZSwgeyBxdWVyeTogcXVlcnkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUkVRVUVTVF9QUkVQQVJFX09VVFBVVDogZnVuY3Rpb24gUkVRVUVTVF9QUkVQQVJFX09VVFBVVChfcmVmOSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX3JlZjkuaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IF9yZWY5LnN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgIF9yZWY5JGZhaWx1cmUgPSBfcmVmOS5mYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlID0gX3JlZjkkZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY5JGZhaWx1cmU7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3IgcmVzcG9uc2UgaWYgaXRlbSBhcmNoaXZlZFxuICAgICAgICAgICAgICAgIHZhciBlcnIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGFyY2hpdmVkIGl0ZW1zLCBhbiBpdGVtIGNvdWxkIGhhdmUgYmVlbiBhcmNoaXZlZCAobG9hZCBhYm9ydGVkKSB3aGlsZSB3YWl0aW5nIHRvIGJlIHByZXBhcmVkXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXJjaGl2ZWQpIHJldHVybiBmYWlsdXJlKGVycik7XG5cbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIGFsdGVyIHRoZSBmaWxlIGRhdGFcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdQUkVQQVJFX09VVFBVVCcsIGl0ZW0uZmlsZSwgeyBxdWVyeTogcXVlcnksIGl0ZW06IGl0ZW0gfSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdDT01QTEVURV9QUkVQQVJFX09VVFBVVCcsIHJlc3VsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIGJlaW5nIHByZXBhcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXJjaGl2ZWQpIHJldHVybiBmYWlsdXJlKGVycik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb25lIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIENPTVBMRVRFX0xPQURfSVRFTTogZnVuY3Rpb24gQ09NUExFVEVfTE9BRF9JVEVNKF9yZWYxMCkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX3JlZjEwLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmMTAuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IGRhdGEuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gZGF0YS5zb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAvLyBzb3J0IGl0ZW1zIGluIGxpc3RcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGl0ZW1JbnNlcnRMb2NhdGlvbikgJiYgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgaXRlbUluc2VydExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBsZXQgaW50ZXJmYWNlIGtub3cgdGhlIGl0ZW0gaGFzIGxvYWRlZFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUID8gbnVsbCA6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGl0ZW0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCBhbmQgYWRkZWQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBpdGVtcyBzbyBjYW4gbm93IGJlIHNhZmVseSByZXR1cm5lZCBmb3IgdXNlXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBsb2NhbCBzZXJ2ZXIgZmlsZSB3ZSBuZWVkIHRvIHNob3cgYSBkaWZmZXJlbnQgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0xPQ0FMX0lURU0nLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgaXMgYSB0ZW1wIHNlcnZlciBmaWxlIHdlIHByZXZlbnQgYXN5bmMgdXBsb2FkIGNhbGwgaGVyZSAoYXMgdGhlIGZpbGUgaXMgYWxyZWFkeSBvbiB0aGUgc2VydmVyKVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTykge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5zZXJ2ZXJJZCB8fCBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZCB3ZSBhcmUgYWxsb3dlZCB0byB1cGxvYWQgdGhlIGZpbGUgaW1tZWRpYXRlbHksIGxldHMgZG8gaXRcbiAgICAgICAgICAgICAgICBpZiAocXVlcnkoJ0lTX0FTWU5DJykgJiYgc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUkVUUllfSVRFTV9MT0FEOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIC8vIHRyeSBsb2FkaW5nIHRoZSBzb3VyY2Ugb25lIG1vcmUgdGltZVxuICAgICAgICAgICAgICAgIGl0ZW0ucmV0cnlMb2FkKCk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUkVRVUVTVF9JVEVNX1BSRVBBUkU6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtLCBfc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpdGVtLmlkLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdWNjZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBmaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgZmFpbHVyZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IGJlIHF1ZXVlZCAob3IgaXMgYWxyZWFkeSBxdWV1ZWQpXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1DYW5CZVF1ZXVlZEZvclByb2Nlc3NpbmcgPVxuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0aW5nIGZvciBzb21ldGhpbmdcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuSURMRSB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nIHdlbnQgd3JvbmcgZWFybGllclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0VSUk9SO1xuXG4gICAgICAgICAgICAgICAgLy8gbm90IHJlYWR5IHRvIGJlIHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgIGlmICghaXRlbUNhbkJlUXVldWVkRm9yUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc05vdyA9IGZ1bmN0aW9uIHByb2Nlc3NOb3coKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZmFpbHVyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5oaWRkZW4gPyBwcm9jZXNzTm93KCkgOiBzZXRUaW1lb3V0KHByb2Nlc3NOb3csIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBhbHJlYWR5IGRvbmUgcHJvY2Vzc2luZyBvciB0cmllZCB0byByZXZlcnQgYnV0IGRpZG4ndCB3b3JrLCB0cnkgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihwcm9jZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTsgLy8gZG9uJ3QgY29udGludWUgd2l0aCBwcm9jZXNzaW5nIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKHByb2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcXVldWVkIGZvciBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVEKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBpdGVtLnJlcXVlc3RQcm9jZXNzaW5nKCk7XG5cbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaXRlbS5pZCB9KTtcblxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdQUk9DRVNTX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLCBzdWNjZXNzOiBzdWNjZXNzLCBmYWlsdXJlOiBmYWlsdXJlIH0sIHRydWUpO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFBST0NFU1NfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF4UGFyYWxsZWxVcGxvYWRzID0gcXVlcnkoJ0dFVF9NQVhfUEFSQUxMRUxfVVBMT0FEUycpO1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbEN1cnJlbnRVcGxvYWRzID0gcXVlcnkoJ0dFVF9JVEVNU19CWV9TVEFUVVMnLCBJdGVtU3RhdHVzLlBST0NFU1NJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAvLyBxdWV1ZSBhbmQgd2FpdCB0aWxsIHF1ZXVlIGlzIGZyZWVkIHVwXG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsQ3VycmVudFVwbG9hZHMgPT09IG1heFBhcmFsbGVsVXBsb2Fkcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBxdWV1ZSBmb3IgbGF0ZXIgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIGl0IVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2FzIG5vdCBxdWV1ZWQgb3IgaXMgYWxyZWFkeSBwcm9jZXNzaW5nIGV4aXQgaGVyZVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc05leHQgPSBmdW5jdGlvbiBwcm9jZXNzTmV4dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBxdWV1ZXVkIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWV1ZUVudHJ5ID0gc3RhdGUucHJvY2Vzc2luZ1F1ZXVlLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gaXRlbXMgbGVmdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXF1ZXVlRW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgaXRlbSByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gcXVldWVFbnRyeS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBxdWV1ZUVudHJ5LnN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlID0gcXVldWVFbnRyeS5mYWlsdXJlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVJlZmVyZW5jZSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRlbSB3YXMgYXJjaGl2ZWQgd2hpbGUgaW4gcXVldWUsIGp1bXAgdG8gbmV4dFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1SZWZlcmVuY2UgfHwgaXRlbVJlZmVyZW5jZS5hcmNoaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgcXVldWVkIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAnUFJPQ0VTU19JVEVNJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcXVlcnk6IGlkLCBzdWNjZXNzOiBzdWNjZXNzLCBmYWlsdXJlOiBmYWlsdXJlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbmUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICBpdGVtLm9uT25jZSgncHJvY2Vzcy1jb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIG9yaWdpbiBpcyBsb2NhbCwgYW5kIHdlJ3JlIGluc3RhbnQgdXBsb2FkaW5nLCB0cmlnZ2VyIHJlbW92ZSBvZiBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICAvLyBhcyByZXZlcnQgd2lsbCByZW1vdmUgZmlsZSBmcm9tIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZlciA9IHN0YXRlLm9wdGlvbnMuc2VydmVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFudFVwbG9hZCA9IHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudFVwbG9hZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oc2VydmVyLnJlbW92ZSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub3JpZ2luID0gRmlsZU9yaWdpbi5MSU1CTztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJlbW92ZShpdGVtLnNvdXJjZSwgbm9vcCwgbm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgaXRlbXMgcHJvY2Vzc2VkPyBObyBlcnJvcnM/XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxJdGVtc1Byb2Nlc3NlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0lURU1TX0JZX1NUQVRVUycsIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSkubGVuZ3RoID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsSXRlbXNQcm9jZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HX0FMTCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBlcnJvciBmdW5jdGlvblxuICAgICAgICAgICAgICAgIGl0ZW0ub25PbmNlKCdwcm9jZXNzLWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvciwgZmlsZTogY3JlYXRlSXRlbUFQSShpdGVtKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGZpbGUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gc3RhdGUub3B0aW9ucztcbiAgICAgICAgICAgICAgICBpdGVtLnByb2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZpbGVQcm9jZXNzb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2ZXIucHJvY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1RyYW5zZmVySWQ6IGl0ZW0udHJhbnNmZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtTZXJ2ZXI6IG9wdGlvbnMuc2VydmVyLnBhdGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1VwbG9hZHM6IG9wdGlvbnMuY2h1bmtVcGxvYWRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua0ZvcmNlOiBvcHRpb25zLmNodW5rRm9yY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU2l6ZTogb3B0aW9ucy5jaHVua1NpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rUmV0cnlEZWxheXM6IG9wdGlvbnMuY2h1bmtSZXRyeURlbGF5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb246IHF1ZXJ5KCdHRVRfQUxMT1dfTUlOSU1VTV9VUExPQURfRFVSQVRJT04nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgZmlsZSBpcyBhYm91dCB0byBiZSBwcm9jZXNzZWQgc28gaXQgY2FuIGJlIHBpcGVkIHRocm91Z2ggdGhlIHRyYW5zZm9ybSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIGFsdGVyIHRoZSBmaWxlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1BSRVBBUkVfT1VUUFVUJywgZmlsZSwgeyBxdWVyeTogcXVlcnksIGl0ZW06IGl0ZW0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpdGVtLmlkLCBmaWxlOiBmaWxlIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRVRSWV9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbSB9KTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRVFVRVNUX1JFTU9WRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbmFsUHJvbWlzZShxdWVyeSgnR0VUX0JFRk9SRV9SRU1PVkVfRklMRScpLCBjcmVhdGVJdGVtQVBJKGl0ZW0pKS50aGVuKGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZW1vdmVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFJFTEVBU0VfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRU1PVkVfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlRnJvbVZpZXcgPSBmdW5jdGlvbiByZW1vdmVGcm9tVmlldygpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGlkIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBpdGVtLmlkO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyY2hpdmUgdGhlIGl0ZW0sIHRoaXMgZG9lcyBub3QgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbUJ5SWQoc3RhdGUuaXRlbXMsIGlkKS5hcmNoaXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGVsbCB0aGUgdmlldyB0aGUgaXRlbSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVNT1ZFX0lURU0nLCB7IGVycm9yOiBudWxsLCBpZDogaWQsIGl0ZW06IGl0ZW0gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IHRoZSBsaXN0IGhhcyBiZWVuIG1vZGlmaWVkXG4gICAgICAgICAgICAgICAgICAgIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVjdGx5IHJlbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGxvY2FsIGZpbGUgYW5kIHRoZSBgc2VydmVyLnJlbW92ZWAgZnVuY3Rpb24gaGFzIGJlZW4gY29uZmlndXJlZCxcbiAgICAgICAgICAgICAgICAvLyBzZW5kIHNvdXJjZSB0aGVyZSBzbyBkZXYgY2FuIHJlbW92ZSBmaWxlIGZyb20gc2VydmVyXG4gICAgICAgICAgICAgICAgdmFyIHNlcnZlciA9IHN0YXRlLm9wdGlvbnMuc2VydmVyO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyICYmXG4gICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oc2VydmVyLnJlbW92ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZW1vdmUgIT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9SRU1PVkUnLCB7IGlkOiBpdGVtLmlkIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci5yZW1vdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVGcm9tVmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgc3RhdHVzLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVSZW1vdmVFcnJvcikoc3RhdHVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXMgcmVxdWVzdGluZyByZXZlcnQgYW5kIGNhbiByZXZlcnQgbmVlZCB0byBjYWxsIHJldmVydCBoYW5kbGVyIChub3QgY2FsbGluZyByZXF1ZXN0XyBiZWNhdXNlIHRoYXQgd291bGQgYWxzbyB0cmlnZ2VyIGJlZm9yZVJlbW92ZUhvb2spXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChvcHRpb25zLnJldmVydCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub3JpZ2luICE9PSBGaWxlT3JpZ2luLkxPQ0FMICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXJ2ZXJJZCAhPT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGNodW5rZWQgdXBsb2FkcyBhcmUgZW5hYmxlZCBhbmQgd2UncmUgdXBsb2FkaW5nIGluIGNodW5rcyBmb3IgdGhpcyBzcGVjaWZpYyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBpZiB0aGUgZmlsZSBpc24ndCBiaWcgZW5vdWdoIGZvciBjaHVua2VkIHVwbG9hZHMgYnV0IGNodW5rRm9yY2UgaXMgc2V0IHRoZW4gY2FsbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IGJlZm9yZSByZW1vdmluZyBmcm9tIHRoZSB2aWV3Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGUub3B0aW9ucy5jaHVua1VwbG9hZHMgJiYgaXRlbS5maWxlLnNpemUgPiBzdGF0ZS5vcHRpb25zLmNodW5rU2l6ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS5vcHRpb25zLmNodW5rVXBsb2FkcyAmJiBzdGF0ZS5vcHRpb25zLmNodW5rRm9yY2UpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXZlcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIG5vdyBzYWZlbHkgcmVtb3ZlIGZyb20gdmlld1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tVmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBBQk9SVF9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hYm9ydExvYWQoKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBBQk9SVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gdGVzdCBpZiBpcyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnNlcnZlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVZFUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFib3J0XG4gICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdCBpbnN0YW50IHVwbG9hZGluZywgcmV2ZXJ0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgaW5zdGFudCB1cGxvYWRpbmcgdGhlIGZpbGUgd2lsbCBhbHNvIGJlIHJlbW92ZWQgaWYgd2UgcmV2ZXJ0LFxuICAgICAgICAgICAgICAgIC8vIHNvIGlmIGEgYmVmb3JlIHJlbW92ZSBmaWxlIGhvb2sgaXMgZGVmaW5lZCB3ZSBuZWVkIHRvIHJ1biBpdCBub3dcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlUmV2ZXJ0ID0gZnVuY3Rpb24gaGFuZGxlUmV2ZXJ0KHNob3VsZFJldmVydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJldmVydCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBmbiA9IHF1ZXJ5KCdHRVRfQkVGT1JFX1JFTU9WRV9GSUxFJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0UmVtb3ZlUmVzdWx0ID0gZm4oY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RSZW1vdmVSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFJlbW92ZVJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQocmVxdWVzdFJlbW92ZVJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFJlbW92ZVJlc3VsdC50aGVuKGhhbmRsZVJldmVydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFJFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5yZXZlcnQoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCwgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkIHx8IGlzTW9ja0l0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge30pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFNFVF9PUFRJT05TOiBmdW5jdGlvbiBTRVRfT1BUSU9OUyhfcmVmMTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IF9yZWYxMS5vcHRpb25zO1xuICAgICAgICAgICAgICAgIC8vIGdldCBhbGwga2V5cyBwYXNzZWRcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHByaW9yaXRpemVkIGtleWVkIHRvIGluY2x1ZGUgKHJlbW92ZSBvbmNlIG5vdCBpbiBvcHRpb25zIG9iamVjdClcbiAgICAgICAgICAgICAgICB2YXIgcHJpb3JpdGl6ZWRPcHRpb25LZXlzID0gUHJpb3JpdGl6ZWRPcHRpb25zLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbktleXMuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIHRoZSBrZXlzLCBwcmlvcml0aXplZCBmaXJzdCwgdGhlbiByZXN0XG4gICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRPcHRpb25LZXlzID0gW10uY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBfdG9Db25zdW1hYmxlQXJyYXkocHJpb3JpdGl6ZWRPcHRpb25LZXlzKSxcbiAgICAgICAgICAgICAgICAgICAgX3RvQ29uc3VtYWJsZUFycmF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcHJpb3JpdGl6ZWRPcHRpb25LZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIHNldCBldmVudCBmb3IgZWFjaCBvcHRpb25cbiAgICAgICAgICAgICAgICBvcmRlcmVkT3B0aW9uS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnU0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uc1trZXldLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBQcmlvcml0aXplZE9wdGlvbnMgPSBbJ3NlcnZlciddO1xuXG4gICAgdmFyIGZvcm1hdEZpbGVuYW1lID0gZnVuY3Rpb24gZm9ybWF0RmlsZW5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQkMSA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICB9O1xuXG4gICAgdmFyIHRleHQgPSBmdW5jdGlvbiB0ZXh0KG5vZGUsIHZhbHVlKSB7XG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgaWYgKCF0ZXh0Tm9kZSkge1xuICAgICAgICAgICAgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRleHROb2RlKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGV4dE5vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICB0ZXh0Tm9kZS5ub2RlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcG9sYXJUb0NhcnRlc2lhbiA9IGZ1bmN0aW9uIHBvbGFyVG9DYXJ0ZXNpYW4oY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBhbmdsZUluRGVncmVlcykge1xuICAgICAgICB2YXIgYW5nbGVJblJhZGlhbnMgPSAoKChhbmdsZUluRGVncmVlcyAlIDM2MCkgLSA5MCkgKiBNYXRoLlBJKSAvIDE4MC4wO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogY2VudGVyWCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKSxcbiAgICAgICAgICAgIHk6IGNlbnRlclkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucyksXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBkZXNjcmliZUFyYyA9IGZ1bmN0aW9uIGRlc2NyaWJlQXJjKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFyY1N3ZWVwKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBlbmRBbmdsZSk7XG4gICAgICAgIHZhciBlbmQgPSBwb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSk7XG4gICAgICAgIHJldHVybiBbJ00nLCBzdGFydC54LCBzdGFydC55LCAnQScsIHJhZGl1cywgcmFkaXVzLCAwLCBhcmNTd2VlcCwgMCwgZW5kLngsIGVuZC55XS5qb2luKCcgJyk7XG4gICAgfTtcblxuICAgIHZhciBwZXJjZW50YWdlQXJjID0gZnVuY3Rpb24gcGVyY2VudGFnZUFyYyh4LCB5LCByYWRpdXMsIGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBhcmNTd2VlcCA9IDE7XG4gICAgICAgIGlmICh0byA+IGZyb20gJiYgdG8gLSBmcm9tIDw9IDAuNSkge1xuICAgICAgICAgICAgYXJjU3dlZXAgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tID4gdG8gJiYgZnJvbSAtIHRvID49IDAuNSkge1xuICAgICAgICAgICAgYXJjU3dlZXAgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmliZUFyYyhcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgTWF0aC5taW4oMC45OTk5LCBmcm9tKSAqIDM2MCxcbiAgICAgICAgICAgIE1hdGgubWluKDAuOTk5OSwgdG8pICogMzYwLFxuICAgICAgICAgICAgYXJjU3dlZXBcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICAvLyBzdGFydCBhdCAwXG4gICAgICAgIHByb3BzLnNwaW4gPSBmYWxzZTtcbiAgICAgICAgcHJvcHMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICBwcm9wcy5vcGFjaXR5ID0gMDtcblxuICAgICAgICAvLyBzdmdcbiAgICAgICAgdmFyIHN2ZyA9IGNyZWF0ZUVsZW1lbnQoJ3N2ZycpO1xuICAgICAgICByb290LnJlZi5wYXRoID0gY3JlYXRlRWxlbWVudCgncGF0aCcsIHtcbiAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAyLFxuICAgICAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHJvb3QucmVmLnBhdGgpO1xuXG4gICAgICAgIHJvb3QucmVmLnN2ZyA9IHN2ZztcblxuICAgICAgICByb290LmFwcGVuZENoaWxkKHN2Zyk7XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgICAgIGlmIChwcm9wcy5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcHMuYWxpZ24pIHtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcHJvcHMuYWxpZ247XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgd2lkdGggb2Ygc3Ryb2tlXG4gICAgICAgIHZhciByaW5nU3Ryb2tlV2lkdGggPSBwYXJzZUludChhdHRyKHJvb3QucmVmLnBhdGgsICdzdHJva2Utd2lkdGgnKSwgMTApO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzaXplIG9mIHJpbmdcbiAgICAgICAgdmFyIHNpemUgPSByb290LnJlY3QuZWxlbWVudC53aWR0aCAqIDAuNTtcblxuICAgICAgICAvLyByaW5nIHN0YXRlXG4gICAgICAgIHZhciByaW5nRnJvbSA9IDA7XG4gICAgICAgIHZhciByaW5nVG8gPSAwO1xuXG4gICAgICAgIC8vIG5vdyBpbiBidXN5IG1vZGVcbiAgICAgICAgaWYgKHByb3BzLnNwaW4pIHtcbiAgICAgICAgICAgIHJpbmdGcm9tID0gMDtcbiAgICAgICAgICAgIHJpbmdUbyA9IDAuNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJpbmdGcm9tID0gMDtcbiAgICAgICAgICAgIHJpbmdUbyA9IHByb3BzLnByb2dyZXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGFyYyBwYXRoXG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHBlcmNlbnRhZ2VBcmMoc2l6ZSwgc2l6ZSwgc2l6ZSAtIHJpbmdTdHJva2VXaWR0aCwgcmluZ0Zyb20sIHJpbmdUbyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHByb2dyZXNzIGJhclxuICAgICAgICBhdHRyKHJvb3QucmVmLnBhdGgsICdkJywgY29vcmRpbmF0ZXMpO1xuXG4gICAgICAgIC8vIGhpZGUgd2hpbGUgY29udGFpbnMgMCB2YWx1ZVxuICAgICAgICBhdHRyKHJvb3QucmVmLnBhdGgsICdzdHJva2Utb3BhY2l0eScsIHByb3BzLnNwaW4gfHwgcHJvcHMucHJvZ3Jlc3MgPiAwID8gMSA6IDApO1xuICAgIH07XG5cbiAgICB2YXIgcHJvZ3Jlc3NJbmRpY2F0b3IgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgbmFtZTogJ3Byb2dyZXNzLWluZGljYXRvcicsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgICB3cml0ZTogd3JpdGUsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgYXBpczogWydwcm9ncmVzcycsICdzcGluJywgJ2FsaWduJ10sXG4gICAgICAgICAgICBzdHlsZXM6IFsnb3BhY2l0eSddLFxuICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDUwMCB9LFxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDAuOTUsXG4gICAgICAgICAgICAgICAgICAgIGRhbXBpbmc6IDAuNjUsXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IDEwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGNyZWF0ZSQxID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSAocHJvcHMuaWNvbiB8fCAnJykgKyAoJzxzcGFuPicgKyBwcm9wcy5sYWJlbCArICc8L3NwYW4+Jyk7XG5cbiAgICAgICAgcHJvcHMuaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgd3JpdGUkMSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgICAgIHZhciBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZDtcbiAgICAgICAgdmFyIHNob3VsZERpc2FibGUgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKSB8fCBwcm9wcy5vcGFjaXR5ID09PSAwO1xuXG4gICAgICAgIGlmIChzaG91bGREaXNhYmxlICYmICFpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBwcm9wcy5pc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmICghc2hvdWxkRGlzYWJsZSAmJiBpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBwcm9wcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBmaWxlQWN0aW9uQnV0dG9uID0gY3JlYXRlVmlldyh7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICB9LFxuXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgICAgIG5hbWU6ICdmaWxlLWFjdGlvbi1idXR0b24nLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIGFwaXM6IFsnbGFiZWwnXSxcbiAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbGlzdGVuZXJzOiB0cnVlLFxuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDEsXG4gICAgICAgIHdyaXRlOiB3cml0ZSQxLFxuICAgIH0pO1xuXG4gICAgdmFyIHRvTmF0dXJhbEZpbGVTaXplID0gZnVuY3Rpb24gdG9OYXR1cmFsRmlsZVNpemUoYnl0ZXMpIHtcbiAgICAgICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPVxuICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLic7XG4gICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDAwO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgICAgIHZhciBfb3B0aW9ucyRsYWJlbEJ5dGVzID0gb3B0aW9ucy5sYWJlbEJ5dGVzLFxuICAgICAgICAgICAgbGFiZWxCeXRlcyA9IF9vcHRpb25zJGxhYmVsQnl0ZXMgPT09IHZvaWQgMCA/ICdieXRlcycgOiBfb3B0aW9ucyRsYWJlbEJ5dGVzLFxuICAgICAgICAgICAgX29wdGlvbnMkbGFiZWxLaWxvYnl0ID0gb3B0aW9ucy5sYWJlbEtpbG9ieXRlcyxcbiAgICAgICAgICAgIGxhYmVsS2lsb2J5dGVzID0gX29wdGlvbnMkbGFiZWxLaWxvYnl0ID09PSB2b2lkIDAgPyAnS0InIDogX29wdGlvbnMkbGFiZWxLaWxvYnl0LFxuICAgICAgICAgICAgX29wdGlvbnMkbGFiZWxNZWdhYnl0ID0gb3B0aW9ucy5sYWJlbE1lZ2FieXRlcyxcbiAgICAgICAgICAgIGxhYmVsTWVnYWJ5dGVzID0gX29wdGlvbnMkbGFiZWxNZWdhYnl0ID09PSB2b2lkIDAgPyAnTUInIDogX29wdGlvbnMkbGFiZWxNZWdhYnl0LFxuICAgICAgICAgICAgX29wdGlvbnMkbGFiZWxHaWdhYnl0ID0gb3B0aW9ucy5sYWJlbEdpZ2FieXRlcyxcbiAgICAgICAgICAgIGxhYmVsR2lnYWJ5dGVzID0gX29wdGlvbnMkbGFiZWxHaWdhYnl0ID09PSB2b2lkIDAgPyAnR0InIDogX29wdGlvbnMkbGFiZWxHaWdhYnl0O1xuXG4gICAgICAgIC8vIG5vIG5lZ2F0aXZlIGJ5dGUgc2l6ZXNcbiAgICAgICAgYnl0ZXMgPSBNYXRoLnJvdW5kKE1hdGguYWJzKGJ5dGVzKSk7XG5cbiAgICAgICAgdmFyIEtCID0gYmFzZTtcbiAgICAgICAgdmFyIE1CID0gYmFzZSAqIGJhc2U7XG4gICAgICAgIHZhciBHQiA9IGJhc2UgKiBiYXNlICogYmFzZTtcblxuICAgICAgICAvLyBqdXN0IGJ5dGVzXG4gICAgICAgIGlmIChieXRlcyA8IEtCKSB7XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXMgKyAnICcgKyBsYWJlbEJ5dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8ga2lsb2J5dGVzXG4gICAgICAgIGlmIChieXRlcyA8IE1CKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihieXRlcyAvIEtCKSArICcgJyArIGxhYmVsS2lsb2J5dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWVnYWJ5dGVzXG4gICAgICAgIGlmIChieXRlcyA8IEdCKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyhieXRlcyAvIE1CLCAxLCBkZWNpbWFsU2VwYXJhdG9yKSArICcgJyArIGxhYmVsTWVnYWJ5dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2lnYWJ5dGVzXG4gICAgICAgIHJldHVybiByZW1vdmVEZWNpbWFsc1doZW5aZXJvKGJ5dGVzIC8gR0IsIDIsIGRlY2ltYWxTZXBhcmF0b3IpICsgJyAnICsgbGFiZWxHaWdhYnl0ZXM7XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVEZWNpbWFsc1doZW5aZXJvID0gZnVuY3Rpb24gcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyh2YWx1ZSwgZGVjaW1hbENvdW50LCBzZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgICAudG9GaXhlZChkZWNpbWFsQ291bnQpXG4gICAgICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQgIT09ICcwJztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJDIgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgLy8gZmlsZW5hbWVcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgICAgIGZpbGVOYW1lLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tZmlsZS1pbmZvLW1haW4nO1xuICAgICAgICAvLyBoaWRlIGZvciBzY3JlZW5yZWFkZXJzXG4gICAgICAgIC8vIHRoZSBmaWxlIGlzIGNvbnRhaW5lZCBpbiBhIGZpZWxkc2V0IHdpdGggbGVnZW5kIHRoYXQgY29udGFpbnMgdGhlIGZpbGVuYW1lXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcmVhZCBpdCB0d2ljZVxuICAgICAgICBhdHRyKGZpbGVOYW1lLCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKGZpbGVOYW1lKTtcbiAgICAgICAgcm9vdC5yZWYuZmlsZU5hbWUgPSBmaWxlTmFtZTtcblxuICAgICAgICAvLyBmaWxlc2l6ZVxuICAgICAgICB2YXIgZmlsZVNpemUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICAgICAgZmlsZVNpemUuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLWluZm8tc3ViJztcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChmaWxlU2l6ZSk7XG4gICAgICAgIHJvb3QucmVmLmZpbGVTaXplID0gZmlsZVNpemU7XG5cbiAgICAgICAgLy8gc2V0IGluaXRpYWwgdmFsdWVzXG4gICAgICAgIHRleHQoZmlsZVNpemUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1dBSVRJTkdfRk9SX1NJWkUnKSk7XG4gICAgICAgIHRleHQoZmlsZU5hbWUsIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpKTtcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZUZpbGUgPSBmdW5jdGlvbiB1cGRhdGVGaWxlKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgICAgIHRleHQoXG4gICAgICAgICAgICByb290LnJlZi5maWxlU2l6ZSxcbiAgICAgICAgICAgIHRvTmF0dXJhbEZpbGVTaXplKFxuICAgICAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCksXG4gICAgICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1NJWkVfQkFTRScpLFxuICAgICAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1NJWkVfTEFCRUxTJywgcm9vdC5xdWVyeSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICB0ZXh0KHJvb3QucmVmLmZpbGVOYW1lLCBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKSk7XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IgPSBmdW5jdGlvbiB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgLy8gaWYgc2l6ZSBpcyBhdmFpbGFibGUgZG9uJ3QgZmFsbGJhY2sgdG8gdW5rbm93biBzaXplIG1lc3NhZ2VcbiAgICAgICAgaWYgKGlzSW50KHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCkpKSB7XG4gICAgICAgICAgICB1cGRhdGVGaWxlKHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dChyb290LnJlZi5maWxlU2l6ZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9OT1RfQVZBSUxBQkxFJykpO1xuICAgIH07XG5cbiAgICB2YXIgZmlsZUluZm8gPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgbmFtZTogJ2ZpbGUtaW5mbycsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgICAgICBESURfTE9BRF9JVEVNOiB1cGRhdGVGaWxlLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEE6IHVwZGF0ZUZpbGUsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IsXG4gICAgICAgIH0pLFxuXG4gICAgICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDIsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWSddLFxuICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciB0b1BlcmNlbnRhZ2UgPSBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxMDApO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJDMgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcblxuICAgICAgICAvLyBtYWluIHN0YXR1c1xuICAgICAgICB2YXIgbWFpbiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgICAgICBtYWluLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tZmlsZS1zdGF0dXMtbWFpbic7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgICAgIHJvb3QucmVmLm1haW4gPSBtYWluO1xuXG4gICAgICAgIC8vIHN1YiBzdGF0dXNcbiAgICAgICAgdmFyIHN1YiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgICAgICBzdWIuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWInO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKHN1Yik7XG4gICAgICAgIHJvb3QucmVmLnN1YiA9IHN1YjtcblxuICAgICAgICBkaWRTZXRJdGVtTG9hZFByb2dyZXNzKHsgcm9vdDogcm9vdCwgYWN0aW9uOiB7IHByb2dyZXNzOiBudWxsIH0gfSk7XG4gICAgfTtcblxuICAgIHZhciBkaWRTZXRJdGVtTG9hZFByb2dyZXNzID0gZnVuY3Rpb24gZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyhfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIHZhciB0aXRsZSA9XG4gICAgICAgICAgICBhY3Rpb24ucHJvZ3Jlc3MgPT09IG51bGxcbiAgICAgICAgICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0xPQURJTkcnKVxuICAgICAgICAgICAgICAgIDogcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfTE9BRElORycpICsgJyAnICsgdG9QZXJjZW50YWdlKGFjdGlvbi5wcm9ncmVzcykgKyAnJSc7XG5cbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCB0aXRsZSk7XG4gICAgICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX0NBTkNFTCcpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFNldEl0ZW1Qcm9jZXNzUHJvZ3Jlc3MgPSBmdW5jdGlvbiBkaWRTZXRJdGVtUHJvY2Vzc1Byb2dyZXNzKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICAgICAgdmFyIHRpdGxlID1cbiAgICAgICAgICAgIGFjdGlvbi5wcm9ncmVzcyA9PT0gbnVsbFxuICAgICAgICAgICAgICAgID8gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpXG4gICAgICAgICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HJykgK1xuICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgIHRvUGVyY2VudGFnZShhY3Rpb24ucHJvZ3Jlc3MpICtcbiAgICAgICAgICAgICAgICAgICclJztcblxuICAgICAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHRpdGxlKTtcbiAgICAgICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xuICAgIH07XG5cbiAgICB2YXIgZGlkUmVxdWVzdEl0ZW1Qcm9jZXNzaW5nID0gZnVuY3Rpb24gZGlkUmVxdWVzdEl0ZW1Qcm9jZXNzaW5nKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HJykpO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG4gICAgfTtcblxuICAgIHZhciBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nID0gZnVuY3Rpb24gZGlkQWJvcnRJdGVtUHJvY2Vzc2luZyhfcmVmNSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3Q7XG4gICAgICAgIHRleHQocm9vdC5yZWYubWFpbiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19BQk9SVEVEJykpO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19SRVRSWScpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0NPTVBMRVRFJykpO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19VTkRPJykpO1xuICAgIH07XG5cbiAgICB2YXIgY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihfcmVmNykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3Q7XG4gICAgICAgIHRleHQocm9vdC5yZWYubWFpbiwgJycpO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1YiwgJycpO1xuICAgIH07XG5cbiAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihfcmVmOCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmOC5hY3Rpb247XG4gICAgICAgIHRleHQocm9vdC5yZWYubWFpbiwgYWN0aW9uLnN0YXR1cy5tYWluKTtcbiAgICAgICAgdGV4dChyb290LnJlZi5zdWIsIGFjdGlvbi5zdGF0dXMuc3ViKTtcbiAgICB9O1xuXG4gICAgdmFyIGZpbGVTdGF0dXMgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgbmFtZTogJ2ZpbGUtc3RhdHVzJyxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGNsZWFyLFxuICAgICAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGNsZWFyLFxuICAgICAgICAgICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcsXG4gICAgICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogZGlkQ29tcGxldGVJdGVtUHJvY2Vzc2luZyxcbiAgICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBkaWRTZXRJdGVtUHJvY2Vzc1Byb2dyZXNzLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBlcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGVycm9yLFxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogZXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogZXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IGVycm9yLFxuICAgICAgICB9KSxcblxuICAgICAgICBkaWRDcmVhdGVWaWV3OiBmdW5jdGlvbiBkaWRDcmVhdGVWaWV3KHJvb3QpIHtcbiAgICAgICAgICAgIGFwcGx5RmlsdGVycygnQ1JFQVRFX1ZJRVcnLCBPYmplY3QuYXNzaWduKHt9LCByb290LCB7IHZpZXc6IHJvb3QgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGU6IGNyZWF0ZSQzLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnb3BhY2l0eSddLFxuICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJ1dHRvbiBkZWZpbml0aW9ucyBmb3IgdGhlIGZpbGUgdmlld1xuICAgICAqL1xuXG4gICAgdmFyIEJ1dHRvbnMgPSB7XG4gICAgICAgIEFib3J0SXRlbUxvYWQ6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX0xPQUQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnQUJPUlRfSVRFTV9MT0FEJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1sb2FkJyxcbiAgICAgICAgICAgIGFsaWduOiAnTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT04nLCAvLyByaWdodFxuICAgICAgICB9LFxuICAgICAgICBSZXRyeUl0ZW1Mb2FkOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVUUllfSVRFTV9MT0FEJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ1JFVFJZX0lURU1fTE9BRCcsXG4gICAgICAgICAgICBpY29uOiAnR0VUX0lDT05fUkVUUlknLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXRyeS1pdGVtLWxvYWQnLFxuICAgICAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICAgICAgfSxcbiAgICAgICAgUmVtb3ZlSXRlbToge1xuICAgICAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFTU9WRV9JVEVNJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ1JFUVVFU1RfUkVNT1ZFX0lURU0nLFxuICAgICAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFTU9WRScsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJlbW92ZS1pdGVtJyxcbiAgICAgICAgICAgIGFsaWduOiAnQlVUVE9OX1JFTU9WRV9JVEVNX1BPU0lUSU9OJywgLy8gbGVmdFxuICAgICAgICB9LFxuICAgICAgICBQcm9jZXNzSXRlbToge1xuICAgICAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1BST0NFU1NfSVRFTScsXG4gICAgICAgICAgICBhY3Rpb246ICdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICBpY29uOiAnR0VUX0lDT05fUFJPQ0VTUycsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXByb2Nlc3MtaXRlbScsXG4gICAgICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgICAgICB9LFxuICAgICAgICBBYm9ydEl0ZW1Qcm9jZXNzaW5nOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ0FCT1JUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLWFib3J0LWl0ZW0tcHJvY2Vzc2luZycsXG4gICAgICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgICAgICB9LFxuICAgICAgICBSZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVUUllfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ1JFVFJZX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICBpY29uOiAnR0VUX0lDT05fUkVUUlknLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXRyeS1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICAgICAgfSxcbiAgICAgICAgUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9VTkRPX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICBhY3Rpb246ICdSRVFVRVNUX1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1VORE8nLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXZlcnQtaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgICAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicsIC8vIHJpZ2h0XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIG1ha2UgYSBsaXN0IG9mIGJ1dHRvbnMsIHdlIGNhbiB0aGVuIHJlbW92ZSBidXR0b25zIGZyb20gdGhpcyBsaXN0IGlmIHRoZXkncmUgZGlzYWJsZWRcbiAgICB2YXIgQnV0dG9uS2V5cyA9IFtdO1xuICAgIGZvcmluKEJ1dHRvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBCdXR0b25LZXlzLnB1c2goa2V5KTtcbiAgICB9KTtcblxuICAgIHZhciBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0KHJvb3QpIHtcbiAgICAgICAgaWYgKGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50KHJvb3QpID09PSAncmlnaHQnKSByZXR1cm4gMDtcbiAgICAgICAgdmFyIGJ1dHRvblJlY3QgPSByb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIGJ1dHRvblJlY3QuaGlkZGVuID8gbnVsbCA6IGJ1dHRvblJlY3Qud2lkdGggKyBidXR0b25SZWN0LmxlZnQ7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVCdXR0b25XaWR0aCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJ1dHRvbldpZHRoKHJvb3QpIHtcbiAgICAgICAgdmFyIGJ1dHRvblJlY3QgPSByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Mb2FkLnJlY3QuZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIGJ1dHRvblJlY3Qud2lkdGg7XG4gICAgfTtcblxuICAgIC8vIEZvcmNlIG9uIGZ1bGwgcGl4ZWxzIHNvIHRleHQgc3RheXMgY3JpcHNcbiAgICB2YXIgY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3Iocm9vdC5yZWYuYnV0dG9uUmVtb3ZlSXRlbS5yZWN0LmVsZW1lbnQuaGVpZ2h0IC8gNCk7XG4gICAgfTtcbiAgICB2YXIgY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldChyb290KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50LmxlZnQgLyAyKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQgPSBmdW5jdGlvbiBnZXRMb2FkSW5kaWNhdG9yQWxpZ25tZW50KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9MT0FEX0lORElDQVRPUl9QT1NJVElPTicpO1xuICAgIH07XG4gICAgdmFyIGdldFByb2Nlc3NJbmRpY2F0b3JBbGlnbm1lbnQgPSBmdW5jdGlvbiBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9QUk9HUkVTU19JTkRJQ0FUT1JfUE9TSVRJT04nKTtcbiAgICB9O1xuICAgIHZhciBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCA9IGZ1bmN0aW9uIGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9CVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nKTtcbiAgICB9O1xuXG4gICAgdmFyIERlZmF1bHRTdHlsZSA9IHtcbiAgICAgICAgYnV0dG9uQWJvcnRJdGVtTG9hZDogeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgIGJ1dHRvblJldHJ5SXRlbUxvYWQ6IHsgb3BhY2l0eTogMCB9LFxuICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgYnV0dG9uUHJvY2Vzc0l0ZW06IHsgb3BhY2l0eTogMCB9LFxuICAgICAgICBidXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgbG9hZFByb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIGFsaWduOiBnZXRMb2FkSW5kaWNhdG9yQWxpZ25tZW50IH0sXG4gICAgICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAwLCBhbGlnbjogZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudCB9LFxuICAgICAgICBwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgc2NhbGVYOiAwLjc1LCBzY2FsZVk6IDAuNzUgfSxcbiAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiAwLCB0cmFuc2xhdGVZOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiAwLCB0cmFuc2xhdGVZOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgfTtcblxuICAgIHZhciBJZGxlU3R5bGUgPSB7XG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgfTtcblxuICAgIHZhciBQcm9jZXNzaW5nU3R5bGUgPSB7XG4gICAgICAgIGJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgIH07XG5cbiAgICB2YXIgU3R5bGVNYXAgPSB7XG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHtcbiAgICAgICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0LCBvcGFjaXR5OiAxIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX1NUQVJUX0lURU1fTE9BRDoge1xuICAgICAgICAgICAgYnV0dG9uQWJvcnRJdGVtTG9hZDogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiB7XG4gICAgICAgICAgICBidXR0b25SZXRyeUl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6IHtcbiAgICAgICAgICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAxLCBhbGlnbjogZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQgfSxcbiAgICAgICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiB7XG4gICAgICAgICAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgYWxpZ246IGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50IH0sXG4gICAgICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxLCB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIERJRF9MT0FEX0lURU06IElkbGVTdHlsZSxcbiAgICAgICAgRElEX0xPQURfTE9DQUxfSVRFTToge1xuICAgICAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgICAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgICAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICAgICAgICBidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjoge1xuICAgICAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBidXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IHtcbiAgICAgICAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGJ1dHRvblByb2Nlc3NJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IElkbGVTdHlsZSxcbiAgICB9O1xuXG4gICAgLy8gY29tcGxldGUgaW5kaWNhdG9yIHZpZXdcbiAgICB2YXIgcHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yVmlldyA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSByb290LnF1ZXJ5KCdHRVRfSUNPTl9ET05FJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6ICdwcm9jZXNzaW5nLWNvbXBsZXRlLWluZGljYXRvcicsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlJDQgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgLy8gY29weSBCdXR0b25zIG9iamVjdFxuICAgICAgICB2YXIgTG9jYWxCdXR0b25zID0gT2JqZWN0LmtleXMoQnV0dG9ucykucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cnIpIHtcbiAgICAgICAgICAgIHByZXZbY3Vycl0gPSBPYmplY3QuYXNzaWduKHt9LCBCdXR0b25zW2N1cnJdKTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAgIC8vIGFsbG93IHJldmVydGluZyB1cGxvYWRcbiAgICAgICAgdmFyIGFsbG93UmV2ZXJ0ID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFVkVSVCcpO1xuXG4gICAgICAgIC8vIGFsbG93IHJlbW92ZSBmaWxlXG4gICAgICAgIHZhciBhbGxvd1JlbW92ZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU1PVkUnKTtcblxuICAgICAgICAvLyBhbGxvdyBwcm9jZXNzaW5nIHVwbG9hZFxuICAgICAgICB2YXIgYWxsb3dQcm9jZXNzID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1BST0NFU1MnKTtcblxuICAgICAgICAvLyBpcyBpbnN0YW50IHVwbG9hZGluZywgbmVlZCB0aGlzIHRvIGRldGVybWluZSB0aGUgaWNvbiBvZiB0aGUgdW5kbyBidXR0b25cbiAgICAgICAgdmFyIGluc3RhbnRVcGxvYWQgPSByb290LnF1ZXJ5KCdHRVRfSU5TVEFOVF9VUExPQUQnKTtcblxuICAgICAgICAvLyBpcyBhc3luYyBzZXQgdXBcbiAgICAgICAgdmFyIGlzQXN5bmMgPSByb290LnF1ZXJ5KCdJU19BU1lOQycpO1xuXG4gICAgICAgIC8vIHNob3VsZCBhbGlnbiByZW1vdmUgaXRlbSBidXR0b25zXG4gICAgICAgIHZhciBhbGlnblJlbW92ZUl0ZW1CdXR0b24gPSByb290LnF1ZXJ5KCdHRVRfU1RZTEVfQlVUVE9OX1JFTU9WRV9JVEVNX0FMSUdOJyk7XG5cbiAgICAgICAgLy8gZW5hYmxlZCBidXR0b25zIGFycmF5XG4gICAgICAgIHZhciBidXR0b25GaWx0ZXI7XG4gICAgICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIHJldmVydCBidXR0b25cbiAgICAgICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhL1JldmVydEl0ZW1Qcm9jZXNzaW5nLy50ZXN0KGtleSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFsbG93UHJvY2VzcyAmJiBhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIHByb2Nlc3MgYnV0dG9uXG4gICAgICAgICAgICAgICAgYnV0dG9uRmlsdGVyID0gZnVuY3Rpb24gYnV0dG9uRmlsdGVyKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIS9Qcm9jZXNzSXRlbXxSZXRyeUl0ZW1Qcm9jZXNzaW5nfEFib3J0SXRlbVByb2Nlc3NpbmcvLnRlc3Qoa2V5KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgcHJvY2VzcyBidXR0b25zXG4gICAgICAgICAgICAgICAgYnV0dG9uRmlsdGVyID0gZnVuY3Rpb24gYnV0dG9uRmlsdGVyKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIS9Qcm9jZXNzLy50ZXN0KGtleSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHByb2Nlc3MgY29udHJvbHMgYXZhaWxhYmxlXG4gICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEvUHJvY2Vzcy8udGVzdChrZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmFibGVkQnV0dG9ucyA9IGJ1dHRvbkZpbHRlciA/IEJ1dHRvbktleXMuZmlsdGVyKGJ1dHRvbkZpbHRlcikgOiBCdXR0b25LZXlzLmNvbmNhdCgpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBpY29uIGFuZCBsYWJlbCBmb3IgcmV2ZXJ0IGJ1dHRvbiB3aGVuIGluc3RhbnQgdXBsb2FkaW5nXG4gICAgICAgIGlmIChpbnN0YW50VXBsb2FkICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICBMb2NhbEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10ubGFiZWwgPSAnR0VUX0xBQkVMX0JVVFRPTl9SRU1PVkVfSVRFTSc7XG4gICAgICAgICAgICBMb2NhbEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10uaWNvbiA9ICdHRVRfSUNPTl9SRU1PVkUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxhc3QgYnV0dG9uIChyZXZlcnQpIGlmIG5vdCBhbGxvd2VkXG4gICAgICAgIGlmIChpc0FzeW5jICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IFN0eWxlTWFwWydESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJ107XG4gICAgICAgICAgICBtYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgICAgICBtYXAuaW5mby50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICAgICAgbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICAgICAgbWFwLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHsgb3BhY2l0eTogMSwgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNob3VsZCBhbGlnbiBjZW50ZXJcbiAgICAgICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UHJvY2Vzcykge1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgICAgICAnRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgICAgICAnRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MnLFxuICAgICAgICAgICAgICAgICdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJyxcbiAgICAgICAgICAgIF0uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBTdHlsZU1hcFtrZXldLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBTdHlsZU1hcFsnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUiddLnN0YXR1cy50cmFuc2xhdGVYID0gY2FsY3VsYXRlQnV0dG9uV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlIHJlbW92ZSBidXR0b24gdG8gcmlnaHRcbiAgICAgICAgaWYgKGFsaWduUmVtb3ZlSXRlbUJ1dHRvbiAmJiBhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgTG9jYWxCdXR0b25zWydSZXZlcnRJdGVtUHJvY2Vzc2luZyddLmFsaWduID0gJ0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTic7XG4gICAgICAgICAgICB2YXIgX21hcCA9IFN0eWxlTWFwWydESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJ107XG4gICAgICAgICAgICBfbWFwLmluZm8udHJhbnNsYXRlWCA9IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0O1xuICAgICAgICAgICAgX21hcC5zdGF0dXMudHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgICAgICAgIF9tYXAucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0geyBvcGFjaXR5OiAxLCBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdy9oaWRlIFJlbW92ZUl0ZW0gYnV0dG9uXG4gICAgICAgIGlmICghYWxsb3dSZW1vdmUpIHtcbiAgICAgICAgICAgIExvY2FsQnV0dG9uc1snUmVtb3ZlSXRlbSddLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgYnV0dG9uIHZpZXdzXG4gICAgICAgIGZvcmluKExvY2FsQnV0dG9ucywgZnVuY3Rpb24oa2V5LCBkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYnV0dG9uXG4gICAgICAgICAgICB2YXIgYnV0dG9uVmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVBY3Rpb25CdXR0b24sIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogcm9vdC5xdWVyeShkZWZpbml0aW9uLmxhYmVsKSxcbiAgICAgICAgICAgICAgICBpY29uOiByb290LnF1ZXJ5KGRlZmluaXRpb24uaWNvbiksXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgYXBwZW5kZWQ/XG4gICAgICAgICAgICBpZiAoZW5hYmxlZEJ1dHRvbnMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KGJ1dHRvblZpZXcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0b2dnbGVcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uVmlldy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFkZCBwb3NpdGlvbiBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcm9vdC5xdWVyeSgnR0VUX1NUWUxFXycgKyBkZWZpbml0aW9uLmFsaWduKTtcblxuICAgICAgICAgICAgLy8gYWRkIGNsYXNzXG4gICAgICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChkZWZpbml0aW9uLmNsYXNzTmFtZSk7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgIGJ1dHRvblZpZXcub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKGRlZmluaXRpb24uYWN0aW9uLCB7IHF1ZXJ5OiBpZCB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBzZXQgcmVmZXJlbmNlXG4gICAgICAgICAgICByb290LnJlZlsnYnV0dG9uJyArIGtleV0gPSBidXR0b25WaWV3O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjaGVja21hcmtcbiAgICAgICAgcm9vdC5yZWYucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3KVxuICAgICAgICApO1xuXG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvci5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSByb290LnF1ZXJ5KFxuICAgICAgICAgICAgJ0dFVF9TVFlMRV9CVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJ1xuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBmaWxlIGluZm8gdmlld1xuICAgICAgICByb290LnJlZi5pbmZvID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZUluZm8sIHsgaWQ6IGlkIH0pKTtcblxuICAgICAgICAvLyBjcmVhdGUgZmlsZSBzdGF0dXMgdmlld1xuICAgICAgICByb290LnJlZi5zdGF0dXMgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlU3RhdHVzLCB7IGlkOiBpZCB9KSk7XG5cbiAgICAgICAgLy8gYWRkIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICAgICAgdmFyIGxvYWRJbmRpY2F0b3JWaWV3ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9ncmVzc0luZGljYXRvciwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgYWxpZ246IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9MT0FEX0lORElDQVRPUl9QT1NJVElPTicpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBsb2FkSW5kaWNhdG9yVmlldy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS1sb2FkLWluZGljYXRvcicpO1xuICAgICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IgPSBsb2FkSW5kaWNhdG9yVmlldztcblxuICAgICAgICB2YXIgcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9ncmVzc0luZGljYXRvciwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgYWxpZ246IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9QUk9HUkVTU19JTkRJQ0FUT1JfUE9TSVRJT04nKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLXByb2Nlc3MtaW5kaWNhdG9yJyk7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvciA9IHByb2dyZXNzSW5kaWNhdG9yVmlldztcblxuICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSBzdHlsZXNcbiAgICAgICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSQyID0gZnVuY3Rpb24gd3JpdGUoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgYWN0aW9ucyA9IF9yZWYzLmFjdGlvbnMsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgICAgIHJvdXRlKHsgcm9vdDogcm9vdCwgYWN0aW9uczogYWN0aW9ucywgcHJvcHM6IHByb3BzIH0pO1xuXG4gICAgICAgIC8vIHNlbGVjdCBsYXN0IHN0YXRlIGNoYW5nZSBhY3Rpb25cbiAgICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgICAgICAgIC5jb25jYXQoKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gL15ESURfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAuZmluZChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3R5bGVNYXBbYWN0aW9uLnR5cGVdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYSBuZXcgYWN0aW9uIGhhcHBlbmVkLCBsZXQncyBnZXQgdGhlIG1hdGNoaW5nIHN0eWxlc1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBkZWZpbmUgbmV3IGFjdGl2ZSBzdHlsZXNcbiAgICAgICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcyA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgc3R5bGVzVG9BcHBseSA9IFN0eWxlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgIGZvcmluKERlZmF1bHRTdHlsZSwgZnVuY3Rpb24obmFtZSwgZGVmYXVsdFN0eWxlcykge1xuICAgICAgICAgICAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY29udHJvbFxuICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0gcm9vdC5yZWZbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAvLyBsb29wIG92ZXIgYWxsIHN0eWxlcyBmb3IgdGhpcyBjb250cm9sXG4gICAgICAgICAgICAgICAgZm9yaW4oZGVmYXVsdFN0eWxlcywgZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc1RvQXBwbHlbbmFtZV0gJiYgdHlwZW9mIHN0eWxlc1RvQXBwbHlbbmFtZV1ba2V5XSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHN0eWxlc1RvQXBwbHlbbmFtZV1ba2V5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByb290LnJlZi5hY3RpdmVTdHlsZXMucHVzaCh7IGNvbnRyb2w6IGNvbnRyb2wsIGtleToga2V5LCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFwcGx5IGFjdGl2ZSBzdHlsZXMgdG8gZWxlbWVudFxuICAgICAgICByb290LnJlZi5hY3RpdmVTdHlsZXMuZm9yRWFjaChmdW5jdGlvbihfcmVmNCkge1xuICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSBfcmVmNC5jb250cm9sLFxuICAgICAgICAgICAgICAgIGtleSA9IF9yZWY0LmtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY0LnZhbHVlO1xuICAgICAgICAgICAgY29udHJvbFtrZXldID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUocm9vdCkgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByb3V0ZSA9IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBmdW5jdGlvbiBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkcoXG4gICAgICAgICAgICBfcmVmNVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmNS5hY3Rpb247XG4gICAgICAgICAgICByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nLmxhYmVsID0gYWN0aW9uLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX0xPQUQ6IGZ1bmN0aW9uIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRChfcmVmNikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICAgICAgICAgIHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbUxvYWQubGFiZWwgPSBhY3Rpb24udmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUkVNT1ZBTDogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMKFxuICAgICAgICAgICAgX3JlZjdcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjcuYWN0aW9uO1xuICAgICAgICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtUmVtb3ZhbC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBmdW5jdGlvbiBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcoX3JlZjgpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdDtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6IGZ1bmN0aW9uIERJRF9TVEFSVF9JVEVNX0xPQUQoX3JlZjkpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjkucm9vdDtcbiAgICAgICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRTogZnVuY3Rpb24gRElEX1NUQVJUX0lURU1fUkVNT1ZFKF9yZWYxMCkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTAucm9vdDtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiBmdW5jdGlvbiBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUyhfcmVmMTEpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjExLnJvb3QsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjExLmFjdGlvbjtcbiAgICAgICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5zcGluID0gZmFsc2U7XG4gICAgICAgICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSBhY3Rpb24ucHJvZ3Jlc3M7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBmdW5jdGlvbiBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUyhfcmVmMTIpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjEyLnJvb3QsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjEyLmFjdGlvbjtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gZmFsc2U7XG4gICAgICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSBhY3Rpb24ucHJvZ3Jlc3M7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgZmlsZSA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZSQ0LFxuICAgICAgICB3cml0ZTogd3JpdGUkMixcbiAgICAgICAgZGlkQ3JlYXRlVmlldzogZnVuY3Rpb24gZGlkQ3JlYXRlVmlldyhyb290KSB7XG4gICAgICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgT2JqZWN0LmFzc2lnbih7fSwgcm9vdCwgeyB2aWV3OiByb290IH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogJ2ZpbGUnLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gICAgICovXG4gICAgdmFyIGNyZWF0ZSQ1ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAgICAgLy8gZmlsZW5hbWVcbiAgICAgICAgcm9vdC5yZWYuZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ2xlZ2VuZCcpO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpbGVOYW1lKTtcblxuICAgICAgICAvLyBmaWxlIGFwcGVuZGVkXG4gICAgICAgIHJvb3QucmVmLmZpbGUgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlLCB7IGlkOiBwcm9wcy5pZCB9KSk7XG5cbiAgICAgICAgLy8gZGF0YSBoYXMgbW92ZWQgdG8gZGF0YS5qc1xuICAgICAgICByb290LnJlZi5kYXRhID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERhdGEgc3RvcmFnZVxuICAgICAqL1xuICAgIHZhciBkaWRMb2FkSXRlbSA9IGZ1bmN0aW9uIGRpZExvYWRJdGVtKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgICAgIC8vIHVwZGF0ZXMgdGhlIGxlZ2VuZCBvZiB0aGUgZmllbGRzZXQgc28gc2NyZWVucmVhZGVycyBjYW4gYmV0dGVyIGdyb3VwIGJ1dHRvbnNcbiAgICAgICAgdGV4dChyb290LnJlZi5maWxlTmFtZSwgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSkpO1xuICAgIH07XG5cbiAgICB2YXIgZmlsZVdyYXBwZXIgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkNSxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICB9KSxcblxuICAgICAgICBkaWRDcmVhdGVWaWV3OiBmdW5jdGlvbiBkaWRDcmVhdGVWaWV3KHJvb3QpIHtcbiAgICAgICAgICAgIGFwcGx5RmlsdGVycygnQ1JFQVRFX1ZJRVcnLCBPYmplY3QuYXNzaWduKHt9LCByb290LCB7IHZpZXc6IHJvb3QgfSkpO1xuICAgICAgICB9LFxuICAgICAgICB0YWc6ICdmaWVsZHNldCcsXG4gICAgICAgIG5hbWU6ICdmaWxlLXdyYXBwZXInLFxuICAgIH0pO1xuXG4gICAgdmFyIFBBTkVMX1NQUklOR19QUk9QUyA9IHsgdHlwZTogJ3NwcmluZycsIGRhbXBpbmc6IDAuNiwgbWFzczogNyB9O1xuXG4gICAgdmFyIGNyZWF0ZSQ2ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndG9wJyxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IFBBTkVMX1NQUklOR19QUk9QUyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWScsICdzY2FsZVknXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBQQU5FTF9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVknXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXS5mb3JFYWNoKGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNyZWF0ZVNlY3Rpb24ocm9vdCwgc2VjdGlvbiwgcHJvcHMubmFtZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJvb3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tJyArIHByb3BzLm5hbWUpO1xuXG4gICAgICAgIHJvb3QucmVmLnNjYWxhYmxlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNlY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVTZWN0aW9uKHJvb3QsIHNlY3Rpb24sIGNsYXNzTmFtZSkge1xuICAgICAgICB2YXIgdmlld0NvbnN0cnVjdG9yID0gY3JlYXRlVmlldyh7XG4gICAgICAgICAgICBuYW1lOiAncGFuZWwtJyArIHNlY3Rpb24ubmFtZSArICcgZmlsZXBvbmQtLScgKyBjbGFzc05hbWUsXG4gICAgICAgICAgICBtaXhpbnM6IHNlY3Rpb24ubWl4aW5zLFxuICAgICAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHZpZXcgPSByb290LmNyZWF0ZUNoaWxkVmlldyh2aWV3Q29uc3RydWN0b3IsIHNlY3Rpb24ucHJvcHMpO1xuXG4gICAgICAgIHJvb3QucmVmW3NlY3Rpb24ubmFtZV0gPSByb290LmFwcGVuZENoaWxkVmlldyh2aWV3KTtcbiAgICB9O1xuXG4gICAgdmFyIHdyaXRlJDMgPSBmdW5jdGlvbiB3cml0ZShfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBzY2FsYWJsZSBzdGF0ZVxuICAgICAgICBpZiAocm9vdC5yZWYuc2NhbGFibGUgPT09IG51bGwgfHwgcHJvcHMuc2NhbGFibGUgIT09IHJvb3QucmVmLnNjYWxhYmxlKSB7XG4gICAgICAgICAgICByb290LnJlZi5zY2FsYWJsZSA9IGlzQm9vbGVhbihwcm9wcy5zY2FsYWJsZSkgPyBwcm9wcy5zY2FsYWJsZSA6IHRydWU7XG4gICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zY2FsYWJsZSA9IHJvb3QucmVmLnNjYWxhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gaGVpZ2h0LCBjYW4ndCBzZXRcbiAgICAgICAgaWYgKCFwcm9wcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICAvLyBnZXQgY2hpbGQgcmVjdHNcbiAgICAgICAgdmFyIHRvcFJlY3QgPSByb290LnJlZi50b3AucmVjdC5lbGVtZW50O1xuICAgICAgICB2YXIgYm90dG9tUmVjdCA9IHJvb3QucmVmLmJvdHRvbS5yZWN0LmVsZW1lbnQ7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIGhlaWdodCBuZXZlciBpcyBzbWFsbGVyIHRoYW4gYm90dG9tIGFuZCB0b3Agc2VjaXRvbiBoZWlnaHRzIGNvbWJpbmVkICh3aWxsIHByb2JhYmx5IG5ldmVyIGhhcHBlbiwgYnV0IHdobyBrbm93cylcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KHRvcFJlY3QuaGVpZ2h0ICsgYm90dG9tUmVjdC5oZWlnaHQsIHByb3BzLmhlaWdodCk7XG5cbiAgICAgICAgLy8gb2Zmc2V0IGNlbnRlciBwYXJ0XG4gICAgICAgIHJvb3QucmVmLmNlbnRlci50cmFuc2xhdGVZID0gdG9wUmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gc2NhbGUgY2VudGVyIHBhcnRcbiAgICAgICAgLy8gdXNlIG1hdGggY2VpbCB0byBwcmV2ZW50IHRyYW5zcGFyZW50IGxpbmVzIGJlY2F1c2Ugb2Ygcm91bmRpbmcgZXJyb3JzXG4gICAgICAgIHJvb3QucmVmLmNlbnRlci5zY2FsZVkgPSAoaGVpZ2h0IC0gdG9wUmVjdC5oZWlnaHQgLSBib3R0b21SZWN0LmhlaWdodCkgLyAxMDA7XG5cbiAgICAgICAgLy8gb2Zmc2V0IGJvdHRvbSBwYXJ0XG4gICAgICAgIHJvb3QucmVmLmJvdHRvbS50cmFuc2xhdGVZID0gaGVpZ2h0IC0gYm90dG9tUmVjdC5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHZhciBwYW5lbCA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBuYW1lOiAncGFuZWwnLFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKF9yZWYzKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgICAgIHJldHVybiAocHJvcHMuaGVpZ2h0Q3VycmVudCA9IHJvb3QucmVmLmJvdHRvbS50cmFuc2xhdGVZKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDMsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDYsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgYXBpczogWydoZWlnaHQnLCAnaGVpZ2h0Q3VycmVudCcsICdzY2FsYWJsZSddLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGNyZWF0ZURyYWdIZWxwZXIgPSBmdW5jdGlvbiBjcmVhdGVEcmFnSGVscGVyKGl0ZW1zKSB7XG4gICAgICAgIHZhciBpdGVtSWRzID0gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHByZXZJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNldEluZGV4OiBmdW5jdGlvbiBzZXRJbmRleChpbmRleCkge1xuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEluZGV4OiBmdW5jdGlvbiBnZXRJbmRleCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldkluZGV4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEl0ZW1JbmRleDogZnVuY3Rpb24gZ2V0SXRlbUluZGV4KGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbUlkcy5pbmRleE9mKGl0ZW0uaWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIElURU1fVFJBTlNMQVRFX1NQUklORyA9IHtcbiAgICAgICAgdHlwZTogJ3NwcmluZycsXG4gICAgICAgIHN0aWZmbmVzczogMC43NSxcbiAgICAgICAgZGFtcGluZzogMC40NSxcbiAgICAgICAgbWFzczogMTAsXG4gICAgfTtcblxuICAgIHZhciBJVEVNX1NDQUxFX1NQUklORyA9ICdzcHJpbmcnO1xuXG4gICAgdmFyIFN0YXRlTWFwID0ge1xuICAgICAgICBESURfU1RBUlRfSVRFTV9MT0FEOiAnYnVzeScsXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiAnbG9hZGluZycsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6ICdsb2FkLWludmFsaWQnLFxuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiAnbG9hZC1lcnJvcicsXG4gICAgICAgIERJRF9MT0FEX0lURU06ICdpZGxlJyxcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiAncmVtb3ZlLWVycm9yJyxcbiAgICAgICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiAnYnVzeScsXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6ICdidXN5IHByb2Nlc3NpbmcnLFxuICAgICAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6ICdidXN5IHByb2Nlc3NpbmcnLFxuICAgICAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogJ3Byb2Nlc3NpbmcnLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiAncHJvY2Vzc2luZy1jb21wbGV0ZScsXG4gICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6ICdwcm9jZXNzaW5nLWVycm9yJyxcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6ICdwcm9jZXNzaW5nLXJldmVydC1lcnJvcicsXG4gICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6ICdjYW5jZWxsZWQnLFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogJ2lkbGUnLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlJDcgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgICAgICAvLyBzZWxlY3RcbiAgICAgICAgcm9vdC5yZWYuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZXR1cm4gcm9vdC5kaXNwYXRjaCgnRElEX0FDVElWQVRFX0lURU0nLCB7IGlkOiBwcm9wcy5pZCB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgaWRcbiAgICAgICAgcm9vdC5lbGVtZW50LmlkID0gJ2ZpbGVwb25kLS1pdGVtLScgKyBwcm9wcy5pZDtcbiAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuXG4gICAgICAgIC8vIGZpbGUgdmlld1xuICAgICAgICByb290LnJlZi5jb250YWluZXIgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVXcmFwcGVyLCB7IGlkOiBwcm9wcy5pZCB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGZpbGUgcGFuZWxcbiAgICAgICAgcm9vdC5yZWYucGFuZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhwYW5lbCwgeyBuYW1lOiAnaXRlbS1wYW5lbCcgfSkpO1xuXG4gICAgICAgIC8vIGRlZmF1bHQgc3RhcnQgaGVpZ2h0XG4gICAgICAgIHJvb3QucmVmLnBhbmVsLmhlaWdodCA9IG51bGw7XG5cbiAgICAgICAgLy8gYnkgZGVmYXVsdCBub3QgbWFya2VkIGZvciByZW1vdmFsXG4gICAgICAgIHByb3BzLm1hcmtlZEZvclJlbW92YWwgPSBmYWxzZTtcblxuICAgICAgICAvLyBpZiBub3QgYWxsb3dlZCB0byByZW9yZGVyIGZpbGUgaXRlbXMsIGV4aXQgaGVyZVxuICAgICAgICBpZiAoIXJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU9SREVSJykpIHJldHVybjtcblxuICAgICAgICAvLyBzZXQgdG8gaWRsZSBzbyBzaG93cyBncmFiIGN1cnNvclxuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnaWRsZSc7XG5cbiAgICAgICAgdmFyIGdyYWIgPSBmdW5jdGlvbiBncmFiKGUpIHtcbiAgICAgICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBvcmlnaW4gPSB7XG4gICAgICAgICAgICAgICAgeDogZS5wYWdlWCxcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcHJvcHMuZHJhZ09yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiByb290LnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICAgICAgeTogcm9vdC50cmFuc2xhdGVZLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcHJvcHMuZHJhZ0NlbnRlciA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogZS5vZmZzZXRZLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGRyYWdTdGF0ZSA9IGNyZWF0ZURyYWdIZWxwZXIocm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpKTtcblxuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0dSQUJfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGU6IGRyYWdTdGF0ZSB9KTtcblxuICAgICAgICAgICAgdmFyIGRyYWcgPSBmdW5jdGlvbiBkcmFnKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuaXNQcmltYXJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHByb3BzLmRyYWdPZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICAgICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBkcmFnZ2VkIHN0b3AgbGlzdGVuaW5nIHRvIGNsaWNrcywgd2lsbCByZS1hZGQgd2hlbiBkb25lIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgdmFyIGRpc3QgPVxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0LnggKiBwcm9wcy5kcmFnT2Zmc2V0LnggK1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0LnkgKiBwcm9wcy5kcmFnT2Zmc2V0Lnk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3QgPiAxNiAmJiAhcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RSQUdfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGU6IGRyYWdTdGF0ZSB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBkcmFnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBkcm9wKTtcblxuICAgICAgICAgICAgICAgIHByb3BzLmRyYWdPZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICAgICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJPUF9JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZTogZHJhZ1N0YXRlIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgbGlzdGVuaW5nIHRvIGNsaWNrcyBhZ2FpblxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBkcmFnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGRyb3ApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGdyYWIpO1xuICAgIH07XG5cbiAgICB2YXIgcm91dGUkMSA9IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX1VQREFURV9QQU5FTF9IRUlHSFQ6IGZ1bmN0aW9uIERJRF9VUERBVEVfUEFORUxfSEVJR0hUKF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBhY3Rpb24uaGVpZ2h0O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIHdyaXRlJDQgPSBjcmVhdGVSb3V0ZShcbiAgICAgICAge1xuICAgICAgICAgICAgRElEX0dSQUJfSVRFTTogZnVuY3Rpb24gRElEX0dSQUJfSVRFTShfcmVmMykge1xuICAgICAgICAgICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiByb290LnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHJvb3QudHJhbnNsYXRlWSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERJRF9EUkFHX0lURU06IGZ1bmN0aW9uIERJRF9EUkFHX0lURU0oX3JlZjQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3Q7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2RyYWcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERJRF9EUk9QX0lURU06IGZ1bmN0aW9uIERJRF9EUk9QX0lURU0oX3JlZjUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHM7XG4gICAgICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcHJvcHMuZHJhZ09yaWdpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2Ryb3AnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oX3JlZjYpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gX3JlZjYuYWN0aW9ucyxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY2LnByb3BzLFxuICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjYuc2hvdWxkT3B0aW1pemU7XG5cbiAgICAgICAgICAgIGlmIChyb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPT09ICdkcm9wJykge1xuICAgICAgICAgICAgICAgIGlmIChyb290LnNjYWxlWCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdpZGxlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNlbGVjdCBsYXN0IHN0YXRlIGNoYW5nZSBhY3Rpb25cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhY3Rpb25zXG4gICAgICAgICAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC9eRElEXy8udGVzdChhY3Rpb24udHlwZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAgICAgLmZpbmQoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGF0ZU1hcFthY3Rpb24udHlwZV07XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IHNhbWUgc3RhdGUgdHdpY2VcbiAgICAgICAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgIT09IHByb3BzLmN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICAgICAgcHJvcHMuY3VycmVudFN0YXRlID0gYWN0aW9uLnR5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgc3RhdGVcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5maWxlcG9uZEl0ZW1TdGF0ZSA9IFN0YXRlTWFwW3Byb3BzLmN1cnJlbnRTdGF0ZV0gfHwgJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9XG4gICAgICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPJykgfHwgcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICAgICAgaWYgKCFhc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgICAgIHJvdXRlJDEoeyByb290OiByb290LCBhY3Rpb25zOiBhY3Rpb25zLCBwcm9wczogcHJvcHMgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb290LmhlaWdodCAmJiByb290LnJlZi5jb250YWluZXIucmVjdC5lbGVtZW50LmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSByb290LnJlZi5jb250YWluZXIucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc3luYyBwYW5lbCBoZWlnaHQgd2l0aCBpdGVtIGhlaWdodFxuICAgICAgICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gcm9vdC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgdmFyIGl0ZW0gPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkNyxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDQsXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjcpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY3LnByb3BzO1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnUkVMRUFTRV9JVEVNJywgeyBxdWVyeTogcHJvcHMuaWQgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRhZzogJ2xpJyxcbiAgICAgICAgbmFtZTogJ2l0ZW0nLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIGFwaXM6IFtcbiAgICAgICAgICAgICAgICAnaWQnLFxuICAgICAgICAgICAgICAgICdpbnRlcmFjdGlvbk1ldGhvZCcsXG4gICAgICAgICAgICAgICAgJ21hcmtlZEZvclJlbW92YWwnLFxuICAgICAgICAgICAgICAgICdzcGF3bkRhdGUnLFxuICAgICAgICAgICAgICAgICdkcmFnQ2VudGVyJyxcbiAgICAgICAgICAgICAgICAnZHJhZ09yaWdpbicsXG4gICAgICAgICAgICAgICAgJ2RyYWdPZmZzZXQnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5JywgJ2hlaWdodCddLFxuXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiBJVEVNX1NDQUxFX1NQUklORyxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBJVEVNX1RSQU5TTEFURV9TUFJJTkcsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMTUwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGdldEl0ZW1zUGVyUm93ID0gZnVuY3Rpb24oaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpIHtcbiAgICAgICAgLy8gYWRkIG9uZSBwaXhlbCBsZWV3YXksIHdoZW4gdXNpbmcgcGVyY2VudGFnZXMgZm9yIGl0ZW0gd2lkdGggdG90YWwgaXRlbXMgY2FuIGJlIDEuOTkgcGVyIHJvd1xuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgxLCBNYXRoLmZsb29yKChob3Jpem9udGFsU3BhY2UgKyAxKSAvIGl0ZW1XaWR0aCkpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0SXRlbUluZGV4QnlQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEl0ZW1JbmRleEJ5UG9zaXRpb24odmlldywgY2hpbGRyZW4sIHBvc2l0aW9uSW5WaWV3KSB7XG4gICAgICAgIGlmICghcG9zaXRpb25JblZpZXcpIHJldHVybjtcblxuICAgICAgICB2YXIgaG9yaXpvbnRhbFNwYWNlID0gdmlldy5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgICAgIC8vIGNvbnN0IGNoaWxkcmVuID0gdmlldy5jaGlsZFZpZXdzO1xuICAgICAgICB2YXIgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIGxhc3QgPSBudWxsO1xuXG4gICAgICAgIC8vIC0xLCBkb24ndCBtb3ZlIGl0ZW1zIHRvIGFjY29tb2RhdGUgKGVpdGhlciBhZGQgdG8gdG9wIG9yIGJvdHRvbSlcbiAgICAgICAgaWYgKGwgPT09IDAgfHwgcG9zaXRpb25JblZpZXcudG9wIDwgY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50LnRvcCkgcmV0dXJuIC0xO1xuXG4gICAgICAgIC8vIGxldCdzIGdldCB0aGUgaXRlbSB3aWR0aFxuICAgICAgICB2YXIgaXRlbSA9IGNoaWxkcmVuWzBdO1xuICAgICAgICB2YXIgaXRlbVJlY3QgPSBpdGVtLnJlY3QuZWxlbWVudDtcbiAgICAgICAgdmFyIGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gaXRlbVJlY3QubWFyZ2luTGVmdCArIGl0ZW1SZWN0Lm1hcmdpblJpZ2h0O1xuICAgICAgICB2YXIgaXRlbVdpZHRoID0gaXRlbVJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICAgICAgdmFyIGl0ZW1zUGVyUm93ID0gZ2V0SXRlbXNQZXJSb3coaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpO1xuXG4gICAgICAgIC8vIHN0YWNrXG4gICAgICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGw7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkTWlkID0gY2hpbGQucmVjdC5vdXRlci50b3AgKyBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICogMC41O1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBjaGlsZE1pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBncmlkXG4gICAgICAgIHZhciBpdGVtVmVydGljYWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5Ub3AgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgICAgIHZhciBpdGVtSGVpZ2h0ID0gaXRlbVJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuICAgICAgICBmb3IgKHZhciBfaW5kZXggPSAwOyBfaW5kZXggPCBsOyBfaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGluZGV4WCA9IF9pbmRleCAlIGl0ZW1zUGVyUm93O1xuICAgICAgICAgICAgdmFyIGluZGV4WSA9IE1hdGguZmxvb3IoX2luZGV4IC8gaXRlbXNQZXJSb3cpO1xuXG4gICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IGluZGV4WCAqIGl0ZW1XaWR0aDtcbiAgICAgICAgICAgIHZhciBvZmZzZXRZID0gaW5kZXhZICogaXRlbUhlaWdodDtcblxuICAgICAgICAgICAgdmFyIGl0ZW1Ub3AgPSBvZmZzZXRZIC0gaXRlbVJlY3QubWFyZ2luVG9wO1xuICAgICAgICAgICAgdmFyIGl0ZW1SaWdodCA9IG9mZnNldFggKyBpdGVtV2lkdGg7XG4gICAgICAgICAgICB2YXIgaXRlbUJvdHRvbSA9IG9mZnNldFkgKyBpdGVtSGVpZ2h0ICsgaXRlbVJlY3QubWFyZ2luQm90dG9tO1xuXG4gICAgICAgICAgICBpZiAocG9zaXRpb25JblZpZXcudG9wIDwgaXRlbUJvdHRvbSAmJiBwb3NpdGlvbkluVmlldy50b3AgPiBpdGVtVG9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LmxlZnQgPCBpdGVtUmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9pbmRleDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9pbmRleCAhPT0gbCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IF9pbmRleDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbDtcbiAgICB9O1xuXG4gICAgdmFyIGRyb3BBcmVhRGltZW5zaW9ucyA9IHtcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgZ2V0IGdldEhlaWdodCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHNldEhlaWdodCh2YWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCB8fCB2YWwgPT09IDApIHRoaXMuaGVpZ2h0ID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZ2V0V2lkdGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHNldFdpZHRoKHZhbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDAgfHwgdmFsID09PSAwKSB0aGlzLndpZHRoID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXREaW1lbnNpb25zOiBmdW5jdGlvbiBzZXREaW1lbnNpb25zKGhlaWdodCwgd2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDAgfHwgd2lkdGggPT09IDApIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZSQ4ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgICAgIC8vIG5lZWQgdG8gc2V0IHJvbGUgdG8gbGlzdCBhcyBvdGhlcndpc2UgaXQgd29uJ3QgYmUgcmVhZCBhcyBhIGxpc3QgYnkgVm9pY2VPdmVyXG4gICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAncm9sZScsICdsaXN0Jyk7XG5cbiAgICAgICAgcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGUgPSBEYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgbmV3IGl0ZW1cbiAgICAgKiBAcGFyYW0gcm9vdFxuICAgICAqIEBwYXJhbSBhY3Rpb25cbiAgICAgKi9cbiAgICB2YXIgYWRkSXRlbVZpZXcgPSBmdW5jdGlvbiBhZGRJdGVtVmlldyhfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIHZhciBpZCA9IGFjdGlvbi5pZCxcbiAgICAgICAgICAgIGluZGV4ID0gYWN0aW9uLmluZGV4LFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QgPSBhY3Rpb24uaW50ZXJhY3Rpb25NZXRob2Q7XG5cbiAgICAgICAgcm9vdC5yZWYuYWRkSW5kZXggPSBpbmRleDtcblxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHNwYXduRGF0ZSA9IG5vdztcbiAgICAgICAgdmFyIG9wYWNpdHkgPSAxO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCAhPT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICAgICAgICB2YXIgY29vbGRvd24gPSByb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfSU5URVJWQUwnKTtcbiAgICAgICAgICAgIHZhciBkaXN0ID0gbm93IC0gcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGU7XG4gICAgICAgICAgICBzcGF3bkRhdGUgPSBkaXN0IDwgY29vbGRvd24gPyBub3cgKyAoY29vbGRvd24gLSBkaXN0KSA6IG5vdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QucmVmLmxhc3RJdGVtU3BhbndEYXRlID0gc3Bhd25EYXRlO1xuXG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgICAgICAgICAgLy8gdmlldyB0eXBlXG4gICAgICAgICAgICAgICAgaXRlbSxcblxuICAgICAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzcGF3bkRhdGU6IHNwYXduRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIG1vdmVJdGVtID0gZnVuY3Rpb24gbW92ZUl0ZW0oaXRlbSwgeCwgeSkge1xuICAgICAgICB2YXIgdnggPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgICAgIHZhciB2eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMTtcbiAgICAgICAgLy8gc2V0IHRvIG51bGwgdG8gcmVtb3ZlIGFuaW1hdGlvbiB3aGlsZSBkcmFnZ2luZ1xuICAgICAgICBpZiAoaXRlbS5kcmFnT2Zmc2V0KSB7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IGl0ZW0uZHJhZ09yaWdpbi54ICsgaXRlbS5kcmFnT2Zmc2V0Lng7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBpdGVtLmRyYWdPcmlnaW4ueSArIGl0ZW0uZHJhZ09mZnNldC55O1xuICAgICAgICAgICAgaXRlbS5zY2FsZVggPSAxLjAyNTtcbiAgICAgICAgICAgIGl0ZW0uc2NhbGVZID0gMS4wMjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4O1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0geTtcblxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPiBpdGVtLnNwYXduRGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIHJldmVhbCBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRyb0l0ZW1WaWV3KGl0ZW0sIHgsIHksIHZ4LCB2eSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGlzIGRlZmF1bHQgc2NhbGUgZXZlcnkgZnJhbWVcbiAgICAgICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDE7XG4gICAgICAgICAgICAgICAgaXRlbS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgICAgIGl0ZW0ub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGludHJvSXRlbVZpZXcgPSBmdW5jdGlvbiBpbnRyb0l0ZW1WaWV3KGl0ZW0sIHgsIHksIHZ4LCB2eSkge1xuICAgICAgICBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHg7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0geTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5EUk9QKSB7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVYID0geCAtIHZ4ICogMjA7XG5cbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5IC0gdnkgKiAxMDtcblxuICAgICAgICAgICAgaXRlbS5zY2FsZVggPSAwLjg7XG4gICAgICAgICAgICBpdGVtLnNjYWxlWSA9IDAuODtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UpIHtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5IC0gMzA7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVYID0geCAtIDMwO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIGl0ZW1cbiAgICAgKiBAcGFyYW0gcm9vdFxuICAgICAqIEBwYXJhbSBhY3Rpb25cbiAgICAgKi9cbiAgICB2YXIgcmVtb3ZlSXRlbVZpZXcgPSBmdW5jdGlvbiByZW1vdmVJdGVtVmlldyhfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgICAgIHZhciBpZCA9IGFjdGlvbi5pZDtcblxuICAgICAgICAvLyBnZXQgdGhlIHZpZXcgbWF0Y2hpbmcgdGhlIGdpdmVuIGlkXG4gICAgICAgIHZhciB2aWV3ID0gcm9vdC5jaGlsZFZpZXdzLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbmltYXRlIHZpZXcgb3V0IG9mIHZpZXdcbiAgICAgICAgdmlldy5zY2FsZVggPSAwLjk7XG4gICAgICAgIHZpZXcuc2NhbGVZID0gMC45O1xuICAgICAgICB2aWV3Lm9wYWNpdHkgPSAwO1xuXG4gICAgICAgIC8vIG1hcmsgZm9yIHJlbW92YWxcbiAgICAgICAgdmlldy5tYXJrZWRGb3JSZW1vdmFsID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEl0ZW1IZWlnaHQgPSBmdW5jdGlvbiBnZXRJdGVtSGVpZ2h0KGNoaWxkKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICtcbiAgICAgICAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b20gKiAwLjUgK1xuICAgICAgICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpblRvcCAqIDAuNVxuICAgICAgICApO1xuICAgIH07XG4gICAgdmFyIGdldEl0ZW1XaWR0aCA9IGZ1bmN0aW9uIGdldEl0ZW1XaWR0aChjaGlsZCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2hpbGQucmVjdC5lbGVtZW50LndpZHRoICtcbiAgICAgICAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5MZWZ0ICogMC41ICtcbiAgICAgICAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5SaWdodCAqIDAuNVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgZHJhZ0l0ZW0gPSBmdW5jdGlvbiBkcmFnSXRlbShfcmVmNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgICAgIHZhciBpZCA9IGFjdGlvbi5pZCxcbiAgICAgICAgICAgIGRyYWdTdGF0ZSA9IGFjdGlvbi5kcmFnU3RhdGU7XG5cbiAgICAgICAgLy8gcmVmZXJlbmNlIHRvIGl0ZW1cbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IGlkIH0pO1xuXG4gICAgICAgIC8vIGdldCB0aGUgdmlldyBtYXRjaGluZyB0aGUgZ2l2ZW4gaWRcbiAgICAgICAgdmFyIHZpZXcgPSByb290LmNoaWxkVmlld3MuZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG51bUl0ZW1zID0gcm9vdC5jaGlsZFZpZXdzLmxlbmd0aDtcbiAgICAgICAgdmFyIG9sZEluZGV4ID0gZHJhZ1N0YXRlLmdldEl0ZW1JbmRleChpdGVtKTtcblxuICAgICAgICAvLyBpZiBubyB2aWV3IGZvdW5kLCBleGl0XG4gICAgICAgIGlmICghdmlldykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkcmFnUG9zaXRpb24gPSB7XG4gICAgICAgICAgICB4OiB2aWV3LmRyYWdPcmlnaW4ueCArIHZpZXcuZHJhZ09mZnNldC54ICsgdmlldy5kcmFnQ2VudGVyLngsXG4gICAgICAgICAgICB5OiB2aWV3LmRyYWdPcmlnaW4ueSArIHZpZXcuZHJhZ09mZnNldC55ICsgdmlldy5kcmFnQ2VudGVyLnksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZ2V0IGRyYWcgYXJlYSBkaW1lbnNpb25zXG4gICAgICAgIHZhciBkcmFnSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodCh2aWV3KTtcbiAgICAgICAgdmFyIGRyYWdXaWR0aCA9IGdldEl0ZW1XaWR0aCh2aWV3KTtcblxuICAgICAgICAvLyBnZXQgcm93cyBhbmQgY29sdW1ucyAoVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIHJvdyBhbmQgb25lIGNvbHVtbiBpZiBhIGZpbGUgaXMgcHJlc2VudClcbiAgICAgICAgdmFyIGNvbHMgPSBNYXRoLmZsb29yKHJvb3QucmVjdC5vdXRlci53aWR0aCAvIGRyYWdXaWR0aCk7XG4gICAgICAgIGlmIChjb2xzID4gbnVtSXRlbXMpIGNvbHMgPSBudW1JdGVtcztcblxuICAgICAgICAvLyByb3dzIGFyZSB1c2VkIHRvIGZpbmQgd2hlbiB3ZSBoYXZlIGxlZnQgdGhlIHByZXZpZXcgYXJlYSBib3VuZGluZyBib3hcbiAgICAgICAgdmFyIHJvd3MgPSBNYXRoLmZsb29yKG51bUl0ZW1zIC8gY29scyArIDEpO1xuXG4gICAgICAgIGRyb3BBcmVhRGltZW5zaW9ucy5zZXRIZWlnaHQgPSBkcmFnSGVpZ2h0ICogcm93cztcbiAgICAgICAgZHJvcEFyZWFEaW1lbnNpb25zLnNldFdpZHRoID0gZHJhZ1dpZHRoICogY29scztcblxuICAgICAgICAvLyBnZXQgbmV3IGluZGV4IG9mIGRyYWdnZWQgaXRlbVxuICAgICAgICB2YXIgbG9jYXRpb24gPSB7XG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKGRyYWdQb3NpdGlvbi55IC8gZHJhZ0hlaWdodCksXG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKGRyYWdQb3NpdGlvbi54IC8gZHJhZ1dpZHRoKSxcbiAgICAgICAgICAgIGdldEdyaWRJbmRleDogZnVuY3Rpb24gZ2V0R3JpZEluZGV4KCkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPiBkcm9wQXJlYURpbWVuc2lvbnMuZ2V0SGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi55IDwgMCB8fFxuICAgICAgICAgICAgICAgICAgICBkcmFnUG9zaXRpb24ueCA+IGRyb3BBcmVhRGltZW5zaW9ucy5nZXRXaWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICBkcmFnUG9zaXRpb24ueCA8IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbGRJbmRleDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55ICogY29scyArIHRoaXMueDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRDb2xJbmRleDogZnVuY3Rpb24gZ2V0Q29sSW5kZXgoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXNpYmxlQ2hpbGRyZW4uZmluZChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZFZpZXcuaWQgPT09IGl0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGNoaWxkcmVuLmZpbmRJbmRleChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQgPT09IHZpZXc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgICAgICAgICAgICAgIHZhciBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBsO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQm90dG9tID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUb3AgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVG9wID0gY2hpbGRCb3R0b207XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQm90dG9tID0gY2hpbGRUb3AgKyBjaGlsZEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdQb3NpdGlvbi55IDwgY2hpbGRCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdQb3NpdGlvbi55IDwgY2hpbGRUb3AgKyBkcmFnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBnZXQgbmV3IGluZGV4XG4gICAgICAgIHZhciBpbmRleCA9IGNvbHMgPiAxID8gbG9jYXRpb24uZ2V0R3JpZEluZGV4KCkgOiBsb2NhdGlvbi5nZXRDb2xJbmRleCgpO1xuICAgICAgICByb290LmRpc3BhdGNoKCdNT1ZFX0lURU0nLCB7IHF1ZXJ5OiB2aWV3LCBpbmRleDogaW5kZXggfSk7XG5cbiAgICAgICAgLy8gaWYgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGNoYW5nZWQsIGRpc3BhdGNoIHJlb3JkZXIgYWN0aW9uXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBkcmFnU3RhdGUuZ2V0SW5kZXgoKTtcblxuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSB1bmRlZmluZWQgfHwgY3VycmVudEluZGV4ICE9PSBpbmRleCkge1xuICAgICAgICAgICAgZHJhZ1N0YXRlLnNldEluZGV4KGluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9SRU9SREVSX0lURU1TJywge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyksXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBvbGRJbmRleCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGluZGV4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgYWN0aW9uIHJvdXRlc1xuICAgICAqL1xuICAgIHZhciByb3V0ZSQyID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfQUREX0lURU06IGFkZEl0ZW1WaWV3LFxuICAgICAgICBESURfUkVNT1ZFX0lURU06IHJlbW92ZUl0ZW1WaWV3LFxuICAgICAgICBESURfRFJBR19JVEVNOiBkcmFnSXRlbSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHZpZXdcbiAgICAgKiBAcGFyYW0gcm9vdFxuICAgICAqIEBwYXJhbSBhY3Rpb25zXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICovXG4gICAgdmFyIHdyaXRlJDUgPSBmdW5jdGlvbiB3cml0ZShfcmVmNSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzLFxuICAgICAgICAgICAgYWN0aW9ucyA9IF9yZWY1LmFjdGlvbnMsXG4gICAgICAgICAgICBzaG91bGRPcHRpbWl6ZSA9IF9yZWY1LnNob3VsZE9wdGltaXplO1xuICAgICAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgICAgIHJvdXRlJDIoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG4gICAgICAgIHZhciBkcmFnQ29vcmRpbmF0ZXMgPSBwcm9wcy5kcmFnQ29vcmRpbmF0ZXM7XG5cbiAgICAgICAgLy8gYXZhaWxhYmxlIHNwYWNlIG9uIGhvcml6b250YWwgYXhpc1xuICAgICAgICB2YXIgaG9yaXpvbnRhbFNwYWNlID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG5cbiAgICAgICAgLy8gb25seSBkcmF3IGNoaWxkcmVuIHRoYXQgaGF2ZSBkaW1lbnNpb25zXG4gICAgICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc29ydCBiYXNlZCBvbiBjdXJyZW50IGFjdGl2ZSBpdGVtc1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSByb290XG4gICAgICAgICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaXRlbS5pZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGdldCBpbmRleFxuICAgICAgICB2YXIgZHJhZ0luZGV4ID0gZHJhZ0Nvb3JkaW5hdGVzXG4gICAgICAgICAgICA/IGdldEl0ZW1JbmRleEJ5UG9zaXRpb24ocm9vdCwgY2hpbGRyZW4sIGRyYWdDb29yZGluYXRlcylcbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICAvLyBhZGQgaW5kZXggaXMgdXNlZCB0byByZXNlcnZlIHRoZSBkcm9wcGVkL2FkZGVkIGl0ZW0gaW5kZXggdGlsbCB0aGUgYWN0dWFsIGl0ZW0gaXMgcmVuZGVyZWRcbiAgICAgICAgdmFyIGFkZEluZGV4ID0gcm9vdC5yZWYuYWRkSW5kZXggfHwgbnVsbDtcblxuICAgICAgICAvLyBhZGQgaW5kZXggbm8gbG9uZ2VyIG5lZWRlZCB0aWxsIHBvc3NpYmx5IG5leHQgZHJhd1xuICAgICAgICByb290LnJlZi5hZGRJbmRleCA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRyYWdJbmRleE9mZnNldCA9IDA7XG4gICAgICAgIHZhciByZW1vdmVJbmRleE9mZnNldCA9IDA7XG4gICAgICAgIHZhciBhZGRJbmRleE9mZnNldCA9IDA7XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBjaGlsZFJlY3QgPSBjaGlsZHJlblswXS5yZWN0LmVsZW1lbnQ7XG4gICAgICAgIHZhciBpdGVtVmVydGljYWxNYXJnaW4gPSBjaGlsZFJlY3QubWFyZ2luVG9wICsgY2hpbGRSZWN0Lm1hcmdpbkJvdHRvbTtcbiAgICAgICAgdmFyIGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG4gICAgICAgIHZhciBpdGVtV2lkdGggPSBjaGlsZFJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICAgICAgdmFyIGl0ZW1IZWlnaHQgPSBjaGlsZFJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuICAgICAgICB2YXIgaXRlbXNQZXJSb3cgPSBnZXRJdGVtc1BlclJvdyhob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCk7XG5cbiAgICAgICAgLy8gc3RhY2tcbiAgICAgICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB2YXIgZHJhZ09mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRyYWdJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdCA9IGluZGV4IC0gZHJhZ0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQgPSAtaXRlbVZlcnRpY2FsTWFyZ2luICogMC4yNTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IC1pdGVtVmVydGljYWxNYXJnaW4gKiAwLjc1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQgPSBpdGVtVmVydGljYWxNYXJnaW4gKiAwLjc1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQgPSBpdGVtVmVydGljYWxNYXJnaW4gKiAwLjI1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghY2hpbGQubWFya2VkRm9yUmVtb3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlSXRlbShjaGlsZCwgMCwgb2Zmc2V0WSArIGRyYWdPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpdGVtSGVpZ2h0ID0gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcblxuICAgICAgICAgICAgICAgIHZhciB2aXN1YWxIZWlnaHQgPSBpdGVtSGVpZ2h0ICogKGNoaWxkLm1hcmtlZEZvclJlbW92YWwgPyBjaGlsZC5vcGFjaXR5IDogMSk7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXRZICs9IHZpc3VhbEhlaWdodDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdyaWRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJldlggPSAwO1xuICAgICAgICAgICAgdmFyIHByZXZZID0gMDtcblxuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGRyYWdJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnSW5kZXhPZmZzZXQgPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gYWRkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5kZXhPZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCAmJiBjaGlsZC5vcGFjaXR5IDwgMC41KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUluZGV4T2Zmc2V0IC09IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHZpc3VhbEluZGV4ID0gaW5kZXggKyBhZGRJbmRleE9mZnNldCArIGRyYWdJbmRleE9mZnNldCArIHJlbW92ZUluZGV4T2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4WCA9IHZpc3VhbEluZGV4ICUgaXRlbXNQZXJSb3c7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4WSA9IE1hdGguZmxvb3IodmlzdWFsSW5kZXggLyBpdGVtc1BlclJvdyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IGluZGV4WCAqIGl0ZW1XaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IGluZGV4WSAqIGl0ZW1IZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmVjdG9yWCA9IE1hdGguc2lnbihvZmZzZXRYIC0gcHJldlgpO1xuICAgICAgICAgICAgICAgIHZhciB2ZWN0b3JZID0gTWF0aC5zaWduKG9mZnNldFkgLSBwcmV2WSk7XG5cbiAgICAgICAgICAgICAgICBwcmV2WCA9IG9mZnNldFg7XG4gICAgICAgICAgICAgICAgcHJldlkgPSBvZmZzZXRZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm1hcmtlZEZvclJlbW92YWwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbW92ZUl0ZW0oY2hpbGQsIG9mZnNldFgsIG9mZnNldFksIHZlY3RvclgsIHZlY3RvclkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyBhY3Rpb25zIHRoYXQgYXJlIG1lYW50IHNwZWNpZmljYWxseSBmb3IgYSBjZXJ0YWluIGNoaWxkIG9mIHRoZSBsaXN0XG4gICAgICogQHBhcmFtIGNoaWxkXG4gICAgICogQHBhcmFtIGFjdGlvbnNcbiAgICAgKi9cbiAgICB2YXIgZmlsdGVyU2V0SXRlbUFjdGlvbnMgPSBmdW5jdGlvbiBmaWx0ZXJTZXRJdGVtQWN0aW9ucyhjaGlsZCwgYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBpZiBhY3Rpb24gaGFzIGFuIGlkLCBmaWx0ZXIgb3V0IGFjdGlvbnMgdGhhdCBkb24ndCBoYXZlIHRoaXMgY2hpbGQgaWRcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YSAmJiBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gYWN0aW9uLmRhdGEuaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFsbG93IGFsbCBvdGhlciBhY3Rpb25zXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBsaXN0ID0gY3JlYXRlVmlldyh7XG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDgsXG4gICAgICAgIHdyaXRlOiB3cml0ZSQ1LFxuICAgICAgICB0YWc6ICd1bCcsXG4gICAgICAgIG5hbWU6ICdsaXN0JyxcbiAgICAgICAgZGlkV3JpdGVWaWV3OiBmdW5jdGlvbiBkaWRXcml0ZVZpZXcoX3JlZjYpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgICAgICAgIHJvb3QuY2hpbGRWaWV3c1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24odmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldy5tYXJrZWRGb3JSZW1vdmFsICYmIHZpZXcub3BhY2l0eSA9PT0gMCAmJiB2aWV3LnJlc3Rpbmc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuX2Rlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcodmlldyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlckZyYW1lQWN0aW9uc0ZvckNoaWxkOiBmaWx0ZXJTZXRJdGVtQWN0aW9ucyxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBhcGlzOiBbJ2RyYWdDb29yZGluYXRlcyddLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGNyZWF0ZSQ5ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIHJvb3QucmVmLmxpc3QgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhsaXN0KSk7XG4gICAgICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IG51bGw7XG4gICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBzdG9yZURyYWdDb29yZGluYXRlcyA9IGZ1bmN0aW9uIHN0b3JlRHJhZ0Nvb3JkaW5hdGVzKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHMsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OX0ZSRUVET00nKSkgcmV0dXJuO1xuICAgICAgICBwcm9wcy5kcmFnQ29vcmRpbmF0ZXMgPSB7XG4gICAgICAgICAgICBsZWZ0OiBhY3Rpb24ucG9zaXRpb24uc2NvcGVMZWZ0IC0gcm9vdC5yZWYubGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgICAgICAgIHRvcDpcbiAgICAgICAgICAgICAgICBhY3Rpb24ucG9zaXRpb24uc2NvcGVUb3AgLVxuICAgICAgICAgICAgICAgIChyb290LnJlY3Qub3V0ZXIudG9wICsgcm9vdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICsgcm9vdC5yZWN0LmVsZW1lbnQuc2Nyb2xsVG9wKSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNsZWFyRHJhZ0Nvb3JkaW5hdGVzID0gZnVuY3Rpb24gY2xlYXJEcmFnQ29vcmRpbmF0ZXMoX3JlZjMpIHtcbiAgICAgICAgdmFyIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHZhciByb3V0ZSQzID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfRFJBRzogc3RvcmVEcmFnQ29vcmRpbmF0ZXMsXG4gICAgICAgIERJRF9FTkRfRFJBRzogY2xlYXJEcmFnQ29vcmRpbmF0ZXMsXG4gICAgfSk7XG5cbiAgICB2YXIgd3JpdGUkNiA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjQucHJvcHMsXG4gICAgICAgICAgICBhY3Rpb25zID0gX3JlZjQuYWN0aW9ucztcblxuICAgICAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgICAgIHJvdXRlJDMoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG5cbiAgICAgICAgLy8gY3VycmVudCBkcmFnIHBvc2l0aW9uXG4gICAgICAgIHJvb3QucmVmLmxpc3QuZHJhZ0Nvb3JkaW5hdGVzID0gcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzO1xuXG4gICAgICAgIC8vIGlmIGN1cnJlbnRseSBvdmVyZmxvd2luZyBidXQgbm8gbG9uZ2VyIHJlY2VpdmVkIG92ZXJmbG93XG4gICAgICAgIGlmIChwcm9wcy5vdmVyZmxvd2luZyAmJiAhcHJvcHMub3ZlcmZsb3cpIHtcbiAgICAgICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IG92ZXJmbG93IHN0YXRlXG4gICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zdGF0ZSA9ICcnO1xuICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaXMgbm90IG92ZXJmbG93aW5nIGN1cnJlbnRseSBidXQgZG9lcyByZWNlaXZlIG92ZXJmbG93IHZhbHVlXG4gICAgICAgIGlmIChwcm9wcy5vdmVyZmxvdykge1xuICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9IE1hdGgucm91bmQocHJvcHMub3ZlcmZsb3cpO1xuICAgICAgICAgICAgaWYgKG5ld0hlaWdodCAhPT0gcm9vdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5vdmVyZmxvd2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc3RhdGUgPSAnb3ZlcmZsb3cnO1xuICAgICAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBsaXN0U2Nyb2xsZXIgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkOSxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDYsXG4gICAgICAgIG5hbWU6ICdsaXN0LXNjcm9sbGVyJyxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBhcGlzOiBbJ292ZXJmbG93JywgJ2RyYWdDb29yZGluYXRlcyddLFxuICAgICAgICAgICAgc3R5bGVzOiBbJ2hlaWdodCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGF0dHJUb2dnbGUgPSBmdW5jdGlvbiBhdHRyVG9nZ2xlKGVsZW1lbnQsIG5hbWUsIHN0YXRlKSB7XG4gICAgICAgIHZhciBlbmFibGVkVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcnO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgZW5hYmxlZFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZXNldEZpbGVJbnB1dCA9IGZ1bmN0aW9uIHJlc2V0RmlsZUlucHV0KGlucHV0KSB7XG4gICAgICAgIC8vIG5vIHZhbHVlLCBubyBuZWVkIHRvIHJlc2V0XG4gICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZm9yIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgICAgIC8vIGZvciBJRTEwXG4gICAgICAgIGlmIChpbnB1dC52YWx1ZSkge1xuICAgICAgICAgICAgLy8gcXVpY2tseSBhcHBlbmQgaW5wdXQgdG8gdGVtcCBmb3JtIGFuZCByZXNldCBmb3JtXG4gICAgICAgICAgICB2YXIgZm9ybSA9IGNyZWF0ZUVsZW1lbnQkMSgnZm9ybScpO1xuICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBpbnB1dC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgdmFyIHJlZiA9IGlucHV0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICBmb3JtLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIC8vIHJlLWluamVjdCBpbnB1dCB3aGVyZSBpdCBvcmlnaW5hbGx5IHdhc1xuICAgICAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlucHV0LCByZWYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJGEgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgICAgICAvLyBzZXQgaWQgc28gY2FuIGJlIHJlZmVyZW5jZWQgZnJvbSBvdXRzaWRlIGxhYmVsc1xuICAgICAgICByb290LmVsZW1lbnQuaWQgPSAnZmlsZXBvbmQtLWJyb3dzZXItJyArIHByb3BzLmlkO1xuXG4gICAgICAgIC8vIHNldCBuYW1lIG9mIGVsZW1lbnQgKGlzIHJlbW92ZWQgd2hlbiBhIHZhbHVlIGlzIHNldClcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICduYW1lJywgcm9vdC5xdWVyeSgnR0VUX05BTUUnKSk7XG5cbiAgICAgICAgLy8gd2UgaGF2ZSB0byBsaW5rIHRoaXMgZWxlbWVudCB0byB0aGUgc3RhdHVzIGVsZW1lbnRcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWNvbnRyb2xzJywgJ2ZpbGVwb25kLS1hc3Npc3RhbnQtJyArIHByb3BzLmlkKTtcblxuICAgICAgICAvLyBzZXQgbGFiZWwsIHdlIHVzZSBsYWJlbGxlZCBieSBhcyBvdGhlcndpc2UgdGhlIHNjcmVlbnJlYWRlciBkb2VzIG5vdCByZWFkIHRoZSBcImJyb3dzZVwiIHRleHQgaW4gdGhlIGxhYmVsIChhcyBpdCBoYXMgdGFiaW5kZXg6IDApXG4gICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1sYWJlbGxlZGJ5JywgJ2ZpbGVwb25kLS1kcm9wLWxhYmVsLScgKyBwcm9wcy5pZCk7XG5cbiAgICAgICAgLy8gc2V0IGNvbmZpZ3VyYWJsZSBwcm9wc1xuICAgICAgICBzZXRBY2NlcHRlZEZpbGVUeXBlcyh7XG4gICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUNDRVBURURfRklMRV9UWVBFUycpIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0b2dnbGVBbGxvd011bHRpcGxlKHsgcm9vdDogcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKSB9IH0pO1xuICAgICAgICB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIoe1xuICAgICAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgICAgIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RJUkVDVE9SSUVTX09OTFknKSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdG9nZ2xlRGlzYWJsZWQoeyByb290OiByb290IH0pO1xuICAgICAgICB0b2dnbGVSZXF1aXJlZCh7IHJvb3Q6IHJvb3QsIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX1JFUVVJUkVEJykgfSB9KTtcbiAgICAgICAgc2V0Q2FwdHVyZU1ldGhvZCh7IHJvb3Q6IHJvb3QsIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0NBUFRVUkVfTUVUSE9EJykgfSB9KTtcblxuICAgICAgICAvLyBoYW5kbGUgY2hhbmdlcyB0byB0aGUgaW5wdXQgZmllbGRcbiAgICAgICAgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKCFyb290LmVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGV4dHJhY3QgZmlsZXMgYW5kIG1vdmUgdmFsdWUgb2Ygd2Via2l0UmVsYXRpdmVQYXRoIHBhdGggdG8gX3JlbGF0aXZlUGF0aFxuICAgICAgICAgICAgdmFyIGZpbGVzID0gQXJyYXkuZnJvbShyb290LmVsZW1lbnQuZmlsZXMpLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gd2UgYWRkIGEgbGl0dGxlIGRlbGF5IHNvIHRoZSBPUyBmaWxlIHNlbGVjdCB3aW5kb3cgY2FuIG1vdmUgb3V0IG9mIHRoZSB3YXkgYmVmb3JlIHdlIGFkZCBvdXIgZmlsZVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2FkIGZpbGVzXG4gICAgICAgICAgICAgICAgcHJvcHMub25sb2FkKGZpbGVzKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGlucHV0LCBpdCdzIGp1c3QgZm9yIGV4cG9zaW5nIGEgbWV0aG9kIHRvIGRyb3AgZmlsZXMsIHNob3VsZCBub3QgcmV0YWluIGFueSBzdGF0ZVxuICAgICAgICAgICAgICAgIHJlc2V0RmlsZUlucHV0KHJvb3QuZWxlbWVudCk7XG4gICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCByb290LnJlZi5oYW5kbGVDaGFuZ2UpO1xuICAgIH07XG5cbiAgICB2YXIgc2V0QWNjZXB0ZWRGaWxlVHlwZXMgPSBmdW5jdGlvbiBzZXRBY2NlcHRlZEZpbGVUeXBlcyhfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1NZTkNfQUNDRVBUX0FUVFJJQlVURScpKSByZXR1cm47XG4gICAgICAgIGF0dHJUb2dnbGUoXG4gICAgICAgICAgICByb290LmVsZW1lbnQsXG4gICAgICAgICAgICAnYWNjZXB0JyxcbiAgICAgICAgICAgICEhYWN0aW9uLnZhbHVlLFxuICAgICAgICAgICAgYWN0aW9uLnZhbHVlID8gYWN0aW9uLnZhbHVlLmpvaW4oJywnKSA6ICcnXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVBbGxvd011bHRpcGxlID0gZnVuY3Rpb24gdG9nZ2xlQWxsb3dNdWx0aXBsZShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnbXVsdGlwbGUnLCBhY3Rpb24udmFsdWUpO1xuICAgIH07XG5cbiAgICB2YXIgdG9nZ2xlRGlyZWN0b3J5RmlsdGVyID0gZnVuY3Rpb24gdG9nZ2xlRGlyZWN0b3J5RmlsdGVyKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbjtcbiAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICd3ZWJraXRkaXJlY3RvcnknLCBhY3Rpb24udmFsdWUpO1xuICAgIH07XG5cbiAgICB2YXIgdG9nZ2xlRGlzYWJsZWQgPSBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlZChfcmVmNSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3Q7XG4gICAgICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgICAgIHZhciBkb2VzQWxsb3dCcm93c2UgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfQlJPV1NFJyk7XG4gICAgICAgIHZhciBkaXNhYmxlRmllbGQgPSBpc0Rpc2FibGVkIHx8ICFkb2VzQWxsb3dCcm93c2U7XG4gICAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnZGlzYWJsZWQnLCBkaXNhYmxlRmllbGQpO1xuICAgIH07XG5cbiAgICB2YXIgdG9nZ2xlUmVxdWlyZWQgPSBmdW5jdGlvbiB0b2dnbGVSZXF1aXJlZChfcmVmNikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNi5hY3Rpb247XG4gICAgICAgIC8vIHdhbnQgdG8gcmVtb3ZlIHJlcXVpcmVkLCBhbHdheXMgcG9zc2libGVcbiAgICAgICAgaWYgKCFhY3Rpb24udmFsdWUpIHtcbiAgICAgICAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2FudCB0byBtYWtlIHJlcXVpcmVkLCBvbmx5IHBvc3NpYmxlIHdoZW4gemVybyBpdGVtc1xuICAgICAgICBlbHNlIGlmIChyb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKSA9PT0gMCkge1xuICAgICAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzZXRDYXB0dXJlTWV0aG9kID0gZnVuY3Rpb24gc2V0Q2FwdHVyZU1ldGhvZChfcmVmNykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgICAgIGF0dHJUb2dnbGUoXG4gICAgICAgICAgICByb290LmVsZW1lbnQsXG4gICAgICAgICAgICAnY2FwdHVyZScsXG4gICAgICAgICAgICAhIWFjdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIGFjdGlvbi52YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYWN0aW9uLnZhbHVlXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVSZXF1aXJlZFN0YXR1cyA9IGZ1bmN0aW9uIHVwZGF0ZVJlcXVpcmVkU3RhdHVzKF9yZWY4KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSByb290LmVsZW1lbnQ7XG4gICAgICAgIC8vIGFsd2F5cyByZW1vdmUgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG1vcmUgdGhhbiB6ZXJvIGl0ZW1zXG4gICAgICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKSA+IDApIHtcbiAgICAgICAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ3JlcXVpcmVkJywgZmFsc2UpO1xuICAgICAgICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAnbmFtZScsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFkZCBuYW1lIGF0dHJpYnV0ZVxuICAgICAgICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAnbmFtZScsIHRydWUsIHJvb3QucXVlcnkoJ0dFVF9OQU1FJykpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYW55IHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgICAgICAgIHZhciBzaG91bGRDaGVja1ZhbGlkaXR5ID0gcm9vdC5xdWVyeSgnR0VUX0NIRUNLX1ZBTElESVRZJyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ2hlY2tWYWxpZGl0eSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSBvbmx5IGFkZCByZXF1aXJlZCBpZiB0aGUgZmllbGQgaGFzIGJlZW4gZGVlbWVkIHJlcXVpcmVkXG4gICAgICAgICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX1JFUVVJUkVEJykpIHtcbiAgICAgICAgICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVGaWVsZFZhbGlkaXR5U3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyhfcmVmOSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICAgIHZhciBzaG91bGRDaGVja1ZhbGlkaXR5ID0gcm9vdC5xdWVyeSgnR0VUX0NIRUNLX1ZBTElESVRZJyk7XG4gICAgICAgIGlmICghc2hvdWxkQ2hlY2tWYWxpZGl0eSkgcmV0dXJuO1xuICAgICAgICByb290LmVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkocm9vdC5xdWVyeSgnR0VUX0xBQkVMX0lOVkFMSURfRklFTEQnKSk7XG4gICAgfTtcblxuICAgIHZhciBicm93c2VyID0gY3JlYXRlVmlldyh7XG4gICAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgICAgbmFtZTogJ2Jyb3dzZXInLFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkYSxcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmMTApIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjEwLnJvb3Q7XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgICAgICAgRElEX1JFTU9WRV9JVEVNOiB1cGRhdGVSZXF1aXJlZFN0YXR1cyxcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpZWxkVmFsaWRpdHlTdGF0dXMsXG5cbiAgICAgICAgICAgIERJRF9TRVRfRElTQUJMRUQ6IHRvZ2dsZURpc2FibGVkLFxuICAgICAgICAgICAgRElEX1NFVF9BTExPV19CUk9XU0U6IHRvZ2dsZURpc2FibGVkLFxuICAgICAgICAgICAgRElEX1NFVF9BTExPV19ESVJFQ1RPUklFU19PTkxZOiB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIsXG4gICAgICAgICAgICBESURfU0VUX0FMTE9XX01VTFRJUExFOiB0b2dnbGVBbGxvd011bHRpcGxlLFxuICAgICAgICAgICAgRElEX1NFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTOiBzZXRBY2NlcHRlZEZpbGVUeXBlcyxcbiAgICAgICAgICAgIERJRF9TRVRfQ0FQVFVSRV9NRVRIT0Q6IHNldENhcHR1cmVNZXRob2QsXG4gICAgICAgICAgICBESURfU0VUX1JFUVVJUkVEOiB0b2dnbGVSZXF1aXJlZCxcbiAgICAgICAgfSksXG4gICAgfSk7XG5cbiAgICB2YXIgS2V5ID0ge1xuICAgICAgICBFTlRFUjogMTMsXG4gICAgICAgIFNQQUNFOiAzMixcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZSRiID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBsYWJlbCBhbmQgbGluayBpdCB0byB0aGUgZmlsZSBicm93c2VyXG4gICAgICAgIHZhciBsYWJlbCA9IGNyZWF0ZUVsZW1lbnQkMSgnbGFiZWwnKTtcbiAgICAgICAgYXR0cihsYWJlbCwgJ2ZvcicsICdmaWxlcG9uZC0tYnJvd3Nlci0nICsgcHJvcHMuaWQpO1xuXG4gICAgICAgIC8vIHVzZSBmb3IgbGFiZWxpbmcgZmlsZSBpbnB1dCAoYXJpYS1sYWJlbGxlZGJ5IG9uIGZpbGUgaW5wdXQpXG4gICAgICAgIGF0dHIobGFiZWwsICdpZCcsICdmaWxlcG9uZC0tZHJvcC1sYWJlbC0nICsgcHJvcHMuaWQpO1xuXG4gICAgICAgIC8vIGhpZGUgdGhlIGxhYmVsIGZvciBzY3JlZW5yZWFkZXJzLCB0aGUgaW5wdXQgZWxlbWVudCB3aWxsIHJlYWQgdGhlIGNvbnRlbnRzIG9mIHRoZSBsYWJlbCB3aGVuIGl0J3MgZm9jdXNzZWQuIElmIHdlIGRvbid0IHNldCBhcmlhLWhpZGRlbiB0aGUgc2NyZWVucmVhZGVyIHdpbGwgYWxzbyBuYXZpZ2F0ZSB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsIHNlcGFyYXRlbHkgZnJvbSB0aGUgaW5wdXQuXG4gICAgICAgIGF0dHIobGFiZWwsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICAgICAgLy8gaGFuZGxlIGtleXNcbiAgICAgICAgcm9vdC5yZWYuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBpc0FjdGl2YXRpb25LZXkgPSBlLmtleUNvZGUgPT09IEtleS5FTlRFUiB8fCBlLmtleUNvZGUgPT09IEtleS5TUEFDRTtcbiAgICAgICAgICAgIGlmICghaXNBY3RpdmF0aW9uS2V5KSByZXR1cm47XG4gICAgICAgICAgICAvLyBzdG9wcyBmcm9tIHRyaWdnZXJpbmcgdGhlIGVsZW1lbnQgYSBzZWNvbmQgdGltZVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvLyBjbGljayBsaW5rICh3aWxsIHRoZW4gaW4gdHVybiBhY3RpdmF0ZSBmaWxlIGlucHV0KVxuICAgICAgICAgICAgcm9vdC5yZWYubGFiZWwuY2xpY2soKTtcbiAgICAgICAgfTtcblxuICAgICAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBpc0xhYmVsQ2xpY2sgPSBlLnRhcmdldCA9PT0gbGFiZWwgfHwgbGFiZWwuY29udGFpbnMoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICAvLyBkb24ndCB3YW50IHRvIGNsaWNrIHR3aWNlXG4gICAgICAgICAgICBpZiAoaXNMYWJlbENsaWNrKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICAgICAgICByb290LnJlZi5sYWJlbC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGF0dGFjaCBldmVudHNcbiAgICAgICAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHJvb3QucmVmLmhhbmRsZUtleURvd24pO1xuICAgICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG5cbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIHVwZGF0ZUxhYmVsVmFsdWUobGFiZWwsIHByb3BzLmNhcHRpb24pO1xuXG4gICAgICAgIC8vIGFkZCFcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgIHJvb3QucmVmLmxhYmVsID0gbGFiZWw7XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVMYWJlbFZhbHVlID0gZnVuY3Rpb24gdXBkYXRlTGFiZWxWYWx1ZShsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgIHZhciBjbGlja2FibGUgPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCcuZmlsZXBvbmQtLWxhYmVsLWFjdGlvbicpO1xuICAgICAgICBpZiAoY2xpY2thYmxlKSB7XG4gICAgICAgICAgICBhdHRyKGNsaWNrYWJsZSwgJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIHZhciBkcm9wTGFiZWwgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgbmFtZTogJ2Ryb3AtbGFiZWwnLFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBjcmVhdGU6IGNyZWF0ZSRiLFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3Q7XG4gICAgICAgICAgICByb290LnJlZi5sYWJlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcm9vdC5yZWYuaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgICAgICBESURfU0VUX0xBQkVMX0lETEU6IGZ1bmN0aW9uIERJRF9TRVRfTEFCRUxfSURMRShfcmVmMykge1xuICAgICAgICAgICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsVmFsdWUocm9vdC5yZWYubGFiZWwsIGFjdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcblxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIHN0eWxlczogWydvcGFjaXR5JywgJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWSddLFxuICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDE1MCB9LFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciBibG9iID0gY3JlYXRlVmlldyh7XG4gICAgICAgIG5hbWU6ICdkcmlwLWJsb2InLFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciBhZGRCbG9iID0gZnVuY3Rpb24gYWRkQmxvYihfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgICB2YXIgY2VudGVyWCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogMC41O1xuICAgICAgICB2YXIgY2VudGVyWSA9IHJvb3QucmVjdC5lbGVtZW50LmhlaWdodCAqIDAuNTtcblxuICAgICAgICByb290LnJlZi5ibG9iID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhibG9iLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICBzY2FsZVg6IDIuNSxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDIuNSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVYOiBjZW50ZXJYLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IGNlbnRlclksXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgbW92ZUJsb2IgPSBmdW5jdGlvbiBtb3ZlQmxvYihfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgICAgICAgYWRkQmxvYih7IHJvb3Q6IHJvb3QgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByb290LnJlZi5ibG9iLnRyYW5zbGF0ZVggPSBhY3Rpb24ucG9zaXRpb24uc2NvcGVMZWZ0O1xuICAgICAgICByb290LnJlZi5ibG9iLnRyYW5zbGF0ZVkgPSBhY3Rpb24ucG9zaXRpb24uc2NvcGVUb3A7XG4gICAgICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVYID0gMTtcbiAgICAgICAgcm9vdC5yZWYuYmxvYi5zY2FsZVkgPSAxO1xuICAgICAgICByb290LnJlZi5ibG9iLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICB2YXIgaGlkZUJsb2IgPSBmdW5jdGlvbiBoaWRlQmxvYihfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDA7XG4gICAgfTtcblxuICAgIHZhciBleHBsb2RlQmxvYiA9IGZ1bmN0aW9uIGV4cGxvZGVCbG9iKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICAgICAgaWYgKCFyb290LnJlZi5ibG9iKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcm9vdC5yZWYuYmxvYi5zY2FsZVggPSAyLjU7XG4gICAgICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVZID0gMi41O1xuICAgICAgICByb290LnJlZi5ibG9iLm9wYWNpdHkgPSAwO1xuICAgIH07XG5cbiAgICB2YXIgd3JpdGUkNyA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHMsXG4gICAgICAgICAgICBhY3Rpb25zID0gX3JlZjUuYWN0aW9ucztcbiAgICAgICAgcm91dGUkNCh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcbiAgICAgICAgdmFyIGJsb2IgPSByb290LnJlZi5ibG9iO1xuXG4gICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA9PT0gMCAmJiBibG9iICYmIGJsb2Iub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcoYmxvYik7XG4gICAgICAgICAgICByb290LnJlZi5ibG9iID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcm91dGUkNCA9IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX0RSQUc6IG1vdmVCbG9iLFxuICAgICAgICBESURfRFJPUDogZXhwbG9kZUJsb2IsXG4gICAgICAgIERJRF9FTkRfRFJBRzogaGlkZUJsb2IsXG4gICAgfSk7XG5cbiAgICB2YXIgZHJpcCA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgICAgICBuYW1lOiAnZHJpcCcsXG4gICAgICAgIHdyaXRlOiB3cml0ZSQ3LFxuICAgIH0pO1xuXG4gICAgdmFyIHNldElucHV0RmlsZXMgPSBmdW5jdGlvbiBzZXRJbnB1dEZpbGVzKGVsZW1lbnQsIGZpbGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBEYXRhVHJhbnNmZXIgaW5zdGFuY2UgYW5kIGFkZCBhIG5ld2x5IGNyZWF0ZWQgZmlsZVxuICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKGZpbGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmlsZShbZmlsZV0sIGZpbGUubmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgRGF0YVRyYW5zZmVyIGZpbGVzIGxpc3QgdG8gdGhlIGZpbGUgaW5wdXRcbiAgICAgICAgICAgIGVsZW1lbnQuZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJGMgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICAgICAgcmV0dXJuIChyb290LnJlZi5maWVsZHMgPSB7fSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWVsZCA9IGZ1bmN0aW9uIGdldEZpZWxkKHJvb3QsIGlkKSB7XG4gICAgICAgIHJldHVybiByb290LnJlZi5maWVsZHNbaWRdO1xuICAgIH07XG5cbiAgICB2YXIgc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zID0gZnVuY3Rpb24gc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zKHJvb3QpIHtcbiAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKCFyb290LnJlZi5maWVsZHNbaXRlbS5pZF0pIHJldHVybjtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5maWVsZHNbaXRlbS5pZF0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFJlb3JkZXJJdGVtcyA9IGZ1bmN0aW9uIGRpZFJlb3JkZXJJdGVtcyhfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3Q7XG4gICAgICAgIHJldHVybiBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG4gICAgfTtcblxuICAgIHZhciBkaWRBZGRJdGVtID0gZnVuY3Rpb24gZGlkQWRkSXRlbShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgICAgIHZhciBmaWxlSXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICAgICAgdmFyIGlzTG9jYWxGaWxlID0gZmlsZUl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMO1xuICAgICAgICB2YXIgc2hvdWxkVXNlRmlsZUlucHV0ID0gIWlzTG9jYWxGaWxlICYmIHJvb3QucXVlcnkoJ1NIT1VMRF9VUERBVEVfRklMRV9JTlBVVCcpO1xuICAgICAgICB2YXIgZGF0YUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQkMSgnaW5wdXQnKTtcbiAgICAgICAgZGF0YUNvbnRhaW5lci50eXBlID0gc2hvdWxkVXNlRmlsZUlucHV0ID8gJ2ZpbGUnIDogJ2hpZGRlbic7XG4gICAgICAgIGRhdGFDb250YWluZXIubmFtZSA9IHJvb3QucXVlcnkoJ0dFVF9OQU1FJyk7XG4gICAgICAgIGRhdGFDb250YWluZXIuZGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgICAgcm9vdC5yZWYuZmllbGRzW2FjdGlvbi5pZF0gPSBkYXRhQ29udGFpbmVyO1xuICAgICAgICBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG4gICAgfTtcblxuICAgIHZhciBkaWRMb2FkSXRlbSQxID0gZnVuY3Rpb24gZGlkTG9hZEl0ZW0oX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgICAgICB2YXIgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm47XG5cbiAgICAgICAgLy8gc3RvcmUgc2VydmVyIHJlZiBpbiBoaWRkZW4gaW5wdXRcbiAgICAgICAgaWYgKGFjdGlvbi5zZXJ2ZXJGaWxlUmVmZXJlbmNlICE9PSBudWxsKSBmaWVsZC52YWx1ZSA9IGFjdGlvbi5zZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgIC8vIHN0b3JlIGZpbGUgaXRlbSBpbiBmaWxlIGlucHV0XG4gICAgICAgIGlmICghcm9vdC5xdWVyeSgnU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUJykpIHJldHVybjtcblxuICAgICAgICB2YXIgZmlsZUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgICAgIHNldElucHV0RmlsZXMoZmllbGQsIFtmaWxlSXRlbS5maWxlXSk7XG4gICAgfTtcblxuICAgIHZhciBkaWRQcmVwYXJlT3V0cHV0ID0gZnVuY3Rpb24gZGlkUHJlcGFyZU91dHB1dChfcmVmNSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNS5hY3Rpb247XG4gICAgICAgIC8vIHRoaXMgdGltZW91dCBwdXNoZXMgdGhlIGhhbmRsZXIgYWZ0ZXIgJ2xvYWQnXG4gICAgICAgIGlmICghcm9vdC5xdWVyeSgnU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUJykpIHJldHVybjtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgICAgICAgICBzZXRJbnB1dEZpbGVzKGZpZWxkLCBbYWN0aW9uLmZpbGVdKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIHZhciBkaWRTZXREaXNhYmxlZCA9IGZ1bmN0aW9uIGRpZFNldERpc2FibGVkKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgICAgcm9vdC5lbGVtZW50LmRpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgfTtcblxuICAgIHZhciBkaWRSZW1vdmVJdGVtID0gZnVuY3Rpb24gZGlkUmVtb3ZlSXRlbShfcmVmNykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgICAgIHZhciBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICAgICAgaWYgKGZpZWxkLnBhcmVudE5vZGUpIGZpZWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmllbGQpO1xuICAgICAgICBkZWxldGUgcm9vdC5yZWYuZmllbGRzW2FjdGlvbi5pZF07XG4gICAgfTtcblxuICAgIC8vIG9ubHkgcnVucyBmb3Igc2VydmVyIGZpbGVzLiB3aWxsIHJlZnVzZSB0byB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBmaWVsZFxuICAgIC8vIGlzIGEgZmlsZSBmaWVsZFxuICAgIHZhciBkaWREZWZpbmVWYWx1ZSA9IGZ1bmN0aW9uIGRpZERlZmluZVZhbHVlKF9yZWY4KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY4LmFjdGlvbjtcbiAgICAgICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuICAgICAgICBpZiAoYWN0aW9uLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBjbGVhciBmaWVsZCB2YWx1ZVxuICAgICAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2V0IGZpZWxkIHZhbHVlXG4gICAgICAgICAgICBpZiAoZmllbGQudHlwZSAhPSAnZmlsZScpIHtcbiAgICAgICAgICAgICAgICBmaWVsZC52YWx1ZSA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSQ4ID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfU0VUX0RJU0FCTEVEOiBkaWRTZXREaXNhYmxlZCxcbiAgICAgICAgRElEX0FERF9JVEVNOiBkaWRBZGRJdGVtLFxuICAgICAgICBESURfTE9BRF9JVEVNOiBkaWRMb2FkSXRlbSQxLFxuICAgICAgICBESURfUkVNT1ZFX0lURU06IGRpZFJlbW92ZUl0ZW0sXG4gICAgICAgIERJRF9ERUZJTkVfVkFMVUU6IGRpZERlZmluZVZhbHVlLFxuICAgICAgICBESURfUFJFUEFSRV9PVVRQVVQ6IGRpZFByZXBhcmVPdXRwdXQsXG4gICAgICAgIERJRF9SRU9SREVSX0lURU1TOiBkaWRSZW9yZGVySXRlbXMsXG4gICAgICAgIERJRF9TT1JUX0lURU1TOiBkaWRSZW9yZGVySXRlbXMsXG4gICAgfSk7XG5cbiAgICB2YXIgZGF0YSA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICB0YWc6ICdmaWVsZHNldCcsXG4gICAgICAgIG5hbWU6ICdkYXRhJyxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkYyxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDgsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0Um9vdE5vZGUgPSBmdW5jdGlvbiBnZXRSb290Tm9kZShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAnZ2V0Um9vdE5vZGUnIGluIGVsZW1lbnQgPyBlbGVtZW50LmdldFJvb3ROb2RlKCkgOiBkb2N1bWVudDtcbiAgICB9O1xuXG4gICAgdmFyIGltYWdlcyA9IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICdibXAnLCAnd2VicCcsICdzdmcnLCAndGlmZiddO1xuICAgIHZhciB0ZXh0JDEgPSBbJ2NzcycsICdjc3YnLCAnaHRtbCcsICd0eHQnXTtcbiAgICB2YXIgbWFwID0ge1xuICAgICAgICB6aXA6ICd6aXB8Y29tcHJlc3NlZCcsXG4gICAgICAgIGVwdWI6ICdhcHBsaWNhdGlvbi9lcHViK3ppcCcsXG4gICAgfTtcblxuICAgIHZhciBndWVzc3RpbWF0ZU1pbWVUeXBlID0gZnVuY3Rpb24gZ3Vlc3N0aW1hdGVNaW1lVHlwZSgpIHtcbiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoaW1hZ2VzLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgJ2ltYWdlLycgK1xuICAgICAgICAgICAgICAgIChleHRlbnNpb24gPT09ICdqcGcnID8gJ2pwZWcnIDogZXh0ZW5zaW9uID09PSAnc3ZnJyA/ICdzdmcreG1sJyA6IGV4dGVuc2lvbilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHQkMS5pbmNsdWRlcyhleHRlbnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHQvJyArIGV4dGVuc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBbZXh0ZW5zaW9uXSB8fCAnJztcbiAgICB9O1xuXG4gICAgdmFyIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyA9IGZ1bmN0aW9uIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCBsaW5rcyBmcm9tIHRyYW5zZmVyLCBpZiBmb3VuZCB3ZSdsbCBleGl0IGltbWVkaWF0ZWx5ICh1bmxlc3MgYSBmaWxlIGlzIGluIHRoZSBkYXRhVHJhbnNmZXIgYXMgd2VsbCwgdGhpcyBpcyBiZWNhdXNlIEZpcmVmb3ggY291bGQgcmVwcmVzZW50IHRoZSBmaWxlIGFzIGEgVVJMIGFuZCBhIGZpbGUgb2JqZWN0IGF0IHRoZSBzYW1lIHRpbWUpXG4gICAgICAgICAgICB2YXIgbGlua3MgPSBnZXRMaW5rcyhkYXRhVHJhbnNmZXIpO1xuICAgICAgICAgICAgaWYgKGxpbmtzLmxlbmd0aCAmJiAhaGFzRmlsZXMoZGF0YVRyYW5zZmVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGxpbmtzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgZmlsZXMgZnJvbSB0aGUgdHJhbnNmZXJcbiAgICAgICAgICAgIGdldEZpbGVzKGRhdGFUcmFuc2ZlcikudGhlbihyZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgZGF0YXRyYW5zZmVyIGhhcyBmaWxlc1xuICAgICAqL1xuICAgIHZhciBoYXNGaWxlcyA9IGZ1bmN0aW9uIGhhc0ZpbGVzKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICBpZiAoZGF0YVRyYW5zZmVyLmZpbGVzKSByZXR1cm4gZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgZmlsZXMgZnJvbSBhIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICAgKi9cbiAgICB2YXIgZ2V0RmlsZXMgPSBmdW5jdGlvbiBnZXRGaWxlcyhkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSB0cmFuc2ZlciBpdGVtcyBhcyBwcm9taXNlc1xuICAgICAgICAgICAgdmFyIHByb21pc2VkRmlsZXMgPSAoZGF0YVRyYW5zZmVyLml0ZW1zID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuaXRlbXMpIDogW10pXG4gICAgICAgICAgICAgICAgLy8gb25seSBrZWVwIGZpbGUgc3lzdGVtIGl0ZW1zIChmaWxlcyBhbmQgZGlyZWN0b3JpZXMpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0ZpbGVTeXN0ZW1JdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAvLyBtYXAgZWFjaCBpdGVtIHRvIHByb21pc2VcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpbGVzRnJvbUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGVtcHR5LCBzZWUgaWYgd2UgY2FuIGV4dHJhY3Qgc29tZSBpbmZvIGZyb20gdGhlIGZpbGVzIHByb3BlcnR5IGFzIGEgZmFsbGJhY2tcbiAgICAgICAgICAgIGlmICghcHJvbWlzZWRGaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IGZvciBkaXJlY3RvcmllcyAoc2hvdWxkIG5vdCBiZSBhbGxvd2VkKVxuICAgICAgICAgICAgICAgIC8vIFVzZSBGaWxlUmVhZGVyLCBwcm9ibGVtIGlzIHRoYXQgdGhlIGZpbGVzIHByb3BlcnR5IGdldHMgbG9zdCBpbiB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YVRyYW5zZmVyLmZpbGVzID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpIDogW10pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VkRmlsZXMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0dXJuZWRGaWxlR3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gZ3JvdXBzXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5lZEZpbGVHcm91cHMuZm9yRWFjaChmdW5jdGlvbihncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaC5hcHBseShmaWxlcywgZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBkb25lIChmaWx0ZXIgb3V0IGVtcHR5IGZpbGVzKSFcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZS5fcmVsYXRpdmVQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgaXNGaWxlU3lzdGVtSXRlbSA9IGZ1bmN0aW9uIGlzRmlsZVN5c3RlbUl0ZW0oaXRlbSkge1xuICAgICAgICBpZiAoaXNFbnRyeShpdGVtKSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gZ2V0QXNFbnRyeShpdGVtKTtcbiAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS5pc0ZpbGUgfHwgZW50cnkuaXNEaXJlY3Rvcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW0ua2luZCA9PT0gJ2ZpbGUnO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZXNGcm9tSXRlbSA9IGZ1bmN0aW9uIGdldEZpbGVzRnJvbUl0ZW0oaXRlbSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaXNEaXJlY3RvcnlFbnRyeShpdGVtKSkge1xuICAgICAgICAgICAgICAgIGdldEZpbGVzSW5EaXJlY3RvcnkoZ2V0QXNFbnRyeShpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNvbHZlKFtpdGVtLmdldEFzRmlsZSgpXSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZXNJbkRpcmVjdG9yeSA9IGZ1bmN0aW9uIGdldEZpbGVzSW5EaXJlY3RvcnkoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGZpbGVzID0gW107XG5cbiAgICAgICAgICAgIC8vIHRoZSB0b3RhbCBlbnRyaWVzIHRvIHJlYWRcbiAgICAgICAgICAgIHZhciBkaXJDb3VudGVyID0gMDtcbiAgICAgICAgICAgIHZhciBmaWxlQ291bnRlciA9IDA7XG5cbiAgICAgICAgICAgIHZhciByZXNvbHZlSWZEb25lID0gZnVuY3Rpb24gcmVzb2x2ZUlmRG9uZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZUNvdW50ZXIgPT09IDAgJiYgZGlyQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyB0aGUgcmVjdXJzaXZlIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgcmVhZEVudHJpZXMgPSBmdW5jdGlvbiByZWFkRW50cmllcyhkaXJFbnRyeSkge1xuICAgICAgICAgICAgICAgIGRpckNvdW50ZXIrKztcblxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RvcnlSZWFkZXIgPSBkaXJFbnRyeS5jcmVhdGVSZWFkZXIoKTtcblxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdG9yaWVzIGFyZSByZXR1cm5lZCBpbiBiYXRjaGVzLCB3ZSBuZWVkIHRvIHByb2Nlc3MgYWxsIGJhdGNoZXMgYmVmb3JlIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICB2YXIgcmVhZEJhdGNoID0gZnVuY3Rpb24gcmVhZEJhdGNoKCkge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RvcnlSZWFkZXIucmVhZEVudHJpZXMoZnVuY3Rpb24oZW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHJlYWQgbW9yZSBkaXJlY3Rvcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkRW50cmllcyhlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBhcyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDb3VudGVyKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuZmlsZShmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29ycmVjdGVkRmlsZSA9IGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZnVsbFBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdGVkRmlsZS5fcmVsYXRpdmVQYXRoID0gZW50cnkuZnVsbFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGNvcnJlY3RlZEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgbmV4dCBiYXRjaCBvZiBmaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZEJhdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHJlYWQgZmlyc3QgYmF0Y2ggb2YgZmlsZXNcbiAgICAgICAgICAgICAgICByZWFkQmF0Y2goKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGdvIVxuICAgICAgICAgICAgcmVhZEVudHJpZXMoZW50cnkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUgPSBmdW5jdGlvbiBjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlKGZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUudHlwZS5sZW5ndGgpIHJldHVybiBmaWxlO1xuICAgICAgICB2YXIgZGF0ZSA9IGZpbGUubGFzdE1vZGlmaWVkRGF0ZTtcbiAgICAgICAgdmFyIG5hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgIHZhciB0eXBlID0gZ3Vlc3N0aW1hdGVNaW1lVHlwZShnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZS5uYW1lKSk7XG4gICAgICAgIGlmICghdHlwZS5sZW5ndGgpIHJldHVybiBmaWxlO1xuICAgICAgICBmaWxlID0gZmlsZS5zbGljZSgwLCBmaWxlLnNpemUsIHR5cGUpO1xuICAgICAgICBmaWxlLm5hbWUgPSBuYW1lO1xuICAgICAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBkYXRlO1xuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRGlyZWN0b3J5RW50cnkgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeUVudHJ5KGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGlzRW50cnkoaXRlbSkgJiYgKGdldEFzRW50cnkoaXRlbSkgfHwge30pLmlzRGlyZWN0b3J5O1xuICAgIH07XG5cbiAgICB2YXIgaXNFbnRyeSA9IGZ1bmN0aW9uIGlzRW50cnkoaXRlbSkge1xuICAgICAgICByZXR1cm4gJ3dlYmtpdEdldEFzRW50cnknIGluIGl0ZW07XG4gICAgfTtcblxuICAgIHZhciBnZXRBc0VudHJ5ID0gZnVuY3Rpb24gZ2V0QXNFbnRyeShpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLndlYmtpdEdldEFzRW50cnkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgbGlua3MgZnJvbSBhIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICAgKi9cbiAgICB2YXIgZ2V0TGlua3MgPSBmdW5jdGlvbiBnZXRMaW5rcyhkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgdmFyIGxpbmtzID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBsb29rIGluIG1ldGEgZGF0YSBwcm9wZXJ0eVxuICAgICAgICAgICAgbGlua3MgPSBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlua3MgPSBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEoZGF0YVRyYW5zZmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9wZSBub3BlIG5vcGUgKHByb2JhYmx5IElFIHRyb3VibGUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmtzO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhID0gZnVuY3Rpb24gZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICB2YXIgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd1cmwnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtkYXRhXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcblxuICAgIHZhciBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhID0gZnVuY3Rpb24gZ2V0TGlua3NGcm9tVHJhbnNmZXJNZXRhRGF0YShkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9odG1sJyk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YS5tYXRjaCgvc3JjXFxzKj1cXHMqXCIoLis/KVwiLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBbbWF0Y2hlc1sxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG5cbiAgICB2YXIgZHJhZ05Ecm9wT2JzZXJ2ZXJzID0gW107XG5cbiAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIGV2ZW50UG9zaXRpb24oZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFnZUxlZnQ6IGUucGFnZVgsXG4gICAgICAgICAgICBwYWdlVG9wOiBlLnBhZ2VZLFxuICAgICAgICAgICAgc2NvcGVMZWZ0OiBlLm9mZnNldFggfHwgZS5sYXllclgsXG4gICAgICAgICAgICBzY29wZVRvcDogZS5vZmZzZXRZIHx8IGUubGF5ZXJZLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRHJhZ05Ecm9wQ2xpZW50ID0gZnVuY3Rpb24gY3JlYXRlRHJhZ05Ecm9wQ2xpZW50KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBzY29wZVRvT2JzZXJ2ZSxcbiAgICAgICAgZmlsdGVyRWxlbWVudFxuICAgICkge1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBnZXREcmFnTkRyb3BPYnNlcnZlcihzY29wZVRvT2JzZXJ2ZSk7XG5cbiAgICAgICAgdmFyIGNsaWVudCA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBmaWx0ZXJFbGVtZW50OiBmaWx0ZXJFbGVtZW50LFxuICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICBvbmRyb3A6IGZ1bmN0aW9uIG9uZHJvcCgpIHt9LFxuICAgICAgICAgICAgb25lbnRlcjogZnVuY3Rpb24gb25lbnRlcigpIHt9LFxuICAgICAgICAgICAgb25kcmFnOiBmdW5jdGlvbiBvbmRyYWcoKSB7fSxcbiAgICAgICAgICAgIG9uZXhpdDogZnVuY3Rpb24gb25leGl0KCkge30sXG4gICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9LFxuICAgICAgICAgICAgYWxsb3dkcm9wOiBmdW5jdGlvbiBhbGxvd2Ryb3AoKSB7fSxcbiAgICAgICAgfTtcblxuICAgICAgICBjbGllbnQuZGVzdHJveSA9IG9ic2VydmVyLmFkZExpc3RlbmVyKGNsaWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICB9O1xuXG4gICAgdmFyIGdldERyYWdORHJvcE9ic2VydmVyID0gZnVuY3Rpb24gZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIoZWxlbWVudCkge1xuICAgICAgICAvLyBzZWUgaWYgYWxyZWFkeSBleGlzdHMsIGlmIHNvLCByZXR1cm5cbiAgICAgICAgdmFyIG9ic2VydmVyID0gZHJhZ05Ecm9wT2JzZXJ2ZXJzLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyBvYnNlcnZlciwgZG9lcyBub3QgeWV0IGV4aXN0IGZvciB0aGlzIGVsZW1lbnRcbiAgICAgICAgdmFyIG5ld09ic2VydmVyID0gY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIoZWxlbWVudCk7XG4gICAgICAgIGRyYWdORHJvcE9ic2VydmVycy5wdXNoKG5ld09ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIG5ld09ic2VydmVyO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIgPSBmdW5jdGlvbiBjcmVhdGVEcmFnTkRyb3BPYnNlcnZlcihlbGVtZW50KSB7XG4gICAgICAgIHZhciBjbGllbnRzID0gW107XG5cbiAgICAgICAgdmFyIHJvdXRlcyA9IHtcbiAgICAgICAgICAgIGRyYWdlbnRlcjogZHJhZ2VudGVyLFxuICAgICAgICAgICAgZHJhZ292ZXI6IGRyYWdvdmVyLFxuICAgICAgICAgICAgZHJhZ2xlYXZlOiBkcmFnbGVhdmUsXG4gICAgICAgICAgICBkcm9wOiBkcm9wLFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHt9O1xuXG4gICAgICAgIGZvcmluKHJvdXRlcywgZnVuY3Rpb24oZXZlbnQsIGNyZWF0ZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGNyZWF0ZUhhbmRsZXIoZWxlbWVudCwgY2xpZW50cyk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXJzW2V2ZW50XSwgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgYWRkTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGNsaWVudCkge1xuICAgICAgICAgICAgICAgIC8vIGFkZCBhcyBjbGllbnRcbiAgICAgICAgICAgICAgICBjbGllbnRzLnB1c2goY2xpZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIHJldHVybiByZW1vdmVMaXN0ZW5lciBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRzLnNwbGljZShjbGllbnRzLmluZGV4T2YoY2xpZW50KSwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbm8gbW9yZSBjbGllbnRzLCBjbGVhbiB1cCBvYnNlcnZlclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdORHJvcE9ic2VydmVycy5zcGxpY2UoZHJhZ05Ecm9wT2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yaW4ocm91dGVzLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcnNbZXZlbnRdLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuXG4gICAgdmFyIGVsZW1lbnRGcm9tUG9pbnQgPSBmdW5jdGlvbiBlbGVtZW50RnJvbVBvaW50KHJvb3QsIHBvaW50KSB7XG4gICAgICAgIGlmICghKCdlbGVtZW50RnJvbVBvaW50JyBpbiByb290KSkge1xuICAgICAgICAgICAgcm9vdCA9IGRvY3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb290LmVsZW1lbnRGcm9tUG9pbnQocG9pbnQueCwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIHZhciBpc0V2ZW50VGFyZ2V0ID0gZnVuY3Rpb24gaXNFdmVudFRhcmdldChlLCB0YXJnZXQpIHtcbiAgICAgICAgLy8gZ2V0IHJvb3RcbiAgICAgICAgdmFyIHJvb3QgPSBnZXRSb290Tm9kZSh0YXJnZXQpO1xuXG4gICAgICAgIC8vIGdldCBlbGVtZW50IGF0IHBvc2l0aW9uXG4gICAgICAgIC8vIGlmIHJvb3QgaXMgbm90IGFjdHVhbCBzaGFkb3cgRE9NIGFuZCBkb2VzIG5vdCBoYXZlIGVsZW1lbnRGcm9tUG9pbnQgbWV0aG9kLCB1c2UgdGhlIG9uZSBvbiBkb2N1bWVudFxuICAgICAgICB2YXIgZWxlbWVudEF0UG9zaXRpb24gPSBlbGVtZW50RnJvbVBvaW50KHJvb3QsIHtcbiAgICAgICAgICAgIHg6IGUucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgICAgICB5OiBlLnBhZ2VZIC0gd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0ZXN0IGlmIHRhcmdldCBpcyB0aGUgZWxlbWVudCBvciBpZiBvbmUgb2YgaXRzIGNoaWxkcmVuIGlzXG4gICAgICAgIHJldHVybiBlbGVtZW50QXRQb3NpdGlvbiA9PT0gdGFyZ2V0IHx8IHRhcmdldC5jb250YWlucyhlbGVtZW50QXRQb3NpdGlvbik7XG4gICAgfTtcblxuICAgIHZhciBpbml0aWFsVGFyZ2V0ID0gbnVsbDtcblxuICAgIHZhciBzZXREcm9wRWZmZWN0ID0gZnVuY3Rpb24gc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsIGVmZmVjdCkge1xuICAgICAgICAvLyBpcyBpbiB0cnkgY2F0Y2ggYXMgSUUxMSB3aWxsIHRocm93IGVycm9yIGlmIG5vdFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBlZmZlY3Q7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfTtcblxuICAgIHZhciBkcmFnZW50ZXIgPSBmdW5jdGlvbiBkcmFnZW50ZXIocm9vdCwgY2xpZW50cykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpbml0aWFsVGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgICAgICAgICAgIGNsaWVudHMuZm9yRWFjaChmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBvbmVudGVyID0gY2xpZW50Lm9uZW50ZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnZW50ZXInO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcmUgZW50ZXIgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgb25lbnRlcihldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdvdmVyID0gZnVuY3Rpb24gZHJhZ292ZXIocm9vdCwgY2xpZW50cykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICAgICAgICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhkYXRhVHJhbnNmZXIpLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3ZlckRyb3BUYXJnZXQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNsaWVudHMuc29tZShmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlckVsZW1lbnQgPSBjbGllbnQuZmlsdGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBjbGllbnQuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZW50ZXIgPSBjbGllbnQub25lbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXhpdCA9IGNsaWVudC5vbmV4aXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmRyYWcgPSBjbGllbnQub25kcmFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dkcm9wID0gY2xpZW50LmFsbG93ZHJvcDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBieSBkZWZhdWx0IHdlIGNhbiBkcm9wXG4gICAgICAgICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnY29weScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IHRyYW5zZmVyIG9mIHRoZXNlIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxvd3NUcmFuc2ZlciA9IGFsbG93ZHJvcChpdGVtcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSB1c2VkIHdoZW4gY2FuIGJlIGRyb3BwZWQgb24gcGFnZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93c1RyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXREcm9wRWZmZWN0KGRhdGFUcmFuc2ZlciwgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRhcmdldHRpbmcgdGhpcyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXZlbnRUYXJnZXQoZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJEcm9wVGFyZ2V0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFkIG5vIHByZXZpb3VzIHN0YXRlLCBtZWFucyB3ZSBhcmUgZW50ZXJpbmcgdGhpcyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnQuc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZW50ZXIoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgb3ZlciBlbGVtZW50IChubyBtYXR0ZXIgaWYgaXQgYWxsb3dzIHRoZSBkcm9wIG9yIG5vdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdvdmVyJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZHMgdG8gYWxsb3cgdHJhbnNmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJFbGVtZW50ICYmICFhbGxvd3NUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZHJhZ2dpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZHJhZyhldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBvdmVyIGFuIGVsZW1lbnQgdG8gZHJvcFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIW92ZXJEcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1pZ2h0IGhhdmUganVzdCBsZWZ0IHRoaXMgY2xpZW50P1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKHJvb3QsIGNsaWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuXG4gICAgICAgICAgICByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMoZGF0YVRyYW5zZmVyKS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IGNsaWVudC5maWx0ZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25kcm9wID0gY2xpZW50Lm9uZHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXhpdCA9IGNsaWVudC5vbmV4aXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd2Ryb3AgPSBjbGllbnQuYWxsb3dkcm9wO1xuXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgZmlsdGVyaW5nIG9uIGVsZW1lbnQgd2UgbmVlZCB0byBiZSBvdmVyIHRoZSBlbGVtZW50IHRvIGRyb3BcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIWlzRXZlbnRUYXJnZXQoZSwgZWxlbWVudCkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBubyB0cmFuc2ZlciBmb3IgdGhpcyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd2Ryb3AoaXRlbXMpKSByZXR1cm4gb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBkcm9wIHRoZXNlIGl0ZW1zIG9uIHRoaXMgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgIG9uZHJvcChldmVudFBvc2l0aW9uKGUpLCBpdGVtcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdsZWF2ZSA9IGZ1bmN0aW9uIGRyYWdsZWF2ZShyb290LCBjbGllbnRzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsaWVudHMuZm9yRWFjaChmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb25leGl0ID0gY2xpZW50Lm9uZXhpdDtcblxuICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUhvcHBlciA9IGZ1bmN0aW9uIGNyZWF0ZUhvcHBlcihzY29wZSwgdmFsaWRhdGVJdGVtcywgb3B0aW9ucykge1xuICAgICAgICAvLyBpcyBub3cgaG9wcGVyIHNjb3BlXG4gICAgICAgIHNjb3BlLmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS1ob3BwZXInKTtcblxuICAgICAgICAvLyBzaG9ydGN1dHNcbiAgICAgICAgdmFyIGNhdGNoZXNEcm9wc09uUGFnZSA9IG9wdGlvbnMuY2F0Y2hlc0Ryb3BzT25QYWdlLFxuICAgICAgICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50ID0gb3B0aW9ucy5yZXF1aXJlc0Ryb3BPbkVsZW1lbnQsXG4gICAgICAgICAgICBfb3B0aW9ucyRmaWx0ZXJJdGVtcyA9IG9wdGlvbnMuZmlsdGVySXRlbXMsXG4gICAgICAgICAgICBmaWx0ZXJJdGVtcyA9XG4gICAgICAgICAgICAgICAgX29wdGlvbnMkZmlsdGVySXRlbXMgPT09IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogX29wdGlvbnMkZmlsdGVySXRlbXM7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgZG5kIGNsaWVudFxuICAgICAgICB2YXIgY2xpZW50ID0gY3JlYXRlRHJhZ05Ecm9wQ2xpZW50KFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBjYXRjaGVzRHJvcHNPblBhZ2UgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBzY29wZSxcbiAgICAgICAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGN1cnJlbnQgY2xpZW50IHN0YXRlXG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSAnJztcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9ICcnO1xuXG4gICAgICAgIC8vIGRldGVybWluZXMgaWYgYSBmaWxlIG1heSBiZSBkcm9wcGVkXG4gICAgICAgIGNsaWVudC5hbGxvd2Ryb3AgPSBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgLy8gVE9ETzogaWYgd2UgY2FuLCB0aHJvdyBlcnJvciB0byBpbmRpY2F0ZSB0aGUgaXRlbXMgY2Fubm90IGJ5IGRyb3BwZWRcblxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlSXRlbXMoZmlsdGVySXRlbXMoaXRlbXMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjbGllbnQub25kcm9wID0gZnVuY3Rpb24ocG9zaXRpb24sIGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWRJdGVtcyA9IGZpbHRlckl0ZW1zKGl0ZW1zKTtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUl0ZW1zKGZpbHRlcmVkSXRlbXMpKSB7XG4gICAgICAgICAgICAgICAgYXBpLm9uZHJhZ2VuZChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1kcm9wJztcblxuICAgICAgICAgICAgYXBpLm9ubG9hZChmaWx0ZXJlZEl0ZW1zLCBwb3NpdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY2xpZW50Lm9uZHJhZyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBhcGkub25kcmFnKHBvc2l0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjbGllbnQub25lbnRlciA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1vdmVyJztcblxuICAgICAgICAgICAgYXBpLm9uZHJhZ3N0YXJ0KHBvc2l0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjbGllbnQub25leGl0ID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWV4aXQnO1xuXG4gICAgICAgICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgdXBkYXRlSG9wcGVyU3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZUhvcHBlclN0YXRlKCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhdGUgIT09IGN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhc2V0LmhvcHBlclN0YXRlID0gY3VycmVudFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKCkge30sXG4gICAgICAgICAgICBvbmRyYWdzdGFydDogZnVuY3Rpb24gb25kcmFnc3RhcnQoKSB7fSxcbiAgICAgICAgICAgIG9uZHJhZzogZnVuY3Rpb24gb25kcmFnKCkge30sXG4gICAgICAgICAgICBvbmRyYWdlbmQ6IGZ1bmN0aW9uIG9uZHJhZ2VuZCgpIHt9LFxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAvLyBkZXN0cm95IGNsaWVudFxuICAgICAgICAgICAgICAgIGNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICB2YXIgbGlzdGVuZXJzJDEgPSBbXTtcblxuICAgIHZhciBoYW5kbGVQYXN0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBhc3RlKGUpIHtcbiAgICAgICAgLy8gaWYgaXMgcGFzdGluZyBpbiBpbnB1dCBvciB0ZXh0YXJlYSBhbmQgdGhlIHRhcmdldCBpcyBvdXRzaWRlIG9mIGEgZmlsZXBvbmQgc2NvcGUsIGlnbm9yZVxuICAgICAgICB2YXIgYWN0aXZlRWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICBpZiAoYWN0aXZlRWwgJiYgL3RleHRhcmVhfGlucHV0L2kudGVzdChhY3RpdmVFbC5ub2RlTmFtZSkpIHtcbiAgICAgICAgICAgIC8vIHRlc3QgdGV4dGFyZWEgb3IgaW5wdXQgaXMgY29udGFpbmVkIGluIGZpbGVwb25kIHJvb3RcbiAgICAgICAgICAgIHZhciBpblNjb3BlID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUVsO1xuICAgICAgICAgICAgd2hpbGUgKGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpbGVwb25kLS1yb290JykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5TY29wZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWluU2NvcGUpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhlLmNsaXBib2FyZERhdGEpLnRoZW4oZnVuY3Rpb24oZmlsZXMpIHtcbiAgICAgICAgICAgIC8vIG5vIGZpbGVzIHJlY2VpdmVkXG4gICAgICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyBvZiByZWNlaXZlZCBmaWxlc1xuICAgICAgICAgICAgbGlzdGVuZXJzJDEuZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcihmaWxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4oY2IpIHtcbiAgICAgICAgLy8gY2FuJ3QgYWRkIHR3aWNlXG4gICAgICAgIGlmIChsaXN0ZW5lcnMkMS5pbmNsdWRlcyhjYikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBpbml0aWFsIGxpc3RlbmVyXG4gICAgICAgIGxpc3RlbmVycyQxLnB1c2goY2IpO1xuXG4gICAgICAgIC8vIHNldHVwIHBhc3RlIGxpc3RlbmVyIGZvciBlbnRpcmUgcGFnZVxuICAgICAgICBpZiAobGlzdGVuaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICB9O1xuXG4gICAgdmFyIHVubGlzdGVuID0gZnVuY3Rpb24gdW5saXN0ZW4obGlzdGVuZXIpIHtcbiAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzJDEsIGxpc3RlbmVycyQxLmluZGV4T2YobGlzdGVuZXIpKTtcblxuICAgICAgICAvLyBjbGVhbiB1cFxuICAgICAgICBpZiAobGlzdGVuZXJzJDEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICAgICAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVQYXN0ZXIgPSBmdW5jdGlvbiBjcmVhdGVQYXN0ZXIoKSB7XG4gICAgICAgIHZhciBjYiA9IGZ1bmN0aW9uIGNiKGZpbGVzKSB7XG4gICAgICAgICAgICBhcGkub25sb2FkKGZpbGVzKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB1bmxpc3RlbihjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoKSB7fSxcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW4oY2IpO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgICAqL1xuICAgIHZhciBjcmVhdGUkZCA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICByb290LmVsZW1lbnQuaWQgPSAnZmlsZXBvbmQtLWFzc2lzdGFudC0nICsgcHJvcHMuaWQ7XG4gICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAncm9sZScsICdzdGF0dXMnKTtcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICB9O1xuXG4gICAgdmFyIGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCA9IG51bGw7XG4gICAgdmFyIG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCA9IG51bGw7XG5cbiAgICB2YXIgZmlsZW5hbWVzID0gW107XG5cbiAgICB2YXIgYXNzaXN0ID0gZnVuY3Rpb24gYXNzaXN0KHJvb3QsIG1lc3NhZ2UpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICB9O1xuXG4gICAgdmFyIGNsZWFyJDEgPSBmdW5jdGlvbiBjbGVhcihyb290KSB7XG4gICAgICAgIHJvb3QuZWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH07XG5cbiAgICB2YXIgbGlzdE1vZGlmaWVkID0gZnVuY3Rpb24gbGlzdE1vZGlmaWVkKHJvb3QsIGZpbGVuYW1lLCBsYWJlbCkge1xuICAgICAgICB2YXIgdG90YWwgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICAgICAgYXNzaXN0KFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGxhYmVsICtcbiAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lICtcbiAgICAgICAgICAgICAgICAnLCAnICtcbiAgICAgICAgICAgICAgICB0b3RhbCArXG4gICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAodG90YWwgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9TSU5HVUxBUicpXG4gICAgICAgICAgICAgICAgICAgIDogcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfQ09VTlRfUExVUkFMJykpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY2xlYXIgZ3JvdXAgYWZ0ZXIgc2V0IGFtb3VudCBvZiB0aW1lIHNvIHRoZSBzdGF0dXMgaXMgbm90IHJlYWQgdHdpY2VcbiAgICAgICAgY2xlYXJUaW1lb3V0KG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCk7XG4gICAgICAgIG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhciQxKHJvb3QpO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzVXNpbmdGaWxlUG9uZCA9IGZ1bmN0aW9uIGlzVXNpbmdGaWxlUG9uZChyb290KSB7XG4gICAgICAgIHJldHVybiByb290LmVsZW1lbnQucGFyZW50Tm9kZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICB9O1xuXG4gICAgdmFyIGl0ZW1BZGRlZCA9IGZ1bmN0aW9uIGl0ZW1BZGRlZChfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgIGlmICghaXNVc2luZ0ZpbGVQb25kKHJvb3QpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgICAgIGZpbGVuYW1lcy5wdXNoKGl0ZW0uZmlsZW5hbWUpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dChhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQpO1xuICAgICAgICBhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGlzdE1vZGlmaWVkKHJvb3QsIGZpbGVuYW1lcy5qb2luKCcsICcpLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9BRERFRCcpKTtcblxuICAgICAgICAgICAgZmlsZW5hbWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH0sIDc1MCk7XG4gICAgfTtcblxuICAgIHZhciBpdGVtUmVtb3ZlZCA9IGZ1bmN0aW9uIGl0ZW1SZW1vdmVkKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICAgICAgaWYgKCFpc1VzaW5nRmlsZVBvbmQocm9vdCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVtID0gYWN0aW9uLml0ZW07XG4gICAgICAgIGxpc3RNb2RpZmllZChyb290LCBpdGVtLmZpbGVuYW1lLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9SRU1PVkVEJykpO1xuICAgIH07XG5cbiAgICB2YXIgaXRlbVByb2Nlc3NlZCA9IGZ1bmN0aW9uIGl0ZW1Qcm9jZXNzZWQoX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgICAgICAvLyB3aWxsIGFsc28gbm90aWZ5IHRoZSB1c2VyIHdoZW4gRmlsZVBvbmQgaXMgbm90IGJlaW5nIHVzZWQsIGFzIHRoZSB1c2VyIG1pZ2h0IGJlIG9jY3VwaWVkIHdpdGggb3RoZXIgYWN0aXZpdGllcyB3aGlsZSB1cGxvYWRpbmcgYSBmaWxlXG5cbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IGl0ZW0uZmlsZW5hbWU7XG4gICAgICAgIHZhciBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQ09NUExFVEUnKTtcblxuICAgICAgICBhc3Npc3Qocm9vdCwgZmlsZW5hbWUgKyAnICcgKyBsYWJlbCk7XG4gICAgfTtcblxuICAgIHZhciBpdGVtUHJvY2Vzc2VkVW5kbyA9IGZ1bmN0aW9uIGl0ZW1Qcm9jZXNzZWRVbmRvKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IGl0ZW0uZmlsZW5hbWU7XG4gICAgICAgIHZhciBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQUJPUlRFRCcpO1xuXG4gICAgICAgIGFzc2lzdChyb290LCBmaWxlbmFtZSArICcgJyArIGxhYmVsKTtcbiAgICB9O1xuXG4gICAgdmFyIGl0ZW1FcnJvciA9IGZ1bmN0aW9uIGl0ZW1FcnJvcihfcmVmNikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNi5hY3Rpb247XG4gICAgICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuXG4gICAgICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgICAgICBhc3Npc3Qocm9vdCwgYWN0aW9uLnN0YXR1cy5tYWluICsgJyAnICsgZmlsZW5hbWUgKyAnICcgKyBhY3Rpb24uc3RhdHVzLnN1Yik7XG4gICAgfTtcblxuICAgIHZhciBhc3Npc3RhbnQgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkZCxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGl0ZW1BZGRlZCxcbiAgICAgICAgICAgIERJRF9SRU1PVkVfSVRFTTogaXRlbVJlbW92ZWQsXG4gICAgICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkLFxuXG4gICAgICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcbiAgICAgICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcblxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBpdGVtRXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICAgIH0pLFxuXG4gICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICBuYW1lOiAnYXNzaXN0YW50JyxcbiAgICB9KTtcblxuICAgIHZhciB0b0NhbWVscyA9IGZ1bmN0aW9uIHRvQ2FtZWxzKHN0cmluZykge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLSc7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKHNlcGFyYXRvciArICcuJywgJ2cnKSwgZnVuY3Rpb24oc3ViKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ViLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoZnVuYykge1xuICAgICAgICB2YXIgaW50ZXJ2YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE2O1xuICAgICAgICB2YXIgaW1taWRpYXRlT25seSA9XG4gICAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgICAgIHZhciBsYXN0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgICAgICAgIHZhciBkaXN0ID0gRGF0ZS5ub3coKSAtIGxhc3Q7XG5cbiAgICAgICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkaXN0IDwgaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGF5IGJ5IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gaW50ZXJ2YWwgYW5kIGRpc3RcbiAgICAgICAgICAgICAgICAvLyBmb3IgZXhhbXBsZTogaWYgZGlzdGFuY2UgaXMgMTAgbXMgYW5kIGludGVydmFsIGlzIDE2IG1zLFxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gd2FpdCBhbiBhZGRpdGlvbmFsIDZtcyBiZWZvcmUgY2FsbGluZyB0aGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgaWYgKCFpbW1pZGlhdGVPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCBpbnRlcnZhbCAtIGRpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZ28hXG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIE1BWF9GSUxFU19MSU1JVCA9IDEwMDAwMDA7XG5cbiAgICB2YXIgcHJldmVudCA9IGZ1bmN0aW9uIHByZXZlbnQoZSkge1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJGUgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgLy8gQWRkIGlkXG4gICAgICAgIHZhciBpZCA9IHJvb3QucXVlcnkoJ0dFVF9JRCcpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5pZCA9IGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGNsYXNzTmFtZVxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gcm9vdC5xdWVyeSgnR0VUX0NMQVNTX05BTUUnKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpZWxkIGxhYmVsXG4gICAgICAgIHJvb3QucmVmLmxhYmVsID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgICAgICBkcm9wTGFiZWwsXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0lETEUnKSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIExpc3Qgb2YgaXRlbXNcbiAgICAgICAgcm9vdC5yZWYubGlzdCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcobGlzdFNjcm9sbGVyLCB7IHRyYW5zbGF0ZVk6IG51bGwgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBCYWNrZ3JvdW5kIHBhbmVsXG4gICAgICAgIHJvb3QucmVmLnBhbmVsID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcocGFuZWwsIHsgbmFtZTogJ3BhbmVsLXJvb3QnIH0pKTtcblxuICAgICAgICAvLyBBc3Npc3RhbnQgbm90aWZpZXMgYXNzaXN0aXZlIHRlY2ggd2hlbiBjb250ZW50IGNoYW5nZXNcbiAgICAgICAgcm9vdC5yZWYuYXNzaXN0YW50ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhhc3Npc3RhbnQsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBEYXRhXG4gICAgICAgIHJvb3QucmVmLmRhdGEgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhkYXRhLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpKTtcblxuICAgICAgICAvLyBNZWFzdXJlICh0ZXN0cyBpZiBmaXhlZCBoZWlnaHQgd2FzIHNldClcbiAgICAgICAgLy8gRE9DVFlQRSBuZWVkcyB0byBiZSBzZXQgZm9yIHRoaXMgdG8gd29ya1xuICAgICAgICByb290LnJlZi5tZWFzdXJlID0gY3JlYXRlRWxlbWVudCQxKCdkaXYnKTtcbiAgICAgICAgcm9vdC5yZWYubWVhc3VyZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5tZWFzdXJlKTtcblxuICAgICAgICAvLyBpbmZvcm1hdGlvbiBvbiB0aGUgcm9vdCBoZWlnaHQgb3IgZml4ZWQgaGVpZ2h0IHN0YXR1c1xuICAgICAgICByb290LnJlZi5ib3VuZHMgPSBudWxsO1xuXG4gICAgICAgIC8vIGFwcGx5IGluaXRpYWwgc3R5bGUgcHJvcGVydGllc1xuICAgICAgICByb290LnF1ZXJ5KCdHRVRfU1RZTEVTJylcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzRW1wdHkoc3R5bGUudmFsdWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oX3JlZjIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjIudmFsdWU7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiB3aWR0aCBjaGFuZ2VkXG4gICAgICAgIHJvb3QucmVmLndpZHRoUHJldmlvdXMgPSBudWxsO1xuICAgICAgICByb290LnJlZi53aWR0aFVwZGF0ZWQgPSBkZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9SRVNJWkVfUk9PVCcpO1xuICAgICAgICB9LCAyNTApO1xuXG4gICAgICAgIC8vIGhpc3Rvcnkgb2YgdXBkYXRlc1xuICAgICAgICByb290LnJlZi5wcmV2aW91c0FzcGVjdFJhdGlvID0gbnVsbDtcbiAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuXG4gICAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIGFuZCB6b29taW5nIG9uIGlPUyAob25seSBpZiBzdXBwb3J0cyBwb2ludGVyIGV2ZW50cywgZm9yIHRoZW4gd2UgY2FuIGVuYWJsZSByZW9yZGVyKVxuICAgICAgICB2YXIgY2FuSG92ZXIgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHBvaW50ZXI6IGZpbmUpIGFuZCAoaG92ZXI6IGhvdmVyKScpLm1hdGNoZXM7XG4gICAgICAgIHZhciBoYXNQb2ludGVyRXZlbnRzID0gJ1BvaW50ZXJFdmVudCcgaW4gd2luZG93O1xuICAgICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFT1JERVInKSAmJiBoYXNQb2ludGVyRXZlbnRzICYmICFjYW5Ib3Zlcikge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgcHJldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgY3JlZGl0c1xuICAgICAgICB2YXIgY3JlZGl0cyA9IHJvb3QucXVlcnkoJ0dFVF9DUkVESVRTJyk7XG4gICAgICAgIHZhciBoYXNDcmVkaXRzID0gY3JlZGl0cy5sZW5ndGggPT09IDI7XG4gICAgICAgIGlmIChoYXNDcmVkaXRzKSB7XG4gICAgICAgICAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGZyYWcuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1jcmVkaXRzJztcbiAgICAgICAgICAgIGZyYWcuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICBmcmFnLmhyZWYgPSBjcmVkaXRzWzBdO1xuICAgICAgICAgICAgZnJhZy50YWJpbmRleCA9IC0xO1xuICAgICAgICAgICAgZnJhZy50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgIGZyYWcucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXInO1xuICAgICAgICAgICAgZnJhZy50ZXh0Q29udGVudCA9IGNyZWRpdHNbMV07XG4gICAgICAgICAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhZyk7XG4gICAgICAgICAgICByb290LnJlZi5jcmVkaXRzID0gZnJhZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgd3JpdGUkOSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjMucHJvcHMsXG4gICAgICAgICAgICBhY3Rpb25zID0gX3JlZjMuYWN0aW9ucztcbiAgICAgICAgLy8gcm91dGUgYWN0aW9uc1xuICAgICAgICByb3V0ZSQ1KHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzLCBhY3Rpb25zOiBhY3Rpb25zIH0pO1xuXG4gICAgICAgIC8vIGFwcGx5IHN0eWxlIHByb3BlcnRpZXNcbiAgICAgICAgYWN0aW9uc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gL15ESURfU0VUX1NUWUxFXy8udGVzdChhY3Rpb24udHlwZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzRW1wdHkoYWN0aW9uLmRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oX3JlZjQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9yZWY0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmNC5kYXRhO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdG9DYW1lbHModHlwZS5zdWJzdHJpbmcoOCkudG9Mb3dlckNhc2UoKSwgJ18nKTtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldFtuYW1lXSA9IGRhdGEudmFsdWU7XG4gICAgICAgICAgICAgICAgcm9vdC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAocm9vdC5yZWN0LmVsZW1lbnQuaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LndpZHRoICE9PSByb290LnJlZi53aWR0aFByZXZpb3VzKSB7XG4gICAgICAgICAgICByb290LnJlZi53aWR0aFByZXZpb3VzID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgICAgICAgICByb290LnJlZi53aWR0aFVwZGF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBib3ggYm91bmRzLCB3ZSBkbyB0aGlzIG9ubHkgb25jZVxuICAgICAgICB2YXIgYm91bmRzID0gcm9vdC5yZWYuYm91bmRzO1xuICAgICAgICBpZiAoIWJvdW5kcykge1xuICAgICAgICAgICAgYm91bmRzID0gcm9vdC5yZWYuYm91bmRzID0gY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0KHJvb3QpO1xuXG4gICAgICAgICAgICAvLyBkZXN0cm95IG1lYXN1cmUgZWxlbWVudFxuICAgICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUNoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuICAgICAgICAgICAgcm9vdC5yZWYubWVhc3VyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlcyB0byB2YXJpb3VzIGhpZ2ggbGV2ZWwgcGFydHMgb2YgdGhlIHVwbG9hZCB0b29sXG4gICAgICAgIHZhciBfcm9vdCRyZWYgPSByb290LnJlZixcbiAgICAgICAgICAgIGhvcHBlciA9IF9yb290JHJlZi5ob3BwZXIsXG4gICAgICAgICAgICBsYWJlbCA9IF9yb290JHJlZi5sYWJlbCxcbiAgICAgICAgICAgIGxpc3QgPSBfcm9vdCRyZWYubGlzdCxcbiAgICAgICAgICAgIHBhbmVsID0gX3Jvb3QkcmVmLnBhbmVsO1xuXG4gICAgICAgIC8vIHNldHMgY29ycmVjdCBzdGF0ZSB0byBob3BwZXIgc2NvcGVcbiAgICAgICAgaWYgKGhvcHBlcikge1xuICAgICAgICAgICAgaG9wcGVyLnVwZGF0ZUhvcHBlclN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBib29sIHRvIGluZGljYXRlIGlmIHdlJ3JlIGZ1bGwgb3Igbm90XG4gICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9QQU5FTF9BU1BFQ1RfUkFUSU8nKTtcbiAgICAgICAgdmFyIGlzTXVsdGlJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgICAgIHZhciB0b3RhbEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgICAgIHZhciBtYXhJdGVtcyA9IGlzTXVsdGlJdGVtID8gcm9vdC5xdWVyeSgnR0VUX01BWF9GSUxFUycpIHx8IE1BWF9GSUxFU19MSU1JVCA6IDE7XG4gICAgICAgIHZhciBhdE1heENhcGFjaXR5ID0gdG90YWxJdGVtcyA9PT0gbWF4SXRlbXM7XG5cbiAgICAgICAgLy8gYWN0aW9uIHVzZWQgdG8gYWRkIGl0ZW1cbiAgICAgICAgdmFyIGFkZEFjdGlvbiA9IGFjdGlvbnMuZmluZChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24udHlwZSA9PT0gJ0RJRF9BRERfSVRFTSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIHJlYWNoZWQgbWF4IGNhcGFjaXR5IGFuZCB3ZSd2ZSBqdXN0IHJlYWNoZWQgaXRcbiAgICAgICAgaWYgKGF0TWF4Q2FwYWNpdHkgJiYgYWRkQWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBnZXQgaW50ZXJhY3Rpb24gdHlwZVxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uTWV0aG9kID0gYWRkQWN0aW9uLmRhdGEuaW50ZXJhY3Rpb25NZXRob2Q7XG5cbiAgICAgICAgICAgIC8vIGhpZGUgbGFiZWxcbiAgICAgICAgICAgIGxhYmVsLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgICAgICBpZiAoaXNNdWx0aUl0ZW0pIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gLTQwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkFQSSkge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVYID0gNDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSA0MDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gMzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFhdE1heENhcGFjaXR5KSB7XG4gICAgICAgICAgICBsYWJlbC5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVggPSAwO1xuICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGlzdEl0ZW1NYXJnaW4gPSBjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbihyb290KTtcblxuICAgICAgICB2YXIgbGlzdEhlaWdodCA9IGNhbGN1bGF0ZUxpc3RIZWlnaHQocm9vdCk7XG5cbiAgICAgICAgdmFyIGxhYmVsSGVpZ2h0ID0gbGFiZWwucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgdmFyIGN1cnJlbnRMYWJlbEhlaWdodCA9ICFpc011bHRpSXRlbSB8fCBhdE1heENhcGFjaXR5ID8gMCA6IGxhYmVsSGVpZ2h0O1xuXG4gICAgICAgIHZhciBsaXN0TWFyZ2luVG9wID0gYXRNYXhDYXBhY2l0eSA/IGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCA6IDA7XG4gICAgICAgIHZhciBsaXN0TWFyZ2luQm90dG9tID0gdG90YWxJdGVtcyA9PT0gMCA/IDAgOiBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG5cbiAgICAgICAgdmFyIHZpc3VhbEhlaWdodCA9XG4gICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgKyBsaXN0TWFyZ2luVG9wICsgbGlzdEhlaWdodC52aXN1YWwgKyBsaXN0TWFyZ2luQm90dG9tO1xuICAgICAgICB2YXIgYm91bmRzSGVpZ2h0ID1cbiAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCArIGxpc3RNYXJnaW5Ub3AgKyBsaXN0SGVpZ2h0LmJvdW5kcyArIGxpc3RNYXJnaW5Cb3R0b207XG5cbiAgICAgICAgLy8gbGluayBsaXN0IHRvIGxhYmVsIGJvdHRvbSBwb3NpdGlvblxuICAgICAgICBsaXN0LnRyYW5zbGF0ZVkgPVxuICAgICAgICAgICAgTWF0aC5tYXgoMCwgY3VycmVudExhYmVsSGVpZ2h0IC0gbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wKSAtIGxpc3RJdGVtTWFyZ2luLnRvcDtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIC8vIGZpeGVkIGFzcGVjdCByYXRpb1xuXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgaGVpZ2h0IGJhc2VkIG9uIHdpZHRoXG4gICAgICAgICAgICB2YXIgd2lkdGggPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgICAgICAgICAvLyBjbGVhciBoaXN0b3J5IGlmIGFzcGVjdCByYXRpbyBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgaWYgKGFzcGVjdFJhdGlvICE9PSByb290LnJlZi5wcmV2aW91c0FzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhpcyB3aWR0aFxuICAgICAgICAgICAgdmFyIGhpc3RvcnkgPSByb290LnJlZi51cGRhdGVIaXN0b3J5O1xuICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHdpZHRoKTtcblxuICAgICAgICAgICAgdmFyIE1BWF9CT1VOQ0VTID0gMjtcbiAgICAgICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IE1BWF9CT1VOQ0VTICogMikge1xuICAgICAgICAgICAgICAgIHZhciBsID0gaGlzdG9yeS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGJvdHRvbSA9IGwgLSAxMDtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmNlcyA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGw7IGkgPj0gYm90dG9tOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0gPT09IGhpc3RvcnlbaSAtIDJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuY2VzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYm91bmNlcyA+PSBNQVhfQk9VTkNFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9udCBhZGp1c3QgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpeCBoZWlnaHQgb2YgcGFuZWwgc28gaXQgYWRoZXJlcyB0byBhc3BlY3QgcmF0aW9cbiAgICAgICAgICAgIHBhbmVsLnNjYWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBwYW5lbC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBoZWlnaHQgZm9yIGxpc3RcbiAgICAgICAgICAgIHZhciBsaXN0QXZhaWxhYmxlSGVpZ2h0ID1cbiAgICAgICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgICAgICAgICAgaGVpZ2h0IC1cbiAgICAgICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgICAgICAgICAgKGxpc3RNYXJnaW5Cb3R0b20gLSBsaXN0SXRlbU1hcmdpbi5ib3R0b20pIC1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgICAgICAgIGlmIChsaXN0SGVpZ2h0LnZpc3VhbCA+IGxpc3RBdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbGlzdEF2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYm91bmRzLmZpeGVkSGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBmaXhlZCBoZWlnaHRcblxuICAgICAgICAgICAgLy8gZml4IGhlaWdodCBvZiBwYW5lbFxuICAgICAgICAgICAgcGFuZWwuc2NhbGFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgICAgICAgdmFyIF9saXN0QXZhaWxhYmxlSGVpZ2h0ID1cbiAgICAgICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgICAgICAgICAgYm91bmRzLmZpeGVkSGVpZ2h0IC1cbiAgICAgICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgICAgICAgICAgKGxpc3RNYXJnaW5Cb3R0b20gLSBsaXN0SXRlbU1hcmdpbi5ib3R0b20pIC1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgICAgICAgIC8vIHNldCBsaXN0IGhlaWdodFxuICAgICAgICAgICAgaWYgKGxpc3RIZWlnaHQudmlzdWFsID4gX2xpc3RBdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gX2xpc3RBdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHNldCBjb250YWluZXIgYm91bmRzIGFzIHRoZXNlIGFyZSBoYW5kbGVzIGJ5IENTUyBmaXhlZCBoZWlnaHRcbiAgICAgICAgfSBlbHNlIGlmIChib3VuZHMuY2FwcGVkSGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBtYXgtaGVpZ2h0XG5cbiAgICAgICAgICAgIC8vIG5vdCBhIGZpeGVkIGhlaWdodCBwYW5lbFxuICAgICAgICAgICAgdmFyIGlzQ2FwcGVkSGVpZ2h0ID0gdmlzdWFsSGVpZ2h0ID49IGJvdW5kcy5jYXBwZWRIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgcGFuZWxIZWlnaHQgPSBNYXRoLm1pbihib3VuZHMuY2FwcGVkSGVpZ2h0LCB2aXN1YWxIZWlnaHQpO1xuICAgICAgICAgICAgcGFuZWwuc2NhbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgcGFuZWwuaGVpZ2h0ID0gaXNDYXBwZWRIZWlnaHRcbiAgICAgICAgICAgICAgICA/IHBhbmVsSGVpZ2h0XG4gICAgICAgICAgICAgICAgOiBwYW5lbEhlaWdodCAtIGxpc3RJdGVtTWFyZ2luLnRvcCAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbTtcblxuICAgICAgICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgICAgICAgdmFyIF9saXN0QXZhaWxhYmxlSGVpZ2h0MiA9XG4gICAgICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgcGFuZWwgbWludXMgdGhlIGxhYmVsIGhlaWdodFxuICAgICAgICAgICAgICAgIHBhbmVsSGVpZ2h0IC1cbiAgICAgICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgICAgICAgICAgKGxpc3RNYXJnaW5Cb3R0b20gLSBsaXN0SXRlbU1hcmdpbi5ib3R0b20pIC1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgICAgICAgIC8vIHNldCBsaXN0IGhlaWdodCAoaWYgaXMgb3ZlcmZsb3dpbmcpXG4gICAgICAgICAgICBpZiAodmlzdWFsSGVpZ2h0ID4gYm91bmRzLmNhcHBlZEhlaWdodCAmJiBsaXN0SGVpZ2h0LnZpc3VhbCA+IF9saXN0QXZhaWxhYmxlSGVpZ2h0Mikge1xuICAgICAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBfbGlzdEF2YWlsYWJsZUhlaWdodDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgY29udGFpbmVyIGJvdW5kcyAoc28gcHVzaGVzIHNpYmxpbmdzIGRvd253YXJkcylcbiAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgYm91bmRzLmNhcHBlZEhlaWdodCxcbiAgICAgICAgICAgICAgICBib3VuZHNIZWlnaHQgLSBsaXN0SXRlbU1hcmdpbi50b3AgLSBsaXN0SXRlbU1hcmdpbi5ib3R0b21cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmbGV4aWJsZSBoZWlnaHRcblxuICAgICAgICAgICAgLy8gbm90IGEgZml4ZWQgaGVpZ2h0IHBhbmVsXG4gICAgICAgICAgICB2YXIgaXRlbU1hcmdpbiA9IHRvdGFsSXRlbXMgPiAwID8gbGlzdEl0ZW1NYXJnaW4udG9wICsgbGlzdEl0ZW1NYXJnaW4uYm90dG9tIDogMDtcbiAgICAgICAgICAgIHBhbmVsLnNjYWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhbmVsLmhlaWdodCA9IE1hdGgubWF4KGxhYmVsSGVpZ2h0LCB2aXN1YWxIZWlnaHQgLSBpdGVtTWFyZ2luKTtcblxuICAgICAgICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICAgICAgICByb290LmhlaWdodCA9IE1hdGgubWF4KGxhYmVsSGVpZ2h0LCBib3VuZHNIZWlnaHQgLSBpdGVtTWFyZ2luKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgY3JlZGl0cyB0byBib3R0b21cbiAgICAgICAgaWYgKHJvb3QucmVmLmNyZWRpdHMgJiYgcGFuZWwuaGVpZ2h0Q3VycmVudClcbiAgICAgICAgICAgIHJvb3QucmVmLmNyZWRpdHMuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoJyArIHBhbmVsLmhlaWdodEN1cnJlbnQgKyAncHgpJztcbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luID0gZnVuY3Rpb24gY2FsY3VsYXRlTGlzdEl0ZW1NYXJnaW4ocm9vdCkge1xuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXS5jaGlsZFZpZXdzWzBdO1xuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICB0b3A6IGl0ZW0ucmVjdC5lbGVtZW50Lm1hcmdpblRvcCxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogaXRlbS5yZWN0LmVsZW1lbnQubWFyZ2luQm90dG9tLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZUxpc3RIZWlnaHQgPSBmdW5jdGlvbiBjYWxjdWxhdGVMaXN0SGVpZ2h0KHJvb3QpIHtcbiAgICAgICAgdmFyIHZpc3VhbCA9IDA7XG4gICAgICAgIHZhciBib3VuZHMgPSAwO1xuXG4gICAgICAgIC8vIGdldCBmaWxlIGxpc3QgcmVmZXJlbmNlXG4gICAgICAgIHZhciBzY3JvbGxMaXN0ID0gcm9vdC5yZWYubGlzdDtcbiAgICAgICAgdmFyIGl0ZW1MaXN0ID0gc2Nyb2xsTGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgICAgICB2YXIgdmlzaWJsZUNoaWxkcmVuID0gaXRlbUxpc3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcm9vdFxuICAgICAgICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aXNpYmxlQ2hpbGRyZW4uZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaWQgPT09IGl0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBubyBjaGlsZHJlbiwgZG9uZSFcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgdmlzdWFsOiB2aXN1YWwsIGJvdW5kczogYm91bmRzIH07XG5cbiAgICAgICAgdmFyIGhvcml6b250YWxTcGFjZSA9IGl0ZW1MaXN0LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgdmFyIGRyYWdJbmRleCA9IGdldEl0ZW1JbmRleEJ5UG9zaXRpb24oaXRlbUxpc3QsIGNoaWxkcmVuLCBzY3JvbGxMaXN0LmRyYWdDb29yZGluYXRlcyk7XG5cbiAgICAgICAgdmFyIGNoaWxkUmVjdCA9IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudDtcblxuICAgICAgICB2YXIgaXRlbVZlcnRpY2FsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpblRvcCArIGNoaWxkUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgICAgIHZhciBpdGVtSG9yaXpvbnRhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5MZWZ0ICsgY2hpbGRSZWN0Lm1hcmdpblJpZ2h0O1xuXG4gICAgICAgIHZhciBpdGVtV2lkdGggPSBjaGlsZFJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICAgICAgdmFyIGl0ZW1IZWlnaHQgPSBjaGlsZFJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgICAgIHZhciBuZXdJdGVtID0gdHlwZW9mIGRyYWdJbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgZHJhZ0luZGV4ID49IDAgPyAxIDogMDtcbiAgICAgICAgdmFyIHJlbW92ZWRJdGVtID0gY2hpbGRyZW4uZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLm1hcmtlZEZvclJlbW92YWwgJiYgY2hpbGQub3BhY2l0eSA8IDAuNDU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICA/IC0xXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIHZhciB2ZXJ0aWNhbEl0ZW1Db3VudCA9IGNoaWxkcmVuLmxlbmd0aCArIG5ld0l0ZW0gKyByZW1vdmVkSXRlbTtcbiAgICAgICAgdmFyIGl0ZW1zUGVyUm93ID0gZ2V0SXRlbXNQZXJSb3coaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpO1xuXG4gICAgICAgIC8vIHN0YWNrXG4gICAgICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGl0ZW0ucmVjdC5lbGVtZW50LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcbiAgICAgICAgICAgICAgICBib3VuZHMgKz0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZpc3VhbCArPSBoZWlnaHQgKiBpdGVtLm9wYWNpdHk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBncmlkXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYm91bmRzID0gTWF0aC5jZWlsKHZlcnRpY2FsSXRlbUNvdW50IC8gaXRlbXNQZXJSb3cpICogaXRlbUhlaWdodDtcbiAgICAgICAgICAgIHZpc3VhbCA9IGJvdW5kcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHZpc3VhbDogdmlzdWFsLCBib3VuZHM6IGJvdW5kcyB9O1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0ID0gZnVuY3Rpb24gY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0KHJvb3QpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJvb3QucmVmLm1lYXN1cmVIZWlnaHQgfHwgbnVsbDtcbiAgICAgICAgdmFyIGNhcHBlZEhlaWdodCA9IHBhcnNlSW50KHJvb3Quc3R5bGUubWF4SGVpZ2h0LCAxMCkgfHwgbnVsbDtcbiAgICAgICAgdmFyIGZpeGVkSGVpZ2h0ID0gaGVpZ2h0ID09PSAwID8gbnVsbCA6IGhlaWdodDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FwcGVkSGVpZ2h0OiBjYXBwZWRIZWlnaHQsXG4gICAgICAgICAgICBmaXhlZEhlaWdodDogZml4ZWRIZWlnaHQsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBleGNlZWRzTWF4RmlsZXMgPSBmdW5jdGlvbiBleGNlZWRzTWF4RmlsZXMocm9vdCwgaXRlbXMpIHtcbiAgICAgICAgdmFyIGFsbG93UmVwbGFjZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRVBMQUNFJyk7XG4gICAgICAgIHZhciBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgICAgIHZhciB0b3RhbEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgICAgIHZhciBtYXhJdGVtcyA9IHJvb3QucXVlcnkoJ0dFVF9NQVhfRklMRVMnKTtcblxuICAgICAgICAvLyB0b3RhbCBhbW91bnQgb2YgaXRlbXMgYmVpbmcgZHJhZ2dlZFxuICAgICAgICB2YXIgdG90YWxCcm93c2VJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiBkb2VzIG5vdCBhbGxvdyBtdWx0aXBsZSBpdGVtcyBhbmQgZHJhZ2dpbmcgbW9yZSB0aGFuIG9uZSBpdGVtXG4gICAgICAgIGlmICghYWxsb3dNdWx0aXBsZSAmJiB0b3RhbEJyb3dzZUl0ZW1zID4gMSkge1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IGl0ZW1zLFxuICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnd2FybmluZycsIDAsICdNYXggZmlsZXMnKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxpbWl0IG1heCBpdGVtcyB0byBvbmUgaWYgbm90IGFsbG93ZWQgdG8gZHJvcCBtdWx0aXBsZSBpdGVtc1xuICAgICAgICBtYXhJdGVtcyA9IGFsbG93TXVsdGlwbGUgPyBtYXhJdGVtcyA6IDE7XG5cbiAgICAgICAgaWYgKCFhbGxvd011bHRpcGxlICYmIGFsbG93UmVwbGFjZSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgb25seSBvbmUgaXRlbSwgc28gdGhlcmUgaXMgcm9vbSB0byByZXBsYWNlIG9yIGFkZCBhbiBpdGVtXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBtb3JlIHJvb20/XG4gICAgICAgIHZhciBoYXNNYXhJdGVtcyA9IGlzSW50KG1heEl0ZW1zKTtcbiAgICAgICAgaWYgKGhhc01heEl0ZW1zICYmIHRvdGFsSXRlbXMgKyB0b3RhbEJyb3dzZUl0ZW1zID4gbWF4SXRlbXMpIHtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9USFJPV19NQVhfRklMRVMnLCB7XG4gICAgICAgICAgICAgICAgc291cmNlOiBpdGVtcyxcbiAgICAgICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBnZXREcmFnSW5kZXggPSBmdW5jdGlvbiBnZXREcmFnSW5kZXgobGlzdCwgY2hpbGRyZW4sIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBpdGVtTGlzdCA9IGxpc3QuY2hpbGRWaWV3c1swXTtcbiAgICAgICAgcmV0dXJuIGdldEl0ZW1JbmRleEJ5UG9zaXRpb24oaXRlbUxpc3QsIGNoaWxkcmVuLCB7XG4gICAgICAgICAgICBsZWZ0OiBwb3NpdGlvbi5zY29wZUxlZnQgLSBpdGVtTGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgICAgICAgIHRvcDpcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi5zY29wZVRvcCAtXG4gICAgICAgICAgICAgICAgKGxpc3QucmVjdC5vdXRlci50b3AgKyBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgKyBsaXN0LnJlY3QuZWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIG9yIGRpc2FibGUgZmlsZSBkcm9wIGZ1bmN0aW9uYWxpdHlcbiAgICAgKi9cbiAgICB2YXIgdG9nZ2xlRHJvcCA9IGZ1bmN0aW9uIHRvZ2dsZURyb3Aocm9vdCkge1xuICAgICAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RST1AnKTtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgICAgdmFyIGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5ob3BwZXIpIHtcbiAgICAgICAgICAgIHZhciBob3BwZXIgPSBjcmVhdGVIb3BwZXIoXG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IHF1aWNrIHZhbGlkYXRpb24gb2YgZHJvcHBlZCBpdGVtc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlRHJvcEZpbGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0JFRk9SRV9EUk9QX0ZJTEUnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBpdGVtcyBzaG91bGQgYmUgdmFsaWRhdGVkIGJ5IGFsbCBmaWx0ZXJzIGFzIHZhbGlkXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcm9wVmFsaWRhdGlvbiA9IHJvb3QucXVlcnkoJ0dFVF9EUk9QX1ZBTElEQVRJT04nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRyb3BWYWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGl0ZW1zLmV2ZXJ5KGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdBTExPV19IT1BQRVJfSVRFTScsIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHJvb3QucXVlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXZlcnkoZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgJiYgYmVmb3JlRHJvcEZpbGUoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckl0ZW1zOiBmdW5jdGlvbiBmaWx0ZXJJdGVtcyhpdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlnbm9yZWRGaWxlcyA9IHJvb3QucXVlcnkoJ0dFVF9JR05PUkVEX0ZJTEVTJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaWxlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhaWdub3JlZEZpbGVzLmluY2x1ZGVzKGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2hlc0Ryb3BzT25QYWdlOiByb290LnF1ZXJ5KCdHRVRfRFJPUF9PTl9QQUdFJyksXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudDogcm9vdC5xdWVyeSgnR0VUX0RST1BfT05fRUxFTUVOVCcpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGhvcHBlci5vbmxvYWQgPSBmdW5jdGlvbihpdGVtcywgcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgaXRlbSBjaGlsZHJlbiBlbGVtZW50cyBhbmQgc29ydCBiYXNlZCBvbiBsaXN0IHNvcnRcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzaWJsZUNoaWxkcmVuID0gbGlzdC5jaGlsZFZpZXdzLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSByb290XG4gICAgICAgICAgICAgICAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpdGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignQUREX0lURU1TJywgaXRlbXMsIHsgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2ggfSkudGhlbihmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgcXVldWVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjZWVkc01heEZpbGVzKHJvb3QsIHF1ZXVlKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdvXG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBnZXREcmFnSW5kZXgocm9vdC5yZWYubGlzdCwgY2hpbGRyZW4sIHBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5EUk9QLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUk9QJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG5cbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRU5EX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGhvcHBlci5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1NUQVJUX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGhvcHBlci5vbmRyYWcgPSBkZWJvdW5jZShmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUkFHJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaG9wcGVyLm9uZHJhZ2VuZCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0VORF9EUkFHJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByb290LnJlZi5ob3BwZXIgPSBob3BwZXI7XG5cbiAgICAgICAgICAgIHJvb3QucmVmLmRyaXAgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhkcmlwKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYuaG9wcGVyKSB7XG4gICAgICAgICAgICByb290LnJlZi5ob3BwZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgcm9vdC5yZWYuaG9wcGVyID0gbnVsbDtcbiAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KHJvb3QucmVmLmRyaXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIGJyb3dzZSBmdW5jdGlvbmFsaXR5XG4gICAgICovXG4gICAgdmFyIHRvZ2dsZUJyb3dzZSA9IGZ1bmN0aW9uIHRvZ2dsZUJyb3dzZShyb290LCBwcm9wcykge1xuICAgICAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0JST1dTRScpO1xuICAgICAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgICB2YXIgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICAgICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmJyb3dzZXIpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLmJyb3dzZXIgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgICAgICAgICAgYnJvd3NlcixcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignQUREX0lURU1TJywgaXRlbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihxdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNlZWRzTWF4RmlsZXMocm9vdCwgcXVldWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGl0ZW1zIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogcXVldWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYuYnJvd3Nlcikge1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYuYnJvd3Nlcik7XG4gICAgICAgICAgICByb290LnJlZi5icm93c2VyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSBwYXN0ZSBmdW5jdGlvbmFsaXR5XG4gICAgICovXG4gICAgdmFyIHRvZ2dsZVBhc3RlID0gZnVuY3Rpb24gdG9nZ2xlUGFzdGUocm9vdCkge1xuICAgICAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1BBU1RFJyk7XG4gICAgICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgICAgIHZhciBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgICAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICAgICAgICByb290LnJlZi5wYXN0ZXIgPSBjcmVhdGVQYXN0ZXIoKTtcbiAgICAgICAgICAgIHJvb3QucmVmLnBhc3Rlci5vbmxvYWQgPSBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0FERF9JVEVNUycsIGl0ZW1zLCB7IGRpc3BhdGNoOiByb290LmRpc3BhdGNoIH0pLnRoZW4oZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXNlIGZpbGVzIGRvbid0IGZpdCBzbyBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBxdWV1ZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbXMhXG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5QQVNURSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCFlbmFibGVkICYmIHJvb3QucmVmLnBhc3Rlcikge1xuICAgICAgICAgICAgcm9vdC5yZWYucGFzdGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHJvb3QucmVmLnBhc3RlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm91dGUgYWN0aW9uc1xuICAgICAqL1xuICAgIHZhciByb3V0ZSQ1ID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfU0VUX0FMTE9XX0JST1dTRTogZnVuY3Rpb24gRElEX1NFVF9BTExPV19CUk9XU0UoX3JlZjUpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuICAgICAgICAgICAgdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKTtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1NFVF9BTExPV19EUk9QOiBmdW5jdGlvbiBESURfU0VUX0FMTE9XX0RST1AoX3JlZjYpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgICAgICAgIHRvZ2dsZURyb3Aocm9vdCk7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TRVRfQUxMT1dfUEFTVEU6IGZ1bmN0aW9uIERJRF9TRVRfQUxMT1dfUEFTVEUoX3JlZjcpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdDtcbiAgICAgICAgICAgIHRvZ2dsZVBhc3RlKHJvb3QpO1xuICAgICAgICB9LFxuICAgICAgICBESURfU0VUX0RJU0FCTEVEOiBmdW5jdGlvbiBESURfU0VUX0RJU0FCTEVEKF9yZWY4KSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3QsXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBfcmVmOC5wcm9wcztcbiAgICAgICAgICAgIHRvZ2dsZURyb3Aocm9vdCk7XG4gICAgICAgICAgICB0b2dnbGVQYXN0ZShyb290KTtcbiAgICAgICAgICAgIHRvZ2dsZUJyb3dzZShyb290LCBwcm9wcyk7XG4gICAgICAgICAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kaXNhYmxlZCA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSByb290LmVsZW1lbnQuZGF0YXNldC5kaXNhYmxlZDsgPD0gdGhpcyBkb2VzIG5vdCB3b3JrIG9uIGlPUyAxMFxuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciByb290ID0gY3JlYXRlVmlldyh7XG4gICAgICAgIG5hbWU6ICdyb290JyxcbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChfcmVmOSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmOS5yb290O1xuICAgICAgICAgICAgaWYgKHJvb3QucmVmLm1lYXN1cmUpIHtcbiAgICAgICAgICAgICAgICByb290LnJlZi5tZWFzdXJlSGVpZ2h0ID0gcm9vdC5yZWYubWVhc3VyZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJGUsXG4gICAgICAgIHdyaXRlOiB3cml0ZSQ5LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KF9yZWYxMCkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTAucm9vdDtcbiAgICAgICAgICAgIGlmIChyb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICAgICAgICAgIHJvb3QucmVmLmhvcHBlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCk7XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgcHJldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ2hlaWdodCddLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gY3JlYXRlcyB0aGUgYXBwXG4gICAgdmFyIGNyZWF0ZUFwcCA9IGZ1bmN0aW9uIGNyZWF0ZUFwcCgpIHtcbiAgICAgICAgdmFyIGluaXRpYWxPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgLy8gbGV0IGVsZW1lbnRcbiAgICAgICAgdmFyIG9yaWdpbmFsRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gZ2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBkYXRhIHN0b3JlLCB0aGlzIHdpbGwgY29udGFpbiBhbGwgb3VyIGFwcCBpbmZvXG4gICAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgICAgICAgICAgLy8gaW5pdGlhbCBzdGF0ZSAoc2hvdWxkIGJlIHNlcmlhbGl6YWJsZSlcbiAgICAgICAgICAgIGNyZWF0ZUluaXRpYWxTdGF0ZShkZWZhdWx0T3B0aW9ucyksXG5cbiAgICAgICAgICAgIC8vIHF1ZXJpZXNcbiAgICAgICAgICAgIFtxdWVyaWVzLCBjcmVhdGVPcHRpb25RdWVyaWVzKGRlZmF1bHRPcHRpb25zKV0sXG5cbiAgICAgICAgICAgIC8vIGFjdGlvbiBoYW5kbGVyc1xuICAgICAgICAgICAgW2FjdGlvbnMsIGNyZWF0ZU9wdGlvbkFjdGlvbnMoZGVmYXVsdE9wdGlvbnMpXVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNldCBpbml0aWFsIG9wdGlvbnNcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1NFVF9PUFRJT05TJywgeyBvcHRpb25zOiBpbml0aWFsT3B0aW9ucyB9KTtcblxuICAgICAgICAvLyBraWNrIHRocmVhZCBpZiB2aXNpYmlsaXR5IGNoYW5nZXNcbiAgICAgICAgdmFyIHZpc2liaWxpdHlIYW5kbGVyID0gZnVuY3Rpb24gdmlzaWJpbGl0eUhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnS0lDSycpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgICAgIC8vIHJlLXJlbmRlciBvbiB3aW5kb3cgcmVzaXplIHN0YXJ0IGFuZCBmaW5pc2hcbiAgICAgICAgdmFyIHJlc2l6ZURvbmVUaW1lciA9IG51bGw7XG4gICAgICAgIHZhciBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbml0aWFsV2luZG93V2lkdGggPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKCFpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplRG9uZVRpbWVyKTtcbiAgICAgICAgICAgIHJlc2l6ZURvbmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGluaXRpYWxXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgICAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNpemluZ0hvcml6b250YWxseSkge1xuICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfU1RPUF9SRVNJWkUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG5cbiAgICAgICAgLy8gcmVuZGVyIGluaXRpYWwgdmlld1xuICAgICAgICB2YXIgdmlldyA9IHJvb3Qoc3RvcmUsIHsgaWQ6IGdldFVuaXF1ZUlkKCkgfSk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gUFJJVkFURSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICB2YXIgaXNSZXN0aW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpc0hpZGRlbiA9IGZhbHNlO1xuXG4gICAgICAgIHZhciByZWFkV3JpdGVBcGkgPSB7XG4gICAgICAgICAgICAvLyBuZWNlc3NhcnkgZm9yIHVwZGF0ZSBsb29wXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVhZHMgZnJvbSBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfcmVhZDogZnVuY3Rpb24gX3JlYWQoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGVzdCBpZiB3ZSdyZSByZXNpemluZyBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzZWUgaWYgd2UgY2FuIG9wdGltaXplIHRoaXMgYnkgbWVhc3VyaW5nIHJvb3QgcmVjdFxuICAgICAgICAgICAgICAgIGlmIChpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluaXRpYWxXaW5kb3dXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gY3VycmVudFdpbmRvd1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ICYmIGN1cnJlbnRXaW5kb3dXaWR0aCAhPT0gaW5pdGlhbFdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX1NUQVJUX1JFU0laRScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNpemluZ0hvcml6b250YWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNIaWRkZW4gJiYgaXNSZXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRlc3QgaWYgaXMgbm8gbG9uZ2VyIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3RpbmcgPSB2aWV3LmVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHJlc3RpbmcsIG5vIG5lZWQgdG8gcmVhZCBhcyBudW1iZXJzIHdpbGwgc3RpbGwgYWxsIGJlIGNvcnJlY3RcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXN0aW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyByZWFkIHZpZXcgZGF0YVxuICAgICAgICAgICAgICAgIHZpZXcuX3JlYWQoKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGlzIGhpZGRlbiB3ZSBuZWVkIHRvIGtub3cgc28gd2UgZXhpdCByZXN0IG1vZGUgd2hlbiByZXZlYWxlZFxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdmlldy5yZWN0LmVsZW1lbnQuaGlkZGVuO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXcml0ZXMgdG8gZG9tIChuZXZlciBjYWxsIG1hbnVhbGx5KVxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3dyaXRlOiBmdW5jdGlvbiBfd3JpdGUodHMpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgYWxsIGFjdGlvbnMgZnJvbSBzdG9yZVxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25zID0gc3RvcmVcbiAgICAgICAgICAgICAgICAgICAgLnByb2Nlc3NBY3Rpb25RdWV1ZSgpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBzZXQgYWN0aW9ucyAodGhlc2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHRyaWdnZXIgRElEX1NFVClcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhL15TRVRfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3YXMgaWRsaW5nIGFuZCBubyBhY3Rpb25zIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgIGlmIChpc1Jlc3RpbmcgJiYgIWFjdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBzb21lIGFjdGlvbnMgbWlnaHQgdHJpZ2dlciBldmVudHNcbiAgICAgICAgICAgICAgICByb3V0ZUFjdGlvbnNUb0V2ZW50cyhhY3Rpb25zKTtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmlld1xuICAgICAgICAgICAgICAgIGlzUmVzdGluZyA9IHZpZXcuX3dyaXRlKHRzLCBhY3Rpb25zLCBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5KTtcblxuICAgICAgICAgICAgICAgIC8vIHdpbGwgY2xlYW4gdXAgYWxsIGFyY2hpdmVkIGl0ZW1zXG4gICAgICAgICAgICAgICAgcmVtb3ZlUmVsZWFzZWRJdGVtcyhzdG9yZS5xdWVyeSgnR0VUX0lURU1TJykpO1xuXG4gICAgICAgICAgICAgICAgLy8gbm93IGlkbGluZ1xuICAgICAgICAgICAgICAgIGlmIChpc1Jlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUucHJvY2Vzc0Rpc3BhdGNoUXVldWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEVYUE9TRSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICB2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBkZWZhdWx0IGV2ZW50XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYW1lLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBubyBkYXRhIHRvIGFkZFxuICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY29weSByZWxldmFudCBwcm9wc1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmVycm9yID0gZGF0YS5lcnJvciA/IE9iamVjdC5hc3NpZ24oe30sIGRhdGEuZXJyb3IpIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQub3V0cHV0ID0gZGF0YS5maWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG9ubHkgc291cmNlIGlzIGF2YWlsYWJsZSwgZWxzZSBhZGQgaXRlbSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5maWxlID0gZGF0YS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLml0ZW0gfHwgZGF0YS5pZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGRhdGEuaXRlbSA/IGRhdGEuaXRlbSA6IHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTScsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5maWxlID0gaXRlbSA/IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1hcCBhbGwgaXRlbXMgaW4gYSBwb3NzaWJsZSBpdGVtcyBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lml0ZW1zID0gZGF0YS5pdGVtcy5tYXAoY3JlYXRlSXRlbUFQSSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIHByb2dyZXNzIGV2ZW50IGFkZCB0aGUgcHJvZ3Jlc3MgYW1vdW50XG4gICAgICAgICAgICAgICAgaWYgKC9wcm9ncmVzcy8udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcm9ncmVzcyA9IGRhdGEucHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY29weSByZWxldmFudCBwcm9wc1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdvcmlnaW4nKSAmJiBkYXRhLmhhc093blByb3BlcnR5KCd0YXJnZXQnKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5vcmlnaW4gPSBkYXRhLm9yaWdpbjtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZXZlbnRSb3V0ZXMgPSB7XG4gICAgICAgICAgICBESURfREVTVFJPWTogY3JlYXRlRXZlbnQoJ2Rlc3Ryb3knKSxcblxuICAgICAgICAgICAgRElEX0lOSVQ6IGNyZWF0ZUV2ZW50KCdpbml0JyksXG5cbiAgICAgICAgICAgIERJRF9USFJPV19NQVhfRklMRVM6IGNyZWF0ZUV2ZW50KCd3YXJuaW5nJyksXG5cbiAgICAgICAgICAgIERJRF9JTklUX0lURU06IGNyZWF0ZUV2ZW50KCdpbml0ZmlsZScpLFxuICAgICAgICAgICAgRElEX1NUQVJUX0lURU1fTE9BRDogY3JlYXRlRXZlbnQoJ2FkZGZpbGVzdGFydCcpLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGNyZWF0ZUV2ZW50KCdhZGRmaWxlcHJvZ3Jlc3MnKSxcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyksXG5cbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKV0sXG5cbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKV0sXG5cbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgncmVtb3ZlZmlsZScpXSxcblxuICAgICAgICAgICAgRElEX1BSRVBBUkVfT1VUUFVUOiBjcmVhdGVFdmVudCgncHJlcGFyZWZpbGUnKSxcblxuICAgICAgICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlc3RhcnQnKSxcbiAgICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVwcm9ncmVzcycpLFxuICAgICAgICAgICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlYWJvcnQnKSxcbiAgICAgICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZScpLFxuICAgICAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEw6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXMnKSxcbiAgICAgICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVyZXZlcnQnKSxcblxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGUnKV0sXG5cbiAgICAgICAgICAgIERJRF9SRU1PVkVfSVRFTTogY3JlYXRlRXZlbnQoJ3JlbW92ZWZpbGUnKSxcblxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNUzogY3JlYXRlRXZlbnQoJ3VwZGF0ZWZpbGVzJyksXG5cbiAgICAgICAgICAgIERJRF9BQ1RJVkFURV9JVEVNOiBjcmVhdGVFdmVudCgnYWN0aXZhdGVmaWxlJyksXG5cbiAgICAgICAgICAgIERJRF9SRU9SREVSX0lURU1TOiBjcmVhdGVFdmVudCgncmVvcmRlcmZpbGVzJyksXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGV4cG9zZUV2ZW50ID0gZnVuY3Rpb24gZXhwb3NlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBldmVudCBvYmplY3QgdG8gYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgdmFyIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBwb25kOiBleHBvcnRzIH0sIGV2ZW50KTtcbiAgICAgICAgICAgIGRlbGV0ZSBkZXRhaWwudHlwZTtcbiAgICAgICAgICAgIHZpZXcuZWxlbWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6JyArIGV2ZW50LnR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnQgaW5mb1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGRldGFpbCxcblxuICAgICAgICAgICAgICAgICAgICAvLyBldmVudCBiZWhhdmlvdXJcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsIC8vIHRyaWdnZXJzIGxpc3RlbmVycyBvdXRzaWRlIG9mIHNoYWRvdyByb290XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGV2ZW50IG9iamVjdCB0byBwYXJhbXMgdXNlZCBmb3IgYG9uKClgIGV2ZW50IGhhbmRsZXJzIGFuZCBjYWxsYmFja3MgYG9uaW5pdCgpYFxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBpZiBpcyBwb3NzaWJsZSBlcnJvciBldmVudCwgbWFrZSBpdCB0aGUgZmlyc3QgcGFyYW1cbiAgICAgICAgICAgIGlmIChldmVudC5oYXNPd25Qcm9wZXJ0eSgnZXJyb3InKSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGV2ZW50LmVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlsZSBpcyBhbHdheXMgc2VjdGlvblxuICAgICAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdmaWxlJykpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChldmVudC5maWxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXBwZW5kIG90aGVyIHByb3BzXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBbJ3R5cGUnLCAnZXJyb3InLCAnZmlsZSddO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXZlbnQpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFmaWx0ZXJlZC5pbmNsdWRlcyhrZXkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXMucHVzaChldmVudFtrZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gb24odHlwZSwgKCkgPT4geyB9KVxuICAgICAgICAgICAgZXhwb3J0cy5maXJlLmFwcGx5KGV4cG9ydHMsIFtldmVudC50eXBlXS5jb25jYXQocGFyYW1zKSk7XG5cbiAgICAgICAgICAgIC8vIG9uaW5pdCA9ICgpID0+IHt9XG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9IHN0b3JlLnF1ZXJ5KCdHRVRfT04nICsgZXZlbnQudHlwZS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJvdXRlQWN0aW9uc1RvRXZlbnRzID0gZnVuY3Rpb24gcm91dGVBY3Rpb25zVG9FdmVudHMoYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFhY3Rpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgYWN0aW9uc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudFJvdXRlc1thY3Rpb24udHlwZV07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdXRlcyA9IGV2ZW50Um91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkocm91dGVzKSA/IHJvdXRlcyA6IFtyb3V0ZXNdKS5mb3JFYWNoKGZ1bmN0aW9uKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzbid0IGZhbnRhc3RpYywgYnV0IGJlY2F1c2Ugb2YgdGhlIHN0YWNraW5nIG9mIHNldHRpbWVvdXRzIHBsdWdpbnMgY2FuIGhhbmRsZSB0aGUgZGlkX2xvYWQgYmVmb3JlIHRoZSBkaWRfaW5pdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRElEX0lOSVRfSVRFTScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvL1xuICAgICAgICAvLyBQVUJMSUMgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHNldE9wdGlvbnMgPSBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnU0VUX09QVElPTlMnLCB7IG9wdGlvbnM6IG9wdGlvbnMgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldEZpbGUgPSBmdW5jdGlvbiBnZXRGaWxlKHF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTScsIHF1ZXJ5KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHJlcGFyZUZpbGUgPSBmdW5jdGlvbiBwcmVwYXJlRmlsZShxdWVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJFUEFSRScsIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWRkRmlsZSA9IGZ1bmN0aW9uIGFkZEZpbGUoc291cmNlKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgYWRkRmlsZXMoW3sgc291cmNlOiBzb3VyY2UsIG9wdGlvbnM6IG9wdGlvbnMgfV0sIHsgaW5kZXg6IG9wdGlvbnMuaW5kZXggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW1zICYmIGl0ZW1zWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaXNGaWxlUG9uZEZpbGUgPSBmdW5jdGlvbiBpc0ZpbGVQb25kRmlsZShvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouZmlsZSAmJiBvYmouaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlbW92ZUZpbGUgPSBmdW5jdGlvbiByZW1vdmVGaWxlKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAgICAgICAvLyBpZiBvbmx5IHBhc3NlZCBvcHRpb25zXG4gICAgICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiAhaXNGaWxlUG9uZEZpbGUocXVlcnkpICYmICFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXF1ZXN0IGl0ZW0gcmVtb3ZhbFxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBxdWVyeTogcXVlcnkgfSkpO1xuXG4gICAgICAgICAgICAvLyBzZWUgaWYgaXRlbSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTScsIHF1ZXJ5KSA9PT0gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWRkRmlsZXMgPSBmdW5jdGlvbiBhZGRGaWxlcygpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlciBwYXNzZWQgYSBzb3VyY2VzIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlcy5wdXNoLmFwcGx5KHNvdXJjZXMsIGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIGFyZ3NbMV0gfHwge30pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgcGFzc2VkIHNvdXJjZXMgYXMgYXJndW1lbnRzLCBsYXN0IG9uZSBtaWdodCBiZSBvcHRpb25zIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFyZ3VtZW50ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RBcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgIShsYXN0QXJndW1lbnQgaW5zdGFuY2VvZiBCbG9iKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBhcmdzLnBvcCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCByZXN0IHRvIHNvdXJjZXNcbiAgICAgICAgICAgICAgICAgICAgc291cmNlcy5wdXNoLmFwcGx5KHNvdXJjZXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkFQSSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogcmVqZWN0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldEZpbGVzID0gZnVuY3Rpb24gZ2V0RmlsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHJvY2Vzc0ZpbGUgPSBmdW5jdGlvbiBwcm9jZXNzRmlsZShxdWVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHJlcGFyZUZpbGVzID0gZnVuY3Rpb24gcHJlcGFyZUZpbGVzKCkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwO1xuICAgICAgICAgICAgICAgIF9rZXkyIDwgX2xlbjI7XG4gICAgICAgICAgICAgICAgX2tleTIrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBxdWVyaWVzLmxlbmd0aCA/IHF1ZXJpZXMgOiBnZXRGaWxlcygpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zLm1hcChwcmVwYXJlRmlsZSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwcm9jZXNzRmlsZXMgPSBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7XG4gICAgICAgICAgICAgICAgX2tleTMgPCBfbGVuMztcbiAgICAgICAgICAgICAgICBfa2V5MysrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcXVlcmllcyA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcbiAgICAgICAgICAgIGlmICghcXVlcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBnZXRGaWxlcygpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAhKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLklETEUgJiYgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVzLm1hcChwcm9jZXNzRmlsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXJpZXMubWFwKHByb2Nlc3NGaWxlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlbW92ZUZpbGVzID0gZnVuY3Rpb24gcmVtb3ZlRmlsZXMoKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7XG4gICAgICAgICAgICAgICAgX2tleTQgPCBfbGVuNDtcbiAgICAgICAgICAgICAgICBfa2V5NCsrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcXVlcmllc1txdWVyaWVzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBxdWVyaWVzLnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmaWxlcyA9IGdldEZpbGVzKCk7XG5cbiAgICAgICAgICAgIGlmICghcXVlcmllcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICBmaWxlcy5tYXAoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUZpbGUoZmlsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gd2hlbiByZW1vdmluZyBieSBpbmRleCB0aGUgaW5kZXhlcyBzaGlmdCBhZnRlciBlYWNoIGZpbGUgcmVtb3ZhbCBzbyB3ZSBuZWVkIHRvIGNvbnZlcnQgaW5kZXhlcyB0byBpZHNcbiAgICAgICAgICAgIHZhciBtYXBwZWRRdWVyaWVzID0gcXVlcmllc1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTnVtYmVyKHF1ZXJ5KSA/IChmaWxlc1txdWVyeV0gPyBmaWxlc1txdWVyeV0uaWQgOiBudWxsKSA6IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRRdWVyaWVzLm1hcChmdW5jdGlvbihxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUZpbGUocSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7fSxcblxuICAgICAgICAgICAgb24oKSxcbiAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICByZWFkV3JpdGVBcGksXG4gICAgICAgICAgICB7fSxcblxuICAgICAgICAgICAgY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBkZWZhdWx0T3B0aW9ucyksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogT3ZlcnJpZGUgb3B0aW9ucyBkZWZpbmVkIGluIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZXRPcHRpb25zOiBzZXRPcHRpb25zLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgc291cmNlIG9mIHRoZSBmaWxlIChlaXRoZXIgYSBGaWxlLCBiYXNlNjQgZGF0YSB1cmkgb3IgdXJsKVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gb2JqZWN0LCB7IGluZGV4OiAwIH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhZGRGaWxlOiBhZGRGaWxlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZXNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc291cmNlcyAtIHRoZSBzb3VyY2VzIG9mIHRoZSBmaWxlcyB0byBsb2FkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBvYmplY3QsIHsgaW5kZXg6IDAgfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGFkZEZpbGVzOiBhZGRGaWxlcyxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIGZpbGUgb2JqZWN0cyBtYXRjaGluZyB0aGUgZ2l2ZW4gcXVlcnlcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCB9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0RmlsZTogZ2V0RmlsZSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFVwbG9hZCBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0ZpbGU6IHByb2Nlc3NGaWxlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVxdWVzdCBwcmVwYXJlIG91dHB1dCBmb3IgZmlsZSB3aXRoIGdpdmVuIG5hbWVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByZXBhcmVGaWxlOiBwcmVwYXJlRmlsZSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlbW92ZXMgYSBmaWxlIGJ5IGl0cyBuYW1lXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHsgc3RyaW5nLCBudW1iZXIsIG51bGwgIH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZW1vdmVGaWxlOiByZW1vdmVGaWxlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTW92ZXMgYSBmaWxlIHRvIGEgbmV3IGxvY2F0aW9uIGluIHRoZSBmaWxlcyBsaXN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbW92ZUZpbGU6IGZ1bmN0aW9uIG1vdmVGaWxlKHF1ZXJ5LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ01PVkVfSVRFTScsIHsgcXVlcnk6IHF1ZXJ5LCBpbmRleDogaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgYWxsIGZpbGVzICh3cmFwcGVkIGluIHB1YmxpYyBhcGkpXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0RmlsZXM6IGdldEZpbGVzLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RhcnRzIHVwbG9hZGluZyBhbGwgZmlsZXNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm9jZXNzRmlsZXM6IHByb2Nlc3NGaWxlcyxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENsZWFycyBhbGwgZmlsZXMgZnJvbSB0aGUgZmlsZXMgbGlzdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlbW92ZUZpbGVzOiByZW1vdmVGaWxlcyxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN0YXJ0cyBwcmVwYXJpbmcgb3V0cHV0IG9mIGFsbCBmaWxlc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByZXBhcmVGaWxlczogcHJlcGFyZUZpbGVzLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU29ydCBsaXN0IG9mIGZpbGVzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnU09SVCcsIHsgY29tcGFyZTogY29tcGFyZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQnJvd3NlIHRoZSBmaWxlIHN5c3RlbSBmb3IgYSBmaWxlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYnJvd3NlOiBmdW5jdGlvbiBicm93c2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5lZWRzIHRvIGJlIHRyaWdnZXIgZGlyZWN0bHkgYXMgdXNlciBhY3Rpb24gbmVlZHMgdG8gYmUgdHJhY2VhYmxlIChpcyBub3QgdHJhY2VhYmxlIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdmlldy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlc3Ryb3lzIHRoZSBhcHBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IGRlc3RydWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHMuZmlyZSgnZGVzdHJveScsIHZpZXcuZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBhY3RpdmUgcHJvY2Vzc2VzIChmaWxlIHVwbG9hZHMsIGZldGNoZXMsIHN0dWZmIGxpa2UgdGhhdClcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCBvdmVyIGl0ZW1zIGFuZCBkZXBlbmRpbmcgb24gc3RhdGVzIGNhbGwgYWJvcnQgZm9yIG9uZ29pbmcgcHJvY2Vzc2VzXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBQk9SVF9BTEwnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBkZXN0cm95IHZpZXdcbiAgICAgICAgICAgICAgICAgICAgdmlldy5fZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgbGlzdGVuaW5nIHRvIHJlc2l6ZVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBsaXN0ZW5pbmcgdG8gdGhlIHZpc2libGl0eWNoYW5nZSBldmVudFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGRlc3Ryb3lcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9ERVNUUk9ZJyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEluc2VydHMgdGhlIHBsdWdpbiBiZWZvcmUgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiBpbnNlcnRCZWZvcmUkMShlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnNlcnRCZWZvcmUodmlldy5lbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGFmdGVyIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiBpbnNlcnRBZnRlciQxKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydEFmdGVyKHZpZXcuZWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEFwcGVuZHMgdGhlIHBsdWdpbiB0byB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogZnVuY3Rpb24gYXBwZW5kVG8oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hcHBlbmRDaGlsZCh2aWV3LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXBsYWNlcyBhbiBlbGVtZW50IHdpdGggdGhlIGFwcFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlcGxhY2VFbGVtZW50OiBmdW5jdGlvbiByZXBsYWNlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc2VydCB0aGUgYXBwIGJlZm9yZSB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodmlldy5lbGVtZW50LCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbWVtYmVyIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVzdG9yZXMgdGhlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXN0b3JlRWxlbWVudDogZnVuY3Rpb24gcmVzdG9yZUVsZW1lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIG5vIGVsZW1lbnQgdG8gcmVzdG9yZVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGluc2VydEFmdGVyKG9yaWdpbmFsRWxlbWVudCwgdmlldy5lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3VyIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgdmlldy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXBwIHJvb3QgaXMgYXR0YWNoZWQgdG8gZ2l2ZW4gZWxlbWVudFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaXNBdHRhY2hlZFRvOiBmdW5jdGlvbiBpc0F0dGFjaGVkVG8oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldy5lbGVtZW50ID09PSBlbGVtZW50IHx8IG9yaWdpbmFsRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3LmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcG9uZCBzdGF0dXNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9TVEFUVVMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIERvbmUhXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfSU5JVCcpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhY3R1YWwgYXBpIG9iamVjdFxuICAgICAgICByZXR1cm4gY3JlYXRlT2JqZWN0KGV4cG9ydHMpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQXBwT2JqZWN0ID0gZnVuY3Rpb24gY3JlYXRlQXBwT2JqZWN0KCkge1xuICAgICAgICB2YXIgY3VzdG9tT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTtcbiAgICAgICAgZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldID0gdmFsdWVbMF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNldCBhcHAgb3B0aW9uc1xuICAgICAgICB2YXIgYXBwID0gY3JlYXRlQXBwKFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7fSxcblxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICAgICAgY3VzdG9tT3B0aW9uc1xuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHJldHVybiB0aGUgcGx1Z2luIGluc3RhbmNlXG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgfTtcblxuICAgIHZhciBsb3dlckNhc2VGaXJzdExldHRlciA9IGZ1bmN0aW9uIGxvd2VyQ2FzZUZpcnN0TGV0dGVyKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICAgIH07XG5cbiAgICB2YXIgYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRvQ2FtZWxzKGF0dHJpYnV0ZU5hbWUucmVwbGFjZSgvXmRhdGEtLywgJycpKTtcbiAgICB9O1xuXG4gICAgdmFyIG1hcE9iamVjdCA9IGZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIHByb3BlcnR5TWFwKSB7XG4gICAgICAgIC8vIHJlbW92ZSB1bndhbnRlZFxuICAgICAgICBmb3Jpbihwcm9wZXJ0eU1hcCwgZnVuY3Rpb24oc2VsZWN0b3IsIG1hcHBpbmcpIHtcbiAgICAgICAgICAgIGZvcmluKG9iamVjdCwgZnVuY3Rpb24ocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHJlZ2V4cCBzaG9ydGN1dFxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvclJlZ0V4cCA9IG5ldyBSZWdFeHAoc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVzdHMgaWZcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHNlbGVjdG9yUmVnRXhwLnRlc3QocHJvcGVydHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gbm8gbWF0Y2gsIHNraXBcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBtYXBwaW5nLCB0aGUgb3JpZ2luYWwgcHJvcGVydHkgaXMgYWx3YXlzIHJlbW92ZWRcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBvbmx5IHJlbW92ZSwgd2UgZG9uZSFcbiAgICAgICAgICAgICAgICBpZiAobWFwcGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdmFsdWUgdG8gbmV3IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG1hcHBpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFttYXBwaW5nXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbW92ZSB0byBncm91cFxuICAgICAgICAgICAgICAgIHZhciBncm91cCA9IG1hcHBpbmcuZ3JvdXA7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG1hcHBpbmcpICYmICFvYmplY3RbZ3JvdXBdKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFtncm91cF0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvYmplY3RbZ3JvdXBdW2xvd2VyQ2FzZUZpcnN0TGV0dGVyKHByb3BlcnR5LnJlcGxhY2Uoc2VsZWN0b3JSZWdFeHAsICcnKSldID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gZG8gc3VibWFwcGluZ1xuICAgICAgICAgICAgaWYgKG1hcHBpbmcubWFwcGluZykge1xuICAgICAgICAgICAgICAgIG1hcE9iamVjdChvYmplY3RbbWFwcGluZy5ncm91cF0sIG1hcHBpbmcubWFwcGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QXR0cmlidXRlc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlc0FzT2JqZWN0KG5vZGUpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZU1hcHBpbmcgPVxuICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgLy8gdHVybiBhdHRyaWJ1dGVzIGludG8gb2JqZWN0XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGZvcmluKG5vZGUuYXR0cmlidXRlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChub2RlLmF0dHJpYnV0ZXNbaW5kZXhdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5uYW1lO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyKG5vZGUsIGF0dHJpYnV0ZS5uYW1lKTtcblxuICAgICAgICAgICAgICAgIG9ialthdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlLm5hbWUpXSA9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBhdHRyaWJ1dGUubmFtZSA/IHRydWUgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfSwge30pO1xuXG4gICAgICAgIC8vIGRvIG1hcHBpbmcgb2Ygb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgICAgbWFwT2JqZWN0KG91dHB1dCwgYXR0cmlidXRlTWFwcGluZyk7XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUFwcEF0RWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUFwcEF0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICAvLyBob3cgYXR0cmlidXRlcyBvZiB0aGUgaW5wdXQgZWxlbWVudCBhcmUgbWFwcGVkIHRvIHRoZSBvcHRpb25zIGZvciB0aGUgcGx1Z2luXG4gICAgICAgIHZhciBhdHRyaWJ1dGVNYXBwaW5nID0ge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIHRvIG90aGVyIG5hbWVcbiAgICAgICAgICAgICdeY2xhc3MkJzogJ2NsYXNzTmFtZScsXG4gICAgICAgICAgICAnXm11bHRpcGxlJCc6ICdhbGxvd011bHRpcGxlJyxcbiAgICAgICAgICAgICdeY2FwdHVyZSQnOiAnY2FwdHVyZU1ldGhvZCcsXG4gICAgICAgICAgICAnXndlYmtpdGRpcmVjdG9yeSQnOiAnYWxsb3dEaXJlY3Rvcmllc09ubHknLFxuXG4gICAgICAgICAgICAvLyBncm91cCB1bmRlciBzaW5nbGUgcHJvcGVydHlcbiAgICAgICAgICAgICdec2VydmVyJzoge1xuICAgICAgICAgICAgICAgIGdyb3VwOiAnc2VydmVyJyxcbiAgICAgICAgICAgICAgICBtYXBwaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICdecHJvY2Vzcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAncHJvY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgJ15yZXZlcnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogJ3JldmVydCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgJ15mZXRjaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAnZmV0Y2gnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgICdecmVzdG9yZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgJ15sb2FkJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBpbiBvYmplY3RcbiAgICAgICAgICAgICdedHlwZSQnOiBmYWxzZSxcbiAgICAgICAgICAgICdeZmlsZXMkJzogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWRkIGFkZGl0aW9uYWwgb3B0aW9uIHRyYW5zbGF0b3JzXG4gICAgICAgIGFwcGx5RmlsdGVycygnU0VUX0FUVFJJQlVURV9UT19PUFRJT05fTUFQJywgYXR0cmlidXRlTWFwcGluZyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGZpbmFsIG9wdGlvbnMgb2JqZWN0IGJ5IHNldHRpbmcgb3B0aW9ucyBvYmplY3QgYW5kIHRoZW4gb3ZlcnJpZGluZyBvcHRpb25zIHN1cHBsaWVkIG9uIGVsZW1lbnRcbiAgICAgICAgdmFyIG1lcmdlZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgYXR0cmlidXRlT3B0aW9ucyA9IGdldEF0dHJpYnV0ZXNBc09iamVjdChcbiAgICAgICAgICAgIGVsZW1lbnQubm9kZU5hbWUgPT09ICdGSUVMRFNFVCcgPyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKSA6IGVsZW1lbnQsXG4gICAgICAgICAgICBhdHRyaWJ1dGVNYXBwaW5nXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gbWVyZ2Ugd2l0aCBvcHRpb25zIG9iamVjdFxuICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVPcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGF0dHJpYnV0ZU9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG1lcmdlZE9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkT3B0aW9uc1trZXldID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkT3B0aW9uc1trZXldLCBhdHRyaWJ1dGVPcHRpb25zW2tleV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSBhdHRyaWJ1dGVPcHRpb25zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIHBhcmVudCBpcyBhIGZpZWxkc2V0LCBnZXQgZmlsZXMgZnJvbSBwYXJlbnQgYnkgc2VsZWN0aW5nIGFsbCBpbnB1dCBmaWVsZHMgdGhhdCBhcmUgbm90IGZpbGUgdXBsb2FkIGZpZWxkc1xuICAgICAgICAvLyB0aGVzZSB3aWxsIHRoZW4gYmUgYXV0b21hdGljYWxseSBzZXQgdG8gdGhlIGluaXRpYWwgZmlsZXNcbiAgICAgICAgbWVyZ2VkT3B0aW9ucy5maWxlcyA9IChvcHRpb25zLmZpbGVzIHx8IFtdKS5jb25jYXQoXG4gICAgICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPWZpbGVdKScpKS5tYXAoZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGlucHV0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbnB1dC5kYXRhc2V0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gYnVpbGQgcGx1Z2luXG4gICAgICAgIHZhciBhcHAgPSBjcmVhdGVBcHBPYmplY3QobWVyZ2VkT3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWRkIGFscmVhZHkgc2VsZWN0ZWQgZmlsZXNcbiAgICAgICAgaWYgKGVsZW1lbnQuZmlsZXMpIHtcbiAgICAgICAgICAgIEFycmF5LmZyb20oZWxlbWVudC5maWxlcykuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgYXBwLmFkZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgIGFwcC5yZXBsYWNlRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAvLyBleHBvc2VcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICB9O1xuXG4gICAgLy8gaWYgYW4gZWxlbWVudCBpcyBwYXNzZWQsIHdlIGNyZWF0ZSB0aGUgaW5zdGFuY2UgYXQgdGhhdCBlbGVtZW50LCBpZiBub3QsIHdlIGp1c3QgY3JlYXRlIGFuIHVwIG9iamVjdFxuICAgIHZhciBjcmVhdGVBcHAkMSA9IGZ1bmN0aW9uIGNyZWF0ZUFwcCgpIHtcbiAgICAgICAgcmV0dXJuIGlzTm9kZShhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pXG4gICAgICAgICAgICA/IGNyZWF0ZUFwcEF0RWxlbWVudC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogY3JlYXRlQXBwT2JqZWN0LmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgdmFyIFBSSVZBVEVfTUVUSE9EUyA9IFsnZmlyZScsICdfcmVhZCcsICdfd3JpdGUnXTtcblxuICAgIHZhciBjcmVhdGVBcHBBUEkgPSBmdW5jdGlvbiBjcmVhdGVBcHBBUEkoYXBwKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fTtcblxuICAgICAgICBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KGFwcCwgYXBpLCBQUklWQVRFX01FVEhPRFMpO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIHBsYWNlaG9sZGVycyBpbiBnaXZlbiBzdHJpbmcgd2l0aCByZXBsYWNlbWVudHNcbiAgICAgKiBAcGFyYW0gc3RyaW5nIC0gXCJGb28ge2Jhcn1cIlwiXG4gICAgICogQHBhcmFtIHJlcGxhY2VtZW50cyAtIHsgXCJiYXJcIjogMTAgfVxuICAgICAqL1xuICAgIHZhciByZXBsYWNlSW5TdHJpbmcgPSBmdW5jdGlvbiByZXBsYWNlSW5TdHJpbmcoc3RyaW5nLCByZXBsYWNlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oPzp7KFthLXpBLVpdKyl9KS9nLCBmdW5jdGlvbihtYXRjaCwgZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlbWVudHNbZ3JvdXBdO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uIGNyZWF0ZVdvcmtlcihmbikge1xuICAgICAgICB2YXIgd29ya2VyQmxvYiA9IG5ldyBCbG9iKFsnKCcsIGZuLnRvU3RyaW5nKCksICcpKCknXSwge1xuICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh3b3JrZXJCbG9iKTtcbiAgICAgICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhbnNmZXI6IGZ1bmN0aW9uIHRyYW5zZmVyKG1lc3NhZ2UsIGNiKSB7fSxcbiAgICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3QobWVzc2FnZSwgY2IsIHRyYW5zZmVyTGlzdCkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zlckxpc3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlcm1pbmF0ZTogZnVuY3Rpb24gdGVybWluYXRlKCkge1xuICAgICAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgbG9hZEltYWdlID0gZnVuY3Rpb24gbG9hZEltYWdlKHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbmFtZUZpbGUgPSBmdW5jdGlvbiByZW5hbWVGaWxlKGZpbGUsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlbmFtZWRGaWxlID0gZmlsZS5zbGljZSgwLCBmaWxlLnNpemUsIGZpbGUudHlwZSk7XG4gICAgICAgIHJlbmFtZWRGaWxlLmxhc3RNb2RpZmllZERhdGUgPSBmaWxlLmxhc3RNb2RpZmllZERhdGU7XG4gICAgICAgIHJlbmFtZWRGaWxlLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gcmVuYW1lZEZpbGU7XG4gICAgfTtcblxuICAgIHZhciBjb3B5RmlsZSA9IGZ1bmN0aW9uIGNvcHlGaWxlKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHJlbmFtZUZpbGUoZmlsZSwgZmlsZS5uYW1lKTtcbiAgICB9O1xuXG4gICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkIHBsdWdpbnMgKGNhbid0IHJlZ2lzdGVyIHR3aWNlKVxuICAgIHZhciByZWdpc3RlcmVkUGx1Z2lucyA9IFtdO1xuXG4gICAgLy8gcGFzcyB1dGlscyB0byBwbHVnaW5cbiAgICB2YXIgY3JlYXRlQXBwUGx1Z2luID0gZnVuY3Rpb24gY3JlYXRlQXBwUGx1Z2luKHBsdWdpbikge1xuICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWRQbHVnaW5zLmluY2x1ZGVzKHBsdWdpbikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbWVtYmVyIHRoaXMgcGx1Z2luXG4gICAgICAgIHJlZ2lzdGVyZWRQbHVnaW5zLnB1c2gocGx1Z2luKTtcblxuICAgICAgICAvLyBzZXR1cCFcbiAgICAgICAgdmFyIHBsdWdpbk91dGxpbmUgPSBwbHVnaW4oe1xuICAgICAgICAgICAgYWRkRmlsdGVyOiBhZGRGaWx0ZXIsXG4gICAgICAgICAgICB1dGlsczoge1xuICAgICAgICAgICAgICAgIFR5cGU6IFR5cGUsXG4gICAgICAgICAgICAgICAgZm9yaW46IGZvcmluLFxuICAgICAgICAgICAgICAgIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgICAgICAgICAgICAgICBpc0ZpbGU6IGlzRmlsZSxcbiAgICAgICAgICAgICAgICB0b05hdHVyYWxGaWxlU2l6ZTogdG9OYXR1cmFsRmlsZVNpemUsXG4gICAgICAgICAgICAgICAgcmVwbGFjZUluU3RyaW5nOiByZXBsYWNlSW5TdHJpbmcsXG4gICAgICAgICAgICAgICAgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lOiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uOiBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24sXG4gICAgICAgICAgICAgICAgZ3Vlc3N0aW1hdGVNaW1lVHlwZTogZ3Vlc3N0aW1hdGVNaW1lVHlwZSxcbiAgICAgICAgICAgICAgICBnZXRGaWxlRnJvbUJsb2I6IGdldEZpbGVGcm9tQmxvYixcbiAgICAgICAgICAgICAgICBnZXRGaWxlbmFtZUZyb21VUkw6IGdldEZpbGVuYW1lRnJvbVVSTCxcbiAgICAgICAgICAgICAgICBjcmVhdGVSb3V0ZTogY3JlYXRlUm91dGUsXG4gICAgICAgICAgICAgICAgY3JlYXRlV29ya2VyOiBjcmVhdGVXb3JrZXIsXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlldzogY3JlYXRlVmlldyxcbiAgICAgICAgICAgICAgICBjcmVhdGVJdGVtQVBJOiBjcmVhdGVJdGVtQVBJLFxuICAgICAgICAgICAgICAgIGxvYWRJbWFnZTogbG9hZEltYWdlLFxuICAgICAgICAgICAgICAgIGNvcHlGaWxlOiBjb3B5RmlsZSxcbiAgICAgICAgICAgICAgICByZW5hbWVGaWxlOiByZW5hbWVGaWxlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZUJsb2I6IGNyZWF0ZUJsb2IsXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbjogYXBwbHlGaWx0ZXJDaGFpbixcbiAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmc6IGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcsXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgIGZpbGVBY3Rpb25CdXR0b246IGZpbGVBY3Rpb25CdXR0b24sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgcGx1Z2luIG9wdGlvbnMgdG8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIGV4dGVuZERlZmF1bHRPcHRpb25zKHBsdWdpbk91dGxpbmUub3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIHVzZWQgYnkgc3VwcG9ydGVkKCkgbWV0aG9kXG4gICAgdmFyIGlzT3BlcmFNaW5pID0gZnVuY3Rpb24gaXNPcGVyYU1pbmkoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSkgPT09ICdbb2JqZWN0IE9wZXJhTWluaV0nO1xuICAgIH07XG4gICAgdmFyIGhhc1Byb21pc2VzID0gZnVuY3Rpb24gaGFzUHJvbWlzZXMoKSB7XG4gICAgICAgIHJldHVybiAnUHJvbWlzZScgaW4gd2luZG93O1xuICAgIH07XG4gICAgdmFyIGhhc0Jsb2JTbGljZSA9IGZ1bmN0aW9uIGhhc0Jsb2JTbGljZSgpIHtcbiAgICAgICAgcmV0dXJuICdzbGljZScgaW4gQmxvYi5wcm90b3R5cGU7XG4gICAgfTtcbiAgICB2YXIgaGFzQ3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24gaGFzQ3JlYXRlT2JqZWN0VVJMKCkge1xuICAgICAgICByZXR1cm4gJ1VSTCcgaW4gd2luZG93ICYmICdjcmVhdGVPYmplY3RVUkwnIGluIHdpbmRvdy5VUkw7XG4gICAgfTtcbiAgICB2YXIgaGFzVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIGhhc1Zpc2liaWxpdHkoKSB7XG4gICAgICAgIHJldHVybiAndmlzaWJpbGl0eVN0YXRlJyBpbiBkb2N1bWVudDtcbiAgICB9O1xuICAgIHZhciBoYXNUaW1pbmcgPSBmdW5jdGlvbiBoYXNUaW1pbmcoKSB7XG4gICAgICAgIHJldHVybiAncGVyZm9ybWFuY2UnIGluIHdpbmRvdztcbiAgICB9OyAvLyBpT1MgOC54XG4gICAgdmFyIGhhc0NTU1N1cHBvcnRzID0gZnVuY3Rpb24gaGFzQ1NTU3VwcG9ydHMoKSB7XG4gICAgICAgIHJldHVybiAnc3VwcG9ydHMnIGluICh3aW5kb3cuQ1NTIHx8IHt9KTtcbiAgICB9OyAvLyB1c2UgdG8gZGV0ZWN0IFNhZmFyaSA5K1xuICAgIHZhciBpc0lFMTEgPSBmdW5jdGlvbiBpc0lFMTEoKSB7XG4gICAgICAgIHJldHVybiAvTVNJRXxUcmlkZW50Ly50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9O1xuXG4gICAgdmFyIHN1cHBvcnRlZCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gUnVucyBpbW1lZGlhdGVseSBhbmQgdGhlbiByZW1lbWJlcnMgcmVzdWx0IGZvciBzdWJzZXF1ZW50IGNhbGxzXG4gICAgICAgIHZhciBpc1N1cHBvcnRlZCA9XG4gICAgICAgICAgICAvLyBIYXMgdG8gYmUgYSBicm93c2VyXG4gICAgICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICAgICAgLy8gQ2FuJ3QgcnVuIG9uIE9wZXJhIE1pbmkgZHVlIHRvIGxhY2sgb2YgZXZlcnl0aGluZ1xuICAgICAgICAgICAgIWlzT3BlcmFNaW5pKCkgJiZcbiAgICAgICAgICAgIC8vIFJlcXVpcmUgdGhlc2UgQVBJcyB0byBmZWF0dXJlIGRldGVjdCBhIG1vZGVybiBicm93c2VyXG4gICAgICAgICAgICBoYXNWaXNpYmlsaXR5KCkgJiZcbiAgICAgICAgICAgIGhhc1Byb21pc2VzKCkgJiZcbiAgICAgICAgICAgIGhhc0Jsb2JTbGljZSgpICYmXG4gICAgICAgICAgICBoYXNDcmVhdGVPYmplY3RVUkwoKSAmJlxuICAgICAgICAgICAgaGFzVGltaW5nKCkgJiZcbiAgICAgICAgICAgIC8vIGRvZXNuJ3QgbmVlZCBDU1NTdXBwb3J0cyBidXQgaXMgYSBnb29kIHdheSB0byBkZXRlY3QgU2FmYXJpIDkrICh3ZSBkbyB3YW50IHRvIHN1cHBvcnQgSUUxMSB0aG91Z2gpXG4gICAgICAgICAgICAoaGFzQ1NTU3VwcG9ydHMoKSB8fCBpc0lFMTEoKSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICAvKipcbiAgICAgKiBQbHVnaW4gaW50ZXJuYWwgc3RhdGUgKG92ZXIgYWxsIGluc3RhbmNlcylcbiAgICAgKi9cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIC8vIGFjdGl2ZSBhcHAgaW5zdGFuY2VzLCB1c2VkIHRvIHJlZHJhdyB0aGUgYXBwcyBhbmQgdG8gZmluZCB0aGUgbGF0ZXJcbiAgICAgICAgYXBwczogW10sXG4gICAgfTtcblxuICAgIC8vIHBsdWdpbiBuYW1lXG4gICAgdmFyIG5hbWUgPSAnZmlsZXBvbmQnO1xuXG4gICAgLyoqXG4gICAgICogUHVibGljIFBsdWdpbiBtZXRob2RzXG4gICAgICovXG4gICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oKSB7fTtcbiAgICBleHBvcnRzLlN0YXR1cyA9IHt9O1xuICAgIGV4cG9ydHMuRmlsZVN0YXR1cyA9IHt9O1xuICAgIGV4cG9ydHMuRmlsZU9yaWdpbiA9IHt9O1xuICAgIGV4cG9ydHMuT3B0aW9uVHlwZXMgPSB7fTtcbiAgICBleHBvcnRzLmNyZWF0ZSA9IGZuO1xuICAgIGV4cG9ydHMuZGVzdHJveSA9IGZuO1xuICAgIGV4cG9ydHMucGFyc2UgPSBmbjtcbiAgICBleHBvcnRzLmZpbmQgPSBmbjtcbiAgICBleHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gZm47XG4gICAgZXhwb3J0cy5nZXRPcHRpb25zID0gZm47XG4gICAgZXhwb3J0cy5zZXRPcHRpb25zID0gZm47XG5cbiAgICAvLyBpZiBub3Qgc3VwcG9ydGVkLCBubyBBUElcbiAgICBpZiAoc3VwcG9ydGVkKCkpIHtcbiAgICAgICAgLy8gc3RhcnQgcGFpbnRlciBhbmQgZmlyZSBsb2FkIGV2ZW50XG4gICAgICAgIGNyZWF0ZVBhaW50ZXIoXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hcHBzLmZvckVhY2goZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHAuX3JlYWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbih0cykge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcC5fd3JpdGUodHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGZpcmUgbG9hZGVkIGV2ZW50IHNvIHdlIGtub3cgd2hlbiBGaWxlUG9uZCBpcyBhdmFpbGFibGVcbiAgICAgICAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgICAgICAvLyBsZXQgb3RoZXJzIGtub3cgd2UgaGF2ZSBhcmVhIHJlYWR5XG4gICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6bG9hZGVkJywge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZDogc3VwcG9ydGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiBleHBvcnRzLmNyZWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3Ryb3k6IGV4cG9ydHMuZGVzdHJveSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlOiBleHBvcnRzLnBhcnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluZDogZXhwb3J0cy5maW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQbHVnaW46IGV4cG9ydHMucmVnaXN0ZXJQbHVnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRPcHRpb25zOiBleHBvcnRzLnNldE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFuIHVwIGV2ZW50XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGF0Y2gpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgdG8gYmFjayBvZiBleGVjdXRpb24gcXVldWUsIEZpbGVQb25kIHNob3VsZCBoYXZlIGJlZW4gZXhwb3J0ZWQgYnkgdGhlblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRpc3BhdGNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZXMgdGhlIE9wdGlvblR5cGVzIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgICAgIHZhciB1cGRhdGVPcHRpb25UeXBlcyA9IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvblR5cGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcmluKGdldE9wdGlvbnMoKSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGV4cG9ydHMuT3B0aW9uVHlwZXNba2V5XSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwb3J0cy5TdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBTdGF0dXMpO1xuICAgICAgICBleHBvcnRzLkZpbGVPcmlnaW4gPSBPYmplY3QuYXNzaWduKHt9LCBGaWxlT3JpZ2luKTtcbiAgICAgICAgZXhwb3J0cy5GaWxlU3RhdHVzID0gT2JqZWN0LmFzc2lnbih7fSwgSXRlbVN0YXR1cyk7XG5cbiAgICAgICAgZXhwb3J0cy5PcHRpb25UeXBlcyA9IHt9O1xuICAgICAgICB1cGRhdGVPcHRpb25UeXBlcygpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBtZXRob2QsIGNyZWF0ZXMgYXBwcyBhbmQgYWRkcyB0aGVtIHRvIHRoZSBhcHAgYXJyYXlcbiAgICAgICAgZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgYXBwID0gY3JlYXRlQXBwJDEuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgYXBwLm9uKCdkZXN0cm95JywgZXhwb3J0cy5kZXN0cm95KTtcbiAgICAgICAgICAgIHN0YXRlLmFwcHMucHVzaChhcHApO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFwcEFQSShhcHApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGRlc3Ryb3lzIGFwcHMgYW5kIHJlbW92ZXMgdGhlbSBmcm9tIHRoZSBhcHAgYXJyYXlcbiAgICAgICAgZXhwb3J0cy5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShob29rKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlIGFwcCB3YXMgZGVzdHJveWVkIHN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgdmFyIGluZGV4VG9SZW1vdmUgPSBzdGF0ZS5hcHBzLmZpbmRJbmRleChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwLmlzQXR0YWNoZWRUbyhob29rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluZGV4VG9SZW1vdmUgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGFwcHNcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gc3RhdGUuYXBwcy5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSlbMF07XG5cbiAgICAgICAgICAgICAgICAvLyByZXN0b3JlIG9yaWdpbmFsIGRvbSBlbGVtZW50XG4gICAgICAgICAgICAgICAgYXBwLnJlc3RvcmVFbGVtZW50KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHBhcnNlcyB0aGUgZ2l2ZW4gY29udGV4dCBmb3IgcGx1Z2lucyAoZG9lcyBub3QgaW5jbHVkZSB0aGUgY29udGV4dCBlbGVtZW50IGl0c2VsZilcbiAgICAgICAgZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKGNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIGdldCBhbGwgcG9zc2libGUgaG9va3NcbiAgICAgICAgICAgIHZhciBtYXRjaGVkSG9va3MgPSBBcnJheS5mcm9tKGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBuYW1lKSk7XG5cbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgYWxyZWFkeSBhY3RpdmUgaG9va3NcbiAgICAgICAgICAgIHZhciBuZXdIb29rcyA9IG1hdGNoZWRIb29rcy5maWx0ZXIoZnVuY3Rpb24obmV3SG9vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiAhc3RhdGUuYXBwcy5maW5kKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwLmlzQXR0YWNoZWRUbyhuZXdIb29rKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgbmV3IGluc3RhbmNlIGZvciBlYWNoIGhvb2tcbiAgICAgICAgICAgIHJldHVybiBuZXdIb29rcy5tYXAoZnVuY3Rpb24oaG9vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmNyZWF0ZShob29rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHJldHVybnMgYW4gYXBwIGJhc2VkIG9uIHRoZSBnaXZlbiBlbGVtZW50IGhvb2tcbiAgICAgICAgZXhwb3J0cy5maW5kID0gZnVuY3Rpb24gZmluZChob29rKSB7XG4gICAgICAgICAgICB2YXIgYXBwID0gc3RhdGUuYXBwcy5maW5kKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWFwcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFwcEFQSShhcHApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZHMgYSBwbHVnaW4gZXh0ZW5zaW9uXG4gICAgICAgIGV4cG9ydHMucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbigpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwbHVnaW5zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBsdWdpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHBsdWdpbnNcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChjcmVhdGVBcHBQbHVnaW4pO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgT3B0aW9uVHlwZXMsIGVhY2ggcGx1Z2luIG1pZ2h0IGhhdmUgZXh0ZW5kZWQgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICAgICAgdXBkYXRlT3B0aW9uVHlwZXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBleHBvcnRzLmdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zJDEoKSB7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IHt9O1xuICAgICAgICAgICAgZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb3B0c1trZXldID0gdmFsdWVbMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvcHRzO1xuICAgICAgICB9O1xuXG4gICAgICAgIGV4cG9ydHMuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMkMShvcHRzKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0cykpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZXhpc3RpbmcgcGx1Z2luc1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBvdmVycmlkZSBkZWZhdWx0c1xuICAgICAgICAgICAgICAgIHNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJldHVybiBuZXcgb3B0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuZ2V0T3B0aW9ucygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/filepond/dist/filepond.js\n");

/***/ }),

/***/ "./node_modules/qalendar/dist/qalendar.es.js":
/*!***************************************************!*\
  !*** ./node_modules/qalendar/dist/qalendar.es.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DatePicker\": () => (/* binding */ ks),\n/* harmony export */   \"Qalendar\": () => (/* binding */ Zl)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\nvar er = Object.defineProperty;\nvar tr = (e, t, n) => t in e ? er(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n;\nvar F = (e, t, n) => (tr(e, typeof t != \"symbol\" ? t + \"\" : t, n), n);\n\nvar Q = /* @__PURE__ */ ((e) => (e.SINGLE_DAY_TIMED = \"SINGLE_DAY_TIMED\", e.SINGLE_DAY_FULL_DAY = \"SINGLE_DAY_FULL_DAY\", e.SINGLE_HYBRID_DAY_TIMED = \"SINGLE_HYBRID_DAY_TIMED\", e.MULTI_DAY_TIMED = \"MULTI_DAY_TIMED\", e.MULTI_DAY_FULL_DAY = \"MULTI_DAY_FULL_DAY\", e))(Q || {});\nconst xe = {\n  yellow: \"rgb(244, 180, 0)\",\n  blue: \"rgb(38, 132, 255)\",\n  green: \"rgb(51, 182, 121)\",\n  red: \"rgb(255, 84, 86)\",\n  pink: \"rgb(239, 139, 239)\",\n  purple: \"rgb(157, 114, 245)\",\n  turquoise: \"rgb(64, 190, 190)\",\n  brown: \"rgb(169, 99, 30)\"\n}, Ie = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}$/, ft = /^\\d{4}-\\d{2}-\\d{2}$/;\nvar q = /* @__PURE__ */ ((e) => (e.REGULAR = \"regular\", e.SHORTENED = \"shortened\", e.FLEXIBLE = \"flexible\", e))(q || {});\nclass Ee {\n  /**\n   * If navigator.languages is present (correlating to the browser's Accept-Language header), then use it\n   * otherwise just use navigator.language\n   * */\n  static getBrowserNavigatorLocale() {\n    return typeof navigator != \"object\" ? \"en-US\" : navigator.languages && navigator.languages.length ? navigator.languages[0] : navigator.language;\n  }\n  /**\n   * Solution from https://github.com/vuejs/core/issues/4733#issuecomment-1024816095\n   * */\n  static hasSlotContent(t) {\n    return t ? t().some((n) => n.type === vue__WEBPACK_IMPORTED_MODULE_0__.Comment || Array.isArray(n.children) && !n.children.length ? !1 : n.type !== vue__WEBPACK_IMPORTED_MODULE_0__.Text || typeof n.children == \"string\" && n.children.trim() !== \"\") : !1;\n  }\n  static getEventType(t, n) {\n    const a = Ie.test(t.time.start) && Ie.test(t.time.end), r = ft.test(t.time.start) && ft.test(t.time.end);\n    if (a)\n      return this.getTimedEventType(t, n);\n    if (r)\n      return this.getFullDayEventType(t, n);\n    throw new Error(\"Event has invalid type\");\n  }\n  static getTimedEventType(t, n) {\n    if (n.dateStringsHaveEqualDates(t.time.start, t.time.end))\n      return Q.SINGLE_DAY_TIMED;\n    if (n.dayMode === q.FLEXIBLE) {\n      const a = n.setHourInDateTimeString(\n        n.addDaysToDateTimeString(\n          1,\n          n.dateStringFrom(t.time.start)\n        ),\n        se.getHourFromTimePoints(n.DAY_END)\n      );\n      if (t.time.end < a)\n        return Q.SINGLE_HYBRID_DAY_TIMED;\n    }\n    return Q.MULTI_DAY_TIMED;\n  }\n  static getFullDayEventType(t, n) {\n    return n.dateStringsHaveEqualDates(t.time.start, t.time.end) ? Q.SINGLE_DAY_FULL_DAY : Q.MULTI_DAY_FULL_DAY;\n  }\n  static isUIEventTouchEvent(t) {\n    return \"touches\" in t && typeof t.touches == \"object\";\n  }\n}\nvar _t = /* @__PURE__ */ ((e) => (e[e.MIDNIGHT = 0] = \"MIDNIGHT\", e[e.ONE_AM = 100] = \"ONE_AM\", e[e.TWO_AM = 200] = \"TWO_AM\", e[e.THREE_AM = 300] = \"THREE_AM\", e[e.FOUR_AM = 400] = \"FOUR_AM\", e[e.FIVE_AM = 500] = \"FIVE_AM\", e[e.SIX_AM = 600] = \"SIX_AM\", e[e.SEVEN_AM = 700] = \"SEVEN_AM\", e[e.EIGHT_AM = 800] = \"EIGHT_AM\", e[e.NINE_AM = 900] = \"NINE_AM\", e[e.TEN_AM = 1e3] = \"TEN_AM\", e[e.ELEVEN_AM = 1100] = \"ELEVEN_AM\", e[e.TWELVE_PM = 1200] = \"TWELVE_PM\", e[e.ONE_PM = 1300] = \"ONE_PM\", e[e.TWO_PM = 1400] = \"TWO_PM\", e[e.THREE_PM = 1500] = \"THREE_PM\", e[e.FOUR_PM = 1600] = \"FOUR_PM\", e[e.FIVE_PM = 1700] = \"FIVE_PM\", e[e.SIX_PM = 1800] = \"SIX_PM\", e[e.SEVEN_PM = 1900] = \"SEVEN_PM\", e[e.EIGHT_PM = 2e3] = \"EIGHT_PM\", e[e.NINE_PM = 2100] = \"NINE_PM\", e[e.TEN_PM = 2200] = \"TEN_PM\", e[e.ELEVEN_PM = 2300] = \"ELEVEN_PM\", e[e.TWELVE_AM = 2400] = \"TWELVE_AM\", e))(_t || {});\nclass Ne extends Date {\n  get fullYear() {\n    return this.getFullYear();\n  }\n  get month() {\n    return this.getMonth();\n  }\n  get date() {\n    return this.getDate();\n  }\n}\nvar Mt = /* @__PURE__ */ ((e) => (e.SUNDAY = \"sunday\", e.MONDAY = \"monday\", e))(Mt || {});\nclass se {\n  constructor(t = \"monday\", n = null, a = { start: 0, end: 2400 }) {\n    F(this, \"FIRST_DAY_OF_WEEK\");\n    F(this, \"CALENDAR_LOCALE\");\n    F(this, \"ALL_HOURS\", [\n      0,\n      100,\n      200,\n      300,\n      400,\n      500,\n      600,\n      700,\n      800,\n      900,\n      1e3,\n      1100,\n      1200,\n      1300,\n      1400,\n      1500,\n      1600,\n      1700,\n      1800,\n      1900,\n      2e3,\n      2100,\n      2200,\n      2300\n    ]);\n    F(this, \"DAY_START\");\n    F(this, \"DAY_END\");\n    F(this, \"HOURS_PER_DAY\", 24);\n    F(this, \"MS_PER_DAY\");\n    this.FIRST_DAY_OF_WEEK = t, this.CALENDAR_LOCALE = n || Ee.getBrowserNavigatorLocale(), this.DAY_START = a.start, this.DAY_END = a.end, this.HOURS_PER_DAY = (() => {\n      const r = se.getHourFromTimePoints(this.DAY_END), s = se.getHourFromTimePoints(this.DAY_START);\n      return r > s ? r - s : this.HOURS_PER_DAY - s + r;\n    })(), this.MS_PER_DAY = 864e5;\n  }\n  get dayMode() {\n    return this.DAY_START === 0 && this.DAY_END === 2400 ? q.REGULAR : this.DAY_START >= this.DAY_END ? q.FLEXIBLE : q.SHORTENED;\n  }\n  getDatesBetweenTwoDates(t, n) {\n    for (var a = [], r = new Date(t); r <= n; r.setDate(r.getDate() + 1))\n      a.push(new Date(r.getFullYear(), r.getMonth(), r.getDate()));\n    return a;\n  }\n  getCalendarWeekDateObjects(t) {\n    let n;\n    this.FIRST_DAY_OF_WEEK === \"sunday\" ? n = t.getDay() : n = t.getDay() === 0 ? 6 : t.getDay() - 1;\n    const a = t.getDate() - n, r = new Date(\n      t.getFullYear(),\n      t.getMonth(),\n      a\n    );\n    return this.getDatesBetweenTwoDates(\n      r,\n      new Date(\n        r.getFullYear(),\n        r.getMonth(),\n        r.getDate() + 6\n      )\n    );\n  }\n  /**\n   * Returns an array of the weeks that comprise a month\n   *\n   * @param {number} yyyy\n   * @param {number} mm - zero indexed (January === 0)\n   * */\n  getCalendarMonthSplitInWeeks(t, n) {\n    const a = [], r = new Date(t, n, 1), s = new Date(\n      r.getFullYear(),\n      r.getMonth(),\n      1\n    ), i = this.getCalendarWeekDateObjects(s);\n    a.push(i);\n    let o = !0, l = i[0];\n    const c = r.getMonth();\n    for (; o; ) {\n      const d = new Date(\n        l.getFullYear(),\n        l.getMonth(),\n        l.getDate() + 7\n      );\n      d.getMonth() === c ? (a.push(this.getCalendarWeekDateObjects(d)), l = d) : o = !1;\n    }\n    return a;\n  }\n  /**\n   * Returns an array with the length of 12 dates,\n   * one date for the first day of each month of the year\n   * */\n  getCalendarYearMonths(t) {\n    const n = [];\n    let a = 0;\n    for (; a <= 11; )\n      n.push(new Date(t, a, 1)), a++;\n    return n;\n  }\n  getHourAndMinutesFromTimePoints(t) {\n    const n = t.toString();\n    let a = \"0\", r = \"0\";\n    return n.length === 4 ? (a = n[0] + n[1], r = n[2] + n[3]) : n.length === 3 && (a = n[0], r = n[1] + n[2]), {\n      hour: +a,\n      minutes: +r\n    };\n  }\n  /**\n   * Given timePoints (0, 100, 200 etc.), this function returns\n   * a localized string with the respective hour\n   * (in en-US for example: 0 => 12 AM, 1600 => 4 PM )\n   * */\n  getHourLocaleStringFromHourDigits(t) {\n    const { hour: n, minutes: a } = this.getHourAndMinutesFromTimePoints(t), r = new Date(\n      2100,\n      0,\n      1,\n      +n,\n      +a,\n      0\n    ).toLocaleTimeString(this.CALENDAR_LOCALE, {\n      hour: \"2-digit\"\n    });\n    return r[0] === \"0\" ? r.substring(1) : r;\n  }\n  getLocalizedNameOfWeekday(t, n = \"short\") {\n    return t.toLocaleDateString(this.CALENDAR_LOCALE, {\n      weekday: n\n    });\n  }\n  getLocalizedNameOfMonth(t, n = \"short\") {\n    return t.toLocaleDateString(this.CALENDAR_LOCALE, {\n      month: n\n    });\n  }\n  getLocalizedDateString(t) {\n    return t.toLocaleDateString(this.CALENDAR_LOCALE);\n  }\n  /**\n   * Takes a date object, and creates a time string from it, in the format of\n   * YYYY-MM-DD hh:mm\n   * */\n  getDateTimeStringFromDate(t, n) {\n    const a = t.getFullYear(), r = t.getMonth() + 1, s = t.getDate(), i = `${a}-${r >= 10 ? r : \"0\" + r}-${s >= 10 ? s : \"0\" + s}`;\n    if (!n) {\n      const l = t.getHours(), c = t.getMinutes();\n      return `${i} ${l >= 10 ? l : \"0\" + l}:${c >= 10 ? c : \"0\" + c}`;\n    }\n    return `${i} ${n === \"start\" ? \"00:00\" : \"23:59\"}`;\n  }\n  getLocalizedTime(t) {\n    const {\n      year: n,\n      month: a,\n      date: r,\n      hour: s,\n      minutes: i\n    } = this.getAllVariablesFromDateTimeString(t);\n    return new Date(n, a, r, s, i).toLocaleTimeString(this.CALENDAR_LOCALE, {\n      hour: \"numeric\",\n      minute: \"numeric\"\n    });\n  }\n  getLocalizedHour(t) {\n    return t.toLocaleTimeString(this.CALENDAR_LOCALE, { hour: \"2-digit\" });\n  }\n  getLocalizedTimeRange(t, n) {\n    return `${this.getLocalizedTime(t)} - ${this.getLocalizedTime(n)}`;\n  }\n  /**\n   * Returns numeric values for year, month, date, hour and minutes, given a dateTimeString\n   * All variables are Date-Object compatible, meaning \"month\" is zero-indexed\n   * */\n  getAllVariablesFromDateTimeString(t) {\n    return {\n      year: +t.substring(0, 4),\n      month: +t.substring(5, 7) - 1,\n      date: +t.substring(8, 10),\n      hour: this.hourFrom(t),\n      minutes: this.minutesFrom(t)\n    };\n  }\n  dateIsToday(t) {\n    const {\n      fullYear: n,\n      month: a,\n      date: r\n    } = new Ne(), {\n      fullYear: s,\n      month: i,\n      date: o\n    } = new Ne(t);\n    return n === s && a === i && r === o;\n  }\n  dateIsInWeek(t, n) {\n    const { date: a, month: r, fullYear: s } = new Ne(t);\n    for (const i of n) {\n      const o = a === i.getDate(), l = r === i.getMonth(), c = s === i.getFullYear();\n      if (o && l && c)\n        return !0;\n    }\n    return !1;\n  }\n  getDateStringFromDate(t) {\n    const n = t.getFullYear(), a = t.getMonth() + 1, r = t.getDate();\n    return `${n}-${a >= 10 ? a : \"0\" + a}-${r >= 10 ? r : \"0\" + r}`;\n  }\n  addMinutesToDateTimeString(t, n) {\n    const {\n      year: a,\n      month: r,\n      date: s,\n      hour: i,\n      minutes: o\n    } = this.getAllVariablesFromDateTimeString(n), l = new Date(a, r, s, i, o), c = new Date(l.getTime() + t * 6e4);\n    return this.getDateTimeStringFromDate(c);\n  }\n  addDaysToDateTimeString(t, n) {\n    return this.addMinutesToDateTimeString(t * 1440, n);\n  }\n  dateStringsHaveEqualDates(t, n) {\n    const { year: a, month: r, date: s } = this.getAllVariablesFromDateTimeString(t), { year: i, month: o, date: l } = this.getAllVariablesFromDateTimeString(n);\n    return a === i && r === o && s === l;\n  }\n  setDateToEndOfDay(t) {\n    return new Date(\n      t.getFullYear(),\n      t.getMonth(),\n      t.getDate(),\n      23,\n      59,\n      59,\n      999\n    );\n  }\n  turnMinutesIntoPercentageOfHour(t) {\n    const a = 1.6666666666666667 * t;\n    return a < 10 ? \"0\" + a : a.toString();\n  }\n  /**\n   * Every hour between 'dayStart' and 'dayEnd' is 100, in this function referred to as 100 points\n   * If an event starts 30 minutes after 'dayStart', it should have 50 pointsIntoDay\n   * If a day consists of 4 hours (400 points), we then have to count\n   * (50 / 400) * 100 = 12.5 => event starts after 12.5 percent of the day\n   *\n   * Result is supposed to be a number between 0 and 100, and is used for setting the CSS- top- and height-attributes for events\n   * */\n  getPercentageOfDayFromDateTimeString(t, n, a) {\n    const s = this.hourFrom(t) * 100, i = +t.substring(14, 16), o = +this.turnMinutesIntoPercentageOfHour(+i);\n    if (a > n) {\n      const g = a - n;\n      return (s + o - n) / g * 100;\n    }\n    const l = _t.TWELVE_AM - n, c = l + a, d = s + o;\n    return (d >= n ? d - n : l + d) / c * 100;\n  }\n  getTimeFromClick(t, n) {\n    if (n <= 0)\n      throw new Error(\"weekHeight cannot be a negative number\");\n    if (t < 0)\n      throw new Error(\"clickOffsetY cannot be a negative number\");\n    const a = this.DAY_START / 100, r = n / this.HOURS_PER_DAY, s = Math.floor(t % r / (r / 60));\n    if (this.DAY_END <= this.DAY_START) {\n      const l = this.DAY_END / 100 * r, c = n - l;\n      if (t > c) {\n        const d = Math.floor((t - c) / r);\n        return `${this.doubleDigit(d)}:${this.doubleDigit(s)}`;\n      }\n    }\n    const i = Math.floor(t / r) + a;\n    return `${this.doubleDigit(i)}:${this.doubleDigit(s)}`;\n  }\n  setSegmentOfDateTimeString(t, n) {\n    if (n.hour < 0 || n.hour > 23)\n      throw new Error(\"Invalid hour\");\n    const a = this.doubleDigit(n.hour);\n    return t = t.replace(/\\d{2}:/, a + \":\"), t;\n  }\n  isTrailingOrLeadingDate(t, n) {\n    const { month: a } = new Ne(t);\n    return n !== a;\n  }\n  static getTimePointsFromHour(t) {\n    if (t < 0 || t > 24 || t % 1 !== 0)\n      throw new Error(\"Invalid day boundary\");\n    return t === 0 ? t : t * 100;\n  }\n  static getHourFromTimePoints(t) {\n    if (t < 0 || t > 2400 || t % 100 !== 0)\n      throw new Error(\"Invalid time points\");\n    return t === 0 ? t : t / 100;\n  }\n  getTimelineHours() {\n    return this.dayMode !== q.FLEXIBLE ? this.ALL_HOURS.filter((t) => t >= this.DAY_START && t < this.DAY_END) : [\n      ...this.ALL_HOURS.filter((t) => t >= this.DAY_START),\n      ...this.ALL_HOURS.filter((t) => t < this.DAY_END)\n    ];\n  }\n  dateStringFrom(t) {\n    return t.substring(0, 10);\n  }\n  timeStringFrom(t) {\n    return t.substring(11, 16);\n  }\n  hourFrom(t) {\n    return +t.substring(11, 13);\n  }\n  minutesFrom(t) {\n    return +t.substring(14, 16);\n  }\n  areDaysConsecutive(t, n) {\n    return this.dateStringFrom(this.addDaysToDateTimeString(1, t)) === this.dateStringFrom(n);\n  }\n  setHourInDateTimeString(t, n) {\n    const a = this.doubleDigit(n);\n    return t = t.replace(/\\d{2}:/, a + \":\"), t;\n  }\n  setMinutesInDateTimeString(t, n) {\n    const a = this.doubleDigit(n);\n    return t = t.replace(/:\\d{2}/, \":\" + a), t;\n  }\n  getDateTimeStringDayBoundariesFrom(t) {\n    if (this.DAY_END <= this.DAY_START) {\n      const r = this.addDaysToDateTimeString(1, t), s = this.setHourInDateTimeString(r, this.getHourAndMinutesFromTimePoints(this.DAY_END).hour);\n      return { start: this.setHourInDateTimeString(t, this.getHourAndMinutesFromTimePoints(this.DAY_START).hour), end: s };\n    }\n    const n = this.setHourInDateTimeString(t, this.getHourAndMinutesFromTimePoints(this.DAY_START).hour);\n    let a;\n    return this.DAY_END === _t.TWELVE_AM ? (a = this.setHourInDateTimeString(t, 23), a = this.setMinutesInDateTimeString(a, 59)) : a = this.setHourInDateTimeString(t, this.getHourAndMinutesFromTimePoints(this.DAY_END).hour), { start: n, end: a };\n  }\n  doubleDigit(t) {\n    if (t < 0 || t > 60)\n      throw new Error(\"Invalid number. This is not a valid hour or minute\");\n    return t < 10 ? \"0\" + t : String(t);\n  }\n}\nfunction vn(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var a = Object.getOwnPropertySymbols(e);\n    t && (a = a.filter(function(r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), n.push.apply(n, a);\n  }\n  return n;\n}\nfunction p(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? vn(Object(n), !0).forEach(function(a) {\n      W(e, a, n[a]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : vn(Object(n)).forEach(function(a) {\n      Object.defineProperty(e, a, Object.getOwnPropertyDescriptor(n, a));\n    });\n  }\n  return e;\n}\nfunction mt(e) {\n  return mt = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(t) {\n    return typeof t;\n  } : function(t) {\n    return t && typeof Symbol == \"function\" && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n  }, mt(e);\n}\nfunction sr(e, t) {\n  if (!(e instanceof t))\n    throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction gn(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var a = t[n];\n    a.enumerable = a.enumerable || !1, a.configurable = !0, \"value\" in a && (a.writable = !0), Object.defineProperty(e, a.key, a);\n  }\n}\nfunction or(e, t, n) {\n  return t && gn(e.prototype, t), n && gn(e, n), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction W(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\nfunction Xt(e, t) {\n  return cr(e) || ur(e, t) || da(e, t) || mr();\n}\nfunction qe(e) {\n  return lr(e) || dr(e) || da(e) || fr();\n}\nfunction lr(e) {\n  if (Array.isArray(e))\n    return Pt(e);\n}\nfunction cr(e) {\n  if (Array.isArray(e))\n    return e;\n}\nfunction dr(e) {\n  if (typeof Symbol < \"u\" && e[Symbol.iterator] != null || e[\"@@iterator\"] != null)\n    return Array.from(e);\n}\nfunction ur(e, t) {\n  var n = e == null ? null : typeof Symbol < \"u\" && e[Symbol.iterator] || e[\"@@iterator\"];\n  if (n != null) {\n    var a = [], r = !0, s = !1, i, o;\n    try {\n      for (n = n.call(e); !(r = (i = n.next()).done) && (a.push(i.value), !(t && a.length === t)); r = !0)\n        ;\n    } catch (l) {\n      s = !0, o = l;\n    } finally {\n      try {\n        !r && n.return != null && n.return();\n      } finally {\n        if (s)\n          throw o;\n      }\n    }\n    return a;\n  }\n}\nfunction da(e, t) {\n  if (e) {\n    if (typeof e == \"string\")\n      return Pt(e, t);\n    var n = Object.prototype.toString.call(e).slice(8, -1);\n    if (n === \"Object\" && e.constructor && (n = e.constructor.name), n === \"Map\" || n === \"Set\")\n      return Array.from(e);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return Pt(e, t);\n  }\n}\nfunction Pt(e, t) {\n  (t == null || t > e.length) && (t = e.length);\n  for (var n = 0, a = new Array(t); n < t; n++)\n    a[n] = e[n];\n  return a;\n}\nfunction fr() {\n  throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);\n}\nfunction mr() {\n  throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);\n}\nvar pn = function() {\n}, Ut = {}, ua = {}, fa = null, ma = {\n  mark: pn,\n  measure: pn\n};\ntry {\n  typeof window < \"u\" && (Ut = window), typeof document < \"u\" && (ua = document), typeof MutationObserver < \"u\" && (fa = MutationObserver), typeof performance < \"u\" && (ma = performance);\n} catch {\n}\nvar hr = Ut.navigator || {}, yn = hr.userAgent, bn = yn === void 0 ? \"\" : yn, ye = Ut, M = ua, Dn = fa, Ze = ma;\nye.document;\nvar he = !!M.documentElement && !!M.head && typeof M.addEventListener == \"function\" && typeof M.createElement == \"function\", ha = ~bn.indexOf(\"MSIE\") || ~bn.indexOf(\"Trident/\"), et, tt, nt, at, rt, de = \"___FONT_AWESOME___\", It = 16, va = \"fa\", ga = \"svg-inline--fa\", Se = \"data-fa-i2svg\", Lt = \"data-fa-pseudo-element\", vr = \"data-fa-pseudo-element-pending\", Vt = \"data-prefix\", xt = \"data-icon\", kn = \"fontawesome-i2svg\", gr = \"async\", pr = [\"HTML\", \"HEAD\", \"STYLE\", \"SCRIPT\"], pa = function() {\n  try {\n    return \"development\" === \"production\";\n  } catch {\n    return !1;\n  }\n}(), _ = \"classic\", O = \"sharp\", qt = [_, O];\nfunction Ge(e) {\n  return new Proxy(e, {\n    get: function(n, a) {\n      return a in n ? n[a] : n[_];\n    }\n  });\n}\nvar je = Ge((et = {}, W(et, _, {\n  fa: \"solid\",\n  fas: \"solid\",\n  \"fa-solid\": \"solid\",\n  far: \"regular\",\n  \"fa-regular\": \"regular\",\n  fal: \"light\",\n  \"fa-light\": \"light\",\n  fat: \"thin\",\n  \"fa-thin\": \"thin\",\n  fad: \"duotone\",\n  \"fa-duotone\": \"duotone\",\n  fab: \"brands\",\n  \"fa-brands\": \"brands\",\n  fak: \"kit\",\n  \"fa-kit\": \"kit\"\n}), W(et, O, {\n  fa: \"solid\",\n  fass: \"solid\",\n  \"fa-solid\": \"solid\",\n  fasr: \"regular\",\n  \"fa-regular\": \"regular\"\n}), et)), Be = Ge((tt = {}, W(tt, _, {\n  solid: \"fas\",\n  regular: \"far\",\n  light: \"fal\",\n  thin: \"fat\",\n  duotone: \"fad\",\n  brands: \"fab\",\n  kit: \"fak\"\n}), W(tt, O, {\n  solid: \"fass\",\n  regular: \"fasr\"\n}), tt)), Xe = Ge((nt = {}, W(nt, _, {\n  fab: \"fa-brands\",\n  fad: \"fa-duotone\",\n  fak: \"fa-kit\",\n  fal: \"fa-light\",\n  far: \"fa-regular\",\n  fas: \"fa-solid\",\n  fat: \"fa-thin\"\n}), W(nt, O, {\n  fass: \"fa-solid\",\n  fasr: \"fa-regular\"\n}), nt)), yr = Ge((at = {}, W(at, _, {\n  \"fa-brands\": \"fab\",\n  \"fa-duotone\": \"fad\",\n  \"fa-kit\": \"fak\",\n  \"fa-light\": \"fal\",\n  \"fa-regular\": \"far\",\n  \"fa-solid\": \"fas\",\n  \"fa-thin\": \"fat\"\n}), W(at, O, {\n  \"fa-solid\": \"fass\",\n  \"fa-regular\": \"fasr\"\n}), at)), br = /fa(s|r|l|t|d|b|k|ss|sr)?[\\-\\ ]/, ya = \"fa-layers-text\", Dr = /Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i, kr = Ge((rt = {}, W(rt, _, {\n  900: \"fas\",\n  400: \"far\",\n  normal: \"far\",\n  300: \"fal\",\n  100: \"fat\"\n}), W(rt, O, {\n  900: \"fass\",\n  400: \"fasr\"\n}), rt)), ba = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], wr = ba.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]), Er = [\"class\", \"data-prefix\", \"data-icon\", \"data-fa-transform\", \"data-fa-mask\"], ke = {\n  GROUP: \"duotone-group\",\n  SWAP_OPACITY: \"swap-opacity\",\n  PRIMARY: \"primary\",\n  SECONDARY: \"secondary\"\n}, Ue = /* @__PURE__ */ new Set();\nObject.keys(Be[_]).map(Ue.add.bind(Ue));\nObject.keys(Be[O]).map(Ue.add.bind(Ue));\nvar Sr = [].concat(qt, qe(Ue), [\"2xs\", \"xs\", \"sm\", \"lg\", \"xl\", \"2xl\", \"beat\", \"border\", \"fade\", \"beat-fade\", \"bounce\", \"flip-both\", \"flip-horizontal\", \"flip-vertical\", \"flip\", \"fw\", \"inverse\", \"layers-counter\", \"layers-text\", \"layers\", \"li\", \"pull-left\", \"pull-right\", \"pulse\", \"rotate-180\", \"rotate-270\", \"rotate-90\", \"rotate-by\", \"shake\", \"spin-pulse\", \"spin-reverse\", \"spin\", \"stack-1x\", \"stack-2x\", \"stack\", \"ul\", ke.GROUP, ke.SWAP_OPACITY, ke.PRIMARY, ke.SECONDARY]).concat(ba.map(function(e) {\n  return \"\".concat(e, \"x\");\n})).concat(wr.map(function(e) {\n  return \"w-\".concat(e);\n})), He = ye.FontAwesomeConfig || {};\nfunction Tr(e) {\n  var t = M.querySelector(\"script[\" + e + \"]\");\n  if (t)\n    return t.getAttribute(e);\n}\nfunction Ar(e) {\n  return e === \"\" ? !0 : e === \"false\" ? !1 : e === \"true\" ? !0 : e;\n}\nif (M && typeof M.querySelector == \"function\") {\n  var Cr = [[\"data-family-prefix\", \"familyPrefix\"], [\"data-css-prefix\", \"cssPrefix\"], [\"data-family-default\", \"familyDefault\"], [\"data-style-default\", \"styleDefault\"], [\"data-replacement-class\", \"replacementClass\"], [\"data-auto-replace-svg\", \"autoReplaceSvg\"], [\"data-auto-add-css\", \"autoAddCss\"], [\"data-auto-a11y\", \"autoA11y\"], [\"data-search-pseudo-elements\", \"searchPseudoElements\"], [\"data-observe-mutations\", \"observeMutations\"], [\"data-mutate-approach\", \"mutateApproach\"], [\"data-keep-original-source\", \"keepOriginalSource\"], [\"data-measure-performance\", \"measurePerformance\"], [\"data-show-missing-icons\", \"showMissingIcons\"]];\n  Cr.forEach(function(e) {\n    var t = Xt(e, 2), n = t[0], a = t[1], r = Ar(Tr(n));\n    r != null && (He[a] = r);\n  });\n}\nvar Da = {\n  styleDefault: \"solid\",\n  familyDefault: \"classic\",\n  cssPrefix: va,\n  replacementClass: ga,\n  autoReplaceSvg: !0,\n  autoAddCss: !0,\n  autoA11y: !0,\n  searchPseudoElements: !1,\n  observeMutations: !0,\n  mutateApproach: \"async\",\n  keepOriginalSource: !0,\n  measurePerformance: !1,\n  showMissingIcons: !0\n};\nHe.familyPrefix && (He.cssPrefix = He.familyPrefix);\nvar Le = p(p({}, Da), He);\nLe.autoReplaceSvg || (Le.observeMutations = !1);\nvar b = {};\nObject.keys(Da).forEach(function(e) {\n  Object.defineProperty(b, e, {\n    enumerable: !0,\n    set: function(n) {\n      Le[e] = n, Ye.forEach(function(a) {\n        return a(b);\n      });\n    },\n    get: function() {\n      return Le[e];\n    }\n  });\n});\nObject.defineProperty(b, \"familyPrefix\", {\n  enumerable: !0,\n  set: function(t) {\n    Le.cssPrefix = t, Ye.forEach(function(n) {\n      return n(b);\n    });\n  },\n  get: function() {\n    return Le.cssPrefix;\n  }\n});\nye.FontAwesomeConfig = b;\nvar Ye = [];\nfunction _r(e) {\n  return Ye.push(e), function() {\n    Ye.splice(Ye.indexOf(e), 1);\n  };\n}\nvar ge = It, re = {\n  size: 16,\n  x: 0,\n  y: 0,\n  rotate: 0,\n  flipX: !1,\n  flipY: !1\n};\nfunction Mr(e) {\n  if (!(!e || !he)) {\n    var t = M.createElement(\"style\");\n    t.setAttribute(\"type\", \"text/css\"), t.innerHTML = e;\n    for (var n = M.head.childNodes, a = null, r = n.length - 1; r > -1; r--) {\n      var s = n[r], i = (s.tagName || \"\").toUpperCase();\n      [\"STYLE\", \"LINK\"].indexOf(i) > -1 && (a = s);\n    }\n    return M.head.insertBefore(t, a), e;\n  }\n}\nvar Pr = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nfunction Ve() {\n  for (var e = 12, t = \"\"; e-- > 0; )\n    t += Pr[Math.random() * 62 | 0];\n  return t;\n}\nfunction $e(e) {\n  for (var t = [], n = (e || []).length >>> 0; n--; )\n    t[n] = e[n];\n  return t;\n}\nfunction Gt(e) {\n  return e.classList ? $e(e.classList) : (e.getAttribute(\"class\") || \"\").split(\" \").filter(function(t) {\n    return t;\n  });\n}\nfunction ka(e) {\n  return \"\".concat(e).replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#39;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n}\nfunction Ir(e) {\n  return Object.keys(e || {}).reduce(function(t, n) {\n    return t + \"\".concat(n, '=\"').concat(ka(e[n]), '\" ');\n  }, \"\").trim();\n}\nfunction bt(e) {\n  return Object.keys(e || {}).reduce(function(t, n) {\n    return t + \"\".concat(n, \": \").concat(e[n].trim(), \";\");\n  }, \"\");\n}\nfunction Kt(e) {\n  return e.size !== re.size || e.x !== re.x || e.y !== re.y || e.rotate !== re.rotate || e.flipX || e.flipY;\n}\nfunction Lr(e) {\n  var t = e.transform, n = e.containerWidth, a = e.iconWidth, r = {\n    transform: \"translate(\".concat(n / 2, \" 256)\")\n  }, s = \"translate(\".concat(t.x * 32, \", \").concat(t.y * 32, \") \"), i = \"scale(\".concat(t.size / 16 * (t.flipX ? -1 : 1), \", \").concat(t.size / 16 * (t.flipY ? -1 : 1), \") \"), o = \"rotate(\".concat(t.rotate, \" 0 0)\"), l = {\n    transform: \"\".concat(s, \" \").concat(i, \" \").concat(o)\n  }, c = {\n    transform: \"translate(\".concat(a / 2 * -1, \" -256)\")\n  };\n  return {\n    outer: r,\n    inner: l,\n    path: c\n  };\n}\nfunction Or(e) {\n  var t = e.transform, n = e.width, a = n === void 0 ? It : n, r = e.height, s = r === void 0 ? It : r, i = e.startCentered, o = i === void 0 ? !1 : i, l = \"\";\n  return o && ha ? l += \"translate(\".concat(t.x / ge - a / 2, \"em, \").concat(t.y / ge - s / 2, \"em) \") : o ? l += \"translate(calc(-50% + \".concat(t.x / ge, \"em), calc(-50% + \").concat(t.y / ge, \"em)) \") : l += \"translate(\".concat(t.x / ge, \"em, \").concat(t.y / ge, \"em) \"), l += \"scale(\".concat(t.size / ge * (t.flipX ? -1 : 1), \", \").concat(t.size / ge * (t.flipY ? -1 : 1), \") \"), l += \"rotate(\".concat(t.rotate, \"deg) \"), l;\n}\nvar $r = `:root, :host {\n  --fa-font-solid: normal 900 1em/1 \"Font Awesome 6 Solid\";\n  --fa-font-regular: normal 400 1em/1 \"Font Awesome 6 Regular\";\n  --fa-font-light: normal 300 1em/1 \"Font Awesome 6 Light\";\n  --fa-font-thin: normal 100 1em/1 \"Font Awesome 6 Thin\";\n  --fa-font-duotone: normal 900 1em/1 \"Font Awesome 6 Duotone\";\n  --fa-font-sharp-solid: normal 900 1em/1 \"Font Awesome 6 Sharp\";\n  --fa-font-sharp-regular: normal 400 1em/1 \"Font Awesome 6 Sharp\";\n  --fa-font-brands: normal 400 1em/1 \"Font Awesome 6 Brands\";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}`;\nfunction wa() {\n  var e = va, t = ga, n = b.cssPrefix, a = b.replacementClass, r = $r;\n  if (n !== e || a !== t) {\n    var s = new RegExp(\"\\\\.\".concat(e, \"\\\\-\"), \"g\"), i = new RegExp(\"\\\\--\".concat(e, \"\\\\-\"), \"g\"), o = new RegExp(\"\\\\.\".concat(t), \"g\");\n    r = r.replace(s, \".\".concat(n, \"-\")).replace(i, \"--\".concat(n, \"-\")).replace(o, \".\".concat(a));\n  }\n  return r;\n}\nvar wn = !1;\nfunction St() {\n  b.autoAddCss && !wn && (Mr(wa()), wn = !0);\n}\nvar Fr = {\n  mixout: function() {\n    return {\n      dom: {\n        css: wa,\n        insertCss: St\n      }\n    };\n  },\n  hooks: function() {\n    return {\n      beforeDOMElementCreation: function() {\n        St();\n      },\n      beforeI2svg: function() {\n        St();\n      }\n    };\n  }\n}, ue = ye || {};\nue[de] || (ue[de] = {});\nue[de].styles || (ue[de].styles = {});\nue[de].hooks || (ue[de].hooks = {});\nue[de].shims || (ue[de].shims = []);\nvar te = ue[de], Ea = [], Rr = function e() {\n  M.removeEventListener(\"DOMContentLoaded\", e), ht = 1, Ea.map(function(t) {\n    return t();\n  });\n}, ht = !1;\nhe && (ht = (M.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(M.readyState), ht || M.addEventListener(\"DOMContentLoaded\", Rr));\nfunction Nr(e) {\n  he && (ht ? setTimeout(e, 0) : Ea.push(e));\n}\nfunction Ke(e) {\n  var t = e.tag, n = e.attributes, a = n === void 0 ? {} : n, r = e.children, s = r === void 0 ? [] : r;\n  return typeof e == \"string\" ? ka(e) : \"<\".concat(t, \" \").concat(Ir(a), \">\").concat(s.map(Ke).join(\"\"), \"</\").concat(t, \">\");\n}\nfunction En(e, t, n) {\n  if (e && e[t] && e[t][n])\n    return {\n      prefix: t,\n      iconName: n,\n      icon: e[t][n]\n    };\n}\nvar Wr = function(t, n) {\n  return function(a, r, s, i) {\n    return t.call(n, a, r, s, i);\n  };\n}, Tt = function(t, n, a, r) {\n  var s = Object.keys(t), i = s.length, o = r !== void 0 ? Wr(n, r) : n, l, c, d;\n  for (a === void 0 ? (l = 1, d = t[s[0]]) : (l = 0, d = a); l < i; l++)\n    c = s[l], d = o(d, t[c], c, t);\n  return d;\n};\nfunction Hr(e) {\n  for (var t = [], n = 0, a = e.length; n < a; ) {\n    var r = e.charCodeAt(n++);\n    if (r >= 55296 && r <= 56319 && n < a) {\n      var s = e.charCodeAt(n++);\n      (s & 64512) == 56320 ? t.push(((r & 1023) << 10) + (s & 1023) + 65536) : (t.push(r), n--);\n    } else\n      t.push(r);\n  }\n  return t;\n}\nfunction Ot(e) {\n  var t = Hr(e);\n  return t.length === 1 ? t[0].toString(16) : null;\n}\nfunction Yr(e, t) {\n  var n = e.length, a = e.charCodeAt(t), r;\n  return a >= 55296 && a <= 56319 && n > t + 1 && (r = e.charCodeAt(t + 1), r >= 56320 && r <= 57343) ? (a - 55296) * 1024 + r - 56320 + 65536 : a;\n}\nfunction Sn(e) {\n  return Object.keys(e).reduce(function(t, n) {\n    var a = e[n], r = !!a.icon;\n    return r ? t[a.iconName] = a.icon : t[n] = a, t;\n  }, {});\n}\nfunction $t(e, t) {\n  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, a = n.skipHooks, r = a === void 0 ? !1 : a, s = Sn(t);\n  typeof te.hooks.addPack == \"function\" && !r ? te.hooks.addPack(e, Sn(t)) : te.styles[e] = p(p({}, te.styles[e] || {}), s), e === \"fas\" && $t(\"fa\", t);\n}\nvar it, st, ot, Ce = te.styles, zr = te.shims, jr = (it = {}, W(it, _, Object.values(Xe[_])), W(it, O, Object.values(Xe[O])), it), Qt = null, Sa = {}, Ta = {}, Aa = {}, Ca = {}, _a = {}, Br = (st = {}, W(st, _, Object.keys(je[_])), W(st, O, Object.keys(je[O])), st);\nfunction Xr(e) {\n  return ~Sr.indexOf(e);\n}\nfunction Ur(e, t) {\n  var n = t.split(\"-\"), a = n[0], r = n.slice(1).join(\"-\");\n  return a === e && r !== \"\" && !Xr(r) ? r : null;\n}\nvar Ma = function() {\n  var t = function(s) {\n    return Tt(Ce, function(i, o, l) {\n      return i[l] = Tt(o, s, {}), i;\n    }, {});\n  };\n  Sa = t(function(r, s, i) {\n    if (s[3] && (r[s[3]] = i), s[2]) {\n      var o = s[2].filter(function(l) {\n        return typeof l == \"number\";\n      });\n      o.forEach(function(l) {\n        r[l.toString(16)] = i;\n      });\n    }\n    return r;\n  }), Ta = t(function(r, s, i) {\n    if (r[i] = i, s[2]) {\n      var o = s[2].filter(function(l) {\n        return typeof l == \"string\";\n      });\n      o.forEach(function(l) {\n        r[l] = i;\n      });\n    }\n    return r;\n  }), _a = t(function(r, s, i) {\n    var o = s[2];\n    return r[i] = i, o.forEach(function(l) {\n      r[l] = i;\n    }), r;\n  });\n  var n = \"far\" in Ce || b.autoFetchSvg, a = Tt(zr, function(r, s) {\n    var i = s[0], o = s[1], l = s[2];\n    return o === \"far\" && !n && (o = \"fas\"), typeof i == \"string\" && (r.names[i] = {\n      prefix: o,\n      iconName: l\n    }), typeof i == \"number\" && (r.unicodes[i.toString(16)] = {\n      prefix: o,\n      iconName: l\n    }), r;\n  }, {\n    names: {},\n    unicodes: {}\n  });\n  Aa = a.names, Ca = a.unicodes, Qt = Dt(b.styleDefault, {\n    family: b.familyDefault\n  });\n};\n_r(function(e) {\n  Qt = Dt(e.styleDefault, {\n    family: b.familyDefault\n  });\n});\nMa();\nfunction Jt(e, t) {\n  return (Sa[e] || {})[t];\n}\nfunction Vr(e, t) {\n  return (Ta[e] || {})[t];\n}\nfunction we(e, t) {\n  return (_a[e] || {})[t];\n}\nfunction Pa(e) {\n  return Aa[e] || {\n    prefix: null,\n    iconName: null\n  };\n}\nfunction xr(e) {\n  var t = Ca[e], n = Jt(\"fas\", e);\n  return t || (n ? {\n    prefix: \"fas\",\n    iconName: n\n  } : null) || {\n    prefix: null,\n    iconName: null\n  };\n}\nfunction be() {\n  return Qt;\n}\nvar Zt = function() {\n  return {\n    prefix: null,\n    iconName: null,\n    rest: []\n  };\n};\nfunction Dt(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = t.family, a = n === void 0 ? _ : n, r = je[a][e], s = Be[a][e] || Be[a][r], i = e in te.styles ? e : null;\n  return s || i || null;\n}\nvar Tn = (ot = {}, W(ot, _, Object.keys(Xe[_])), W(ot, O, Object.keys(Xe[O])), ot);\nfunction kt(e) {\n  var t, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, a = n.skipLookups, r = a === void 0 ? !1 : a, s = (t = {}, W(t, _, \"\".concat(b.cssPrefix, \"-\").concat(_)), W(t, O, \"\".concat(b.cssPrefix, \"-\").concat(O)), t), i = null, o = _;\n  (e.includes(s[_]) || e.some(function(c) {\n    return Tn[_].includes(c);\n  })) && (o = _), (e.includes(s[O]) || e.some(function(c) {\n    return Tn[O].includes(c);\n  })) && (o = O);\n  var l = e.reduce(function(c, d) {\n    var u = Ur(b.cssPrefix, d);\n    if (Ce[d] ? (d = jr[o].includes(d) ? yr[o][d] : d, i = d, c.prefix = d) : Br[o].indexOf(d) > -1 ? (i = d, c.prefix = Dt(d, {\n      family: o\n    })) : u ? c.iconName = u : d !== b.replacementClass && d !== s[_] && d !== s[O] && c.rest.push(d), !r && c.prefix && c.iconName) {\n      var g = i === \"fa\" ? Pa(c.iconName) : {}, D = we(c.prefix, c.iconName);\n      g.prefix && (i = null), c.iconName = g.iconName || D || c.iconName, c.prefix = g.prefix || c.prefix, c.prefix === \"far\" && !Ce.far && Ce.fas && !b.autoFetchSvg && (c.prefix = \"fas\");\n    }\n    return c;\n  }, Zt());\n  return (e.includes(\"fa-brands\") || e.includes(\"fab\")) && (l.prefix = \"fab\"), (e.includes(\"fa-duotone\") || e.includes(\"fad\")) && (l.prefix = \"fad\"), !l.prefix && o === O && (Ce.fass || b.autoFetchSvg) && (l.prefix = \"fass\", l.iconName = we(l.prefix, l.iconName) || l.iconName), (l.prefix === \"fa\" || i === \"fa\") && (l.prefix = be() || \"fas\"), l;\n}\nvar qr = /* @__PURE__ */ function() {\n  function e() {\n    sr(this, e), this.definitions = {};\n  }\n  return or(e, [{\n    key: \"add\",\n    value: function() {\n      for (var n = this, a = arguments.length, r = new Array(a), s = 0; s < a; s++)\n        r[s] = arguments[s];\n      var i = r.reduce(this._pullDefinitions, {});\n      Object.keys(i).forEach(function(o) {\n        n.definitions[o] = p(p({}, n.definitions[o] || {}), i[o]), $t(o, i[o]);\n        var l = Xe[_][o];\n        l && $t(l, i[o]), Ma();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      this.definitions = {};\n    }\n  }, {\n    key: \"_pullDefinitions\",\n    value: function(n, a) {\n      var r = a.prefix && a.iconName && a.icon ? {\n        0: a\n      } : a;\n      return Object.keys(r).map(function(s) {\n        var i = r[s], o = i.prefix, l = i.iconName, c = i.icon, d = c[2];\n        n[o] || (n[o] = {}), d.length > 0 && d.forEach(function(u) {\n          typeof u == \"string\" && (n[o][u] = c);\n        }), n[o][l] = c;\n      }), n;\n    }\n  }]), e;\n}(), An = [], _e = {}, Pe = {}, Gr = Object.keys(Pe);\nfunction Kr(e, t) {\n  var n = t.mixoutsTo;\n  return An = e, _e = {}, Object.keys(Pe).forEach(function(a) {\n    Gr.indexOf(a) === -1 && delete Pe[a];\n  }), An.forEach(function(a) {\n    var r = a.mixout ? a.mixout() : {};\n    if (Object.keys(r).forEach(function(i) {\n      typeof r[i] == \"function\" && (n[i] = r[i]), mt(r[i]) === \"object\" && Object.keys(r[i]).forEach(function(o) {\n        n[i] || (n[i] = {}), n[i][o] = r[i][o];\n      });\n    }), a.hooks) {\n      var s = a.hooks();\n      Object.keys(s).forEach(function(i) {\n        _e[i] || (_e[i] = []), _e[i].push(s[i]);\n      });\n    }\n    a.provides && a.provides(Pe);\n  }), n;\n}\nfunction Ft(e, t) {\n  for (var n = arguments.length, a = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)\n    a[r - 2] = arguments[r];\n  var s = _e[e] || [];\n  return s.forEach(function(i) {\n    t = i.apply(null, [t].concat(a));\n  }), t;\n}\nfunction Te(e) {\n  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), a = 1; a < t; a++)\n    n[a - 1] = arguments[a];\n  var r = _e[e] || [];\n  r.forEach(function(s) {\n    s.apply(null, n);\n  });\n}\nfunction fe() {\n  var e = arguments[0], t = Array.prototype.slice.call(arguments, 1);\n  return Pe[e] ? Pe[e].apply(null, t) : void 0;\n}\nfunction Rt(e) {\n  e.prefix === \"fa\" && (e.prefix = \"fas\");\n  var t = e.iconName, n = e.prefix || be();\n  if (t)\n    return t = we(n, t) || t, En(Ia.definitions, n, t) || En(te.styles, n, t);\n}\nvar Ia = new qr(), Qr = function() {\n  b.autoReplaceSvg = !1, b.observeMutations = !1, Te(\"noAuto\");\n}, Jr = {\n  i2svg: function() {\n    var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    return he ? (Te(\"beforeI2svg\", t), fe(\"pseudoElements2svg\", t), fe(\"i2svg\", t)) : Promise.reject(\"Operation requires a DOM of some kind.\");\n  },\n  watch: function() {\n    var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n = t.autoReplaceSvgRoot;\n    b.autoReplaceSvg === !1 && (b.autoReplaceSvg = !0), b.observeMutations = !0, Nr(function() {\n      ei({\n        autoReplaceSvgRoot: n\n      }), Te(\"watch\", t);\n    });\n  }\n}, Zr = {\n  icon: function(t) {\n    if (t === null)\n      return null;\n    if (mt(t) === \"object\" && t.prefix && t.iconName)\n      return {\n        prefix: t.prefix,\n        iconName: we(t.prefix, t.iconName) || t.iconName\n      };\n    if (Array.isArray(t) && t.length === 2) {\n      var n = t[1].indexOf(\"fa-\") === 0 ? t[1].slice(3) : t[1], a = Dt(t[0]);\n      return {\n        prefix: a,\n        iconName: we(a, n) || n\n      };\n    }\n    if (typeof t == \"string\" && (t.indexOf(\"\".concat(b.cssPrefix, \"-\")) > -1 || t.match(br))) {\n      var r = kt(t.split(\" \"), {\n        skipLookups: !0\n      });\n      return {\n        prefix: r.prefix || be(),\n        iconName: we(r.prefix, r.iconName) || r.iconName\n      };\n    }\n    if (typeof t == \"string\") {\n      var s = be();\n      return {\n        prefix: s,\n        iconName: we(s, t) || t\n      };\n    }\n  }\n}, G = {\n  noAuto: Qr,\n  config: b,\n  dom: Jr,\n  parse: Zr,\n  library: Ia,\n  findIconDefinition: Rt,\n  toHtml: Ke\n}, ei = function() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n = t.autoReplaceSvgRoot, a = n === void 0 ? M : n;\n  (Object.keys(te.styles).length > 0 || b.autoFetchSvg) && he && b.autoReplaceSvg && G.dom.i2svg({\n    node: a\n  });\n};\nfunction wt(e, t) {\n  return Object.defineProperty(e, \"abstract\", {\n    get: t\n  }), Object.defineProperty(e, \"html\", {\n    get: function() {\n      return e.abstract.map(function(a) {\n        return Ke(a);\n      });\n    }\n  }), Object.defineProperty(e, \"node\", {\n    get: function() {\n      if (he) {\n        var a = M.createElement(\"div\");\n        return a.innerHTML = e.html, a.children;\n      }\n    }\n  }), e;\n}\nfunction ti(e) {\n  var t = e.children, n = e.main, a = e.mask, r = e.attributes, s = e.styles, i = e.transform;\n  if (Kt(i) && n.found && !a.found) {\n    var o = n.width, l = n.height, c = {\n      x: o / l / 2,\n      y: 0.5\n    };\n    r.style = bt(p(p({}, s), {}, {\n      \"transform-origin\": \"\".concat(c.x + i.x / 16, \"em \").concat(c.y + i.y / 16, \"em\")\n    }));\n  }\n  return [{\n    tag: \"svg\",\n    attributes: r,\n    children: t\n  }];\n}\nfunction ni(e) {\n  var t = e.prefix, n = e.iconName, a = e.children, r = e.attributes, s = e.symbol, i = s === !0 ? \"\".concat(t, \"-\").concat(b.cssPrefix, \"-\").concat(n) : s;\n  return [{\n    tag: \"svg\",\n    attributes: {\n      style: \"display: none;\"\n    },\n    children: [{\n      tag: \"symbol\",\n      attributes: p(p({}, r), {}, {\n        id: i\n      }),\n      children: a\n    }]\n  }];\n}\nfunction en(e) {\n  var t = e.icons, n = t.main, a = t.mask, r = e.prefix, s = e.iconName, i = e.transform, o = e.symbol, l = e.title, c = e.maskId, d = e.titleId, u = e.extra, g = e.watchable, D = g === void 0 ? !1 : g, y = a.found ? a : n, k = y.width, w = y.height, h = r === \"fak\", v = [b.replacementClass, s ? \"\".concat(b.cssPrefix, \"-\").concat(s) : \"\"].filter(function(ve) {\n    return u.classes.indexOf(ve) === -1;\n  }).filter(function(ve) {\n    return ve !== \"\" || !!ve;\n  }).concat(u.classes).join(\" \"), E = {\n    children: [],\n    attributes: p(p({}, u.attributes), {}, {\n      \"data-prefix\": r,\n      \"data-icon\": s,\n      class: v,\n      role: u.attributes.role || \"img\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 \".concat(k, \" \").concat(w)\n    })\n  }, C = h && !~u.classes.indexOf(\"fa-fw\") ? {\n    width: \"\".concat(k / w * 16 * 0.0625, \"em\")\n  } : {};\n  D && (E.attributes[Se] = \"\"), l && (E.children.push({\n    tag: \"title\",\n    attributes: {\n      id: E.attributes[\"aria-labelledby\"] || \"title-\".concat(d || Ve())\n    },\n    children: [l]\n  }), delete E.attributes.title);\n  var N = p(p({}, E), {}, {\n    prefix: r,\n    iconName: s,\n    main: n,\n    mask: a,\n    maskId: c,\n    transform: i,\n    symbol: o,\n    styles: p(p({}, C), u.styles)\n  }), ne = a.found && n.found ? fe(\"generateAbstractMask\", N) || {\n    children: [],\n    attributes: {}\n  } : fe(\"generateAbstractIcon\", N) || {\n    children: [],\n    attributes: {}\n  }, J = ne.children, Et = ne.attributes;\n  return N.children = J, N.attributes = Et, o ? ni(N) : ti(N);\n}\nfunction Cn(e) {\n  var t = e.content, n = e.width, a = e.height, r = e.transform, s = e.title, i = e.extra, o = e.watchable, l = o === void 0 ? !1 : o, c = p(p(p({}, i.attributes), s ? {\n    title: s\n  } : {}), {}, {\n    class: i.classes.join(\" \")\n  });\n  l && (c[Se] = \"\");\n  var d = p({}, i.styles);\n  Kt(r) && (d.transform = Or({\n    transform: r,\n    startCentered: !0,\n    width: n,\n    height: a\n  }), d[\"-webkit-transform\"] = d.transform);\n  var u = bt(d);\n  u.length > 0 && (c.style = u);\n  var g = [];\n  return g.push({\n    tag: \"span\",\n    attributes: c,\n    children: [t]\n  }), s && g.push({\n    tag: \"span\",\n    attributes: {\n      class: \"sr-only\"\n    },\n    children: [s]\n  }), g;\n}\nfunction ai(e) {\n  var t = e.content, n = e.title, a = e.extra, r = p(p(p({}, a.attributes), n ? {\n    title: n\n  } : {}), {}, {\n    class: a.classes.join(\" \")\n  }), s = bt(a.styles);\n  s.length > 0 && (r.style = s);\n  var i = [];\n  return i.push({\n    tag: \"span\",\n    attributes: r,\n    children: [t]\n  }), n && i.push({\n    tag: \"span\",\n    attributes: {\n      class: \"sr-only\"\n    },\n    children: [n]\n  }), i;\n}\nvar At = te.styles;\nfunction Nt(e) {\n  var t = e[0], n = e[1], a = e.slice(4), r = Xt(a, 1), s = r[0], i = null;\n  return Array.isArray(s) ? i = {\n    tag: \"g\",\n    attributes: {\n      class: \"\".concat(b.cssPrefix, \"-\").concat(ke.GROUP)\n    },\n    children: [{\n      tag: \"path\",\n      attributes: {\n        class: \"\".concat(b.cssPrefix, \"-\").concat(ke.SECONDARY),\n        fill: \"currentColor\",\n        d: s[0]\n      }\n    }, {\n      tag: \"path\",\n      attributes: {\n        class: \"\".concat(b.cssPrefix, \"-\").concat(ke.PRIMARY),\n        fill: \"currentColor\",\n        d: s[1]\n      }\n    }]\n  } : i = {\n    tag: \"path\",\n    attributes: {\n      fill: \"currentColor\",\n      d: s\n    }\n  }, {\n    found: !0,\n    width: t,\n    height: n,\n    icon: i\n  };\n}\nvar ri = {\n  found: !1,\n  width: 512,\n  height: 512\n};\nfunction ii(e, t) {\n  !pa && !b.showMissingIcons && e && console.error('Icon with name \"'.concat(e, '\" and prefix \"').concat(t, '\" is missing.'));\n}\nfunction Wt(e, t) {\n  var n = t;\n  return t === \"fa\" && b.styleDefault !== null && (t = be()), new Promise(function(a, r) {\n    if (fe(\"missingIconAbstract\"), n === \"fa\") {\n      var s = Pa(e) || {};\n      e = s.iconName || e, t = s.prefix || t;\n    }\n    if (e && t && At[t] && At[t][e]) {\n      var i = At[t][e];\n      return a(Nt(i));\n    }\n    ii(e, t), a(p(p({}, ri), {}, {\n      icon: b.showMissingIcons && e ? fe(\"missingIconAbstract\") || {} : {}\n    }));\n  });\n}\nvar _n = function() {\n}, Ht = b.measurePerformance && Ze && Ze.mark && Ze.measure ? Ze : {\n  mark: _n,\n  measure: _n\n}, We = 'FA \"6.3.0\"', si = function(t) {\n  return Ht.mark(\"\".concat(We, \" \").concat(t, \" begins\")), function() {\n    return La(t);\n  };\n}, La = function(t) {\n  Ht.mark(\"\".concat(We, \" \").concat(t, \" ends\")), Ht.measure(\"\".concat(We, \" \").concat(t), \"\".concat(We, \" \").concat(t, \" begins\"), \"\".concat(We, \" \").concat(t, \" ends\"));\n}, tn = {\n  begin: si,\n  end: La\n}, dt = function() {\n};\nfunction Mn(e) {\n  var t = e.getAttribute ? e.getAttribute(Se) : null;\n  return typeof t == \"string\";\n}\nfunction oi(e) {\n  var t = e.getAttribute ? e.getAttribute(Vt) : null, n = e.getAttribute ? e.getAttribute(xt) : null;\n  return t && n;\n}\nfunction li(e) {\n  return e && e.classList && e.classList.contains && e.classList.contains(b.replacementClass);\n}\nfunction ci() {\n  if (b.autoReplaceSvg === !0)\n    return ut.replace;\n  var e = ut[b.autoReplaceSvg];\n  return e || ut.replace;\n}\nfunction di(e) {\n  return M.createElementNS(\"http://www.w3.org/2000/svg\", e);\n}\nfunction ui(e) {\n  return M.createElement(e);\n}\nfunction Oa(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = t.ceFn, a = n === void 0 ? e.tag === \"svg\" ? di : ui : n;\n  if (typeof e == \"string\")\n    return M.createTextNode(e);\n  var r = a(e.tag);\n  Object.keys(e.attributes || []).forEach(function(i) {\n    r.setAttribute(i, e.attributes[i]);\n  });\n  var s = e.children || [];\n  return s.forEach(function(i) {\n    r.appendChild(Oa(i, {\n      ceFn: a\n    }));\n  }), r;\n}\nfunction fi(e) {\n  var t = \" \".concat(e.outerHTML, \" \");\n  return t = \"\".concat(t, \"Font Awesome fontawesome.com \"), t;\n}\nvar ut = {\n  replace: function(t) {\n    var n = t[0];\n    if (n.parentNode)\n      if (t[1].forEach(function(r) {\n        n.parentNode.insertBefore(Oa(r), n);\n      }), n.getAttribute(Se) === null && b.keepOriginalSource) {\n        var a = M.createComment(fi(n));\n        n.parentNode.replaceChild(a, n);\n      } else\n        n.remove();\n  },\n  nest: function(t) {\n    var n = t[0], a = t[1];\n    if (~Gt(n).indexOf(b.replacementClass))\n      return ut.replace(t);\n    var r = new RegExp(\"\".concat(b.cssPrefix, \"-.*\"));\n    if (delete a[0].attributes.id, a[0].attributes.class) {\n      var s = a[0].attributes.class.split(\" \").reduce(function(o, l) {\n        return l === b.replacementClass || l.match(r) ? o.toSvg.push(l) : o.toNode.push(l), o;\n      }, {\n        toNode: [],\n        toSvg: []\n      });\n      a[0].attributes.class = s.toSvg.join(\" \"), s.toNode.length === 0 ? n.removeAttribute(\"class\") : n.setAttribute(\"class\", s.toNode.join(\" \"));\n    }\n    var i = a.map(function(o) {\n      return Ke(o);\n    }).join(`\n`);\n    n.setAttribute(Se, \"\"), n.innerHTML = i;\n  }\n};\nfunction Pn(e) {\n  e();\n}\nfunction $a(e, t) {\n  var n = typeof t == \"function\" ? t : dt;\n  if (e.length === 0)\n    n();\n  else {\n    var a = Pn;\n    b.mutateApproach === gr && (a = ye.requestAnimationFrame || Pn), a(function() {\n      var r = ci(), s = tn.begin(\"mutate\");\n      e.map(r), s(), n();\n    });\n  }\n}\nvar nn = !1;\nfunction Fa() {\n  nn = !0;\n}\nfunction Yt() {\n  nn = !1;\n}\nvar vt = null;\nfunction In(e) {\n  if (Dn && b.observeMutations) {\n    var t = e.treeCallback, n = t === void 0 ? dt : t, a = e.nodeCallback, r = a === void 0 ? dt : a, s = e.pseudoElementsCallback, i = s === void 0 ? dt : s, o = e.observeMutationsRoot, l = o === void 0 ? M : o;\n    vt = new Dn(function(c) {\n      if (!nn) {\n        var d = be();\n        $e(c).forEach(function(u) {\n          if (u.type === \"childList\" && u.addedNodes.length > 0 && !Mn(u.addedNodes[0]) && (b.searchPseudoElements && i(u.target), n(u.target)), u.type === \"attributes\" && u.target.parentNode && b.searchPseudoElements && i(u.target.parentNode), u.type === \"attributes\" && Mn(u.target) && ~Er.indexOf(u.attributeName))\n            if (u.attributeName === \"class\" && oi(u.target)) {\n              var g = kt(Gt(u.target)), D = g.prefix, y = g.iconName;\n              u.target.setAttribute(Vt, D || d), y && u.target.setAttribute(xt, y);\n            } else\n              li(u.target) && r(u.target);\n        });\n      }\n    }), he && vt.observe(l, {\n      childList: !0,\n      attributes: !0,\n      characterData: !0,\n      subtree: !0\n    });\n  }\n}\nfunction mi() {\n  vt && vt.disconnect();\n}\nfunction hi(e) {\n  var t = e.getAttribute(\"style\"), n = [];\n  return t && (n = t.split(\";\").reduce(function(a, r) {\n    var s = r.split(\":\"), i = s[0], o = s.slice(1);\n    return i && o.length > 0 && (a[i] = o.join(\":\").trim()), a;\n  }, {})), n;\n}\nfunction vi(e) {\n  var t = e.getAttribute(\"data-prefix\"), n = e.getAttribute(\"data-icon\"), a = e.innerText !== void 0 ? e.innerText.trim() : \"\", r = kt(Gt(e));\n  return r.prefix || (r.prefix = be()), t && n && (r.prefix = t, r.iconName = n), r.iconName && r.prefix || (r.prefix && a.length > 0 && (r.iconName = Vr(r.prefix, e.innerText) || Jt(r.prefix, Ot(e.innerText))), !r.iconName && b.autoFetchSvg && e.firstChild && e.firstChild.nodeType === Node.TEXT_NODE && (r.iconName = e.firstChild.data)), r;\n}\nfunction gi(e) {\n  var t = $e(e.attributes).reduce(function(r, s) {\n    return r.name !== \"class\" && r.name !== \"style\" && (r[s.name] = s.value), r;\n  }, {}), n = e.getAttribute(\"title\"), a = e.getAttribute(\"data-fa-title-id\");\n  return b.autoA11y && (n ? t[\"aria-labelledby\"] = \"\".concat(b.replacementClass, \"-title-\").concat(a || Ve()) : (t[\"aria-hidden\"] = \"true\", t.focusable = \"false\")), t;\n}\nfunction pi() {\n  return {\n    iconName: null,\n    title: null,\n    titleId: null,\n    prefix: null,\n    transform: re,\n    symbol: !1,\n    mask: {\n      iconName: null,\n      prefix: null,\n      rest: []\n    },\n    maskId: null,\n    extra: {\n      classes: [],\n      styles: {},\n      attributes: {}\n    }\n  };\n}\nfunction Ln(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n    styleParser: !0\n  }, n = vi(e), a = n.iconName, r = n.prefix, s = n.rest, i = gi(e), o = Ft(\"parseNodeAttributes\", {}, e), l = t.styleParser ? hi(e) : [];\n  return p({\n    iconName: a,\n    title: e.getAttribute(\"title\"),\n    titleId: e.getAttribute(\"data-fa-title-id\"),\n    prefix: r,\n    transform: re,\n    mask: {\n      iconName: null,\n      prefix: null,\n      rest: []\n    },\n    maskId: null,\n    symbol: !1,\n    extra: {\n      classes: s,\n      styles: l,\n      attributes: i\n    }\n  }, o);\n}\nvar yi = te.styles;\nfunction Ra(e) {\n  var t = b.autoReplaceSvg === \"nest\" ? Ln(e, {\n    styleParser: !1\n  }) : Ln(e);\n  return ~t.extra.classes.indexOf(ya) ? fe(\"generateLayersText\", e, t) : fe(\"generateSvgReplacementMutation\", e, t);\n}\nvar De = /* @__PURE__ */ new Set();\nqt.map(function(e) {\n  De.add(\"fa-\".concat(e));\n});\nObject.keys(je[_]).map(De.add.bind(De));\nObject.keys(je[O]).map(De.add.bind(De));\nDe = qe(De);\nfunction On(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n  if (!he)\n    return Promise.resolve();\n  var n = M.documentElement.classList, a = function(u) {\n    return n.add(\"\".concat(kn, \"-\").concat(u));\n  }, r = function(u) {\n    return n.remove(\"\".concat(kn, \"-\").concat(u));\n  }, s = b.autoFetchSvg ? De : qt.map(function(d) {\n    return \"fa-\".concat(d);\n  }).concat(Object.keys(yi));\n  s.includes(\"fa\") || s.push(\"fa\");\n  var i = [\".\".concat(ya, \":not([\").concat(Se, \"])\")].concat(s.map(function(d) {\n    return \".\".concat(d, \":not([\").concat(Se, \"])\");\n  })).join(\", \");\n  if (i.length === 0)\n    return Promise.resolve();\n  var o = [];\n  try {\n    o = $e(e.querySelectorAll(i));\n  } catch {\n  }\n  if (o.length > 0)\n    a(\"pending\"), r(\"complete\");\n  else\n    return Promise.resolve();\n  var l = tn.begin(\"onTree\"), c = o.reduce(function(d, u) {\n    try {\n      var g = Ra(u);\n      g && d.push(g);\n    } catch (D) {\n      pa || D.name === \"MissingIcon\" && console.error(D);\n    }\n    return d;\n  }, []);\n  return new Promise(function(d, u) {\n    Promise.all(c).then(function(g) {\n      $a(g, function() {\n        a(\"active\"), a(\"complete\"), r(\"pending\"), typeof t == \"function\" && t(), l(), d();\n      });\n    }).catch(function(g) {\n      l(), u(g);\n    });\n  });\n}\nfunction bi(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n  Ra(e).then(function(n) {\n    n && $a([n], t);\n  });\n}\nfunction Di(e) {\n  return function(t) {\n    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, a = (t || {}).icon ? t : Rt(t || {}), r = n.mask;\n    return r && (r = (r || {}).icon ? r : Rt(r || {})), e(a, p(p({}, n), {}, {\n      mask: r\n    }));\n  };\n}\nvar ki = function(t) {\n  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, a = n.transform, r = a === void 0 ? re : a, s = n.symbol, i = s === void 0 ? !1 : s, o = n.mask, l = o === void 0 ? null : o, c = n.maskId, d = c === void 0 ? null : c, u = n.title, g = u === void 0 ? null : u, D = n.titleId, y = D === void 0 ? null : D, k = n.classes, w = k === void 0 ? [] : k, h = n.attributes, v = h === void 0 ? {} : h, E = n.styles, C = E === void 0 ? {} : E;\n  if (t) {\n    var N = t.prefix, ne = t.iconName, J = t.icon;\n    return wt(p({\n      type: \"icon\"\n    }, t), function() {\n      return Te(\"beforeDOMElementCreation\", {\n        iconDefinition: t,\n        params: n\n      }), b.autoA11y && (g ? v[\"aria-labelledby\"] = \"\".concat(b.replacementClass, \"-title-\").concat(y || Ve()) : (v[\"aria-hidden\"] = \"true\", v.focusable = \"false\")), en({\n        icons: {\n          main: Nt(J),\n          mask: l ? Nt(l.icon) : {\n            found: !1,\n            width: null,\n            height: null,\n            icon: {}\n          }\n        },\n        prefix: N,\n        iconName: ne,\n        transform: p(p({}, re), r),\n        symbol: i,\n        title: g,\n        maskId: d,\n        titleId: y,\n        extra: {\n          attributes: v,\n          styles: C,\n          classes: w\n        }\n      });\n    });\n  }\n}, wi = {\n  mixout: function() {\n    return {\n      icon: Di(ki)\n    };\n  },\n  hooks: function() {\n    return {\n      mutationObserverCallbacks: function(n) {\n        return n.treeCallback = On, n.nodeCallback = bi, n;\n      }\n    };\n  },\n  provides: function(t) {\n    t.i2svg = function(n) {\n      var a = n.node, r = a === void 0 ? M : a, s = n.callback, i = s === void 0 ? function() {\n      } : s;\n      return On(r, i);\n    }, t.generateSvgReplacementMutation = function(n, a) {\n      var r = a.iconName, s = a.title, i = a.titleId, o = a.prefix, l = a.transform, c = a.symbol, d = a.mask, u = a.maskId, g = a.extra;\n      return new Promise(function(D, y) {\n        Promise.all([Wt(r, o), d.iconName ? Wt(d.iconName, d.prefix) : Promise.resolve({\n          found: !1,\n          width: 512,\n          height: 512,\n          icon: {}\n        })]).then(function(k) {\n          var w = Xt(k, 2), h = w[0], v = w[1];\n          D([n, en({\n            icons: {\n              main: h,\n              mask: v\n            },\n            prefix: o,\n            iconName: r,\n            transform: l,\n            symbol: c,\n            maskId: u,\n            title: s,\n            titleId: i,\n            extra: g,\n            watchable: !0\n          })]);\n        }).catch(y);\n      });\n    }, t.generateAbstractIcon = function(n) {\n      var a = n.children, r = n.attributes, s = n.main, i = n.transform, o = n.styles, l = bt(o);\n      l.length > 0 && (r.style = l);\n      var c;\n      return Kt(i) && (c = fe(\"generateAbstractTransformGrouping\", {\n        main: s,\n        transform: i,\n        containerWidth: s.width,\n        iconWidth: s.width\n      })), a.push(c || s.icon), {\n        children: a,\n        attributes: r\n      };\n    };\n  }\n}, Ei = {\n  mixout: function() {\n    return {\n      layer: function(n) {\n        var a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r = a.classes, s = r === void 0 ? [] : r;\n        return wt({\n          type: \"layer\"\n        }, function() {\n          Te(\"beforeDOMElementCreation\", {\n            assembler: n,\n            params: a\n          });\n          var i = [];\n          return n(function(o) {\n            Array.isArray(o) ? o.map(function(l) {\n              i = i.concat(l.abstract);\n            }) : i = i.concat(o.abstract);\n          }), [{\n            tag: \"span\",\n            attributes: {\n              class: [\"\".concat(b.cssPrefix, \"-layers\")].concat(qe(s)).join(\" \")\n            },\n            children: i\n          }];\n        });\n      }\n    };\n  }\n}, Si = {\n  mixout: function() {\n    return {\n      counter: function(n) {\n        var a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r = a.title, s = r === void 0 ? null : r, i = a.classes, o = i === void 0 ? [] : i, l = a.attributes, c = l === void 0 ? {} : l, d = a.styles, u = d === void 0 ? {} : d;\n        return wt({\n          type: \"counter\",\n          content: n\n        }, function() {\n          return Te(\"beforeDOMElementCreation\", {\n            content: n,\n            params: a\n          }), ai({\n            content: n.toString(),\n            title: s,\n            extra: {\n              attributes: c,\n              styles: u,\n              classes: [\"\".concat(b.cssPrefix, \"-layers-counter\")].concat(qe(o))\n            }\n          });\n        });\n      }\n    };\n  }\n}, Ti = {\n  mixout: function() {\n    return {\n      text: function(n) {\n        var a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r = a.transform, s = r === void 0 ? re : r, i = a.title, o = i === void 0 ? null : i, l = a.classes, c = l === void 0 ? [] : l, d = a.attributes, u = d === void 0 ? {} : d, g = a.styles, D = g === void 0 ? {} : g;\n        return wt({\n          type: \"text\",\n          content: n\n        }, function() {\n          return Te(\"beforeDOMElementCreation\", {\n            content: n,\n            params: a\n          }), Cn({\n            content: n,\n            transform: p(p({}, re), s),\n            title: o,\n            extra: {\n              attributes: u,\n              styles: D,\n              classes: [\"\".concat(b.cssPrefix, \"-layers-text\")].concat(qe(c))\n            }\n          });\n        });\n      }\n    };\n  },\n  provides: function(t) {\n    t.generateLayersText = function(n, a) {\n      var r = a.title, s = a.transform, i = a.extra, o = null, l = null;\n      if (ha) {\n        var c = parseInt(getComputedStyle(n).fontSize, 10), d = n.getBoundingClientRect();\n        o = d.width / c, l = d.height / c;\n      }\n      return b.autoA11y && !r && (i.attributes[\"aria-hidden\"] = \"true\"), Promise.resolve([n, Cn({\n        content: n.innerHTML,\n        width: o,\n        height: l,\n        transform: s,\n        title: r,\n        extra: i,\n        watchable: !0\n      })]);\n    };\n  }\n}, Ai = new RegExp('\"', \"ug\"), $n = [1105920, 1112319];\nfunction Ci(e) {\n  var t = e.replace(Ai, \"\"), n = Yr(t, 0), a = n >= $n[0] && n <= $n[1], r = t.length === 2 ? t[0] === t[1] : !1;\n  return {\n    value: Ot(r ? t[0] : t),\n    isSecondary: a || r\n  };\n}\nfunction Fn(e, t) {\n  var n = \"\".concat(vr).concat(t.replace(\":\", \"-\"));\n  return new Promise(function(a, r) {\n    if (e.getAttribute(n) !== null)\n      return a();\n    var s = $e(e.children), i = s.filter(function(J) {\n      return J.getAttribute(Lt) === t;\n    })[0], o = ye.getComputedStyle(e, t), l = o.getPropertyValue(\"font-family\").match(Dr), c = o.getPropertyValue(\"font-weight\"), d = o.getPropertyValue(\"content\");\n    if (i && !l)\n      return e.removeChild(i), a();\n    if (l && d !== \"none\" && d !== \"\") {\n      var u = o.getPropertyValue(\"content\"), g = ~[\"Sharp\"].indexOf(l[2]) ? O : _, D = ~[\"Solid\", \"Regular\", \"Light\", \"Thin\", \"Duotone\", \"Brands\", \"Kit\"].indexOf(l[2]) ? Be[g][l[2].toLowerCase()] : kr[g][c], y = Ci(u), k = y.value, w = y.isSecondary, h = l[0].startsWith(\"FontAwesome\"), v = Jt(D, k), E = v;\n      if (h) {\n        var C = xr(k);\n        C.iconName && C.prefix && (v = C.iconName, D = C.prefix);\n      }\n      if (v && !w && (!i || i.getAttribute(Vt) !== D || i.getAttribute(xt) !== E)) {\n        e.setAttribute(n, E), i && e.removeChild(i);\n        var N = pi(), ne = N.extra;\n        ne.attributes[Lt] = t, Wt(v, D).then(function(J) {\n          var Et = en(p(p({}, N), {}, {\n            icons: {\n              main: J,\n              mask: Zt()\n            },\n            prefix: D,\n            iconName: E,\n            extra: ne,\n            watchable: !0\n          })), ve = M.createElement(\"svg\");\n          t === \"::before\" ? e.insertBefore(ve, e.firstChild) : e.appendChild(ve), ve.outerHTML = Et.map(function(Za) {\n            return Ke(Za);\n          }).join(`\n`), e.removeAttribute(n), a();\n        }).catch(r);\n      } else\n        a();\n    } else\n      a();\n  });\n}\nfunction _i(e) {\n  return Promise.all([Fn(e, \"::before\"), Fn(e, \"::after\")]);\n}\nfunction Mi(e) {\n  return e.parentNode !== document.head && !~pr.indexOf(e.tagName.toUpperCase()) && !e.getAttribute(Lt) && (!e.parentNode || e.parentNode.tagName !== \"svg\");\n}\nfunction Rn(e) {\n  if (he)\n    return new Promise(function(t, n) {\n      var a = $e(e.querySelectorAll(\"*\")).filter(Mi).map(_i), r = tn.begin(\"searchPseudoElements\");\n      Fa(), Promise.all(a).then(function() {\n        r(), Yt(), t();\n      }).catch(function() {\n        r(), Yt(), n();\n      });\n    });\n}\nvar Pi = {\n  hooks: function() {\n    return {\n      mutationObserverCallbacks: function(n) {\n        return n.pseudoElementsCallback = Rn, n;\n      }\n    };\n  },\n  provides: function(t) {\n    t.pseudoElements2svg = function(n) {\n      var a = n.node, r = a === void 0 ? M : a;\n      b.searchPseudoElements && Rn(r);\n    };\n  }\n}, Nn = !1, Ii = {\n  mixout: function() {\n    return {\n      dom: {\n        unwatch: function() {\n          Fa(), Nn = !0;\n        }\n      }\n    };\n  },\n  hooks: function() {\n    return {\n      bootstrap: function() {\n        In(Ft(\"mutationObserverCallbacks\", {}));\n      },\n      noAuto: function() {\n        mi();\n      },\n      watch: function(n) {\n        var a = n.observeMutationsRoot;\n        Nn ? Yt() : In(Ft(\"mutationObserverCallbacks\", {\n          observeMutationsRoot: a\n        }));\n      }\n    };\n  }\n}, Wn = function(t) {\n  var n = {\n    size: 16,\n    x: 0,\n    y: 0,\n    flipX: !1,\n    flipY: !1,\n    rotate: 0\n  };\n  return t.toLowerCase().split(\" \").reduce(function(a, r) {\n    var s = r.toLowerCase().split(\"-\"), i = s[0], o = s.slice(1).join(\"-\");\n    if (i && o === \"h\")\n      return a.flipX = !0, a;\n    if (i && o === \"v\")\n      return a.flipY = !0, a;\n    if (o = parseFloat(o), isNaN(o))\n      return a;\n    switch (i) {\n      case \"grow\":\n        a.size = a.size + o;\n        break;\n      case \"shrink\":\n        a.size = a.size - o;\n        break;\n      case \"left\":\n        a.x = a.x - o;\n        break;\n      case \"right\":\n        a.x = a.x + o;\n        break;\n      case \"up\":\n        a.y = a.y - o;\n        break;\n      case \"down\":\n        a.y = a.y + o;\n        break;\n      case \"rotate\":\n        a.rotate = a.rotate + o;\n        break;\n    }\n    return a;\n  }, n);\n}, Li = {\n  mixout: function() {\n    return {\n      parse: {\n        transform: function(n) {\n          return Wn(n);\n        }\n      }\n    };\n  },\n  hooks: function() {\n    return {\n      parseNodeAttributes: function(n, a) {\n        var r = a.getAttribute(\"data-fa-transform\");\n        return r && (n.transform = Wn(r)), n;\n      }\n    };\n  },\n  provides: function(t) {\n    t.generateAbstractTransformGrouping = function(n) {\n      var a = n.main, r = n.transform, s = n.containerWidth, i = n.iconWidth, o = {\n        transform: \"translate(\".concat(s / 2, \" 256)\")\n      }, l = \"translate(\".concat(r.x * 32, \", \").concat(r.y * 32, \") \"), c = \"scale(\".concat(r.size / 16 * (r.flipX ? -1 : 1), \", \").concat(r.size / 16 * (r.flipY ? -1 : 1), \") \"), d = \"rotate(\".concat(r.rotate, \" 0 0)\"), u = {\n        transform: \"\".concat(l, \" \").concat(c, \" \").concat(d)\n      }, g = {\n        transform: \"translate(\".concat(i / 2 * -1, \" -256)\")\n      }, D = {\n        outer: o,\n        inner: u,\n        path: g\n      };\n      return {\n        tag: \"g\",\n        attributes: p({}, D.outer),\n        children: [{\n          tag: \"g\",\n          attributes: p({}, D.inner),\n          children: [{\n            tag: a.icon.tag,\n            children: a.icon.children,\n            attributes: p(p({}, a.icon.attributes), D.path)\n          }]\n        }]\n      };\n    };\n  }\n}, Ct = {\n  x: 0,\n  y: 0,\n  width: \"100%\",\n  height: \"100%\"\n};\nfunction Hn(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;\n  return e.attributes && (e.attributes.fill || t) && (e.attributes.fill = \"black\"), e;\n}\nfunction Oi(e) {\n  return e.tag === \"g\" ? e.children : [e];\n}\nvar $i = {\n  hooks: function() {\n    return {\n      parseNodeAttributes: function(n, a) {\n        var r = a.getAttribute(\"data-fa-mask\"), s = r ? kt(r.split(\" \").map(function(i) {\n          return i.trim();\n        })) : Zt();\n        return s.prefix || (s.prefix = be()), n.mask = s, n.maskId = a.getAttribute(\"data-fa-mask-id\"), n;\n      }\n    };\n  },\n  provides: function(t) {\n    t.generateAbstractMask = function(n) {\n      var a = n.children, r = n.attributes, s = n.main, i = n.mask, o = n.maskId, l = n.transform, c = s.width, d = s.icon, u = i.width, g = i.icon, D = Lr({\n        transform: l,\n        containerWidth: u,\n        iconWidth: c\n      }), y = {\n        tag: \"rect\",\n        attributes: p(p({}, Ct), {}, {\n          fill: \"white\"\n        })\n      }, k = d.children ? {\n        children: d.children.map(Hn)\n      } : {}, w = {\n        tag: \"g\",\n        attributes: p({}, D.inner),\n        children: [Hn(p({\n          tag: d.tag,\n          attributes: p(p({}, d.attributes), D.path)\n        }, k))]\n      }, h = {\n        tag: \"g\",\n        attributes: p({}, D.outer),\n        children: [w]\n      }, v = \"mask-\".concat(o || Ve()), E = \"clip-\".concat(o || Ve()), C = {\n        tag: \"mask\",\n        attributes: p(p({}, Ct), {}, {\n          id: v,\n          maskUnits: \"userSpaceOnUse\",\n          maskContentUnits: \"userSpaceOnUse\"\n        }),\n        children: [y, h]\n      }, N = {\n        tag: \"defs\",\n        children: [{\n          tag: \"clipPath\",\n          attributes: {\n            id: E\n          },\n          children: Oi(g)\n        }, C]\n      };\n      return a.push(N, {\n        tag: \"rect\",\n        attributes: p({\n          fill: \"currentColor\",\n          \"clip-path\": \"url(#\".concat(E, \")\"),\n          mask: \"url(#\".concat(v, \")\")\n        }, Ct)\n      }), {\n        children: a,\n        attributes: r\n      };\n    };\n  }\n}, Fi = {\n  provides: function(t) {\n    var n = !1;\n    ye.matchMedia && (n = ye.matchMedia(\"(prefers-reduced-motion: reduce)\").matches), t.missingIconAbstract = function() {\n      var a = [], r = {\n        fill: \"currentColor\"\n      }, s = {\n        attributeType: \"XML\",\n        repeatCount: \"indefinite\",\n        dur: \"2s\"\n      };\n      a.push({\n        tag: \"path\",\n        attributes: p(p({}, r), {}, {\n          d: \"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z\"\n        })\n      });\n      var i = p(p({}, s), {}, {\n        attributeName: \"opacity\"\n      }), o = {\n        tag: \"circle\",\n        attributes: p(p({}, r), {}, {\n          cx: \"256\",\n          cy: \"364\",\n          r: \"28\"\n        }),\n        children: []\n      };\n      return n || o.children.push({\n        tag: \"animate\",\n        attributes: p(p({}, s), {}, {\n          attributeName: \"r\",\n          values: \"28;14;28;28;14;28;\"\n        })\n      }, {\n        tag: \"animate\",\n        attributes: p(p({}, i), {}, {\n          values: \"1;0;1;1;0;1;\"\n        })\n      }), a.push(o), a.push({\n        tag: \"path\",\n        attributes: p(p({}, r), {}, {\n          opacity: \"1\",\n          d: \"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z\"\n        }),\n        children: n ? [] : [{\n          tag: \"animate\",\n          attributes: p(p({}, i), {}, {\n            values: \"1;0;0;0;0;1;\"\n          })\n        }]\n      }), n || a.push({\n        tag: \"path\",\n        attributes: p(p({}, r), {}, {\n          opacity: \"0\",\n          d: \"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z\"\n        }),\n        children: [{\n          tag: \"animate\",\n          attributes: p(p({}, i), {}, {\n            values: \"0;0;1;1;0;0;\"\n          })\n        }]\n      }), {\n        tag: \"g\",\n        attributes: {\n          class: \"missing\"\n        },\n        children: a\n      };\n    };\n  }\n}, Ri = {\n  hooks: function() {\n    return {\n      parseNodeAttributes: function(n, a) {\n        var r = a.getAttribute(\"data-fa-symbol\"), s = r === null ? !1 : r === \"\" ? !0 : r;\n        return n.symbol = s, n;\n      }\n    };\n  }\n}, Ni = [Fr, wi, Ei, Si, Ti, Pi, Ii, Li, $i, Fi, Ri];\nKr(Ni, {\n  mixoutsTo: G\n});\nG.noAuto;\nvar Na = G.config;\nG.library;\nG.dom;\nvar gt = G.parse;\nG.findIconDefinition;\nG.toHtml;\nvar Wi = G.icon;\nG.layer;\nvar Hi = G.text;\nG.counter;\nfunction Yn(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var a = Object.getOwnPropertySymbols(e);\n    t && (a = a.filter(function(r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), n.push.apply(n, a);\n  }\n  return n;\n}\nfunction ee(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? Yn(Object(n), !0).forEach(function(a) {\n      B(e, a, n[a]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Yn(Object(n)).forEach(function(a) {\n      Object.defineProperty(e, a, Object.getOwnPropertyDescriptor(n, a));\n    });\n  }\n  return e;\n}\nfunction pt(e) {\n  return pt = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(t) {\n    return typeof t;\n  } : function(t) {\n    return t && typeof Symbol == \"function\" && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n  }, pt(e);\n}\nfunction B(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\nfunction Yi(e, t) {\n  if (e == null)\n    return {};\n  var n = {}, a = Object.keys(e), r, s;\n  for (s = 0; s < a.length; s++)\n    r = a[s], !(t.indexOf(r) >= 0) && (n[r] = e[r]);\n  return n;\n}\nfunction zi(e, t) {\n  if (e == null)\n    return {};\n  var n = Yi(e, t), a, r;\n  if (Object.getOwnPropertySymbols) {\n    var s = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < s.length; r++)\n      a = s[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(e, a) && (n[a] = e[a]);\n  }\n  return n;\n}\nfunction zt(e) {\n  return ji(e) || Bi(e) || Xi(e) || Ui();\n}\nfunction ji(e) {\n  if (Array.isArray(e))\n    return jt(e);\n}\nfunction Bi(e) {\n  if (typeof Symbol < \"u\" && e[Symbol.iterator] != null || e[\"@@iterator\"] != null)\n    return Array.from(e);\n}\nfunction Xi(e, t) {\n  if (e) {\n    if (typeof e == \"string\")\n      return jt(e, t);\n    var n = Object.prototype.toString.call(e).slice(8, -1);\n    if (n === \"Object\" && e.constructor && (n = e.constructor.name), n === \"Map\" || n === \"Set\")\n      return Array.from(e);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return jt(e, t);\n  }\n}\nfunction jt(e, t) {\n  (t == null || t > e.length) && (t = e.length);\n  for (var n = 0, a = new Array(t); n < t; n++)\n    a[n] = e[n];\n  return a;\n}\nfunction Ui() {\n  throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);\n}\nvar Vi = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof __webpack_require__.g < \"u\" ? __webpack_require__.g : typeof self < \"u\" ? self : {}, Wa = { exports: {} };\n(function(e) {\n  (function(t) {\n    var n = function(h, v, E) {\n      if (!c(v) || u(v) || g(v) || D(v) || l(v))\n        return v;\n      var C, N = 0, ne = 0;\n      if (d(v))\n        for (C = [], ne = v.length; N < ne; N++)\n          C.push(n(h, v[N], E));\n      else {\n        C = {};\n        for (var J in v)\n          Object.prototype.hasOwnProperty.call(v, J) && (C[h(J, E)] = n(h, v[J], E));\n      }\n      return C;\n    }, a = function(h, v) {\n      v = v || {};\n      var E = v.separator || \"_\", C = v.split || /(?=[A-Z])/;\n      return h.split(C).join(E);\n    }, r = function(h) {\n      return y(h) ? h : (h = h.replace(/[\\-_\\s]+(.)?/g, function(v, E) {\n        return E ? E.toUpperCase() : \"\";\n      }), h.substr(0, 1).toLowerCase() + h.substr(1));\n    }, s = function(h) {\n      var v = r(h);\n      return v.substr(0, 1).toUpperCase() + v.substr(1);\n    }, i = function(h, v) {\n      return a(h, v).toLowerCase();\n    }, o = Object.prototype.toString, l = function(h) {\n      return typeof h == \"function\";\n    }, c = function(h) {\n      return h === Object(h);\n    }, d = function(h) {\n      return o.call(h) == \"[object Array]\";\n    }, u = function(h) {\n      return o.call(h) == \"[object Date]\";\n    }, g = function(h) {\n      return o.call(h) == \"[object RegExp]\";\n    }, D = function(h) {\n      return o.call(h) == \"[object Boolean]\";\n    }, y = function(h) {\n      return h = h - 0, h === h;\n    }, k = function(h, v) {\n      var E = v && \"process\" in v ? v.process : v;\n      return typeof E != \"function\" ? h : function(C, N) {\n        return E(C, h, N);\n      };\n    }, w = {\n      camelize: r,\n      decamelize: i,\n      pascalize: s,\n      depascalize: i,\n      camelizeKeys: function(h, v) {\n        return n(k(r, v), h);\n      },\n      decamelizeKeys: function(h, v) {\n        return n(k(i, v), h, v);\n      },\n      pascalizeKeys: function(h, v) {\n        return n(k(s, v), h);\n      },\n      depascalizeKeys: function() {\n        return this.decamelizeKeys.apply(this, arguments);\n      }\n    };\n    e.exports ? e.exports = w : t.humps = w;\n  })(Vi);\n})(Wa);\nvar xi = Wa.exports, qi = [\"class\", \"style\"];\nfunction Gi(e) {\n  return e.split(\";\").map(function(t) {\n    return t.trim();\n  }).filter(function(t) {\n    return t;\n  }).reduce(function(t, n) {\n    var a = n.indexOf(\":\"), r = xi.camelize(n.slice(0, a)), s = n.slice(a + 1).trim();\n    return t[r] = s, t;\n  }, {});\n}\nfunction Ki(e) {\n  return e.split(/\\s+/).reduce(function(t, n) {\n    return t[n] = !0, t;\n  }, {});\n}\nfunction an(e) {\n  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  if (typeof e == \"string\")\n    return e;\n  var a = (e.children || []).map(function(l) {\n    return an(l);\n  }), r = Object.keys(e.attributes || {}).reduce(function(l, c) {\n    var d = e.attributes[c];\n    switch (c) {\n      case \"class\":\n        l.class = Ki(d);\n        break;\n      case \"style\":\n        l.style = Gi(d);\n        break;\n      default:\n        l.attrs[c] = d;\n    }\n    return l;\n  }, {\n    attrs: {},\n    class: {},\n    style: {}\n  });\n  n.class;\n  var s = n.style, i = s === void 0 ? {} : s, o = zi(n, qi);\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(e.tag, ee(ee(ee({}, t), {}, {\n    class: r.class,\n    style: ee(ee({}, r.style), i)\n  }, r.attrs), o), a);\n}\nvar Ha = !1;\ntry {\n  Ha = \"development\" === \"production\";\n} catch {\n}\nfunction Qi() {\n  if (!Ha && console && typeof console.error == \"function\") {\n    var e;\n    (e = console).error.apply(e, arguments);\n  }\n}\nfunction ze(e, t) {\n  return Array.isArray(t) && t.length > 0 || !Array.isArray(t) && t ? B({}, e, t) : {};\n}\nfunction Ji(e) {\n  var t, n = (t = {\n    \"fa-spin\": e.spin,\n    \"fa-pulse\": e.pulse,\n    \"fa-fw\": e.fixedWidth,\n    \"fa-border\": e.border,\n    \"fa-li\": e.listItem,\n    \"fa-inverse\": e.inverse,\n    \"fa-flip\": e.flip === !0,\n    \"fa-flip-horizontal\": e.flip === \"horizontal\" || e.flip === \"both\",\n    \"fa-flip-vertical\": e.flip === \"vertical\" || e.flip === \"both\"\n  }, B(t, \"fa-\".concat(e.size), e.size !== null), B(t, \"fa-rotate-\".concat(e.rotation), e.rotation !== null), B(t, \"fa-pull-\".concat(e.pull), e.pull !== null), B(t, \"fa-swap-opacity\", e.swapOpacity), B(t, \"fa-bounce\", e.bounce), B(t, \"fa-shake\", e.shake), B(t, \"fa-beat\", e.beat), B(t, \"fa-fade\", e.fade), B(t, \"fa-beat-fade\", e.beatFade), B(t, \"fa-flash\", e.flash), B(t, \"fa-spin-pulse\", e.spinPulse), B(t, \"fa-spin-reverse\", e.spinReverse), t);\n  return Object.keys(n).map(function(a) {\n    return n[a] ? a : null;\n  }).filter(function(a) {\n    return a;\n  });\n}\nfunction zn(e) {\n  if (e && pt(e) === \"object\" && e.prefix && e.iconName && e.icon)\n    return e;\n  if (gt.icon)\n    return gt.icon(e);\n  if (e === null)\n    return null;\n  if (pt(e) === \"object\" && e.prefix && e.iconName)\n    return e;\n  if (Array.isArray(e) && e.length === 2)\n    return {\n      prefix: e[0],\n      iconName: e[1]\n    };\n  if (typeof e == \"string\")\n    return {\n      prefix: \"fas\",\n      iconName: e\n    };\n}\nvar Qe = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"FontAwesomeIcon\",\n  props: {\n    border: {\n      type: Boolean,\n      default: !1\n    },\n    fixedWidth: {\n      type: Boolean,\n      default: !1\n    },\n    flip: {\n      type: [Boolean, String],\n      default: !1,\n      validator: function(t) {\n        return [!0, !1, \"horizontal\", \"vertical\", \"both\"].indexOf(t) > -1;\n      }\n    },\n    icon: {\n      type: [Object, Array, String],\n      required: !0\n    },\n    mask: {\n      type: [Object, Array, String],\n      default: null\n    },\n    listItem: {\n      type: Boolean,\n      default: !1\n    },\n    pull: {\n      type: String,\n      default: null,\n      validator: function(t) {\n        return [\"right\", \"left\"].indexOf(t) > -1;\n      }\n    },\n    pulse: {\n      type: Boolean,\n      default: !1\n    },\n    rotation: {\n      type: [String, Number],\n      default: null,\n      validator: function(t) {\n        return [90, 180, 270].indexOf(Number.parseInt(t, 10)) > -1;\n      }\n    },\n    swapOpacity: {\n      type: Boolean,\n      default: !1\n    },\n    size: {\n      type: String,\n      default: null,\n      validator: function(t) {\n        return [\"2xs\", \"xs\", \"sm\", \"lg\", \"xl\", \"2xl\", \"1x\", \"2x\", \"3x\", \"4x\", \"5x\", \"6x\", \"7x\", \"8x\", \"9x\", \"10x\"].indexOf(t) > -1;\n      }\n    },\n    spin: {\n      type: Boolean,\n      default: !1\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    },\n    symbol: {\n      type: [Boolean, String],\n      default: !1\n    },\n    title: {\n      type: String,\n      default: null\n    },\n    inverse: {\n      type: Boolean,\n      default: !1\n    },\n    bounce: {\n      type: Boolean,\n      default: !1\n    },\n    shake: {\n      type: Boolean,\n      default: !1\n    },\n    beat: {\n      type: Boolean,\n      default: !1\n    },\n    fade: {\n      type: Boolean,\n      default: !1\n    },\n    beatFade: {\n      type: Boolean,\n      default: !1\n    },\n    flash: {\n      type: Boolean,\n      default: !1\n    },\n    spinPulse: {\n      type: Boolean,\n      default: !1\n    },\n    spinReverse: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  setup: function(t, n) {\n    var a = n.attrs, r = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return zn(t.icon);\n    }), s = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return ze(\"classes\", Ji(t));\n    }), i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return ze(\"transform\", typeof t.transform == \"string\" ? gt.transform(t.transform) : t.transform);\n    }), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return ze(\"mask\", zn(t.mask));\n    }), l = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return Wi(r.value, ee(ee(ee(ee({}, s.value), i.value), o.value), {}, {\n        symbol: t.symbol,\n        title: t.title\n      }));\n    });\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(l, function(d) {\n      if (!d)\n        return Qi(\"Could not find one or more icon(s)\", r.value, o.value);\n    }, {\n      immediate: !0\n    });\n    var c = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return l.value ? an(l.value.abstract[0], {}, a) : null;\n    });\n    return function() {\n      return c.value;\n    };\n  }\n});\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"FontAwesomeLayers\",\n  props: {\n    fixedWidth: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  setup: function(t, n) {\n    var a = n.slots, r = Na.familyPrefix, s = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return [\"\".concat(r, \"-layers\")].concat(zt(t.fixedWidth ? [\"\".concat(r, \"-fw\")] : []));\n    });\n    return function() {\n      return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", {\n        class: s.value\n      }, a.default ? a.default() : []);\n    };\n  }\n});\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"FontAwesomeLayersText\",\n  props: {\n    value: {\n      type: [String, Number],\n      default: \"\"\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    },\n    counter: {\n      type: Boolean,\n      default: !1\n    },\n    position: {\n      type: String,\n      default: null,\n      validator: function(t) {\n        return [\"bottom-left\", \"bottom-right\", \"top-left\", \"top-right\"].indexOf(t) > -1;\n      }\n    }\n  },\n  setup: function(t, n) {\n    var a = n.attrs, r = Na.familyPrefix, s = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return ze(\"classes\", [].concat(zt(t.counter ? [\"\".concat(r, \"-layers-counter\")] : []), zt(t.position ? [\"\".concat(r, \"-layers-\").concat(t.position)] : [])));\n    }), i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return ze(\"transform\", typeof t.transform == \"string\" ? gt.transform(t.transform) : t.transform);\n    }), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      var c = Hi(t.value.toString(), ee(ee({}, i.value), s.value)), d = c.abstract;\n      return t.counter && (d[0].attributes.class = d[0].attributes.class.replace(\"fa-layers-text\", \"\")), d[0];\n    }), l = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(function() {\n      return an(o.value, {}, a);\n    });\n    return function() {\n      return l.value;\n    };\n  }\n});\nvar Zi = {\n  prefix: \"fas\",\n  iconName: \"circle-chevron-right\",\n  icon: [512, 512, [\"chevron-circle-right\"], \"f138\", \"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z\"]\n}, es = Zi, ts = {\n  prefix: \"fas\",\n  iconName: \"user\",\n  icon: [448, 512, [128100, 62144], \"f007\", \"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z\"]\n}, ns = {\n  prefix: \"fas\",\n  iconName: \"circle-question\",\n  icon: [512, 512, [62108, \"question-circle\"], \"f059\", \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"]\n}, as = ns, rs = {\n  prefix: \"fas\",\n  iconName: \"comment\",\n  icon: [512, 512, [128489, 61669], \"f075\", \"M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z\"]\n}, is = {\n  prefix: \"fas\",\n  iconName: \"clock\",\n  icon: [512, 512, [128339, \"clock-four\"], \"f017\", \"M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z\"]\n}, ss = {\n  prefix: \"fas\",\n  iconName: \"location-dot\",\n  icon: [384, 512, [\"map-marker-alt\"], \"f3c5\", \"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z\"]\n}, rn = ss, os = {\n  prefix: \"fas\",\n  iconName: \"xmark\",\n  icon: [320, 512, [128473, 10005, 10006, 10060, 215, \"close\", \"multiply\", \"remove\", \"times\"], \"f00d\", \"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z\"]\n}, Ya = os, ls = {\n  prefix: \"fas\",\n  iconName: \"chevron-left\",\n  icon: [320, 512, [9001], \"f053\", \"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\"]\n}, cs = {\n  prefix: \"fas\",\n  iconName: \"chevron-right\",\n  icon: [320, 512, [9002], \"f054\", \"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"]\n}, ds = {\n  prefix: \"fas\",\n  iconName: \"circle-chevron-left\",\n  icon: [512, 512, [\"chevron-circle-left\"], \"f137\", \"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z\"]\n}, us = ds, fs = {\n  prefix: \"fas\",\n  iconName: \"calendar-day\",\n  icon: [448, 512, [], \"f783\", \"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z\"]\n};\nconst ms = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"DatePicker\",\n  components: { FontAwesomeIcon: Qe },\n  props: {\n    mode: {\n      type: String,\n      default: \"week\"\n    },\n    timeProp: {\n      type: Object,\n      default: null\n    },\n    periodProp: {\n      type: Object,\n      default: null\n    },\n    firstDayOfWeek: {\n      type: String,\n      default: \"\"\n    },\n    defaultDate: {\n      type: Date,\n      default: /* @__PURE__ */ new Date()\n    },\n    /** For usage of the component as a stand-alone component, outside Qalendar */\n    locale: {\n      type: String,\n      default: \"\"\n    },\n    disableDates: {\n      type: Object,\n      default: null\n    }\n    /** End of props for stand-alone component  */\n  },\n  emits: [\"updated\"],\n  data() {\n    var e, t;\n    return {\n      periodText: \"\",\n      weekPickerDates: [],\n      monthPickerDates: [],\n      icons: {\n        calendarIcon: fs,\n        chevronLeft: us,\n        chevronRight: es\n      },\n      showDatePicker: !!(this.locale && this.firstDayOfWeek),\n      // Set to automatic show, when used as a standalone component\n      /**\n       * Though selectedDate might look identical to datePickerCurrentDate, it is not\n       * There is a need for separate state for:\n       * 1. (datePickerCurrentDate) the current date governing what to show in the week picker.\n       * This changes as the user browses between weeks, months and years\n       *\n       * 2. (selectedDate) the selected date of the entire calendar.\n       * This should not change as the user browses in the date picker, only when the user\n       * PICKS a date in the date picker\n       * */\n      datePickerCurrentDate: ((e = this.periodProp) == null ? void 0 : e.selectedDate) || this.defaultDate || /* @__PURE__ */ new Date(),\n      selectedDate: ((t = this.periodProp) == null ? void 0 : t.selectedDate) || /* @__PURE__ */ new Date(),\n      datePickerMode: \"month\",\n      weekDays: [],\n      // Used only for printing week day names,\n      time: this.timeProp ? this.timeProp : new se(this.firstDayOfWeek, this.locale),\n      period: this.periodProp || {\n        start: /* @__PURE__ */ new Date(),\n        end: /* @__PURE__ */ new Date(),\n        selectedDate: this.defaultDate ? this.defaultDate : /* @__PURE__ */ new Date()\n      }\n    };\n  },\n  computed: {\n    /**\n     * If both following props are set, this means the component is being used as a stand alone component\n     * and not inside Qalendar\n     * */\n    isStandAloneComponent() {\n      return this.locale && this.firstDayOfWeek;\n    }\n  },\n  mounted() {\n    this.hydrateDatePicker();\n  },\n  methods: {\n    setMonthDaysInWeekPicker(e = (/* @__PURE__ */ new Date()).getMonth(), t = (/* @__PURE__ */ new Date()).getFullYear()) {\n      this.weekPickerDates = [], this.weekPickerDates = this.time.getCalendarMonthSplitInWeeks(\n        t,\n        e\n      );\n    },\n    togglePeriodSelector() {\n      this.weekPickerDates = this.time.getCalendarMonthSplitInWeeks(\n        this.datePickerCurrentDate.getFullYear(),\n        this.datePickerCurrentDate.getMonth()\n      ), this.showDatePicker = !this.showDatePicker;\n    },\n    setWeek(e, t = !1) {\n      t || (this.datePickerCurrentDate = e);\n      const n = this.time.getCalendarWeekDateObjects(e);\n      this.weekDays = n;\n      const a = n[0], r = n[6];\n      switch (this.mode) {\n        case \"week\":\n          this.periodText = `${this.time.getLocalizedDateString(\n            a\n          )} - ${this.time.getLocalizedDateString(r)}`;\n          break;\n        case \"month\":\n          this.periodText = this.time.getLocalizedNameOfMonth(e);\n          break;\n        default:\n          this.periodText = this.time.getLocalizedDateString(e);\n      }\n      t || this.emitChange(a, r);\n    },\n    setMonth(e) {\n      this.datePickerCurrentDate = e, this.setMonthDaysInWeekPicker(e.getMonth(), e.getFullYear()), this.datePickerMode = \"month\", this.showDatePicker = !0;\n    },\n    emitChange(e, t) {\n      if (this.selectedDate = this.datePickerCurrentDate, this.mode === \"month\") {\n        const n = this.time.getCalendarMonthSplitInWeeks(\n          this.selectedDate.getFullYear(),\n          this.selectedDate.getMonth()\n        );\n        e = n[0][0];\n        const a = n[n.length - 1];\n        t = a[a.length - 1];\n      } else\n        this.mode === \"day\" && (e = this.selectedDate, t = this.selectedDate);\n      this.isStandAloneComponent ? this.$emit(\"updated\", {\n        year: this.datePickerCurrentDate.getFullYear(),\n        month: this.datePickerCurrentDate.getMonth(),\n        date: this.datePickerCurrentDate.getDate()\n      }) : this.$emit(\"updated\", {\n        start: new Date(\n          e.getFullYear(),\n          e.getMonth(),\n          e.getDate(),\n          0,\n          0,\n          0\n        ),\n        end: this.time.setDateToEndOfDay(t),\n        selectedDate: this.datePickerCurrentDate\n      });\n    },\n    toggleDatePickerPeriod(e) {\n      const t = new Date(this.datePickerCurrentDate);\n      if (this.datePickerMode === \"month\") {\n        const n = new Date(\n          t.getFullYear(),\n          e === \"previous\" ? t.getMonth() - 1 : t.getMonth() + 1,\n          1\n        );\n        this.setMonthDaysInWeekPicker(\n          n.getMonth(),\n          n.getFullYear()\n        ), this.datePickerCurrentDate = n;\n      } else\n        this.monthPickerDates = this.time.getCalendarYearMonths(\n          e === \"previous\" ? t.getFullYear() - 1 : t.getFullYear() + 1\n        ), this.datePickerCurrentDate = new Date(this.monthPickerDates[0]);\n    },\n    toggleDatePickerMode() {\n      if (this.datePickerMode === \"month\")\n        return this.monthPickerDates = this.time.getCalendarYearMonths(\n          this.datePickerCurrentDate.getFullYear()\n        ), this.datePickerMode = \"year\";\n      this.weekPickerDates = this.time.getCalendarMonthSplitInWeeks(\n        this.datePickerCurrentDate.getFullYear(),\n        this.datePickerCurrentDate.getMonth()\n      ), this.datePickerMode = \"month\";\n    },\n    getLocale() {\n      return this.time.CALENDAR_LOCALE;\n    },\n    goToPeriod(e) {\n      let t, n;\n      if (this.mode === \"week\") {\n        const a = this.time.getCalendarWeekDateObjects(\n          this.datePickerCurrentDate\n        );\n        t = new Date(a[0]), n = e === \"next\" ? t.getDate() + 7 : t.getDate() - 7, t.setDate(n);\n      } else\n        this.mode === \"month\" ? (t = new Date(this.datePickerCurrentDate), t.setMonth(\n          e === \"next\" ? t.getMonth() + 1 : t.getMonth() - 1\n        ), t.setDate(1)) : (t = new Date(this.datePickerCurrentDate), n = e === \"next\" ? t.getDate() + 1 : t.getDate() - 1, t.setDate(n));\n      this.setWeek(t);\n    },\n    hideDatePicker() {\n      this.isStandAloneComponent || setTimeout(() => this.showDatePicker = !1, 100);\n    },\n    hydrateDatePicker() {\n      const e = this.datePickerCurrentDate;\n      this.setMonthDaysInWeekPicker(e.getMonth(), e.getFullYear()), this.setWeek(e, !0);\n    },\n    checkIfDateIsDisabled(e) {\n      return this.disableDates ? e.getTime() < this.disableDates.before.getTime() ? !0 : e.getTime() > this.disableDates.after.getTime() : !1;\n    }\n  }\n});\nconst j = (e, t) => {\n  const n = e.__vccOpts || e;\n  for (const [a, r] of t)\n    n[a] = r;\n  return n;\n}, hs = { class: \"date-picker__value-display-text\" }, vs = { class: \"date-picker__week-picker-navigation\" }, gs = {\n  key: 0,\n  class: \"date-picker__day-names week\"\n}, ps = [\"onClick\"], ys = { class: \"months\" }, bs = [\"onClick\"];\nfunction Ds(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"font-awesome-icon\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"date-picker\", e.isStandAloneComponent ? \"date-picker-root\" : \"is-in-qalendar\"]),\n    onMouseleave: t[5] || (t[5] = (...o) => e.hideDatePicker && e.hideDatePicker(...o))\n  }, [\n    e.isStandAloneComponent ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 0,\n      class: \"date-picker__value-display\",\n      onClick: t[0] || (t[0] = (...o) => e.togglePeriodSelector && e.togglePeriodSelector(...o))\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n        icon: e.icons.calendarIcon\n      }, null, 8, [\"icon\"]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", hs, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.periodText), 1)\n    ])),\n    e.showDatePicker ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 1,\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"date-picker__week-picker\", { \"is-in-qalendar\": !e.isStandAloneComponent }]),\n      onMouseleave: t[4] || (t[4] = (...o) => e.hideDatePicker && e.hideDatePicker(...o))\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", vs, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          class: \"is-icon is-chevron-left\",\n          icon: e.icons.chevronLeft,\n          onClick: t[1] || (t[1] = (o) => e.toggleDatePickerPeriod(\"previous\"))\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", {\n          class: \"date-picker__toggle-mode\",\n          onClick: t[2] || (t[2] = (...o) => e.toggleDatePickerMode && e.toggleDatePickerMode(...o))\n        }, [\n          e.datePickerMode === \"month\" ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: 0 }, [\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.datePickerCurrentDate.toLocaleString(e.getLocale(), {\n              month: \"long\",\n              year: \"numeric\"\n            })), 1)\n          ], 64)) : e.datePickerMode === \"year\" ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: 1 }, [\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(new Date(e.datePickerCurrentDate).toLocaleString(e.getLocale(), {\n              year: \"numeric\"\n            })), 1)\n          ], 64)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n        ]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          class: \"is-icon is-chevron-right\",\n          icon: e.icons.chevronRight,\n          onClick: t[3] || (t[3] = (o) => e.toggleDatePickerPeriod(\"next\"))\n        }, null, 8, [\"icon\"])\n      ]),\n      e.datePickerMode === \"month\" ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", gs, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.weekDays, (o) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", {\n          key: o.getDate()\n        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.time.getLocalizedNameOfWeekday(o, \"short\")), 1))), 128))\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.weekPickerDates, (o, l) => (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n        key: l,\n        class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\n          \"week\",\n          e.time.dateIsInWeek(e.selectedDate, o) && !e.isStandAloneComponent ? \"is-active\" : \"\"\n        ])\n      }, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(o, (c, d) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", {\n          key: l + d,\n          class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)({\n            \"is-weekend\": [5, 6].includes(d),\n            \"is-not-in-month\": c.getMonth() !== e.datePickerCurrentDate.getMonth(),\n            \"has-day\": c,\n            \"is-today\": e.time.dateIsToday(c),\n            \"is-disabled\": e.checkIfDateIsDisabled(c)\n          }),\n          onClick: (u) => e.checkIfDateIsDisabled(c) ? null : e.setWeek(c)\n        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(c ? c.getDate() : \"\"), 11, ps))), 128))\n      ], 2)), [\n        [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, e.datePickerMode === \"month\"]\n      ])), 128)),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", ys, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.monthPickerDates, (o, l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", {\n          key: l,\n          class: \"has-month\",\n          onClick: (c) => e.setMonth(o)\n        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(new Date(o).toLocaleString(e.getLocale(), { month: \"long\" })), 9, bs))), 128))\n      ], 512), [\n        [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, e.datePickerMode === \"year\"]\n      ])\n    ], 34)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n  ], 34);\n}\nconst ks = /* @__PURE__ */ j(ms, [[\"render\", Ds], [\"__scopeId\", \"data-v-67f77862\"]]), ws = {\n  /** The following three keys, describe the calendar modes */\n  week: {\n    \"it-IT\": \"Settimana\",\n    \"en-US\": \"Week\",\n    \"de-DE\": \"Woche\",\n    \"sv-SE\": \"Vecka\",\n    \"zh-CN\": \"周\",\n    \"pt-BR\": \"Semana\",\n    \"fr-FR\": \"Semaine\",\n    \"th-TH\": \"สัปดาห์\",\n    \"nl-NL\": \"Week\",\n    \"ru-RU\": \"Неделя\",\n    \"ar-YE\": \"إسبوع\",\n    \"es-ES\": \"Semana\",\n    \"ja-JP\": \"週\"\n  },\n  month: {\n    \"it-IT\": \"Mese\",\n    \"en-US\": \"Month\",\n    \"de-DE\": \"Monat\",\n    \"sv-SE\": \"Månad\",\n    \"zh-CN\": \"月\",\n    \"pt-BR\": \"Mês\",\n    \"fr-FR\": \"Mois\",\n    \"th-TH\": \"เดือน\",\n    \"nl-NL\": \"Maand\",\n    \"ru-RU\": \"Месяц\",\n    \"ar-YE\": \"شهر\",\n    \"es-ES\": \"Mes\",\n    \"ja-JP\": \"月\"\n  },\n  day: {\n    \"it-IT\": \"Giorno\",\n    \"en-US\": \"Day\",\n    \"de-DE\": \"Tag\",\n    \"sv-SE\": \"Dag\",\n    \"zh-CN\": \"日\",\n    \"pt-BR\": \"Dia\",\n    \"fr-FR\": \"Jour\",\n    \"th-TH\": \"วัน\",\n    \"nl-NL\": \"Dag\",\n    \"ru-RU\": \"День\",\n    \"ar-YE\": \"يوم\",\n    \"es-ES\": \"Día\",\n    \"ja-JP\": \"日\"\n  },\n  /** Other keys */\n  moreEvents: {\n    \"it-IT\": \"+ altri eventi\",\n    \"en-US\": \"+ more events\",\n    \"de-DE\": \"+ weitere Ereignisse\",\n    \"sv-SE\": \"+ fler event\",\n    \"zh-CN\": \"列出其他结果\",\n    \"pt-BR\": \"+ mais eventos\",\n    \"fr-FR\": \"+ d'autres événements\",\n    \"th-TH\": \"+ เหตุการณ์เพิ่มเติม\",\n    \"nl-NL\": \"meer evenementen\",\n    \"ru-RU\": \"+ ещё события\",\n    \"ar-YE\": \"+ المزيد من الأحداث\",\n    \"es-ES\": \"más eventos\",\n    \"ja-JP\": \"その他イベント\"\n  },\n  noEvent: {\n    \"it-IT\": \"Nessun evento\",\n    \"en-US\": \"No events\",\n    \"de-DE\": \"Keine Ereignisse\",\n    \"sv-SE\": \"Inga event\",\n    \"zh-CN\": \"沒有活動\",\n    \"pt-BR\": \"Sem eventos\",\n    \"fr-FR\": \"Aucun Evènement\",\n    \"th-TH\": \"ไม่มีกิจกรรม\",\n    \"nl-NL\": \"Geen evenementen\",\n    \"ru-RU\": \"Нет событий\",\n    \"ar-YE\": \"لا أحداث\",\n    \"es-ES\": \"No hay eventos\",\n    \"ja-JP\": \"イベントなし\"\n  }\n}, jn = /* @__PURE__ */ new Map([\n  [\"de\", \"de-DE\"],\n  [\"en\", \"en-US\"],\n  [\"it\", \"it-IT\"],\n  [\"sv\", \"sv-SE\"],\n  [\"zh\", \"zh-CN\"],\n  [\"pt\", \"pt-BR\"],\n  [\"fr\", \"fr-FR\"],\n  [\"th\", \"th-TH\"],\n  [\"nl\", \"nl-NL\"],\n  [\"ru\", \"ru-RU\"],\n  [\"ar\", \"ar-YE\"],\n  [\"es\", \"es-ES\"],\n  [\"ja\", \"ja-JP\"]\n]), sn = {\n  data() {\n    return {\n      languageKeys: ws\n    };\n  },\n  methods: {\n    getLanguage(e, t) {\n      return t = this.overrideShortLocaleWithLongLocale(t), e[t] ? e[t] : e[\"en-US\"];\n    },\n    overrideShortLocaleWithLongLocale(e) {\n      return jn.has(e) && (e = jn.get(e)), e;\n    }\n  }\n}, Es = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"AppHeader\",\n  components: {\n    DatePicker: ks,\n    FontAwesomeIcon: Qe\n  },\n  mixins: [sn],\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    },\n    mode: {\n      type: String,\n      default: \"week\"\n    },\n    time: {\n      type: Object,\n      default: () => ({})\n    },\n    period: {\n      type: Object,\n      required: !0\n    },\n    isSmall: {\n      type: Boolean,\n      required: !0\n    }\n  },\n  emits: [\"change-mode\", \"updated-period\"],\n  data() {\n    return {\n      modeOptions: [\"month\", \"week\", \"day\"],\n      icons: {\n        chevronLeft: ls,\n        chevronRight: cs\n      },\n      currentPeriod: this.period,\n      showModePicker: !1\n    };\n  },\n  computed: {\n    periodName() {\n      var e, t, n;\n      if (this.mode === \"week\") {\n        const a = this.time.getLocalizedNameOfMonth(\n          (e = this.currentPeriod) == null ? void 0 : e.start,\n          \"short\"\n        ), r = this.time.getLocalizedNameOfMonth(\n          (t = this.currentPeriod) == null ? void 0 : t.end,\n          \"short\"\n        );\n        return a === r ? a : `${a} - ${r}`;\n      }\n      return this.time.getLocalizedNameOfMonth(\n        (n = this.currentPeriod) == null ? void 0 : n.selectedDate,\n        \"short\"\n      ) + \" \" + this.currentPeriod.selectedDate.getFullYear();\n    },\n    modeName() {\n      var e;\n      return this.getLanguage(\n        this.languageKeys[this.mode],\n        (e = this.time) == null ? void 0 : e.CALENDAR_LOCALE\n      );\n    },\n    onlyDayModeIsEnabled() {\n      var n, a;\n      const e = (n = this.config.disableModes) == null ? void 0 : n.includes(\"week\"), t = (a = this.config.disableModes) == null ? void 0 : a.includes(\"month\");\n      return this.config.disableModes && e && t;\n    }\n  },\n  watch: {\n    isSmall: {\n      handler(e) {\n        e ? this.modeOptions = [\"month\", \"day\"] : this.modeOptions = [\"month\", \"week\", \"day\"];\n      },\n      immediate: !0\n    }\n  },\n  methods: {\n    handlePeriodChange(e) {\n      this.currentPeriod = e, this.$emit(\"updated-period\", e);\n    },\n    goToPeriod(e) {\n      this.$refs.periodSelect.goToPeriod(e);\n    }\n  }\n});\nconst Ss = { class: \"calendar-header\" }, Ts = {\n  key: 0,\n  class: \"calendar-header__period-name\"\n}, As = { class: \"calendar-header__period\" }, Cs = { class: \"calendar-header__chevron-arrows\" }, _s = {\n  key: 0,\n  class: \"calendar-header__mode-picker\"\n}, Ms = [\"onClick\"];\nfunction Ps(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"FontAwesomeIcon\"), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"DatePicker\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Ss, [\n    e.periodName ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Ts, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.periodName), 1)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", As, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Cs, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          class: \"calendar-header__chevron-arrow calendar-header__chevron-arrow-left\",\n          icon: e.icons.chevronLeft,\n          onClick: t[0] || (t[0] = (l) => e.goToPeriod(\"previous\"))\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          class: \"calendar-header__chevron-arrow calendar-header__chevron-arrow-right\",\n          icon: e.icons.chevronRight,\n          onClick: t[1] || (t[1] = (l) => e.goToPeriod(\"next\"))\n        }, null, 8, [\"icon\"])\n      ]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(o, {\n        ref: \"periodSelect\",\n        mode: e.mode,\n        \"time-prop\": e.time,\n        \"period-prop\": e.period,\n        onUpdated: e.handlePeriodChange\n      }, null, 8, [\"mode\", \"time-prop\", \"period-prop\", \"onUpdated\"]),\n      e.onlyDayModeIsEnabled ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _s, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", {\n          class: \"calendar-header__mode-value\",\n          onClick: t[2] || (t[2] = (l) => e.showModePicker = !0)\n        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.modeName), 1),\n        e.showModePicker ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n          key: 0,\n          class: \"calendar-header__mode-options\",\n          onMouseleave: t[3] || (t[3] = (l) => e.showModePicker = !1)\n        }, [\n          ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.modeOptions, (l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: l }, [\n            !e.config.disableModes || !e.config.disableModes.includes(l) ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n              key: 0,\n              class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-header__mode-option\", \"is-\" + l + \"-mode\"]),\n              onClick: (c) => e.$emit(\"change-mode\", l)\n            }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getLanguage(e.languageKeys[l], e.time.CALENDAR_LOCALE)), 11, Ms)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n          ], 64))), 128))\n        ], 32)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n      ]))\n    ])\n  ]);\n}\nconst Is = /* @__PURE__ */ j(Es, [[\"render\", Ps], [\"__scopeId\", \"data-v-37f1c389\"]]), on = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"DayTimeline\",\n  props: {\n    time: {\n      type: Object,\n      required: !0\n    },\n    weekHeight: {\n      type: String,\n      required: !0\n    }\n  },\n  data() {\n    return {\n      availableHours: [\n        0,\n        100,\n        200,\n        300,\n        400,\n        500,\n        600,\n        700,\n        800,\n        900,\n        1e3,\n        1100,\n        1200,\n        1300,\n        1400,\n        1500,\n        1600,\n        1700,\n        1800,\n        1900,\n        2e3,\n        2100,\n        2200,\n        2300\n      ],\n      timelineHours: []\n    };\n  },\n  mounted() {\n    this.timelineHours = this.time.getTimelineHours();\n  },\n  methods: {\n    getLocaleTimeString(e) {\n      const { hour: t } = this.time.getHourAndMinutesFromTimePoints(e);\n      return this.time.getLocalizedHour(new Date(2100, 1, 1, t));\n    }\n  }\n}), Bn = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"11371d19\": e.weekHeight\n  }));\n}, Xn = on.setup;\non.setup = Xn ? (e, t) => (Bn(), Xn(e, t)) : Bn;\nconst Ls = { class: \"day-timeline\" }, Os = { class: \"day-timeline__hour-text\" };\nfunction $s(e, t, n, a, r, s) {\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Ls, [\n    ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.timelineHours, (i) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: i,\n      class: \"day-timeline__hour\"\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", Os, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getLocaleTimeString(i)), 1)\n    ]))), 128))\n  ]);\n}\nconst Fs = /* @__PURE__ */ j(on, [[\"render\", $s], [\"__scopeId\", \"data-v-014bf4e0\"]]), Rs = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"FullDayEvent\",\n  props: {\n    scheduleEvent: {\n      type: Object,\n      default: null\n    },\n    config: {\n      type: Object,\n      required: !0\n    },\n    mode: {\n      type: String,\n      required: !0\n    }\n  },\n  emits: [\"event-was-clicked\"],\n  data() {\n    return {\n      colors: xe,\n      eventColor: \"#fff\",\n      eventBackgroundColor: \"\",\n      eventElementIdPrefix: \"week-timeline__event-id-\"\n    };\n  },\n  computed: {\n    eventWidth() {\n      return this.mode !== \"day\" ? `calc(${this.scheduleEvent.nDays * 100}% - 6px)` : \"calc(100% - 6px)\";\n    }\n  },\n  mounted() {\n    this.setColors();\n  },\n  methods: {\n    setColors() {\n      var e, t, n;\n      return (e = this.scheduleEvent) != null && e.colorScheme && ((t = this.config.style) != null && t.colorSchemes) && this.config.style.colorSchemes[this.scheduleEvent.colorScheme] ? (this.eventColor = this.config.style.colorSchemes[this.scheduleEvent.colorScheme].color, this.eventBackgroundColor = this.config.style.colorSchemes[this.scheduleEvent.colorScheme].backgroundColor) : (n = this.scheduleEvent) != null && n.color ? (this.eventColor = \"#fff\", this.eventBackgroundColor = this.colors[this.scheduleEvent.color]) : this.eventBackgroundColor = this.colors.blue;\n    },\n    handleClickOnEvent() {\n      const e = document.getElementById(\n        this.eventElementIdPrefix + this.scheduleEvent.id\n      );\n      this.$emit(\"event-was-clicked\", {\n        clickedEvent: this.scheduleEvent,\n        eventElement: e\n      });\n    }\n  }\n});\nconst Ns = [\"id\"], Ws = {\n  key: 1,\n  class: \"week-timeline__event\"\n};\nfunction Hs(e, t, n, a, r, s) {\n  return e.scheduleEvent ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    key: 0,\n    id: `${e.eventElementIdPrefix}${e.scheduleEvent.id}`,\n    class: \"week-timeline__event is-event\",\n    style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({\n      width: e.eventWidth,\n      color: e.eventColor,\n      backgroundColor: e.eventBackgroundColor,\n      zIndex: 1\n    }),\n    onClick: t[0] || (t[0] = (...i) => e.handleClickOnEvent && e.handleClickOnEvent(...i))\n  }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.scheduleEvent.title), 13, Ns)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Ws));\n}\nconst Ys = /* @__PURE__ */ j(Rs, [[\"render\", Hs], [\"__scopeId\", \"data-v-778d59fc\"]]), zs = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"WeekTimeline\",\n  components: { FullDayEvent: Ys },\n  props: {\n    days: {\n      type: Array,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    fullDayEvents: {\n      type: Array,\n      default: () => []\n    },\n    config: {\n      type: Object,\n      required: !0\n    },\n    mode: {\n      type: String,\n      required: !0\n    }\n  },\n  emits: [\"event-was-clicked\", \"day-was-clicked\"],\n  data() {\n    return {\n      now: /* @__PURE__ */ new Date()\n    };\n  },\n  methods: {\n    getDaysDate(e) {\n      const { date: t } = this.time.getAllVariablesFromDateTimeString(\n        e.dateTimeString\n      );\n      return t;\n    }\n  }\n});\nconst js = { class: \"week-timeline\" }, Bs = [\"onClick\"], Xs = { class: \"week-timeline__day-name\" }, Us = { class: \"week-timeline__date\" }, Vs = { class: \"week-timeline__events\" };\nfunction xs(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"FullDayEvent\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", js, [\n    ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.days, (o, l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: l,\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"week-timeline__day\", {\n        \"is-today\": e.time.getDateTimeStringFromDate(e.now, \"start\") === o.dateTimeString\n      }]),\n      onClick: (c) => e.$emit(\"day-was-clicked\", e.time.dateStringFrom(o.dateTimeString))\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Xs, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(o.dayName.substring(0, 2).toUpperCase()), 1),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Us, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getDaysDate(o)), 1),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Vs, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(o.fullDayEvents, (c, d) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: d }, [\n          d !== \"date\" ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n            key: 0,\n            \"schedule-event\": typeof c == \"object\" ? c : null,\n            config: e.config,\n            mode: e.mode,\n            onEventWasClicked: t[0] || (t[0] = (u) => e.$emit(\"event-was-clicked\", u))\n          }, null, 8, [\"schedule-event\", \"config\", \"mode\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n        ], 64))), 128))\n      ])\n    ], 10, Bs))), 128))\n  ]);\n}\nconst qs = /* @__PURE__ */ j(zs, [[\"render\", xs], [\"__scopeId\", \"data-v-a43746b6\"]]);\nvar oe = /* @__PURE__ */ ((e) => (e.BACKWARDS = \"backwards\", e.FORWARDS = \"forwards\", e))(oe || {});\nclass Gs {\n  constructor(t, n) {\n    F(this, \"dayStart\", \"\");\n    F(this, \"dayEnd\", \"\");\n    this.timeInstance = t, this.date = n, this.setDayBoundariesTimeStrings();\n  }\n  canEventBeMoved(t, n) {\n    return this.timeInstance.dayMode !== q.FLEXIBLE ? this.handleNonFlexibleDays(n, t) : this.handleFlexibleDays(n, t);\n  }\n  handleNonFlexibleDays(t, n) {\n    return t === oe.FORWARDS ? this.handleForwardsMoveForNonFlexibleDays(n) : this.handleBackwardsMoveForNonFlexibleDays(n);\n  }\n  handleFlexibleDays(t, n) {\n    return t == oe.FORWARDS ? this.handleForwardsMoveForFlexibleDays(n) : this.handleBackwardsMoveForFlexibleDays(n);\n  }\n  handleForwardsMoveForNonFlexibleDays(t) {\n    const n = this.timeInstance.addMinutesToDateTimeString(15, t.time.end), a = this.timeInstance.timeStringFrom(n);\n    return this.timeInstance.dateStringFrom(n) > this.date ? !1 : a <= this.dayEnd;\n  }\n  handleBackwardsMoveForNonFlexibleDays(t) {\n    const n = this.timeInstance.addMinutesToDateTimeString(-15, t.time.start), a = this.timeInstance.timeStringFrom(n);\n    return this.timeInstance.dateStringFrom(n) < this.date ? !1 : a >= this.dayStart;\n  }\n  handleForwardsMoveForFlexibleDays(t) {\n    const n = this.timeInstance.addMinutesToDateTimeString(15, t.time.end), a = this.timeInstance.timeStringFrom(n);\n    return this.timeInstance.dateStringFrom(n) === this.date ? !0 : a <= this.dayEnd;\n  }\n  handleBackwardsMoveForFlexibleDays(t) {\n    const n = this.timeInstance.addMinutesToDateTimeString(-15, t.time.start), a = this.timeInstance.timeStringFrom(n);\n    return this.timeInstance.dateStringFrom(n) > this.date ? !0 : a >= this.dayStart;\n  }\n  setDayBoundariesTimeStrings() {\n    const t = this.timeInstance.getHourAndMinutesFromTimePoints(this.timeInstance.DAY_START).hour, n = this.timeInstance.getHourAndMinutesFromTimePoints(this.timeInstance.DAY_END).hour, a = this.timeInstance.doubleDigit(t);\n    this.dayStart = `${a}:00`;\n    const r = this.timeInstance.doubleDigit(n);\n    this.dayEnd = `${r}:00`;\n  }\n}\nconst Ks = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"DayEvent\",\n  components: {\n    FontAwesomeIcon: Qe\n  },\n  props: {\n    eventProp: {\n      type: Object,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    config: {\n      type: Object,\n      required: !0\n    },\n    dayInfo: {\n      type: Object,\n      required: !0\n    },\n    mode: {\n      type: String,\n      required: !0\n    }\n  },\n  emits: [\"event-was-clicked\", \"event-was-resized\", \"event-was-dragged\", \"drag-start\", \"drag-end\"],\n  data() {\n    return {\n      event: this.eventProp,\n      icons: {\n        clock: is,\n        user: ts,\n        description: rs,\n        location: rn,\n        topic: as\n      },\n      showResizeElements: !1,\n      eventTransformValue: \"initial\",\n      eventZIndexValue: \"initial\",\n      dayElement: document.querySelector(\".calendar-week__day\"),\n      dayBoundariesDateTimeStrings: this.time.getDateTimeStringDayBoundariesFrom(this.dayInfo.dateTimeString),\n      // Resizing events\n      resizingStartingPoint: void 0,\n      resizingStartingPointEndOfTime: this.eventProp.time.end,\n      resizingStartingPointStartOfTime: this.eventProp.time.start,\n      resizingDirection: \"\",\n      changeInQuarterHoursEventStart: 0,\n      changeInQuarterHoursEventEnd: 0,\n      isEditable: this.eventProp.isEditable || !1,\n      colors: xe,\n      eventColor: \"#fff\",\n      eventBackgroundColor: \"\",\n      isResizing: !1,\n      // Dragging events\n      canDrag: !1,\n      // set to true on mousedown and false on mouseup\n      clientYDragStart: null,\n      clientXDragStart: null,\n      changeInQuartersOnDrag: 0,\n      changeInDaysOnDrag: 0,\n      isDragging: !1,\n      timeStartDragStart: this.eventProp.time.start,\n      timeEndDragStart: this.eventProp.time.end,\n      dragMoveListenerNameAndCallbacks: [\n        [\"mousemove\", this.handleDrag],\n        [\"touchmove\", this.handleDrag],\n        [\"mouseup\", this.onMouseUpWhenDragging],\n        [\"touchend\", this.onMouseUpWhenDragging]\n      ]\n    };\n  },\n  computed: {\n    eventChangeHelper() {\n      const e = this.time.addDaysToDateTimeString(this.changeInDaysOnDrag, this.dayInfo.dateTimeString);\n      return new Gs(this.time, this.time.dateStringFrom(e));\n    },\n    isCustomEvent() {\n      return Array.isArray(this.eventProp.isCustom) ? this.eventProp.isCustom.includes(this.mode) : this.eventProp.isCustom || !1;\n    },\n    getEventTime() {\n      return this.time.getLocalizedTime(this.event.time.start) + \" - \" + this.time.getLocalizedTime(this.event.time.end);\n    },\n    timePointsInDay() {\n      return this.time.HOURS_PER_DAY * 100;\n    },\n    timePointsInOneMinute() {\n      return 100 / 60;\n    },\n    getLeftRule() {\n      return !this.event.totalConcurrentEvents || !this.event.nOfPreviousConcurrentEvents ? 0 : this.event.nOfPreviousConcurrentEvents / this.event.totalConcurrentEvents * 100;\n    },\n    getWidthRule() {\n      return 100 - this.getLeftRule;\n    },\n    getBorderRule() {\n      return this.event.nOfPreviousConcurrentEvents ? \"1px solid #fff\" : \"none\";\n    },\n    eventIsLongerThan30Minutes() {\n      const { hour: e, minutes: t } = this.time.getAllVariablesFromDateTimeString(this.event.time.start), { hour: n, minutes: a } = this.time.getAllVariablesFromDateTimeString(this.event.time.end), r = new Date(0, 0, 0, e, t).getTime();\n      return new Date(0, 0, 0, n, a).getTime() - r >= 18e5;\n    },\n    hasDisabledDragAndDrop() {\n      return !!(this.eventProp.disableDnD && this.eventProp.disableDnD.includes(this.mode));\n    },\n    hasDisabledResize() {\n      return !!(this.eventProp.disableResize && this.eventProp.disableResize.includes(this.mode));\n    },\n    requiredStyles() {\n      return {\n        top: this.getPositionInDay(this.event.time.start),\n        height: this.getLengthOfEvent(\n          this.event.time.start,\n          this.event.time.end\n        ),\n        left: this.getLeftRule + \"%\",\n        width: this.getWidthRule + \"%\",\n        transform: this.eventTransformValue,\n        zIndex: this.eventZIndexValue\n      };\n    }\n  },\n  watch: {\n    changeInQuarterHoursEventStart(e, t) {\n      const n = this.time.addMinutesToDateTimeString(\n        15 * e,\n        this.resizingStartingPointStartOfTime\n      ), a = e > t ? oe.FORWARDS : oe.BACKWARDS, r = this.eventChangeHelper.canEventBeMoved(\n        this.event,\n        a\n      );\n      n < this.event.time.end && r && (this.event.time.start = n);\n    },\n    changeInQuarterHoursEventEnd(e, t) {\n      const n = this.time.addMinutesToDateTimeString(\n        15 * e,\n        this.resizingStartingPointEndOfTime\n      ), a = e > t ? oe.FORWARDS : oe.BACKWARDS, r = this.eventChangeHelper.canEventBeMoved(\n        this.event,\n        a\n      );\n      n > this.event.time.start && r && (this.event.time.end = n);\n    },\n    changeInQuartersOnDrag(e, t) {\n      const n = e > t ? oe.FORWARDS : oe.BACKWARDS;\n      this.eventChangeHelper.canEventBeMoved(\n        this.event,\n        n\n      ) && this.updatePositionOnDrag();\n    },\n    changeInDaysOnDrag(e) {\n      if (!this.dayElement)\n        return;\n      const t = this.dayInfo.daysTotalN - (this.dayInfo.thisDayIndex + 1), n = 0 - this.dayInfo.thisDayIndex;\n      if (e > t || e < n)\n        return;\n      const a = e * this.dayElement.clientWidth;\n      this.eventTransformValue = `translateX(${a}px)`, this.updatePositionOnDrag();\n    }\n  },\n  mounted() {\n    this.setColors();\n  },\n  methods: {\n    getPositionInDay(e) {\n      return this.time.getPercentageOfDayFromDateTimeString(\n        e,\n        this.time.DAY_START,\n        this.time.DAY_END\n      ).toString() + \"%\";\n    },\n    getLengthOfEvent(e, t) {\n      const n = this.time.getPercentageOfDayFromDateTimeString(\n        e,\n        this.time.DAY_START,\n        this.time.DAY_END\n      ), a = this.time.getPercentageOfDayFromDateTimeString(\n        t,\n        this.time.DAY_START,\n        this.time.DAY_END\n      );\n      return Math.abs(a - n) + \"%\";\n    },\n    handleClickOnEvent(e) {\n      const t = this.getEventElementFromChildElement(e);\n      t && this.$emit(\"event-was-clicked\", {\n        clickedEvent: this.event,\n        eventElement: t\n      });\n    },\n    /**\n     * When a child element of the event is clicked, return the parent event element\n     * */\n    getEventElementFromChildElement(e) {\n      const t = e.target;\n      return !t || typeof t.className.includes != \"function\" ? null : t.className.includes(\".calendar-week__event\") ? e.target : t.closest(\".calendar-week__event\");\n    },\n    /**\n     * Handle mousemove-events, while the event is being resized\n     * */\n    onMouseMoveResize(e) {\n      const t = document.querySelector(\".calendar-week__events\");\n      if (!t)\n        return;\n      typeof this.resizingStartingPoint > \"u\" && (this.resizingStartingPoint = e.clientY);\n      const a = e.clientY - this.resizingStartingPoint, r = t.clientHeight, s = a / r * 100, i = this.timePointsInDay / 100 * s, o = this.getMinutesFromTimePoints(i);\n      this.resizingDirection === \"down\" ? this.changeInQuarterHoursEventEnd = Math.floor(o / 15) : this.changeInQuarterHoursEventStart = Math.floor(o / 15);\n    },\n    /**\n     * Handle mouseup-events, for when an event stops being resized\n     * */\n    onMouseUpWhenResizing() {\n      this.stopResizing();\n    },\n    resizeEvent(e) {\n      this.isResizing = !0, this.resizingDirection = e, document.addEventListener(\"mousemove\", this.onMouseMoveResize), document.addEventListener(\"mouseup\", this.onMouseUpWhenResizing);\n    },\n    stopResizing() {\n      document.removeEventListener(\"mousemove\", this.onMouseMoveResize), document.removeEventListener(\"mouseup\", this.onMouseUpWhenResizing), this.resetResizingValues(), this.$emit(\"event-was-resized\", this.event), this.isResizing = !1;\n    },\n    /**\n     * Reset values used for resizing an event, to prepare for upcoming resizing events\n     * */\n    resetResizingValues() {\n      this.resizingStartingPoint = void 0, this.resizingStartingPointStartOfTime = this.eventProp.time.start, this.resizingStartingPointEndOfTime = this.eventProp.time.end, this.changeInQuarterHoursEventEnd = 0;\n    },\n    /**\n     * Calculate the change of an event in minutes, based on the number of time points that changed\n     * */\n    getMinutesFromTimePoints(e) {\n      return e / this.timePointsInOneMinute;\n    },\n    setColors() {\n      var e, t, n;\n      if ((e = this.event) != null && e.colorScheme && ((t = this.config.style) != null && t.colorSchemes) && this.config.style.colorSchemes[this.event.colorScheme])\n        return this.eventColor = this.config.style.colorSchemes[this.event.colorScheme].color, this.eventBackgroundColor = this.config.style.colorSchemes[this.event.colorScheme].backgroundColor;\n      if ((n = this.event) != null && n.color) {\n        this.eventColor = \"#fff\", this.eventBackgroundColor = this.colors[this.event.color];\n        return;\n      }\n      this.eventBackgroundColor = this.colors.blue;\n    },\n    initDrag(e) {\n      var t, n;\n      !this.event.isEditable || this.hasDisabledDragAndDrop || (this.$emit(\"drag-start\"), this.dragMoveListenerNameAndCallbacks.forEach(([a, r]) => {\n        document.addEventListener(a, r);\n      }), Ee.isUIEventTouchEvent(e) ? this.setInitialDragValues(\n        (t = e.touches[0]) == null ? void 0 : t.clientX,\n        (n = e.touches[0]) == null ? void 0 : n.clientY\n      ) : this.setInitialDragValues(e.clientX, e.clientY));\n    },\n    setInitialDragValues(e, t) {\n      this.canDrag = !0, this.eventZIndexValue = 10, this.clientYDragStart = t, this.clientXDragStart = e, this.timeStartDragStart = this.event.time.start, this.timeEndDragStart = this.event.time.end;\n    },\n    onMouseUpWhenDragging() {\n      this.$emit(\"drag-end\"), this.handleDragEnd();\n    },\n    handleDragEnd() {\n      this.canDrag = !1, this.eventZIndexValue = \"initial\", this.dragMoveListenerNameAndCallbacks.forEach(([n, a]) => {\n        document.removeEventListener(n, a);\n      });\n      const e = this.changeInDaysOnDrag <= -1 || this.changeInDaysOnDrag > 0, t = this.changeInQuartersOnDrag <= -1 || this.changeInQuartersOnDrag > 0;\n      (e || t) && this.$emit(\"event-was-dragged\", this.event);\n    },\n    handleDrag(e) {\n      this.isResizing || !this.canDrag || !this.clientYDragStart || (Ee.isUIEventTouchEvent(e) ? (this.handleVerticalDrag(e.touches[0].clientY), this.handleHorizontalDrag(e.touches[0].clientX)) : (this.handleVerticalDrag(e.clientY), this.handleHorizontalDrag(e.clientX)));\n    },\n    /**\n     * Handle dragging within days\n     * */\n    handleVerticalDrag(e) {\n      const t = document.querySelector(\".calendar-week__events\");\n      if (!t || !this.clientYDragStart)\n        return;\n      const n = e - this.clientYDragStart, a = t.clientHeight, r = n / a * 100, s = this.timePointsInDay / 100 * r, i = this.getMinutesFromTimePoints(s);\n      this.changeInQuartersOnDrag = i < 0 ? Math.ceil(i / 15) : Math.floor(i / 15);\n    },\n    /**\n     * Handle dragging between days\n     * */\n    handleHorizontalDrag(e) {\n      if (!this.dayElement || !this.clientXDragStart)\n        return;\n      const t = this.dayElement.clientWidth, n = e - this.clientXDragStart;\n      this.changeInDaysOnDrag = n < 0 ? Math.ceil(n / t) : Math.floor(n / t);\n    },\n    updatePositionOnDrag() {\n      const e = this.changeInQuartersOnDrag * 15, t = this.changeInDaysOnDrag * 1440;\n      this.event.time.start = this.time.addMinutesToDateTimeString(\n        e + t,\n        this.timeStartDragStart\n      ), this.event.time.end = this.time.addMinutesToDateTimeString(\n        e + t,\n        this.timeEndDragStart\n      );\n    }\n  }\n});\nconst Qs = [\"data-ref\"], Js = { class: \"calendar-week__event-row is-title\" }, Zs = { class: \"calendar-week__event-row is-time\" }, eo = {\n  key: 0,\n  class: \"calendar-week__event-row is-location\"\n}, to = {\n  key: 1,\n  class: \"calendar-week__event-row is-with\"\n}, no = {\n  key: 2,\n  class: \"calendar-week__event-row is-topic\"\n}, ao = {\n  key: 3,\n  class: \"calendar-week__event-row is-description\"\n}, ro = [\"innerHTML\"];\nfunction io(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"font-awesome-icon\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-week__event is-event\", {\n      \"is-editable\": e.isEditable,\n      \"has-disabled-dnd\": e.hasDisabledDragAndDrop\n    }]),\n    style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({\n      ...e.requiredStyles,\n      border: e.getBorderRule\n    }),\n    \"data-ref\": \"event-\" + e.event.id,\n    onClick: t[2] || (t[2] = (...o) => e.handleClickOnEvent && e.handleClickOnEvent(...o)),\n    onMouseenter: t[3] || (t[3] = (o) => e.showResizeElements = e.isEditable && !e.hasDisabledResize),\n    onMouseleave: t[4] || (t[4] = (o) => e.showResizeElements = !1),\n    onMousedown: t[5] || (t[5] = (...o) => e.initDrag && e.initDrag(...o)),\n    onTouchstart: t[6] || (t[6] = (...o) => e.initDrag && e.initDrag(...o))\n  }, [\n    e.isCustomEvent ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"weekDayEvent\", {\n      key: 1,\n      eventData: e.event\n    }, void 0, !0) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 0,\n      class: \"calendar-week__event-info-wrapper\",\n      style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({\n        color: e.eventColor,\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: e.eventBackgroundColor\n      })\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Js, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.event.title), 1),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Zs, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          icon: e.icons.clock,\n          class: \"calendar-week__event-icon\"\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getEventTime), 1)\n      ]),\n      e.event.location ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", eo, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          icon: e.icons.location,\n          class: \"calendar-week__event-icon\"\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.event.location), 1)\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      e.event.with ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", to, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          icon: e.icons.user,\n          class: \"calendar-week__event-icon\"\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.event.with), 1)\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      e.event.topic ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", no, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          icon: e.icons.topic,\n          class: \"calendar-week__event-icon\"\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.event.topic), 1)\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      e.event.description ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", ao, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n          icon: e.icons.description,\n          class: \"calendar-week__event-icon\"\n        }, null, 8, [\"icon\"]),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n          innerHTML: e.event.description\n        }, null, 8, ro)\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      e.eventIsLongerThan30Minutes ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n        key: 4,\n        class: \"calendar-week__event-blend-out\",\n        style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({\n          backgroundImage: \"linear-gradient(to bottom, transparent, \" + e.eventBackgroundColor + \")\"\n        })\n      }, null, 4)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n    ], 4)),\n    e.showResizeElements ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 2,\n      class: \"calendar-week__event-resize calendar-week__event-resize-up\",\n      onMousedown: t[0] || (t[0] = (o) => e.resizeEvent(\"up\"))\n    }, null, 32)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n    e.showResizeElements ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 3,\n      class: \"calendar-week__event-resize calendar-week__event-resize-down\",\n      onMousedown: t[1] || (t[1] = (o) => e.resizeEvent(\"down\"))\n    }, null, 32)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n  ], 46, Qs);\n}\nconst so = /* @__PURE__ */ j(Ks, [[\"render\", io], [\"__scopeId\", \"data-v-5564d436\"]]);\nclass oo {\n  sortEventsAccordingToStartOfTime(t) {\n    function n(a, r) {\n      return a.time.start < r.time.start ? -1 : a.time.start > r.time.start ? 1 : 0;\n    }\n    return t.sort(n);\n  }\n  /**\n   * Sets the \"zIndex\" and \"nOfPreviousConcurrentEvents\" properties on an event\n   *\n   * zIndex - lets the event know with which z-index it should be displayed\n   * nOfPreviousConcurrentEvents - lets the event know, how many other, previous events, are competing for the same width\n   * */\n  calculateConcurrencyForEvents(t) {\n    const n = this.sortEventsAccordingToStartOfTime(t);\n    if (!n.length)\n      return [];\n    for (const [a, r] of n.entries()) {\n      if (a === 0)\n        continue;\n      n[a - 1];\n      let s = 0, i = 0;\n      for (; s < a; )\n        n[s].time.end > r.time.start && i++, s++;\n      i && (n[a].nOfPreviousConcurrentEvents = i);\n    }\n    for (let a = n.length - 1; a >= 0; a--) {\n      let r = 0, s = n.length - 1;\n      for (; s > a; )\n        n[s].time.start < n[a].time.end && r++, s--;\n      const i = n[a].nOfPreviousConcurrentEvents || 0;\n      n[a].totalConcurrentEvents = i + r + 1;\n    }\n    return t;\n  }\n}\nclass lo extends se {\n  constructor(n, a, r = 24) {\n    super();\n    F(this, \"INTERVAL_MINUTES\");\n    F(this, \"DAY_START_DATE_TIME_STRING\");\n    F(this, \"HOURS_PER_DAY\", 24);\n    this.INTERVAL_MINUTES = n, this.DAY_START_DATE_TIME_STRING = a, this.HOURS_PER_DAY = r;\n  }\n  getIntervals() {\n    const n = [], a = this.HOURS_PER_DAY * (60 / this.INTERVAL_MINUTES);\n    let r = this.DAY_START_DATE_TIME_STRING;\n    for (; n.length < a; ) {\n      const s = this.addMinutesToDateTimeString(this.INTERVAL_MINUTES, r);\n      n.push({\n        intervalStart: r,\n        intervalEnd: s,\n        // Only show a border at the bottom of an interval, when the upcoming interval is not the start of a new hour.\n        // This prevents double borders\n        hasBorder: s.substring(14, 16) !== \"00\"\n      }), r = s;\n    }\n    return n;\n  }\n}\nconst co = new oo(), uo = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Day\",\n  components: { DayEvent: so },\n  props: {\n    day: {\n      type: Object,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    config: {\n      type: Object,\n      required: !0\n    },\n    dayInfo: {\n      type: Object,\n      required: !0\n    },\n    mode: {\n      type: String,\n      required: !0\n    },\n    dayIntervals: {\n      type: Object,\n      required: !0\n    },\n    weekHeight: {\n      type: Number,\n      required: !0\n    }\n  },\n  emits: [\n    \"event-was-clicked\",\n    \"event-was-resized\",\n    \"event-was-dragged\",\n    \"interval-was-clicked\",\n    \"day-was-clicked\",\n    \"datetime-was-clicked\",\n    \"drag-start\",\n    \"drag-end\"\n  ],\n  data() {\n    return {\n      events: [],\n      intervals: []\n    };\n  },\n  computed: {\n    intervalStyles() {\n      var e;\n      return (e = this.config.dayIntervals) != null && e.intervalStyles ? this.config.dayIntervals.intervalStyles : {};\n    }\n  },\n  mounted() {\n    this.calculateEventConcurrency(), this.dayIntervals.displayClickableInterval && this.setClickableIntervals();\n  },\n  methods: {\n    calculateEventConcurrency() {\n      this.events = co.calculateConcurrencyForEvents(\n        this.day.events\n      );\n    },\n    handleEventWasResized(e) {\n      this.$emit(\"event-was-resized\", e), this.calculateEventConcurrency();\n    },\n    handleClickOnInterval(e) {\n      const { intervalStart: t, intervalEnd: n } = e;\n      this.$emit(\"interval-was-clicked\", { intervalStart: t, intervalEnd: n });\n    },\n    setClickableIntervals() {\n      let e = this.day.dateTimeString;\n      if (this.time.DAY_START !== 0) {\n        const { hour: t } = this.time.getHourAndMinutesFromTimePoints(this.time.DAY_START);\n        e = this.time.setSegmentOfDateTimeString(e, { hour: t });\n      }\n      this.intervals = new lo(\n        this.dayIntervals.length || 60,\n        e,\n        this.time.HOURS_PER_DAY\n      ).getIntervals();\n    },\n    handleClickOnDay(e) {\n      const t = this.time.getTimeFromClick(e.offsetY, this.weekHeight);\n      let n = this.time.dateStringFrom(this.day.dateTimeString);\n      this.time.DAY_END <= this.time.DAY_START && (n = this.getDateStringForFlexibleDayBoundaries(n, t));\n      const r = `${n} ${t}`;\n      this.$emit(\"day-was-clicked\", n), this.$emit(\"datetime-was-clicked\", r);\n    },\n    getDateStringForFlexibleDayBoundaries(e, t) {\n      const a = `${this.time.doubleDigit(this.time.DAY_START / 100)}:00`;\n      return t < a && (e = this.time.dateStringFrom(\n        this.time.addDaysToDateTimeString(1, e)\n      )), e;\n    }\n  }\n});\nconst fo = [\"id\", \"onClick\"];\nfunction mo(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"DayEvent\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    class: \"calendar-week__day\",\n    onClick: t[4] || (t[4] = (0,vue__WEBPACK_IMPORTED_MODULE_0__.withModifiers)((...o) => e.handleClickOnDay && e.handleClickOnDay(...o), [\"self\"]))\n  }, [\n    ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.events, (o, l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n      key: l,\n      \"data-test\": \"day-event\",\n      \"event-prop\": o,\n      day: e.day,\n      time: e.time,\n      config: e.config,\n      \"day-info\": e.dayInfo,\n      mode: e.mode,\n      onEventWasClicked: t[0] || (t[0] = (c) => e.$emit(\"event-was-clicked\", c)),\n      onEventWasDragged: t[1] || (t[1] = (c) => e.$emit(\"event-was-dragged\", c)),\n      onEventWasResized: e.handleEventWasResized,\n      onDragStart: t[2] || (t[2] = (c) => e.$emit(\"drag-start\")),\n      onDragEnd: t[3] || (t[3] = (c) => e.$emit(\"drag-end\"))\n    }, {\n      weekDayEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((c) => [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"weekDayEvent\", {\n          eventData: c.eventData\n        }, void 0, !0)\n      ]),\n      _: 2\n    }, 1032, [\"event-prop\", \"day\", \"time\", \"config\", \"day-info\", \"mode\", \"onEventWasResized\"]))), 128)),\n    e.dayIntervals && e.dayIntervals.displayClickableInterval ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: 0 }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.intervals, (o, l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      id: \"interval-\" + l,\n      key: o.intervalStart,\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-week__day-interval\", { \"has-border\": o.hasBorder }]),\n      style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)(e.intervalStyles),\n      onClick: (c) => e.handleClickOnInterval(o)\n    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.time.getLocalizedTime(o.intervalStart)), 15, fo))), 128)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n  ]);\n}\nconst ho = /* @__PURE__ */ j(uo, [[\"render\", mo], [\"__scopeId\", \"data-v-b268be7e\"]]), vo = {\n  x: 8,\n  y: 26,\n  width: 903,\n  height: 702,\n  top: 26,\n  right: 911,\n  bottom: 728,\n  left: 8\n}, go = 400;\nclass po {\n  calculateFlyoutPosition(t, n, a = null) {\n    const r = a || vo, s = t.top - r.top, i = r.right - t.right, o = r.bottom - t.bottom, l = t.left - r.left, c = n.width + 10, d = o < 0 ? r.bottom - n.height - 10 : null, u = s < 0 ? r.top + 10 : null;\n    return o > n.height && i > c ? {\n      top: u || Math.round(t.top),\n      left: Math.round(t.right) + 10\n    } : s > n.height && i > c ? {\n      top: d || Math.round(t.bottom) - n.height,\n      left: Math.round(t.right) + 10\n    } : l > c && o > n.height ? {\n      top: u || t.top,\n      left: Math.round(\n        t.left - (n.width + 10)\n      )\n    } : l > c && s > n.height ? {\n      top: d || Math.round(t.bottom - n.height),\n      left: Math.round(\n        t.left - (n.width + 10)\n      )\n    } : o < n.height ? { top: r.bottom - n.height, left: null } : { top: t.top, left: null };\n  }\n}\nvar yo = {\n  prefix: \"far\",\n  iconName: \"trash-can\",\n  icon: [448, 512, [61460, \"trash-alt\"], \"f2ed\", \"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z\"]\n}, za = yo, bo = {\n  prefix: \"far\",\n  iconName: \"pen-to-square\",\n  icon: [512, 512, [\"edit\"], \"f044\", \"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z\"]\n}, ja = bo, Ba = {\n  prefix: \"far\",\n  iconName: \"user\",\n  icon: [448, 512, [128100, 62144], \"f007\", \"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z\"]\n}, Do = {\n  prefix: \"far\",\n  iconName: \"circle-question\",\n  icon: [512, 512, [62108, \"question-circle\"], \"f059\", \"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"]\n}, Xa = Do, Ua = {\n  prefix: \"far\",\n  iconName: \"comment\",\n  icon: [512, 512, [128489, 61669], \"f075\", \"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9c.1-.2 .2-.3 .3-.5z\"]\n}, Va = {\n  prefix: \"far\",\n  iconName: \"clock\",\n  icon: [512, 512, [128339, \"clock-four\"], \"f017\", \"M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z\"]\n};\nconst ko = new po(), ln = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"EventFlyout\",\n  components: {\n    FontAwesomeIcon: Qe\n  },\n  props: {\n    calendarEventProp: {\n      type: Object,\n      default: () => ({})\n    },\n    eventElement: {\n      type: Object,\n      default: null\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    config: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\"hide\", \"edit-event\", \"delete-event\"],\n  data() {\n    return {\n      isVisible: !1,\n      top: 0,\n      left: 0,\n      icons: {\n        clock: Va,\n        user: Ba,\n        description: Ua,\n        trash: za,\n        edit: ja,\n        times: Ya,\n        topic: Xa,\n        location: rn\n      },\n      calendarEvent: this.calendarEventProp,\n      flyoutWidth: go + \"px\",\n      colors: xe\n    };\n  },\n  computed: {\n    getEventTime() {\n      if (!this.calendarEvent || !this.calendarEvent.time)\n        return null;\n      const e = Ee.getEventType(this.calendarEvent, this.time);\n      if ([Q.MULTI_DAY_TIMED].includes(e)) {\n        const a = this.getDateFromDateString(\n          this.calendarEvent.time.start\n        ) + \" \" + this.time.getLocalizedTime(this.calendarEvent.time.start), r = this.getDateFromDateString(\n          this.calendarEvent.time.end\n        ) + \" \" + this.time.getLocalizedTime(this.calendarEvent.time.end);\n        return `${a} - ${r}`;\n      }\n      if ([Q.SINGLE_DAY_FULL_DAY, Q.MULTI_DAY_FULL_DAY].includes(e)) {\n        const a = this.getDateFromDateString(this.calendarEvent.time.start), r = this.getDateFromDateString(this.calendarEvent.time.end);\n        return a === r ? a : `${a} - ${r}`;\n      }\n      const t = this.getDateFromDateString(this.calendarEvent.time.start), n = this.time.getLocalizedTimeRange(\n        this.calendarEvent.time.start,\n        this.calendarEvent.time.end\n      );\n      return `${t} ⋅ ${n}`;\n    },\n    eventFlyoutInlineStyles() {\n      return typeof this.top == \"number\" && !this.left ? {\n        top: this.top + \"px\",\n        left: \"50%\",\n        position: \"fixed\",\n        transform: \"translateX(-50%)\"\n      } : {\n        top: this.top + \"px\",\n        left: this.left + \"px\",\n        position: \"fixed\"\n        // casting, since tsc otherwise thinks we're casting 'string' to 'PositionProperty'\n      };\n    },\n    isEditable() {\n      var e;\n      return ((e = this.calendarEventProp) == null ? void 0 : e.isEditable) || !1;\n    },\n    eventBackgroundColor() {\n      var e, t, n;\n      return (e = this.calendarEvent) != null && e.colorScheme && ((t = this.config.style) != null && t.colorSchemes) && this.config.style.colorSchemes[this.calendarEvent.colorScheme] ? this.config.style.colorSchemes[this.calendarEvent.colorScheme].backgroundColor : this.colors[((n = this.calendarEvent) == null ? void 0 : n.color) || \"blue\"];\n    }\n  },\n  watch: {\n    calendarEventProp: {\n      deep: !0,\n      handler(e) {\n        setTimeout(() => {\n          this.calendarEvent = e, this.isVisible = !!e, this.$nextTick(() => this.setFlyoutPosition());\n        }, 10);\n      }\n    }\n  },\n  mounted() {\n    this.listenForClickOutside();\n  },\n  beforeUnmount() {\n    document.removeEventListener(\"click\", this.closeFlyoutOnClickOutside);\n  },\n  methods: {\n    setFlyoutPosition() {\n      var a, r;\n      const e = (a = this.eventElement) == null ? void 0 : a.closest(\".calendar-root\"), t = document.querySelector(\".event-flyout\");\n      if (!this.eventElement)\n        return;\n      const n = ko.calculateFlyoutPosition(\n        (r = this.eventElement) == null ? void 0 : r.getBoundingClientRect(),\n        {\n          height: (t == null ? void 0 : t.clientHeight) || 300,\n          width: (t == null ? void 0 : t.clientWidth) || 0\n        },\n        e ? e.getBoundingClientRect() : null\n      );\n      this.top = typeof (n == null ? void 0 : n.top) == \"number\" ? n.top : null, this.left = typeof (n == null ? void 0 : n.left) == \"number\" ? n.left : null;\n    },\n    editEvent() {\n      var e;\n      this.$emit(\"edit-event\", (e = this.calendarEvent) == null ? void 0 : e.id), this.closeFlyout();\n    },\n    deleteEvent() {\n      var e;\n      this.$emit(\"delete-event\", (e = this.calendarEvent) == null ? void 0 : e.id), this.closeFlyout();\n    },\n    closeFlyout() {\n      this.isVisible = !1, setTimeout(() => {\n        this.$emit(\"hide\");\n      }, 100);\n    },\n    getDateFromDateString(e) {\n      const { year: t, month: n, date: a } = this.time.getAllVariablesFromDateTimeString(e);\n      return new Date(t, n, a).toLocaleDateString(\n        this.time.CALENDAR_LOCALE,\n        {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\"\n        }\n      );\n    },\n    listenForClickOutside() {\n      document.addEventListener(\"click\", this.closeFlyoutOnClickOutside);\n    },\n    closeFlyoutOnClickOutside(e) {\n      var s;\n      const t = document.querySelector(\".event-flyout\");\n      if (!t || !this.isVisible)\n        return;\n      const n = !t.contains(e.target), a = !!e.target.closest(\".is-event\"), r = ((s = this.config.eventDialog) == null ? void 0 : s.closeOnClickOutside) ?? !0;\n      this.isVisible && n && !a && r && this.closeFlyout();\n    }\n  }\n}), Un = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"7c0b2114\": e.flyoutWidth\n  }));\n}, Vn = ln.setup;\nln.setup = Vn ? (e, t) => (Un(), Vn(e, t)) : Un;\nconst wo = {\n  key: 0,\n  class: \"event-flyout__relative-wrapper\"\n}, Eo = { class: \"event-flyout__menu\" }, So = {\n  key: 0,\n  class: \"event-flyout__menu-editable\"\n}, To = { class: \"event-flyout__menu-close\" }, Ao = {\n  key: 0,\n  class: \"event-flyout__info-wrapper\"\n}, Co = {\n  key: 0,\n  class: \"event-flyout__row is-title\"\n}, _o = {\n  key: 1,\n  class: \"event-flyout__row is-time\"\n}, Mo = {\n  key: 2,\n  class: \"event-flyout__row is-location\"\n}, Po = {\n  key: 3,\n  class: \"event-flyout__row is-with\"\n}, Io = {\n  key: 4,\n  class: \"event-flyout__row is-topic\"\n}, Lo = {\n  key: 5,\n  class: \"event-flyout__row is-description\"\n}, Oo = [\"innerHTML\"];\nfunction $o(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"font-awesome-icon\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"event-flyout\", { \"is-visible\": e.isVisible, \"is-not-editable\": !e.isEditable }]),\n    style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)(e.eventFlyoutInlineStyles)\n  }, [\n    !e.config.eventDialog || !e.config.eventDialog.isCustom ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", wo, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Eo, [\n        e.isEditable ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", So, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            class: \"event-flyout__menu-item is-edit-icon\",\n            icon: e.icons.edit,\n            onClick: e.editEvent\n          }, null, 8, [\"icon\", \"onClick\"]),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            class: \"event-flyout__menu-item is-trash-icon\",\n            icon: e.icons.trash,\n            onClick: e.deleteEvent\n          }, null, 8, [\"icon\", \"onClick\"])\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", To, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            class: \"event-flyout__menu-item is-times-icon\",\n            icon: e.icons.times,\n            onClick: e.closeFlyout\n          }, null, 8, [\"icon\", \"onClick\"])\n        ])\n      ]),\n      e.calendarEvent ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Ao, [\n        e.calendarEvent.title ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Co, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", {\n            class: \"event-flyout__color-icon\",\n            style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({ backgroundColor: e.eventBackgroundColor })\n          }, null, 4),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.title), 1)\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        e.calendarEvent.time ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _o, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getEventTime), 1)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        e.calendarEvent.location ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Mo, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            icon: e.icons.location\n          }, null, 8, [\"icon\"]),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.location), 1)\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        e.calendarEvent.with ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Po, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            icon: e.icons.user\n          }, null, 8, [\"icon\"]),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.with), 1)\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        e.calendarEvent.topic ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Io, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            icon: e.icons.topic,\n            class: \"calendar-week__event-icon\"\n          }, null, 8, [\"icon\"]),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.topic), 1)\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        e.calendarEvent.description ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Lo, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n            icon: e.icons.description,\n            class: \"calendar-week__event-icon\"\n          }, null, 8, [\"icon\"]),\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"p\", {\n            innerHTML: e.calendarEvent.description\n          }, null, 8, Oo)\n        ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n      ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n    ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"default\", {\n      key: 1,\n      eventDialogData: e.calendarEvent,\n      closeEventDialog: e.closeFlyout\n    }, void 0, !0)\n  ], 6);\n}\nconst xa = /* @__PURE__ */ j(ln, [[\"render\", $o], [\"__scopeId\", \"data-v-d6a61e37\"]]);\nclass qa extends se {\n  /**\n   * Yields a full calendar week, with all full-day events positioned in it\n   * */\n  positionFullDayEventsInWeek(t, n, a) {\n    const r = a.map((l) => {\n      const { year: c, month: d, date: u } = this.getAllVariablesFromDateTimeString(l.time.start), { year: g, month: D, date: y } = this.getAllVariablesFromDateTimeString(l.time.end);\n      return l.timeJS = {\n        start: new Date(c, d, u),\n        end: new Date(g, D, y)\n      }, l;\n    }).sort((l, c) => l.time.start < c.time.start ? -1 : l.time.start > c.time.start ? 1 : 0), i = this.getDatesBetweenTwoDates(t, n).map((l) => ({ date: l }));\n    for (const l of r)\n      for (const [c, d] of i.entries()) {\n        const u = this.getDateStringFromDate(d.date);\n        if (this.getDateStringFromDate(l.timeJS.start) <= u && this.getDateStringFromDate(l.timeJS.end) >= u) {\n          let g = 1;\n          for (; typeof i[c][`level${g}`] < \"u\"; )\n            g++;\n          let D = Math.ceil((l.timeJS.end.getTime() - d.date.getTime()) / this.MS_PER_DAY) + 1;\n          const y = i.length - c;\n          D > y && (D = y), i[c][`level${g}`] = {\n            ...l,\n            nDays: D\n            // Denotes the number of days to display in the week, not the actual number of days\n          };\n          for (let k = 1; k < D; k++)\n            i[c + k][`level${g}`] = \"blocked\";\n          break;\n        }\n      }\n    const o = [];\n    for (const l of i)\n      o.push(Object.keys(l).sort().reduce(\n        (c, d) => (c[d] = l[d], c),\n        {}\n      ));\n    return o;\n  }\n  positionFullDayEventsInMonth(t, n) {\n    const a = [], r = t.flat(), s = /* @__PURE__ */ new Map();\n    r.forEach((o) => s.set(this.dateStringFrom(o.dateTimeString), o)), n = n.sort((o, l) => o.time.start < l.time.start ? 1 : o.time.start > l.time.start ? -1 : 0);\n    for (const o of n) {\n      const { year: l, month: c, date: d } = this.getAllVariablesFromDateTimeString(o.time.start), { year: u, month: g, date: D } = this.getAllVariablesFromDateTimeString(o.time.end), y = this.getDatesBetweenTwoDates(\n        new Date(l, c, d),\n        new Date(u, g, D)\n      );\n      for (const k of y) {\n        const w = this.getDateStringFromDate(k), h = s.get(w);\n        h && s.set(w, {\n          ...h,\n          // Since we're iterating over the fullDayEvents sorted backwards, the earliest events will end up first (which is the wanted behavior)\n          events: [o, ...h.events]\n        });\n      }\n    }\n    let i = 0;\n    return s.forEach((o) => {\n      a.length ? a[i] && a[i].length < 7 ? a[i].push(o) : a[i] && a[i].length === 7 && (a.push([o]), i++) : a.push([o]);\n    }), a;\n  }\n}\n/*!\n * perfect-scrollbar v1.5.3\n * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */\nfunction ie(e) {\n  return getComputedStyle(e);\n}\nfunction U(e, t) {\n  for (var n in t) {\n    var a = t[n];\n    typeof a == \"number\" && (a = a + \"px\"), e.style[n] = a;\n  }\n  return e;\n}\nfunction lt(e) {\n  var t = document.createElement(\"div\");\n  return t.className = e, t;\n}\nvar xn = typeof Element < \"u\" && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector);\nfunction pe(e, t) {\n  if (!xn)\n    throw new Error(\"No element matching method supported\");\n  return xn.call(e, t);\n}\nfunction Me(e) {\n  e.remove ? e.remove() : e.parentNode && e.parentNode.removeChild(e);\n}\nfunction qn(e, t) {\n  return Array.prototype.filter.call(\n    e.children,\n    function(n) {\n      return pe(n, t);\n    }\n  );\n}\nvar R = {\n  main: \"ps\",\n  rtl: \"ps__rtl\",\n  element: {\n    thumb: function(e) {\n      return \"ps__thumb-\" + e;\n    },\n    rail: function(e) {\n      return \"ps__rail-\" + e;\n    },\n    consuming: \"ps__child--consume\"\n  },\n  state: {\n    focus: \"ps--focus\",\n    clicking: \"ps--clicking\",\n    active: function(e) {\n      return \"ps--active-\" + e;\n    },\n    scrolling: function(e) {\n      return \"ps--scrolling-\" + e;\n    }\n  }\n}, Ga = { x: null, y: null };\nfunction Ka(e, t) {\n  var n = e.element.classList, a = R.state.scrolling(t);\n  n.contains(a) ? clearTimeout(Ga[t]) : n.add(a);\n}\nfunction Qa(e, t) {\n  Ga[t] = setTimeout(\n    function() {\n      return e.isAlive && e.element.classList.remove(R.state.scrolling(t));\n    },\n    e.settings.scrollingThreshold\n  );\n}\nfunction Fo(e, t) {\n  Ka(e, t), Qa(e, t);\n}\nvar Je = function(t) {\n  this.element = t, this.handlers = {};\n}, Ja = { isEmpty: { configurable: !0 } };\nJe.prototype.bind = function(t, n) {\n  typeof this.handlers[t] > \"u\" && (this.handlers[t] = []), this.handlers[t].push(n), this.element.addEventListener(t, n, !1);\n};\nJe.prototype.unbind = function(t, n) {\n  var a = this;\n  this.handlers[t] = this.handlers[t].filter(function(r) {\n    return n && r !== n ? !0 : (a.element.removeEventListener(t, r, !1), !1);\n  });\n};\nJe.prototype.unbindAll = function() {\n  for (var t in this.handlers)\n    this.unbind(t);\n};\nJa.isEmpty.get = function() {\n  var e = this;\n  return Object.keys(this.handlers).every(\n    function(t) {\n      return e.handlers[t].length === 0;\n    }\n  );\n};\nObject.defineProperties(Je.prototype, Ja);\nvar Fe = function() {\n  this.eventElements = [];\n};\nFe.prototype.eventElement = function(t) {\n  var n = this.eventElements.filter(function(a) {\n    return a.element === t;\n  })[0];\n  return n || (n = new Je(t), this.eventElements.push(n)), n;\n};\nFe.prototype.bind = function(t, n, a) {\n  this.eventElement(t).bind(n, a);\n};\nFe.prototype.unbind = function(t, n, a) {\n  var r = this.eventElement(t);\n  r.unbind(n, a), r.isEmpty && this.eventElements.splice(this.eventElements.indexOf(r), 1);\n};\nFe.prototype.unbindAll = function() {\n  this.eventElements.forEach(function(t) {\n    return t.unbindAll();\n  }), this.eventElements = [];\n};\nFe.prototype.once = function(t, n, a) {\n  var r = this.eventElement(t), s = function(i) {\n    r.unbind(n, s), a(i);\n  };\n  r.bind(n, s);\n};\nfunction ct(e) {\n  if (typeof window.CustomEvent == \"function\")\n    return new CustomEvent(e);\n  var t = document.createEvent(\"CustomEvent\");\n  return t.initCustomEvent(e, !1, !1, void 0), t;\n}\nfunction yt(e, t, n, a, r) {\n  a === void 0 && (a = !0), r === void 0 && (r = !1);\n  var s;\n  if (t === \"top\")\n    s = [\n      \"contentHeight\",\n      \"containerHeight\",\n      \"scrollTop\",\n      \"y\",\n      \"up\",\n      \"down\"\n    ];\n  else if (t === \"left\")\n    s = [\n      \"contentWidth\",\n      \"containerWidth\",\n      \"scrollLeft\",\n      \"x\",\n      \"left\",\n      \"right\"\n    ];\n  else\n    throw new Error(\"A proper axis should be provided\");\n  Ro(e, n, s, a, r);\n}\nfunction Ro(e, t, n, a, r) {\n  var s = n[0], i = n[1], o = n[2], l = n[3], c = n[4], d = n[5];\n  a === void 0 && (a = !0), r === void 0 && (r = !1);\n  var u = e.element;\n  e.reach[l] = null, u[o] < 1 && (e.reach[l] = \"start\"), u[o] > e[s] - e[i] - 1 && (e.reach[l] = \"end\"), t && (u.dispatchEvent(ct(\"ps-scroll-\" + l)), t < 0 ? u.dispatchEvent(ct(\"ps-scroll-\" + c)) : t > 0 && u.dispatchEvent(ct(\"ps-scroll-\" + d)), a && Fo(e, l)), e.reach[l] && (t || r) && u.dispatchEvent(ct(\"ps-\" + l + \"-reach-\" + e.reach[l]));\n}\nfunction P(e) {\n  return parseInt(e, 10) || 0;\n}\nfunction No(e) {\n  return pe(e, \"input,[contenteditable]\") || pe(e, \"select,[contenteditable]\") || pe(e, \"textarea,[contenteditable]\") || pe(e, \"button,[contenteditable]\");\n}\nfunction Wo(e) {\n  var t = ie(e);\n  return P(t.width) + P(t.paddingLeft) + P(t.paddingRight) + P(t.borderLeftWidth) + P(t.borderRightWidth);\n}\nvar Ae = {\n  isWebKit: typeof document < \"u\" && \"WebkitAppearance\" in document.documentElement.style,\n  supportsTouch: typeof window < \"u\" && (\"ontouchstart\" in window || \"maxTouchPoints\" in window.navigator && window.navigator.maxTouchPoints > 0 || window.DocumentTouch && document instanceof window.DocumentTouch),\n  supportsIePointer: typeof navigator < \"u\" && navigator.msMaxTouchPoints,\n  isChrome: typeof navigator < \"u\" && /Chrome/i.test(navigator && navigator.userAgent)\n};\nfunction me(e) {\n  var t = e.element, n = Math.floor(t.scrollTop), a = t.getBoundingClientRect();\n  e.containerWidth = Math.round(a.width), e.containerHeight = Math.round(a.height), e.contentWidth = t.scrollWidth, e.contentHeight = t.scrollHeight, t.contains(e.scrollbarXRail) || (qn(t, R.element.rail(\"x\")).forEach(\n    function(r) {\n      return Me(r);\n    }\n  ), t.appendChild(e.scrollbarXRail)), t.contains(e.scrollbarYRail) || (qn(t, R.element.rail(\"y\")).forEach(\n    function(r) {\n      return Me(r);\n    }\n  ), t.appendChild(e.scrollbarYRail)), !e.settings.suppressScrollX && e.containerWidth + e.settings.scrollXMarginOffset < e.contentWidth ? (e.scrollbarXActive = !0, e.railXWidth = e.containerWidth - e.railXMarginWidth, e.railXRatio = e.containerWidth / e.railXWidth, e.scrollbarXWidth = Gn(\n    e,\n    P(e.railXWidth * e.containerWidth / e.contentWidth)\n  ), e.scrollbarXLeft = P(\n    (e.negativeScrollAdjustment + t.scrollLeft) * (e.railXWidth - e.scrollbarXWidth) / (e.contentWidth - e.containerWidth)\n  )) : e.scrollbarXActive = !1, !e.settings.suppressScrollY && e.containerHeight + e.settings.scrollYMarginOffset < e.contentHeight ? (e.scrollbarYActive = !0, e.railYHeight = e.containerHeight - e.railYMarginHeight, e.railYRatio = e.containerHeight / e.railYHeight, e.scrollbarYHeight = Gn(\n    e,\n    P(e.railYHeight * e.containerHeight / e.contentHeight)\n  ), e.scrollbarYTop = P(\n    n * (e.railYHeight - e.scrollbarYHeight) / (e.contentHeight - e.containerHeight)\n  )) : e.scrollbarYActive = !1, e.scrollbarXLeft >= e.railXWidth - e.scrollbarXWidth && (e.scrollbarXLeft = e.railXWidth - e.scrollbarXWidth), e.scrollbarYTop >= e.railYHeight - e.scrollbarYHeight && (e.scrollbarYTop = e.railYHeight - e.scrollbarYHeight), Ho(t, e), e.scrollbarXActive ? t.classList.add(R.state.active(\"x\")) : (t.classList.remove(R.state.active(\"x\")), e.scrollbarXWidth = 0, e.scrollbarXLeft = 0, t.scrollLeft = e.isRtl === !0 ? e.contentWidth : 0), e.scrollbarYActive ? t.classList.add(R.state.active(\"y\")) : (t.classList.remove(R.state.active(\"y\")), e.scrollbarYHeight = 0, e.scrollbarYTop = 0, t.scrollTop = 0);\n}\nfunction Gn(e, t) {\n  return e.settings.minScrollbarLength && (t = Math.max(t, e.settings.minScrollbarLength)), e.settings.maxScrollbarLength && (t = Math.min(t, e.settings.maxScrollbarLength)), t;\n}\nfunction Ho(e, t) {\n  var n = { width: t.railXWidth }, a = Math.floor(e.scrollTop);\n  t.isRtl ? n.left = t.negativeScrollAdjustment + e.scrollLeft + t.containerWidth - t.contentWidth : n.left = e.scrollLeft, t.isScrollbarXUsingBottom ? n.bottom = t.scrollbarXBottom - a : n.top = t.scrollbarXTop + a, U(t.scrollbarXRail, n);\n  var r = { top: a, height: t.railYHeight };\n  t.isScrollbarYUsingRight ? t.isRtl ? r.right = t.contentWidth - (t.negativeScrollAdjustment + e.scrollLeft) - t.scrollbarYRight - t.scrollbarYOuterWidth - 9 : r.right = t.scrollbarYRight - e.scrollLeft : t.isRtl ? r.left = t.negativeScrollAdjustment + e.scrollLeft + t.containerWidth * 2 - t.contentWidth - t.scrollbarYLeft - t.scrollbarYOuterWidth : r.left = t.scrollbarYLeft + e.scrollLeft, U(t.scrollbarYRail, r), U(t.scrollbarX, {\n    left: t.scrollbarXLeft,\n    width: t.scrollbarXWidth - t.railBorderXWidth\n  }), U(t.scrollbarY, {\n    top: t.scrollbarYTop,\n    height: t.scrollbarYHeight - t.railBorderYWidth\n  });\n}\nfunction Yo(e) {\n  e.element, e.event.bind(e.scrollbarY, \"mousedown\", function(t) {\n    return t.stopPropagation();\n  }), e.event.bind(e.scrollbarYRail, \"mousedown\", function(t) {\n    var n = t.pageY - window.pageYOffset - e.scrollbarYRail.getBoundingClientRect().top, a = n > e.scrollbarYTop ? 1 : -1;\n    e.element.scrollTop += a * e.containerHeight, me(e), t.stopPropagation();\n  }), e.event.bind(e.scrollbarX, \"mousedown\", function(t) {\n    return t.stopPropagation();\n  }), e.event.bind(e.scrollbarXRail, \"mousedown\", function(t) {\n    var n = t.pageX - window.pageXOffset - e.scrollbarXRail.getBoundingClientRect().left, a = n > e.scrollbarXLeft ? 1 : -1;\n    e.element.scrollLeft += a * e.containerWidth, me(e), t.stopPropagation();\n  });\n}\nfunction zo(e) {\n  Kn(e, [\n    \"containerWidth\",\n    \"contentWidth\",\n    \"pageX\",\n    \"railXWidth\",\n    \"scrollbarX\",\n    \"scrollbarXWidth\",\n    \"scrollLeft\",\n    \"x\",\n    \"scrollbarXRail\"\n  ]), Kn(e, [\n    \"containerHeight\",\n    \"contentHeight\",\n    \"pageY\",\n    \"railYHeight\",\n    \"scrollbarY\",\n    \"scrollbarYHeight\",\n    \"scrollTop\",\n    \"y\",\n    \"scrollbarYRail\"\n  ]);\n}\nfunction Kn(e, t) {\n  var n = t[0], a = t[1], r = t[2], s = t[3], i = t[4], o = t[5], l = t[6], c = t[7], d = t[8], u = e.element, g = null, D = null, y = null;\n  function k(v) {\n    v.touches && v.touches[0] && (v[r] = v.touches[0].pageY), u[l] = g + y * (v[r] - D), Ka(e, c), me(e), v.stopPropagation(), v.type.startsWith(\"touch\") && v.changedTouches.length > 1 && v.preventDefault();\n  }\n  function w() {\n    Qa(e, c), e[d].classList.remove(R.state.clicking), e.event.unbind(e.ownerDocument, \"mousemove\", k);\n  }\n  function h(v, E) {\n    g = u[l], E && v.touches && (v[r] = v.touches[0].pageY), D = v[r], y = (e[a] - e[n]) / (e[s] - e[o]), E ? e.event.bind(e.ownerDocument, \"touchmove\", k) : (e.event.bind(e.ownerDocument, \"mousemove\", k), e.event.once(e.ownerDocument, \"mouseup\", w), v.preventDefault()), e[d].classList.add(R.state.clicking), v.stopPropagation();\n  }\n  e.event.bind(e[i], \"mousedown\", function(v) {\n    h(v);\n  }), e.event.bind(e[i], \"touchstart\", function(v) {\n    h(v, !0);\n  });\n}\nfunction jo(e) {\n  var t = e.element, n = function() {\n    return pe(t, \":hover\");\n  }, a = function() {\n    return pe(e.scrollbarX, \":focus\") || pe(e.scrollbarY, \":focus\");\n  };\n  function r(s, i) {\n    var o = Math.floor(t.scrollTop);\n    if (s === 0) {\n      if (!e.scrollbarYActive)\n        return !1;\n      if (o === 0 && i > 0 || o >= e.contentHeight - e.containerHeight && i < 0)\n        return !e.settings.wheelPropagation;\n    }\n    var l = t.scrollLeft;\n    if (i === 0) {\n      if (!e.scrollbarXActive)\n        return !1;\n      if (l === 0 && s < 0 || l >= e.contentWidth - e.containerWidth && s > 0)\n        return !e.settings.wheelPropagation;\n    }\n    return !0;\n  }\n  e.event.bind(e.ownerDocument, \"keydown\", function(s) {\n    if (!(s.isDefaultPrevented && s.isDefaultPrevented() || s.defaultPrevented) && !(!n() && !a())) {\n      var i = document.activeElement ? document.activeElement : e.ownerDocument.activeElement;\n      if (i) {\n        if (i.tagName === \"IFRAME\")\n          i = i.contentDocument.activeElement;\n        else\n          for (; i.shadowRoot; )\n            i = i.shadowRoot.activeElement;\n        if (No(i))\n          return;\n      }\n      var o = 0, l = 0;\n      switch (s.which) {\n        case 37:\n          s.metaKey ? o = -e.contentWidth : s.altKey ? o = -e.containerWidth : o = -30;\n          break;\n        case 38:\n          s.metaKey ? l = e.contentHeight : s.altKey ? l = e.containerHeight : l = 30;\n          break;\n        case 39:\n          s.metaKey ? o = e.contentWidth : s.altKey ? o = e.containerWidth : o = 30;\n          break;\n        case 40:\n          s.metaKey ? l = -e.contentHeight : s.altKey ? l = -e.containerHeight : l = -30;\n          break;\n        case 32:\n          s.shiftKey ? l = e.containerHeight : l = -e.containerHeight;\n          break;\n        case 33:\n          l = e.containerHeight;\n          break;\n        case 34:\n          l = -e.containerHeight;\n          break;\n        case 36:\n          l = e.contentHeight;\n          break;\n        case 35:\n          l = -e.contentHeight;\n          break;\n        default:\n          return;\n      }\n      e.settings.suppressScrollX && o !== 0 || e.settings.suppressScrollY && l !== 0 || (t.scrollTop -= l, t.scrollLeft += o, me(e), r(o, l) && s.preventDefault());\n    }\n  });\n}\nfunction Bo(e) {\n  var t = e.element;\n  function n(i, o) {\n    var l = Math.floor(t.scrollTop), c = t.scrollTop === 0, d = l + t.offsetHeight === t.scrollHeight, u = t.scrollLeft === 0, g = t.scrollLeft + t.offsetWidth === t.scrollWidth, D;\n    return Math.abs(o) > Math.abs(i) ? D = c || d : D = u || g, D ? !e.settings.wheelPropagation : !0;\n  }\n  function a(i) {\n    var o = i.deltaX, l = -1 * i.deltaY;\n    return (typeof o > \"u\" || typeof l > \"u\") && (o = -1 * i.wheelDeltaX / 6, l = i.wheelDeltaY / 6), i.deltaMode && i.deltaMode === 1 && (o *= 10, l *= 10), o !== o && l !== l && (o = 0, l = i.wheelDelta), i.shiftKey ? [-l, -o] : [o, l];\n  }\n  function r(i, o, l) {\n    if (!Ae.isWebKit && t.querySelector(\"select:focus\"))\n      return !0;\n    if (!t.contains(i))\n      return !1;\n    for (var c = i; c && c !== t; ) {\n      if (c.classList.contains(R.element.consuming))\n        return !0;\n      var d = ie(c);\n      if (l && d.overflowY.match(/(scroll|auto)/)) {\n        var u = c.scrollHeight - c.clientHeight;\n        if (u > 0 && (c.scrollTop > 0 && l < 0 || c.scrollTop < u && l > 0))\n          return !0;\n      }\n      if (o && d.overflowX.match(/(scroll|auto)/)) {\n        var g = c.scrollWidth - c.clientWidth;\n        if (g > 0 && (c.scrollLeft > 0 && o < 0 || c.scrollLeft < g && o > 0))\n          return !0;\n      }\n      c = c.parentNode;\n    }\n    return !1;\n  }\n  function s(i) {\n    var o = a(i), l = o[0], c = o[1];\n    if (!r(i.target, l, c)) {\n      var d = !1;\n      e.settings.useBothWheelAxes ? e.scrollbarYActive && !e.scrollbarXActive ? (c ? t.scrollTop -= c * e.settings.wheelSpeed : t.scrollTop += l * e.settings.wheelSpeed, d = !0) : e.scrollbarXActive && !e.scrollbarYActive && (l ? t.scrollLeft += l * e.settings.wheelSpeed : t.scrollLeft -= c * e.settings.wheelSpeed, d = !0) : (t.scrollTop -= c * e.settings.wheelSpeed, t.scrollLeft += l * e.settings.wheelSpeed), me(e), d = d || n(l, c), d && !i.ctrlKey && (i.stopPropagation(), i.preventDefault());\n    }\n  }\n  typeof window.onwheel < \"u\" ? e.event.bind(t, \"wheel\", s) : typeof window.onmousewheel < \"u\" && e.event.bind(t, \"mousewheel\", s);\n}\nfunction Xo(e) {\n  if (!Ae.supportsTouch && !Ae.supportsIePointer)\n    return;\n  var t = e.element;\n  function n(y, k) {\n    var w = Math.floor(t.scrollTop), h = t.scrollLeft, v = Math.abs(y), E = Math.abs(k);\n    if (E > v) {\n      if (k < 0 && w === e.contentHeight - e.containerHeight || k > 0 && w === 0)\n        return window.scrollY === 0 && k > 0 && Ae.isChrome;\n    } else if (v > E && (y < 0 && h === e.contentWidth - e.containerWidth || y > 0 && h === 0))\n      return !0;\n    return !0;\n  }\n  function a(y, k) {\n    t.scrollTop -= k, t.scrollLeft -= y, me(e);\n  }\n  var r = {}, s = 0, i = {}, o = null;\n  function l(y) {\n    return y.targetTouches ? y.targetTouches[0] : y;\n  }\n  function c(y) {\n    return y.pointerType && y.pointerType === \"pen\" && y.buttons === 0 ? !1 : !!(y.targetTouches && y.targetTouches.length === 1 || y.pointerType && y.pointerType !== \"mouse\" && y.pointerType !== y.MSPOINTER_TYPE_MOUSE);\n  }\n  function d(y) {\n    if (c(y)) {\n      var k = l(y);\n      r.pageX = k.pageX, r.pageY = k.pageY, s = (/* @__PURE__ */ new Date()).getTime(), o !== null && clearInterval(o);\n    }\n  }\n  function u(y, k, w) {\n    if (!t.contains(y))\n      return !1;\n    for (var h = y; h && h !== t; ) {\n      if (h.classList.contains(R.element.consuming))\n        return !0;\n      var v = ie(h);\n      if (w && v.overflowY.match(/(scroll|auto)/)) {\n        var E = h.scrollHeight - h.clientHeight;\n        if (E > 0 && (h.scrollTop > 0 && w < 0 || h.scrollTop < E && w > 0))\n          return !0;\n      }\n      if (k && v.overflowX.match(/(scroll|auto)/)) {\n        var C = h.scrollWidth - h.clientWidth;\n        if (C > 0 && (h.scrollLeft > 0 && k < 0 || h.scrollLeft < C && k > 0))\n          return !0;\n      }\n      h = h.parentNode;\n    }\n    return !1;\n  }\n  function g(y) {\n    if (c(y)) {\n      var k = l(y), w = { pageX: k.pageX, pageY: k.pageY }, h = w.pageX - r.pageX, v = w.pageY - r.pageY;\n      if (u(y.target, h, v))\n        return;\n      a(h, v), r = w;\n      var E = (/* @__PURE__ */ new Date()).getTime(), C = E - s;\n      C > 0 && (i.x = h / C, i.y = v / C, s = E), n(h, v) && y.preventDefault();\n    }\n  }\n  function D() {\n    e.settings.swipeEasing && (clearInterval(o), o = setInterval(function() {\n      if (e.isInitialized) {\n        clearInterval(o);\n        return;\n      }\n      if (!i.x && !i.y) {\n        clearInterval(o);\n        return;\n      }\n      if (Math.abs(i.x) < 0.01 && Math.abs(i.y) < 0.01) {\n        clearInterval(o);\n        return;\n      }\n      if (!e.element) {\n        clearInterval(o);\n        return;\n      }\n      a(i.x * 30, i.y * 30), i.x *= 0.8, i.y *= 0.8;\n    }, 10));\n  }\n  Ae.supportsTouch ? (e.event.bind(t, \"touchstart\", d), e.event.bind(t, \"touchmove\", g), e.event.bind(t, \"touchend\", D)) : Ae.supportsIePointer && (window.PointerEvent ? (e.event.bind(t, \"pointerdown\", d), e.event.bind(t, \"pointermove\", g), e.event.bind(t, \"pointerup\", D)) : window.MSPointerEvent && (e.event.bind(t, \"MSPointerDown\", d), e.event.bind(t, \"MSPointerMove\", g), e.event.bind(t, \"MSPointerUp\", D)));\n}\nvar Uo = function() {\n  return {\n    handlers: [\"click-rail\", \"drag-thumb\", \"keyboard\", \"wheel\", \"touch\"],\n    maxScrollbarLength: null,\n    minScrollbarLength: null,\n    scrollingThreshold: 1e3,\n    scrollXMarginOffset: 0,\n    scrollYMarginOffset: 0,\n    suppressScrollX: !1,\n    suppressScrollY: !1,\n    swipeEasing: !0,\n    useBothWheelAxes: !1,\n    wheelPropagation: !0,\n    wheelSpeed: 1\n  };\n}, Vo = {\n  \"click-rail\": Yo,\n  \"drag-thumb\": zo,\n  keyboard: jo,\n  wheel: Bo,\n  touch: Xo\n}, Re = function(t, n) {\n  var a = this;\n  if (n === void 0 && (n = {}), typeof t == \"string\" && (t = document.querySelector(t)), !t || !t.nodeName)\n    throw new Error(\"no element is specified to initialize PerfectScrollbar\");\n  this.element = t, t.classList.add(R.main), this.settings = Uo();\n  for (var r in n)\n    this.settings[r] = n[r];\n  this.containerWidth = null, this.containerHeight = null, this.contentWidth = null, this.contentHeight = null;\n  var s = function() {\n    return t.classList.add(R.state.focus);\n  }, i = function() {\n    return t.classList.remove(R.state.focus);\n  };\n  this.isRtl = ie(t).direction === \"rtl\", this.isRtl === !0 && t.classList.add(R.rtl), this.isNegativeScroll = function() {\n    var c = t.scrollLeft, d = null;\n    return t.scrollLeft = -1, d = t.scrollLeft < 0, t.scrollLeft = c, d;\n  }(), this.negativeScrollAdjustment = this.isNegativeScroll ? t.scrollWidth - t.clientWidth : 0, this.event = new Fe(), this.ownerDocument = t.ownerDocument || document, this.scrollbarXRail = lt(R.element.rail(\"x\")), t.appendChild(this.scrollbarXRail), this.scrollbarX = lt(R.element.thumb(\"x\")), this.scrollbarXRail.appendChild(this.scrollbarX), this.scrollbarX.setAttribute(\"tabindex\", 0), this.event.bind(this.scrollbarX, \"focus\", s), this.event.bind(this.scrollbarX, \"blur\", i), this.scrollbarXActive = null, this.scrollbarXWidth = null, this.scrollbarXLeft = null;\n  var o = ie(this.scrollbarXRail);\n  this.scrollbarXBottom = parseInt(o.bottom, 10), isNaN(this.scrollbarXBottom) ? (this.isScrollbarXUsingBottom = !1, this.scrollbarXTop = P(o.top)) : this.isScrollbarXUsingBottom = !0, this.railBorderXWidth = P(o.borderLeftWidth) + P(o.borderRightWidth), U(this.scrollbarXRail, { display: \"block\" }), this.railXMarginWidth = P(o.marginLeft) + P(o.marginRight), U(this.scrollbarXRail, { display: \"\" }), this.railXWidth = null, this.railXRatio = null, this.scrollbarYRail = lt(R.element.rail(\"y\")), t.appendChild(this.scrollbarYRail), this.scrollbarY = lt(R.element.thumb(\"y\")), this.scrollbarYRail.appendChild(this.scrollbarY), this.scrollbarY.setAttribute(\"tabindex\", 0), this.event.bind(this.scrollbarY, \"focus\", s), this.event.bind(this.scrollbarY, \"blur\", i), this.scrollbarYActive = null, this.scrollbarYHeight = null, this.scrollbarYTop = null;\n  var l = ie(this.scrollbarYRail);\n  this.scrollbarYRight = parseInt(l.right, 10), isNaN(this.scrollbarYRight) ? (this.isScrollbarYUsingRight = !1, this.scrollbarYLeft = P(l.left)) : this.isScrollbarYUsingRight = !0, this.scrollbarYOuterWidth = this.isRtl ? Wo(this.scrollbarY) : null, this.railBorderYWidth = P(l.borderTopWidth) + P(l.borderBottomWidth), U(this.scrollbarYRail, { display: \"block\" }), this.railYMarginHeight = P(l.marginTop) + P(l.marginBottom), U(this.scrollbarYRail, { display: \"\" }), this.railYHeight = null, this.railYRatio = null, this.reach = {\n    x: t.scrollLeft <= 0 ? \"start\" : t.scrollLeft >= this.contentWidth - this.containerWidth ? \"end\" : null,\n    y: t.scrollTop <= 0 ? \"start\" : t.scrollTop >= this.contentHeight - this.containerHeight ? \"end\" : null\n  }, this.isAlive = !0, this.settings.handlers.forEach(function(c) {\n    return Vo[c](a);\n  }), this.lastScrollTop = Math.floor(t.scrollTop), this.lastScrollLeft = t.scrollLeft, this.event.bind(this.element, \"scroll\", function(c) {\n    return a.onScroll(c);\n  }), me(this);\n};\nRe.prototype.update = function() {\n  this.isAlive && (this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0, U(this.scrollbarXRail, { display: \"block\" }), U(this.scrollbarYRail, { display: \"block\" }), this.railXMarginWidth = P(ie(this.scrollbarXRail).marginLeft) + P(ie(this.scrollbarXRail).marginRight), this.railYMarginHeight = P(ie(this.scrollbarYRail).marginTop) + P(ie(this.scrollbarYRail).marginBottom), U(this.scrollbarXRail, { display: \"none\" }), U(this.scrollbarYRail, { display: \"none\" }), me(this), yt(this, \"top\", 0, !1, !0), yt(this, \"left\", 0, !1, !0), U(this.scrollbarXRail, { display: \"\" }), U(this.scrollbarYRail, { display: \"\" }));\n};\nRe.prototype.onScroll = function(t) {\n  this.isAlive && (me(this), yt(this, \"top\", this.element.scrollTop - this.lastScrollTop), yt(\n    this,\n    \"left\",\n    this.element.scrollLeft - this.lastScrollLeft\n  ), this.lastScrollTop = Math.floor(this.element.scrollTop), this.lastScrollLeft = this.element.scrollLeft);\n};\nRe.prototype.destroy = function() {\n  this.isAlive && (this.event.unbindAll(), Me(this.scrollbarX), Me(this.scrollbarY), Me(this.scrollbarXRail), Me(this.scrollbarYRail), this.removePsClasses(), this.element = null, this.scrollbarX = null, this.scrollbarY = null, this.scrollbarXRail = null, this.scrollbarYRail = null, this.isAlive = !1);\n};\nRe.prototype.removePsClasses = function() {\n  this.element.className = this.element.className.split(\" \").filter(function(t) {\n    return !t.match(/^ps([-_].+|)$/);\n  }).join(\" \");\n};\nclass Qn {\n  constructor(t) {\n    this.events = t;\n  }\n  getEventsForDay(t, n) {\n    return this.events.filter((a) => this.isEventInDayBoundaries(a, t, n));\n  }\n  isEventInDayBoundaries(t, n, a) {\n    const r = n.dateStringFrom(t.time.start) === n.dateStringFrom(a);\n    return n.dayMode === q.REGULAR ? r : r && n.dayMode === q.SHORTENED ? this.handlePartialDayWithinOneDayBoundary(n, t) : n.dayMode === q.FLEXIBLE ? this.handleDayStretchingTwoDates(n, t, a, r) : !1;\n  }\n  handleDayStretchingTwoDates(t, n, a, r) {\n    const { hour: s } = t.getHourAndMinutesFromTimePoints(t.DAY_START), { hour: i } = t.getHourAndMinutesFromTimePoints(t.DAY_END), { hour: o } = t.getAllVariablesFromDateTimeString(n.time.start), l = t.addDaysToDateTimeString(1, a), c = n.time.start.substring(0, 11) === l.substring(0, 11);\n    return r && o >= s || c && o < i;\n  }\n  handlePartialDayWithinOneDayBoundary(t, n) {\n    const { hour: a } = t.getHourAndMinutesFromTimePoints(t.DAY_START), { hour: r } = t.getHourAndMinutesFromTimePoints(t.DAY_END), { hour: s } = t.getAllVariablesFromDateTimeString(n.time.start);\n    return s >= a && s < r;\n  }\n}\nclass Jn {\n  static getNHoursIntoDayFromHour(t, n) {\n    const a = se.getHourFromTimePoints(n.DAY_START);\n    return n.dayMode === q.REGULAR ? t : n.dayMode === q.SHORTENED || n.dayMode === q.FLEXIBLE && t >= a ? t - a : 24 - a + t;\n  }\n  static eventSeparator(t, n) {\n    const a = [], r = [];\n    for (const s of t) {\n      const i = Ee.getEventType(s, n);\n      [Q.SINGLE_DAY_TIMED, Q.SINGLE_HYBRID_DAY_TIMED].includes(i) ? a.push(s) : r.push(s);\n    }\n    return { fullDayAndMultipleDayEvents: r, singleDayTimedEvents: a };\n  }\n}\nconst xo = new qa(), cn = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Week\",\n  components: {\n    Day: ho,\n    WeekTimeline: qs,\n    DayTimeline: Fs,\n    EventFlyout: xa\n  },\n  props: {\n    config: {\n      type: Object,\n      required: !0\n    },\n    eventsProp: {\n      type: Array,\n      default: () => []\n    },\n    period: {\n      type: Object,\n      required: !0\n    },\n    modeProp: {\n      type: String,\n      default: \"week\"\n    },\n    time: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\n    \"event-was-clicked\",\n    \"event-was-resized\",\n    \"event-was-dragged\",\n    \"edit-event\",\n    \"delete-event\",\n    \"interval-was-clicked\",\n    \"day-was-clicked\",\n    \"datetime-was-clicked\"\n  ],\n  data() {\n    var e;\n    return {\n      days: [],\n      mode: this.modeProp,\n      selectedEvent: null,\n      selectedEventElement: null,\n      events: this.eventsProp,\n      fullDayEvents: [],\n      weekVersion: 0,\n      // is simply a dummy value, for re-rendering child components on event-was-dragged\n      dayIntervals: {\n        length: 60,\n        height: 66\n      },\n      weekHeight: \"1584px\",\n      // Correlates to the initial values of dayIntervals.length and dayIntervals.height\n      scrollbar: null,\n      currentTimePercentage: 0,\n      // When dayBoundaries are set, and the current time is outside the dayBoundaries, this property is set to false,\n      // in order to hide the current time line\n      showCurrentTime: !!((e = this.config) != null && e.showCurrentTime)\n    };\n  },\n  computed: {\n    hasCustomCurrentTimeSlot() {\n      return Ee.hasSlotContent(this.$slots.customCurrentTime);\n    },\n    nDays() {\n      var e, t;\n      return ((t = (e = this.config) == null ? void 0 : e.week) == null ? void 0 : t.nDays) || 7;\n    }\n  },\n  watch: {\n    period: {\n      deep: !0,\n      handler() {\n        this.setInitialEvents(this.mode);\n      }\n    },\n    modeProp: {\n      deep: !0,\n      handler(e) {\n        this.mode = e, this.setInitialEvents(e);\n      }\n    }\n  },\n  mounted() {\n    var e;\n    this.setDayIntervals(), this.separateFullDayEventsFromOtherEvents(), this.setInitialEvents(this.modeProp), this.scrollOnMount(), this.initScrollbar(), ((e = this.config) != null && e.showCurrentTime || this.hasCustomCurrentTimeSlot) && this.setCurrentTime();\n  },\n  methods: {\n    initScrollbar(e = 0) {\n      const t = document.querySelector(\".calendar-week__wrapper\");\n      e > 3e3 || (t ? (this.scrollbar = new Re(t), this.scrollbar.update()) : this.initScrollbar(e + 50));\n    },\n    destroyScrollbarAndHideOverflow() {\n      const e = document.querySelector(\".calendar-week__wrapper\");\n      e instanceof HTMLElement && (e.style.overflowY = \"hidden\", this.scrollbar.destroy());\n    },\n    separateFullDayEventsFromOtherEvents() {\n      const {\n        singleDayTimedEvents: e,\n        fullDayAndMultipleDayEvents: t\n      } = Jn.eventSeparator(this.events, this.time);\n      this.events = e, this.positionFullDayEvents(t);\n    },\n    positionFullDayEvents(e) {\n      const t = this.nDays === 5 ? new Date(\n        this.period.end.getFullYear(),\n        this.period.end.getMonth(),\n        this.period.end.getDate() - 2\n      ) : this.period.end;\n      this.fullDayEvents = e.length ? xo.positionFullDayEventsInWeek(\n        this.period.start,\n        t,\n        e\n      ) : [];\n    },\n    setDays() {\n      const e = this.time.getCalendarWeekDateObjects(this.period.start).map((t) => {\n        const n = this.time.getLocalizedNameOfWeekday(t, \"long\"), a = this.time.getDateTimeStringFromDate(\n          t,\n          \"start\"\n        ), r = new Qn(this.events).getEventsForDay(this.time, a);\n        return { dayName: n, dateTimeString: a, events: r };\n      });\n      this.nDays === 5 && this.time.FIRST_DAY_OF_WEEK === Mt.MONDAY ? (e.splice(5, 2), this.fullDayEvents.splice(5, 2)) : this.nDays === 5 && this.time.FIRST_DAY_OF_WEEK === Mt.SUNDAY && (e.splice(6, 1), this.fullDayEvents.splice(6, 1), e.splice(0, 1), this.fullDayEvents.splice(0, 1)), this.days = e;\n    },\n    mergeFullDayEventsIntoDays() {\n      for (const [e] of this.days.entries())\n        this.days[e].fullDayEvents = this.fullDayEvents[e];\n    },\n    setDay() {\n      const e = this.time.getDateTimeStringFromDate(\n        this.period.selectedDate\n      );\n      if (this.days = [\n        {\n          dayName: new Date(this.period.selectedDate).toLocaleDateString(\n            this.time.CALENDAR_LOCALE,\n            { weekday: \"long\" }\n          ),\n          dateTimeString: this.time.getDateTimeStringFromDate(\n            this.period.selectedDate,\n            \"start\"\n          ),\n          events: new Qn(this.events).getEventsForDay(this.time, e)\n        }\n      ], !!this.fullDayEvents.length) {\n        for (const t of this.fullDayEvents)\n          if (this.time.getDateTimeStringFromDate(t.date).substring(0, 11) === e.substring(0, 11)) {\n            this.fullDayEvents = [t];\n            return;\n          }\n      }\n    },\n    setInitialEvents(e) {\n      e === \"day\" && this.setDay(), e === \"week\" && this.setDays(), this.mergeFullDayEventsIntoDays();\n    },\n    handleClickOnEvent(e) {\n      this.$emit(\"event-was-clicked\", e), this.selectedEventElement = e.eventElement, this.selectedEvent = e.clickedEvent;\n    },\n    handleEventWasDragged(e) {\n      this.initScrollbar();\n      const t = e;\n      delete t.totalConcurrentEvents, delete t.nOfPreviousConcurrentEvents;\n      const n = this.events.filter((a) => a.id !== e.id);\n      this.events = [\n        t,\n        ...n.map((a) => (delete a.nOfPreviousConcurrentEvents, delete a.totalConcurrentEvents, a))\n      ], this.setInitialEvents(this.mode), this.weekVersion = this.weekVersion + 1, this.$emit(\"event-was-dragged\", e);\n    },\n    scrollOnMount() {\n      var t;\n      if (typeof ((t = this.config.week) == null ? void 0 : t.scrollToHour) != \"number\")\n        return;\n      const e = document.querySelector(\".calendar-week__wrapper\");\n      e && this.$nextTick(() => {\n        const a = +this.weekHeight.split(\"p\")[0] / this.time.HOURS_PER_DAY, r = Jn.getNHoursIntoDayFromHour(this.config.week.scrollToHour, this.time), s = a * r;\n        e.scroll(0, s - 10);\n      });\n    },\n    setDayIntervals() {\n      if (this.config.dayIntervals)\n        for (const [e, t] of Object.entries(this.config.dayIntervals))\n          this.dayIntervals[e] = t;\n      this.setWeekHeightBasedOnIntervals();\n    },\n    setWeekHeightBasedOnIntervals() {\n      [15, 30, 60].includes(this.dayIntervals.length) || (this.dayIntervals.length = 60, this.dayIntervals.height = 66, console.warn(\n        \"The dayIntervals configuration is faulty. It has been reset to default values.\"\n      ));\n      let e = 1;\n      this.dayIntervals.length === 15 && (e = 4), this.dayIntervals.length === 30 && (e = 2), this.weekHeight = this.dayIntervals.height * e * this.time.HOURS_PER_DAY + \"px\";\n    },\n    setCurrentTime() {\n      const e = () => {\n        const t = this.time.getDateTimeStringFromDate(/* @__PURE__ */ new Date()), n = this.time.getPercentageOfDayFromDateTimeString(t, this.time.DAY_START, this.time.DAY_END);\n        if (n < 0 || n > 100)\n          return this.showCurrentTime = !1;\n        this.showCurrentTime = !0, this.currentTimePercentage = n;\n      };\n      e(), setInterval(() => e(), 6e4);\n    }\n  }\n}), Zn = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"5cb5d057\": e.weekHeight\n  }));\n}, ea = cn.setup;\ncn.setup = ea ? (e, t) => (Zn(), ea(e, t)) : Zn;\nconst qo = (e) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)(\"data-v-8bb6ad05\"), e = e(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)(), e), Go = { class: \"calendar-week__wrapper\" }, Ko = { class: \"calendar-week\" }, Qo = /* @__PURE__ */ qo(() => /* @__PURE__ */ (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", { class: \"current-time-line__circle\" }, null, -1)), Jo = [\n  Qo\n], Zo = { class: \"calendar-week__events\" };\nfunction el(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"WeekTimeline\"), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"EventFlyout\"), l = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"DayTimeline\"), c = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Day\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n      days: e.days,\n      time: e.time,\n      \"full-day-events\": e.fullDayEvents,\n      config: e.config,\n      mode: e.mode,\n      onEventWasClicked: e.handleClickOnEvent,\n      onDayWasClicked: t[0] || (t[0] = (d) => e.$emit(\"day-was-clicked\", d))\n    }, null, 8, [\"days\", \"time\", \"full-day-events\", \"config\", \"mode\", \"onEventWasClicked\"]),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Go, [\n      !e.config.eventDialog || !e.config.eventDialog.isDisabled ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(o, {\n        key: 0,\n        \"calendar-event-prop\": e.selectedEvent,\n        \"event-element\": e.selectedEventElement,\n        time: e.time,\n        config: e.config,\n        onHide: t[1] || (t[1] = (d) => e.selectedEvent = null),\n        onEditEvent: t[2] || (t[2] = (d) => e.$emit(\"edit-event\", d)),\n        onDeleteEvent: t[3] || (t[3] = (d) => e.$emit(\"delete-event\", d))\n      }, {\n        default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((d) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"eventDialog\", {\n            eventDialogData: d.eventDialogData,\n            closeEventDialog: d.closeEventDialog\n          }, void 0, !0)\n        ]),\n        _: 3\n      }, 8, [\"calendar-event-prop\", \"event-element\", \"time\", \"config\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"section\", Ko, [\n        e.hasCustomCurrentTimeSlot && e.showCurrentTime ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n          key: 0,\n          class: \"custom-current-time\",\n          style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({ top: `${e.currentTimePercentage}%` })\n        }, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"customCurrentTime\", {}, void 0, !0)\n        ], 4)) : e.config && e.config.showCurrentTime && e.showCurrentTime ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n          key: 1,\n          class: \"current-time-line\",\n          style: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)({ top: `${e.currentTimePercentage}%` })\n        }, Jo, 4)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(l, {\n          key: e.period.start.getTime() + e.period.end.getTime() + e.mode,\n          time: e.time,\n          \"day-intervals\": e.dayIntervals,\n          \"week-height\": e.weekHeight\n        }, null, 8, [\"time\", \"day-intervals\", \"week-height\"])),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Zo, [\n          ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.days, (d, u) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(c, {\n            key: d.dateTimeString + e.mode + e.weekVersion,\n            day: d,\n            time: e.time,\n            config: e.config,\n            \"day-info\": { daysTotalN: e.days.length, thisDayIndex: u, dateTimeString: d.dateTimeString },\n            mode: e.mode,\n            \"day-intervals\": e.dayIntervals,\n            \"week-height\": +e.weekHeight.replace(\"px\", \"\"),\n            onEventWasClicked: e.handleClickOnEvent,\n            onEventWasResized: t[4] || (t[4] = (g) => e.$emit(\"event-was-resized\", g)),\n            onEventWasDragged: e.handleEventWasDragged,\n            onIntervalWasClicked: t[5] || (t[5] = (g) => e.$emit(\"interval-was-clicked\", g)),\n            onDayWasClicked: t[6] || (t[6] = (g) => e.$emit(\"day-was-clicked\", g)),\n            onDragStart: e.destroyScrollbarAndHideOverflow,\n            onDragEnd: e.initScrollbar,\n            onDatetimeWasClicked: t[7] || (t[7] = (g) => e.$emit(\"datetime-was-clicked\", g))\n          }, {\n            weekDayEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((g) => [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"weekDayEvent\", {\n                eventData: g.eventData\n              }, void 0, !0)\n            ]),\n            _: 2\n          }, 1032, [\"day\", \"time\", \"config\", \"day-info\", \"mode\", \"day-intervals\", \"week-height\", \"onEventWasClicked\", \"onEventWasDragged\", \"onDragStart\", \"onDragEnd\"]))), 128))\n        ])\n      ])\n    ])\n  ], 64);\n}\nconst tl = /* @__PURE__ */ j(cn, [[\"render\", el], [\"__scopeId\", \"data-v-8bb6ad05\"]]), dn = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Event\",\n  props: {\n    time: {\n      type: Object,\n      required: !0\n    },\n    calendarEvent: {\n      type: Object,\n      required: !0\n    },\n    config: {\n      type: Object,\n      required: !0\n    },\n    day: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\"event-was-clicked\"],\n  data() {\n    return {\n      colors: xe,\n      eventBackgroundColor: \"\",\n      eventIdPrefix: \"calendar-month__event-\"\n    };\n  },\n  computed: {\n    isCustomEvent() {\n      return Array.isArray(this.calendarEvent.isCustom) ? this.calendarEvent.isCustom.includes(\"month\") : this.calendarEvent.isCustom || !1;\n    },\n    eventTimeStart() {\n      return Ie.test(this.calendarEvent.time.start) ? this.time.getLocalizedTime(this.calendarEvent.time.start) : null;\n    },\n    elementId() {\n      return this.eventIdPrefix + this.calendarEvent.id + this.time.dateStringFrom(this.day.dateTimeString);\n    },\n    elementDraggableAttribute() {\n      const {\n        year: e,\n        month: t,\n        date: n\n      } = this.time.getAllVariablesFromDateTimeString(\n        this.calendarEvent.time.start\n      ), {\n        year: a,\n        month: r,\n        date: s\n      } = this.time.getAllVariablesFromDateTimeString(\n        this.calendarEvent.time.end\n      ), i = e === a && t === r && n === s, o = this.calendarEvent.disableDnD && this.calendarEvent.disableDnD.includes(\"month\");\n      return this.calendarEvent.isEditable && i && !o ? !0 : void 0;\n    }\n  },\n  mounted() {\n    this.setColors();\n  },\n  methods: {\n    setColors() {\n      var e, t, n;\n      return (e = this.calendarEvent) != null && e.colorScheme && ((t = this.config.style) != null && t.colorSchemes) && this.config.style.colorSchemes[this.calendarEvent.colorScheme] ? this.eventBackgroundColor = this.config.style.colorSchemes[this.calendarEvent.colorScheme].backgroundColor : (n = this.calendarEvent) != null && n.color ? this.eventBackgroundColor = this.colors[this.calendarEvent.color] : this.eventBackgroundColor = this.colors.blue;\n    },\n    handleClickOnEvent() {\n      const e = document.getElementById(this.elementId);\n      this.$emit(\"event-was-clicked\", {\n        clickedEvent: this.calendarEvent,\n        eventElement: e\n      });\n    },\n    handleDragStart(e) {\n      !e || !e.dataTransfer || (e.dataTransfer.effectAllowed = \"move\", e.dataTransfer.setData(\n        \"json\",\n        JSON.stringify(this.calendarEvent)\n      ));\n    }\n  }\n}), ta = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"63a9bc8a\": e.eventBackgroundColor\n  }));\n}, na = dn.setup;\ndn.setup = na ? (e, t) => (ta(), na(e, t)) : ta;\nconst nl = (e) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)(\"data-v-4766dfc7\"), e = e(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)(), e), al = {\n  key: 0,\n  class: \"calendar-month__event\"\n}, rl = [\"id\", \"draggable\"], il = [\"id\", \"draggable\"], sl = /* @__PURE__ */ nl(() => /* @__PURE__ */ (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", { class: \"calendar-month__event-color\" }, null, -1)), ol = {\n  key: 0,\n  class: \"calendar-month__event-time\"\n}, ll = { class: \"calendar-month__event-title\" };\nfunction cl(e, t, n, a, r, s) {\n  return e.config.isSmall ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", al)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: 1 }, [\n    e.isCustomEvent ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 0,\n      id: e.elementId,\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"is-event\", { \"is-draggable\": e.elementDraggableAttribute }]),\n      \"data-ref\": \"custom-event\",\n      draggable: e.elementDraggableAttribute,\n      onDragstart: t[0] || (t[0] = (...i) => e.handleDragStart && e.handleDragStart(...i)),\n      onClick: t[1] || (t[1] = (...i) => e.handleClickOnEvent && e.handleClickOnEvent(...i))\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"monthEvent\", { eventData: e.calendarEvent }, void 0, !0)\n    ], 42, rl)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n      key: 1,\n      id: e.elementId,\n      \"data-ref\": \"default-event\",\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-month__event is-event\", { \"is-draggable\": e.elementDraggableAttribute }]),\n      draggable: e.elementDraggableAttribute,\n      onDragstart: t[2] || (t[2] = (...i) => e.handleDragStart && e.handleDragStart(...i)),\n      onClick: t[3] || (t[3] = (...i) => e.handleClickOnEvent && e.handleClickOnEvent(...i))\n    }, [\n      sl,\n      e.eventTimeStart && !e.calendarEvent.originalEvent ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", ol, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.eventTimeStart), 1)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", ll, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.title), 1)\n    ], 42, il))\n  ], 64));\n}\nconst dl = /* @__PURE__ */ j(dn, [[\"render\", cl], [\"__scopeId\", \"data-v-4766dfc7\"]]), ul = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Day\",\n  components: { Event: dl },\n  mixins: [sn],\n  props: {\n    config: {\n      type: Object,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    day: {\n      type: Object,\n      required: !0\n    },\n    isSelected: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  emits: [\n    \"event-was-clicked\",\n    \"event-was-dragged\",\n    \"updated-period\",\n    \"date-was-clicked\",\n    \"day-was-selected\"\n  ],\n  data() {\n    return {\n      isActiveDroppable: !1\n    };\n  },\n  computed: {\n    canBeDropped() {\n      return this.isActiveDroppable;\n    },\n    hideLeadingAndTrailingDate() {\n      var e;\n      return this.day.isTrailingOrLeadingDate === !0 && ((e = this.config.month) == null ? void 0 : e.showTrailingAndLeadingDates) === !1;\n    },\n    isToday() {\n      const {\n        year: e,\n        month: t,\n        date: n\n      } = this.time.getAllVariablesFromDateTimeString(this.day.dateTimeString);\n      return this.time.dateIsToday(new Date(e, t, n));\n    }\n  },\n  methods: {\n    getMoreEvents() {\n      const { date: e, month: t, year: n } = this.time.getAllVariablesFromDateTimeString(\n        this.day.dateTimeString\n      ), a = new Date(n, t, e), r = this.time.getCalendarWeekDateObjects(a), s = r[0], i = r[6];\n      this.$emit(\"updated-period\", { start: s, end: i, selectedDate: a });\n    },\n    handleDragLeave() {\n      this.isActiveDroppable = !1;\n    },\n    handleDragEnd(e) {\n      this.isActiveDroppable = !1, e.stopPropagation();\n    },\n    handleDrop(e) {\n      if (this.isActiveDroppable = !1, e.stopPropagation(), !e || !e.dataTransfer)\n        return;\n      const t = JSON.parse(\n        e.dataTransfer.getData(\"json\")\n      );\n      this.time.dateStringsHaveEqualDates(\n        t.time.start,\n        this.time.dateStringFrom(this.day.dateTimeString)\n      ) || (t.time.start = t.time.start.replace(\n        /^\\d{4}-\\d{2}-\\d{2}/,\n        this.time.dateStringFrom(this.day.dateTimeString)\n      ), t.time.end = t.time.end.replace(\n        /^\\d{4}-\\d{2}-\\d{2}/,\n        this.time.dateStringFrom(this.day.dateTimeString)\n      ), this.$emit(\"event-was-dragged\", t));\n    },\n    handleDragOver(e) {\n      return this.isActiveDroppable = !0, e.preventDefault(), !1;\n    },\n    emitDayWasClicked() {\n      this.$emit(\"date-was-clicked\", this.time.dateStringFrom(this.day.dateTimeString)), this.config.isSmall && this.$emit(\"day-was-selected\", this.day);\n    }\n  }\n});\nconst fl = [\"id\"], ml = { class: \"calendar-month__day-date\" }, hl = { class: \"calendar-month_events\" }, vl = {\n  key: 1,\n  class: \"space-reserver\"\n};\nfunction gl(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Event\");\n  return e.hideLeadingAndTrailingDate ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", vl)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    key: 0,\n    id: \"day-\" + e.time.dateStringFrom(e.day.dateTimeString),\n    class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-month__weekday\", {\n      \"is-droppable\": e.canBeDropped,\n      \"trailing-or-leading\": e.day.isTrailingOrLeadingDate,\n      \"is-selected\": e.isSelected,\n      \"is-today\": e.isToday\n    }]),\n    onClick: t[2] || (t[2] = (0,vue__WEBPACK_IMPORTED_MODULE_0__.withModifiers)((...o) => e.emitDayWasClicked && e.emitDayWasClicked(...o), [\"self\"])),\n    onDragleave: t[3] || (t[3] = (...o) => e.handleDragLeave && e.handleDragLeave(...o)),\n    onDragover: t[4] || (t[4] = (...o) => e.handleDragOver && e.handleDragOver(...o)),\n    onDrop: t[5] || (t[5] = (...o) => e.handleDrop && e.handleDrop(...o)),\n    onDragend: t[6] || (t[6] = (...o) => e.handleDragEnd && e.handleDragEnd(...o))\n  }, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"dayCell\", { dayData: e.day }, () => [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", ml, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.day.dateTimeString.substring(8, 10).startsWith(\"0\") ? e.day.dateTimeString.substring(9, 10) : e.day.dateTimeString.substring(8, 10)), 1),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", hl, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.day.events, (o, l) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: l }, [\n          l < 3 ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n            key: o.id,\n            \"calendar-event\": o,\n            config: e.config,\n            time: e.time,\n            day: e.day,\n            onEventWasClicked: t[0] || (t[0] = (c) => e.$emit(\"event-was-clicked\", c))\n          }, {\n            monthEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((c) => [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"monthEvent\", {\n                eventData: c.eventData\n              }, void 0, !0)\n            ]),\n            _: 2\n          }, 1032, [\"calendar-event\", \"config\", \"time\", \"day\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n        ], 64))), 128)),\n        e.day.events.length >= 4 ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n          key: 0,\n          class: \"calendar-month__weekday-more\",\n          onClick: t[1] || (t[1] = (...o) => e.getMoreEvents && e.getMoreEvents(...o))\n        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getLanguage(e.languageKeys.moreEvents, e.time.CALENDAR_LOCALE)), 1)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n      ])\n    ], !0)\n  ], 42, fl));\n}\nconst pl = /* @__PURE__ */ j(ul, [[\"render\", gl], [\"__scopeId\", \"data-v-034f06d8\"]]), yl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"WeekDay\",\n  props: {\n    day: {\n      type: Object,\n      required: !0\n    }\n  }\n});\nconst bl = { class: \"calendar-month__day-name\" };\nfunction Dl(e, t, n, a, r, s) {\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", bl, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.day.dayName), 1);\n}\nconst kl = /* @__PURE__ */ j(yl, [[\"render\", Dl], [\"__scopeId\", \"data-v-09c7c5db\"]]), un = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Event\",\n  components: { FontAwesomeIcon: Qe },\n  props: {\n    time: {\n      type: Object,\n      required: !0\n    },\n    calendarEvent: {\n      type: Object,\n      required: !0\n    },\n    config: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\"event-was-clicked\"],\n  data() {\n    return {\n      icons: {\n        clock: Va,\n        user: Ba,\n        description: Ua,\n        trash: za,\n        edit: ja,\n        times: Ya,\n        topic: Xa,\n        location: rn\n      },\n      colors: xe,\n      eventBackgroundColor: \"\",\n      eventColor: \"#fff\",\n      eventIdPrefix: \"agenda__event-\"\n    };\n  },\n  computed: {\n    eventTime() {\n      return Ie.test(this.calendarEvent.time.start) ? this.time.getLocalizedTimeRange(\n        this.calendarEvent.time.start,\n        this.calendarEvent.time.end\n      ) : null;\n    },\n    elementId() {\n      return this.eventIdPrefix + this.calendarEvent.id;\n    }\n  },\n  mounted() {\n    this.setColors();\n  },\n  methods: {\n    setColors() {\n      var e, t, n;\n      return (e = this.calendarEvent) != null && e.colorScheme && ((t = this.config.style) != null && t.colorSchemes) && this.config.style.colorSchemes[this.calendarEvent.colorScheme] ? (this.eventColor = this.config.style.colorSchemes[this.calendarEvent.colorScheme].color, this.eventBackgroundColor = this.config.style.colorSchemes[this.calendarEvent.colorScheme].backgroundColor) : (n = this.calendarEvent) != null && n.color ? this.eventBackgroundColor = this.colors[this.calendarEvent.color] : this.eventBackgroundColor = this.colors.blue;\n    },\n    handleClickOnEvent() {\n      const e = document.getElementById(this.elementId);\n      this.$emit(\"event-was-clicked\", {\n        clickedEvent: this.calendarEvent,\n        eventElement: e\n      });\n    }\n  }\n}), aa = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"691f2791\": e.eventBackgroundColor,\n    fa1649c2: e.eventColor\n  }));\n}, ra = un.setup;\nun.setup = ra ? (e, t) => (aa(), ra(e, t)) : aa;\nconst wl = [\"id\"], El = {\n  key: 0,\n  class: \"agenda__event-time\"\n}, Sl = { class: \"agenda__event-title\" }, Tl = {\n  key: 1,\n  class: \"agenda__event-with\"\n}, Al = {\n  key: 2,\n  class: \"agenda__event-location\"\n};\nfunction Cl(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"FontAwesomeIcon\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n    id: e.elementId,\n    class: \"agenda__event is-event\",\n    onClick: t[0] || (t[0] = (0,vue__WEBPACK_IMPORTED_MODULE_0__.withModifiers)((...o) => e.handleClickOnEvent && e.handleClickOnEvent(...o), [\"prevent\"]))\n  }, [\n    e.eventTime && !e.calendarEvent.originalEvent ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", El, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n        icon: e.icons.clock\n      }, null, 8, [\"icon\"]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.eventTime), 1)\n    ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"span\", Sl, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.title), 1),\n    e.calendarEvent.with ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", Tl, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n        icon: e.icons.user\n      }, null, 8, [\"icon\"]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.with), 1)\n    ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n    e.calendarEvent.location ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"span\", Al, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(i, {\n        icon: e.icons.location\n      }, null, 8, [\"icon\"]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.calendarEvent.location), 1)\n    ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n  ], 8, wl);\n}\nconst _l = /* @__PURE__ */ j(un, [[\"render\", Cl], [\"__scopeId\", \"data-v-698b431e\"]]), Ml = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"AgendaEvents\",\n  components: { AgendaEventTile: _l },\n  mixins: [sn],\n  props: {\n    config: {\n      type: Object,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    day: {\n      type: Object,\n      required: !0\n    }\n  },\n  emits: [\n    \"event-was-clicked\"\n  ]\n});\nconst Pl = { class: \"agenda__wrapper\" }, Il = { class: \"agenda__header\" }, Ll = { class: \"agenda__header-day-name\" }, Ol = { class: \"agenda__header-date\" }, $l = { class: \"agenda__content\" }, Fl = {\n  key: 0,\n  class: \"is-empty\"\n}, Rl = {\n  key: 1,\n  class: \"agenda__content-events-list\"\n};\nfunction Nl(e, t, n, a, r, s) {\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"AgendaEventTile\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Pl, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"header\", Il, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Ll, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.day.dayName), 1),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Ol, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.day.dateTimeString.substring(8, 10)), 1)\n    ]),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", $l, [\n      e.day.events.length === 0 ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Fl, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.getLanguage(e.languageKeys.noEvent, e.time.CALENDAR_LOCALE)), 1)) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Rl, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.day.events, (o) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n          key: \"agenda_event_\" + o.id,\n          day: e.day,\n          config: e.config,\n          \"calendar-event\": o,\n          time: e.time,\n          onEventWasClicked: t[0] || (t[0] = (l) => e.$emit(\"event-was-clicked\", l))\n        }, null, 8, [\"day\", \"config\", \"calendar-event\", \"time\"]))), 128))\n      ]))\n    ])\n  ]);\n}\nconst Wl = /* @__PURE__ */ j(Ml, [[\"render\", Nl], [\"__scopeId\", \"data-v-b60cbce5\"]]), Hl = new qa(), Yl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Month\",\n  components: {\n    AgendaEvents: Wl,\n    Day: pl,\n    EventFlyout: xa,\n    WeekDay: kl\n  },\n  props: {\n    config: {\n      type: Object,\n      required: !0\n    },\n    time: {\n      type: Object,\n      required: !0\n    },\n    period: {\n      type: Object,\n      required: !0\n    },\n    eventsProp: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: [\n    \"edit-event\",\n    \"delete-event\",\n    \"updated-period\",\n    \"event-was-clicked\",\n    \"event-was-dragged\",\n    \"date-was-clicked\"\n  ],\n  data() {\n    return {\n      month: [],\n      selectedEvent: null,\n      selectedEventElement: null,\n      events: this.eventsProp,\n      fullDayEvents: [],\n      scrollbar: null,\n      selectedDay: null\n    };\n  },\n  mounted() {\n    this.initMonth(), this.initScrollbar();\n  },\n  methods: {\n    initScrollbar(e = 0) {\n      const t = document.querySelector(\".calendar-month\");\n      e > 3e3 || (t ? (this.scrollbar = new Re(t), this.scrollbar.update()) : this.initScrollbar(e + 50));\n    },\n    initMonth() {\n      this.month = [], this.sortOutFullDayEvents(), this.setMonth(), this.config.isSmall && this.setInitialSelectedDay();\n    },\n    setMonth() {\n      const { month: e, fullYear: t } = new Ne(this.period.selectedDate), a = this.time.getCalendarMonthSplitInWeeks(\n        t,\n        e\n      ).map((r) => r.map((s) => {\n        const i = this.time.getDateTimeStringFromDate(s), o = this.events.filter((l) => this.time.dateStringsHaveEqualDates(l.time.start, i));\n        return {\n          isTrailingOrLeadingDate: this.time.isTrailingOrLeadingDate(s, e),\n          dayName: this.time.getLocalizedNameOfWeekday(s),\n          dateTimeString: this.time.getDateTimeStringFromDate(s),\n          events: o\n        };\n      }));\n      this.month = Hl.positionFullDayEventsInMonth(\n        a,\n        this.fullDayEvents\n      );\n    },\n    sortOutFullDayEvents() {\n      const e = [], t = [];\n      for (const n of this.events)\n        Ee.getEventType(n, this.time) === Q.SINGLE_DAY_TIMED ? e.push(n) : t.push(n);\n      this.events = e, this.fullDayEvents = t;\n    },\n    handleClickOnEvent(e) {\n      this.$emit(\"event-was-clicked\", e), this.selectedEventElement = e.eventElement, this.selectedEvent = e.clickedEvent;\n    },\n    handleEventWasDragged(e) {\n      this.$emit(\"event-was-dragged\", e);\n      const t = [...this.events, ...this.fullDayEvents].filter(\n        (n) => n.id !== e.id\n      );\n      t.push(e), this.events = [], this.fullDayEvents = [], this.events = t, this.initMonth();\n    },\n    setInitialSelectedDay() {\n      const e = this.time.getDateStringFromDate(this.period.selectedDate);\n      this.selectedDay = this.month.flat().find((t) => this.time.dateStringFrom(t.dateTimeString) === e) || null;\n    }\n  }\n});\nconst zl = { class: \"calendar-month\" }, jl = { class: \"calendar-month__week-day-names\" }, Bl = { class: \"calendar-month__weeks\" }, Xl = {\n  key: 0,\n  class: \"calendar-month__day_events\"\n};\nfunction Ul(e, t, n, a, r, s) {\n  var d;\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"WeekDay\"), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Day\"), l = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"AgendaEvents\"), c = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"EventFlyout\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", zl, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", jl, [\n      ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.month[0], (u, g) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n        key: g,\n        class: \"calendar-month__week-day-name\",\n        config: e.config,\n        day: u,\n        time: e.time\n      }, null, 8, [\"config\", \"day\", \"time\"]))), 128))\n    ]),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", Bl, [\n      ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.month, (u, g) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", {\n        key: g,\n        class: \"calendar-month__week\"\n      }, [\n        ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(u, (D, y) => {\n          var k;\n          return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(o, {\n            key: y,\n            config: e.config,\n            day: D,\n            time: e.time,\n            \"is-selected\": ((k = e.selectedDay) == null ? void 0 : k.dateTimeString) === D.dateTimeString,\n            onEventWasClicked: e.handleClickOnEvent,\n            onEventWasDragged: e.handleEventWasDragged,\n            onDateWasClicked: t[0] || (t[0] = (w) => e.$emit(\"date-was-clicked\", w)),\n            onDayWasSelected: t[1] || (t[1] = (w) => e.selectedDay = w),\n            onUpdatedPeriod: t[2] || (t[2] = (w) => e.$emit(\"updated-period\", w))\n          }, {\n            monthEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(({ eventData: w }) => [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"monthEvent\", { eventData: w }, void 0, !0)\n            ]),\n            dayCell: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(({ dayData: w }) => [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"dayCell\", { dayData: w }, void 0, !0)\n            ]),\n            _: 2\n          }, 1032, [\"config\", \"day\", \"time\", \"is-selected\", \"onEventWasClicked\", \"onEventWasDragged\"]);\n        }), 128))\n      ]))), 128))\n    ]),\n    ((d = e.config.month) == null ? void 0 : d.showEventsOnMobileView) !== !1 ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Xl, [\n      e.selectedDay ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(l, {\n        key: 0,\n        config: e.config,\n        time: e.time,\n        day: e.selectedDay,\n        onEventWasClicked: e.handleClickOnEvent\n      }, null, 8, [\"config\", \"time\", \"day\", \"onEventWasClicked\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n    ])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n    !e.config.eventDialog || !e.config.eventDialog.isDisabled ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(c, {\n      key: 1,\n      \"calendar-event-prop\": e.selectedEvent,\n      \"event-element\": e.selectedEventElement,\n      time: e.time,\n      config: e.config,\n      onHide: t[3] || (t[3] = (u) => e.selectedEvent = null),\n      onEditEvent: t[4] || (t[4] = (u) => e.$emit(\"edit-event\", u)),\n      onDeleteEvent: t[5] || (t[5] = (u) => e.$emit(\"delete-event\", u))\n    }, {\n      default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((u) => [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"eventDialog\", {\n          eventDialogData: u.eventDialogData,\n          closeEventDialog: u.closeEventDialog\n        }, void 0, !0)\n      ]),\n      _: 3\n    }, 8, [\"calendar-event-prop\", \"event-element\", \"time\", \"config\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n  ]);\n}\nconst Vl = /* @__PURE__ */ j(Yl, [[\"render\", Ul], [\"__scopeId\", \"data-v-206c177e\"]]), K = class {\n  static checkEventProperties(t) {\n    var n, a, r, s, i, o;\n    t.id || console.warn(this.MISSING_ID_WARNING), t.title || console.warn(this.MISSING_TITLE_WARNING), t.time || console.warn(this.MISSING_TIME_WARNING), (n = t == null ? void 0 : t.time) != null && n.start || console.warn(this.MISSING_TIME_START_WARNING), (a = t == null ? void 0 : t.time) != null && a.end || console.warn(this.MISSING_TIME_END_WARNING), (r = t.time) != null && r.start && ((s = t.time) != null && s.end) && !Ie.test(t.time.start) && !ft.test(t.time.start) && console.warn(\n      `${this.PREFIX} event property 'time.start' expects a string formatted like 'YYYY-MM-DD hh:mm', or 'YYYY-MM-DD', received ${t.time.start} \n${this.SUFFIX}`\n    ), (i = t.time) != null && i.start && ((o = t.time) != null && o.end) && !Ie.test(t.time.end) && !ft.test(t.time.end) && console.warn(\n      `${this.PREFIX} event property 'time.end' expects a string formatted like 'YYYY-MM-DD hh:mm',  or 'YYYY-MM-DD', received ${t.time.end} \n${this.SUFFIX}`\n    );\n  }\n  static checkConfig(t) {\n    t.locale && !/^[a-z]{2}-[A-Z]{2}$/.test(t.locale) && console.warn(\n      `${this.PREFIX} config.locale expects a string of format xx-XX, received: ${t.locale}`\n    ), t.defaultMode && ![\"month\", \"week\", \"day\"].some((n) => n === t.defaultMode) && console.warn(\n      `${this.PREFIX} config.defaultMode expects either one of the values \"day\", \"week\" or \"month\"`\n    );\n  }\n};\nlet ae = K;\nF(ae, \"PREFIX\", \"[Qalendar warning]\"), // public static SUFFIX = 'This is a development warning, which will never be displayed in production environments'\nF(ae, \"SUFFIX\", \"\"), F(ae, \"MISSING_ID_WARNING\", `${K.PREFIX} required event property 'id' is missing \n${K.SUFFIX}`), F(ae, \"MISSING_TITLE_WARNING\", `${K.PREFIX} required event property 'title' is missing \n${K.SUFFIX}`), F(ae, \"MISSING_TIME_WARNING\", `${K.PREFIX} required event property 'time' is missing \n${K.SUFFIX}`), F(ae, \"MISSING_TIME_START_WARNING\", `${K.PREFIX} required event property 'time.start' is missing \n${K.SUFFIX}`), F(ae, \"MISSING_TIME_END_WARNING\", `${K.PREFIX} required event property 'time.end' is missing \n${K.SUFFIX}`);\nconst fn = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\n  name: \"Qalendar\",\n  components: {\n    Month: Vl,\n    AppHeader: Is,\n    Week: tl\n  },\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    },\n    events: {\n      type: Array,\n      default: () => []\n    },\n    selectedDate: {\n      type: Date,\n      default: /* @__PURE__ */ new Date()\n    },\n    isLoading: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  emits: [\n    \"event-was-clicked\",\n    \"event-was-resized\",\n    \"event-was-dragged\",\n    \"updated-period\",\n    \"updated-mode\",\n    \"edit-event\",\n    \"delete-event\",\n    \"interval-was-clicked\",\n    \"day-was-clicked\",\n    // TODO: remove with v4. day-was-clicked is deprecated\n    \"date-was-clicked\",\n    \"datetime-was-clicked\"\n  ],\n  data() {\n    var e, t, n, a, r, s, i, o, l, c;\n    return {\n      wasInitialized: 0,\n      period: {\n        start: /* @__PURE__ */ new Date(),\n        end: /* @__PURE__ */ new Date(),\n        selectedDate: this.selectedDate\n      },\n      mode: ((e = this.config) == null ? void 0 : e.defaultMode) || \"week\",\n      time: new se((n = (t = this.config) == null ? void 0 : t.week) == null ? void 0 : n.startsOn, ((a = this.config) == null ? void 0 : a.locale) || null, {\n        start: this.setTimePointsFromDayBoundary(\n          ((s = (r = this.config) == null ? void 0 : r.dayBoundaries) == null ? void 0 : s.start) || 0\n        ),\n        end: this.setTimePointsFromDayBoundary(\n          ((o = (i = this.config) == null ? void 0 : i.dayBoundaries) == null ? void 0 : o.end) || 24\n        )\n      }),\n      fontFamily: ((c = (l = this.config) == null ? void 0 : l.style) == null ? void 0 : c.fontFamily) || \"'Verdana', 'Open Sans', serif\",\n      eventRenderingKey: 0,\n      // Works only as a dummy value, for re-rendering Month- and Week components, when events-watcher triggers\n      eventsDataProperty: this.events,\n      isSmall: !1,\n      ErrorsHelper: ae\n    };\n  },\n  computed: {\n    enhancedConfig() {\n      return { ...this.config, isSmall: this.isSmall };\n    }\n  },\n  watch: {\n    events: {\n      deep: !0,\n      handler(e, t) {\n        JSON.stringify(e) !== JSON.stringify(t) && (this.eventsDataProperty = e, this.eventRenderingKey = this.eventRenderingKey + 1), !this.config.isSilent && this.events.forEach((n) => this.ErrorsHelper.checkEventProperties(n));\n      },\n      immediate: !0\n    },\n    config: {\n      deep: !0,\n      handler(e) {\n        this.ErrorsHelper.checkConfig(e);\n      },\n      immediate: !0\n    }\n  },\n  mounted() {\n    this.setConfigOnMount(), this.onCalendarResize(), this.setPeriodOnMount(), window.addEventListener(\"resize\", this.onCalendarResize);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"resize\", this.onCalendarResize);\n  },\n  methods: {\n    setConfigOnMount() {\n      this.wasInitialized = 1;\n    },\n    /**\n     * setModeWeek is used as flag, when the user clicks \"+ see more\" for a day, in the month view\n     * */\n    handleUpdatedPeriod(e, t = !1) {\n      this.$emit(\"updated-period\", { start: e.start, end: e.end }), this.period = e, t && (this.mode = \"day\");\n    },\n    /**\n     * Update this.period according to the new mode, and then set this.mode to the provided payload\n     * */\n    handleChangeMode(e) {\n      if (e === \"day\" && (this.period.start = this.period.selectedDate, this.period.end = this.time.setDateToEndOfDay(this.period.selectedDate)), e === \"week\") {\n        const t = this.time.getCalendarWeekDateObjects(\n          this.period.selectedDate\n        );\n        this.period.start = t[0], this.period.end = this.time.setDateToEndOfDay(t[6]);\n      }\n      if (e === \"month\") {\n        const t = this.time.getCalendarMonthSplitInWeeks(\n          this.period.selectedDate.getFullYear(),\n          this.period.selectedDate.getMonth()\n        );\n        this.period.start = t[0][0];\n        const n = t[t.length - 1];\n        this.period.end = this.time.setDateToEndOfDay(\n          n[n.length - 1]\n        );\n      }\n      this.mode = e, this.$emit(\"updated-mode\", { mode: e, period: this.period });\n    },\n    onCalendarResize() {\n      const e = document.documentElement, t = document.querySelector(\".calendar-root\"), n = +window.getComputedStyle(e).fontSize.split(\"p\")[0], a = 700, r = 16 / n, s = a / r;\n      t && (this.isSmall = t.clientWidth < s, this.isSmall && ![\"day\", \"month\"].includes(this.mode) && (this.mode = \"day\"));\n    },\n    setPeriodOnMount() {\n      if (this.mode === \"week\") {\n        const e = this.time.getCalendarWeekDateObjects(\n          this.period.selectedDate\n        );\n        this.period.start = e[0], this.period.end = e[6];\n      } else if (this.mode === \"month\") {\n        const e = this.time.getCalendarMonthSplitInWeeks(\n          this.period.selectedDate.getFullYear(),\n          this.period.selectedDate.getMonth()\n        );\n        this.period.start = e[0][0];\n        const t = e[e.length - 1];\n        this.period.end = t[t.length - 1];\n      }\n    },\n    handleEventWasUpdated(e, t) {\n      const n = this.eventsDataProperty.filter(\n        (a) => a.id !== e.id\n      );\n      this.eventsDataProperty = [e, ...n], this.$emit(`event-was-${t}`, e);\n    },\n    setTimePointsFromDayBoundary(e) {\n      return se.getTimePointsFromHour(e);\n    },\n    handleDateWasClicked(e) {\n      this.$emit(\"day-was-clicked\", e), this.$emit(\"date-was-clicked\", e);\n    },\n    goToPeriod(e) {\n      this.$refs.appHeader.goToPeriod(e);\n    }\n  }\n}), ia = () => {\n  (0,vue__WEBPACK_IMPORTED_MODULE_0__.useCssVars)((e) => ({\n    \"51d82805\": e.fontFamily\n  }));\n}, sa = fn.setup;\nfn.setup = sa ? (e, t) => (ia(), sa(e, t)) : ia;\nconst xl = { class: \"calendar-root-wrapper\" }, ql = [\"data-lang\"], Gl = {\n  key: 0,\n  class: \"top-bar-loader\"\n};\nfunction Kl(e, t, n, a, r, s) {\n  var c, d;\n  const i = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"AppHeader\"), o = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Week\"), l = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"Month\");\n  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", xl, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", {\n      class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([\"calendar-root\", {\n        \"mode-is-day\": e.mode === \"day\",\n        \"mode-is-week\": e.mode === \"week\",\n        \"mode-is-month\": e.mode === \"month\",\n        \"qalendar-is-small\": e.isSmall\n      }]),\n      \"data-lang\": ((d = (c = e.config) == null ? void 0 : c.locale) == null ? void 0 : d.substring(0, 2)) || \"en\"\n    }, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, { name: \"loading\" }, {\n        default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\n          e.isLoading ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", Gl)) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n        ]),\n        _: 1\n      }),\n      ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(i, {\n        ref: \"appHeader\",\n        key: e.wasInitialized + e.mode,\n        config: e.config,\n        mode: e.mode,\n        time: e.time,\n        period: e.period,\n        \"is-small\": e.isSmall,\n        onChangeMode: e.handleChangeMode,\n        onUpdatedPeriod: e.handleUpdatedPeriod\n      }, null, 8, [\"config\", \"mode\", \"time\", \"period\", \"is-small\", \"onChangeMode\", \"onUpdatedPeriod\"])),\n      [\"week\", \"day\"].includes(e.mode) ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(o, {\n        key: e.period.start.getTime() + e.period.end.getTime() + e.eventRenderingKey,\n        \"events-prop\": e.eventsDataProperty,\n        period: e.period,\n        config: e.config,\n        \"mode-prop\": e.mode,\n        time: e.time,\n        onEventWasClicked: t[0] || (t[0] = (u) => e.$emit(\"event-was-clicked\", u)),\n        onEventWasResized: t[1] || (t[1] = (u) => e.handleEventWasUpdated(u, \"resized\")),\n        onEventWasDragged: t[2] || (t[2] = (u) => e.handleEventWasUpdated(u, \"dragged\")),\n        onEditEvent: t[3] || (t[3] = (u) => e.$emit(\"edit-event\", u)),\n        onDeleteEvent: t[4] || (t[4] = (u) => e.$emit(\"delete-event\", u)),\n        onIntervalWasClicked: t[5] || (t[5] = (u) => e.$emit(\"interval-was-clicked\", u)),\n        onDayWasClicked: t[6] || (t[6] = (u) => e.$emit(\"day-was-clicked\", u)),\n        onDatetimeWasClicked: t[7] || (t[7] = (u) => e.$emit(\"datetime-was-clicked\", u))\n      }, {\n        weekDayEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((u) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"weekDayEvent\", {\n            eventData: u.eventData\n          })\n        ]),\n        eventDialog: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((u) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"eventDialog\", {\n            eventDialogData: u.eventDialogData,\n            closeEventDialog: u.closeEventDialog\n          })\n        ]),\n        customCurrentTime: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"customCurrentTime\")\n        ]),\n        _: 3\n      }, 8, [\"events-prop\", \"period\", \"config\", \"mode-prop\", \"time\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0),\n      e.mode === \"month\" ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(l, {\n        key: e.period.start.getTime() + e.period.end.getTime() + e.eventRenderingKey,\n        \"events-prop\": e.eventsDataProperty,\n        time: e.time,\n        config: e.enhancedConfig,\n        period: e.period,\n        onEventWasClicked: t[8] || (t[8] = (u) => e.$emit(\"event-was-clicked\", u)),\n        onDateWasClicked: e.handleDateWasClicked,\n        onEventWasDragged: t[9] || (t[9] = (u) => e.handleEventWasUpdated(u, \"dragged\")),\n        onUpdatedPeriod: t[10] || (t[10] = (u) => e.handleUpdatedPeriod(u, !0)),\n        onEditEvent: t[11] || (t[11] = (u) => e.$emit(\"edit-event\", u)),\n        onDeleteEvent: t[12] || (t[12] = (u) => e.$emit(\"delete-event\", u))\n      }, {\n        eventDialog: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((u) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"eventDialog\", {\n            eventDialogData: u.eventDialogData,\n            closeEventDialog: u.closeEventDialog\n          })\n        ]),\n        monthEvent: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((u) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"monthEvent\", {\n            eventData: u.eventData\n          })\n        ]),\n        dayCell: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(({ dayData: u }) => [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots, \"dayCell\", { dayData: u })\n        ]),\n        _: 3\n      }, 8, [\"events-prop\", \"time\", \"config\", \"period\", \"onDateWasClicked\"])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"\", !0)\n    ], 10, ql)\n  ]);\n}\nconst Zl = /* @__PURE__ */ j(fn, [[\"render\", Kl]]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9xYWxlbmRhci5lcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBLDBDQUEwQywwREFBMEQ7QUFDcEc7QUFDeWhCO0FBQ3poQiwrUUFBK1E7QUFDL1E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxHQUFHLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ25FLHVIQUF1SDtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0NBQUUsc0VBQXNFLHFDQUFFO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1MkJBQXUyQjtBQUN2MkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RjtBQUN4RjtBQUNBLDRDQUE0QyxxQkFBcUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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SztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQSxJQUFJLElBQUksS0FBSztBQUNiO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUztBQUMvQixzRUFBc0U7QUFDdEUsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsY0FBYyxzQkFBc0Isd0VBQXdFLHNCQUFzQjtBQUNsSTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQ0FBZ0MsNENBQTRDLFNBQVMsMkNBQTJDO0FBQ2hJO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxZQUFZLHFEQUFDO0FBQ2IsU0FBUyw4Q0FBQyxJQUFJLHVEQUFDO0FBQ2YsV0FBVyxtREFBQztBQUNaO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyxtREFBRTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNCQUFzQiwrQ0FBQztBQUN2QjtBQUNBO0FBQ0EsS0FBSyxpQkFBaUIsOENBQUMsSUFBSSx1REFBQztBQUM1QjtBQUNBO0FBQ0EsYUFBYSxtREFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxNQUFNLHVEQUFDLFlBQVksb0RBQUM7QUFDcEIsTUFBTSx1REFBQztBQUNQLFFBQVEsZ0RBQUM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsdURBQUMsZUFBZSxvREFBQztBQUN6QjtBQUNBLDBCQUEwQiw4Q0FBQyxJQUFJLHVEQUFDO0FBQ2hDLFFBQVEsZ0RBQUM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsdURBQUMsZUFBZSxvREFBQztBQUN6QixZQUFZLHVEQUFDO0FBQ2Isc0JBQXNCLDhDQUFDLElBQUksdURBQUM7QUFDNUIsUUFBUSxnREFBQztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSx1REFBQyxlQUFlLG9EQUFDO0FBQ3pCLFlBQVksdURBQUM7QUFDYix1QkFBdUIsOENBQUMsSUFBSSx1REFBQztBQUM3QixRQUFRLGdEQUFDO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLHVEQUFDLGVBQWUsb0RBQUM7QUFDekIsWUFBWSx1REFBQztBQUNiLDZCQUE2Qiw4Q0FBQyxJQUFJLHVEQUFDO0FBQ25DLFFBQVEsZ0RBQUM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsdURBQUM7QUFDVDtBQUNBLFNBQVM7QUFDVCxZQUFZLHVEQUFDO0FBQ2Isc0NBQXNDLDhDQUFDLElBQUksdURBQUM7QUFDNUM7QUFDQTtBQUNBLGVBQWUsbURBQUU7QUFDakI7QUFDQSxTQUFTO0FBQ1QsT0FBTyxjQUFjLHVEQUFDO0FBQ3RCO0FBQ0EsNEJBQTRCLDhDQUFDLElBQUksdURBQUM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLHVEQUFDO0FBQ3JCLDRCQUE0Qiw4Q0FBQyxJQUFJLHVEQUFDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSx1REFBQztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQUM7QUFDM0I7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsMkNBQTJDLGtDQUFrQztBQUM3RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUIsc0RBQXNELFNBQVM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLEdBQUcsRUFBRSxFQUFFO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLGlEQUFpRDtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxZQUFZLHFEQUFDO0FBQ2IsU0FBUyw4Q0FBQyxJQUFJLHVEQUFDO0FBQ2Y7QUFDQSw2QkFBNkIsa0RBQUU7QUFDL0IsR0FBRztBQUNILEtBQUssOENBQUMsTUFBTSx1REFBQyxDQUFDLHlDQUFDLFFBQVEsK0NBQUMsc0JBQXNCLDhDQUFDLElBQUksZ0RBQUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDRDQUFDO0FBQ3JCLFFBQVEsK0NBQUM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMLGlFQUFpRSw4Q0FBQyxNQUFNLHVEQUFDLENBQUMseUNBQUMsSUFBSSxRQUFRLEVBQUUsK0NBQUMseUJBQXlCLDhDQUFDLElBQUksdURBQUM7QUFDekg7QUFDQTtBQUNBLGFBQWEsbURBQUMsbUNBQW1DLDJCQUEyQjtBQUM1RSxhQUFhLG1EQUFFO0FBQ2Y7QUFDQSxLQUFLLEVBQUUsb0RBQUMsK0RBQStELHVEQUFDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1CQUFtQix1Q0FBdUMsSUFBSTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9EQUFDO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsR0FBRyxJQUFJLEVBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLEdBQUcsSUFBSSxFQUFFO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsR0FBRyxJQUFJLEVBQUU7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxFQUFFLCtDQUFFO0FBQ0o7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxTQUFTLDZCQUE2QjtBQUN2QztBQUNBO0FBQ0EsQ0FBQyxTQUFTLG1DQUFtQztBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsWUFBWSxxREFBQztBQUNiLFNBQVMsOENBQUMsSUFBSSx1REFBQztBQUNmLFdBQVcsbURBQUMsb0JBQW9CLDZEQUE2RDtBQUM3RixXQUFXLG1EQUFFO0FBQ2IsR0FBRztBQUNILCtEQUErRCw4Q0FBQyxJQUFJLHVEQUFDO0FBQ3JFLE1BQU0sdURBQUM7QUFDUCx3QkFBd0IsOENBQUMsSUFBSSx1REFBQztBQUM5QixVQUFVLGdEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVUsZ0RBQUM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsY0FBYyx1REFBQztBQUNmLFFBQVEsdURBQUM7QUFDVCxVQUFVLGdEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSx5QkFBeUIsOENBQUMsSUFBSSx1REFBQztBQUMvQixpQ0FBaUMsOENBQUMsSUFBSSx1REFBQztBQUN2QyxVQUFVLHVEQUFDO0FBQ1g7QUFDQSxtQkFBbUIsbURBQUUsR0FBRyx5Q0FBeUM7QUFDakUsV0FBVztBQUNYLFVBQVUsb0RBQUUsT0FBTyxvREFBQztBQUNwQixjQUFjLHVEQUFDO0FBQ2YsZ0NBQWdDLDhDQUFDLElBQUksdURBQUMsWUFBWSxvREFBQyx3QkFBd0IsdURBQUM7QUFDNUUsb0NBQW9DLDhDQUFDLElBQUksdURBQUM7QUFDMUMsVUFBVSxnREFBQztBQUNYO0FBQ0EsV0FBVztBQUNYLFVBQVUsb0RBQUUsT0FBTyxvREFBQztBQUNwQixjQUFjLHVEQUFDO0FBQ2YsZ0NBQWdDLDhDQUFDLElBQUksdURBQUM7QUFDdEMsVUFBVSxnREFBQztBQUNYO0FBQ0EsV0FBVztBQUNYLFVBQVUsb0RBQUUsT0FBTyxvREFBQztBQUNwQixjQUFjLHVEQUFDO0FBQ2YsaUNBQWlDLDhDQUFDLElBQUksdURBQUM7QUFDdkMsVUFBVSxnREFBQztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVSxvREFBRSxPQUFPLG9EQUFDO0FBQ3BCLGNBQWMsdURBQUM7QUFDZix1Q0FBdUMsOENBQUMsSUFBSSx1REFBQztBQUM3QyxVQUFVLGdEQUFDO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVLHVEQUFDO0FBQ1g7QUFDQSxXQUFXO0FBQ1gsY0FBYyx1REFBQztBQUNmLFlBQVksdURBQUM7QUFDYixVQUFVLCtDQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBEQUEwRCw2QkFBNkI7QUFDbEk7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUssK0lBQStJLFNBQVM7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvQkFBb0IsRUFBRSxVQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxFQUFFO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakMsNkJBQTZCLEVBQUU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMERBQTBELDZCQUE2QjtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsU0FBUztBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsU0FBUyxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFCQUFxQjtBQUNqQztBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnQ0FBZ0M7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd1JBQXdSLGtCQUFrQix3RkFBd0YsYUFBYTtBQUMvWTtBQUNBLDBWQUEwVixrQkFBa0IseUZBQXlGLGFBQWE7QUFDbGQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNkpBQTZKLGtCQUFrQiw0QkFBNEIsa0JBQWtCLDZPQUE2TyxpQkFBaUIsNEJBQTRCLGlCQUFpQiwrRkFBK0YsYUFBYSw0QkFBNEIsYUFBYTtBQUM3cEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVSxvREFBb0QsVUFBVSxrREFBa0QsVUFBVTtBQUNoSjtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVUsb0RBQW9ELFVBQVUsa0RBQWtELFVBQVU7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCLG9EQUFDO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FB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QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHFCQUFxQiw0Q0FBQztBQUN0QixVQUFVLCtDQUFDO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLG9CQUFvQiw0Q0FBQztBQUNyQixVQUFVLCtDQUFDO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpQkFBaUIsNENBQUMsSUFBSSxZQUFZO0FBQ2xDLFVBQVUsK0NBQUMsd0JBQXdCLFlBQVk7QUFDL0M7QUFDQTtBQUNBLE9BQU8seUVBQXlFLHVEQUFDO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcWFsZW5kYXIvZGlzdC9xYWxlbmRhci5lcy5qcz80YzNmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciB0ciA9IChlLCB0LCBuKSA9PiB0IGluIGUgPyBlcihlLCB0LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiBuIH0pIDogZVt0XSA9IG47XG52YXIgRiA9IChlLCB0LCBuKSA9PiAodHIoZSwgdHlwZW9mIHQgIT0gXCJzeW1ib2xcIiA/IHQgKyBcIlwiIDogdCwgbiksIG4pO1xuaW1wb3J0IHsgQ29tbWVudCBhcyBuciwgVGV4dCBhcyBhciwgZGVmaW5lQ29tcG9uZW50IGFzIEgsIGNvbXB1dGVkIGFzIFosIHdhdGNoIGFzIHJyLCBoIGFzIG9hLCByZXNvbHZlQ29tcG9uZW50IGFzICQsIG9wZW5CbG9jayBhcyBmLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgbSwgbm9ybWFsaXplQ2xhc3MgYXMgeCwgY3JlYXRlVk5vZGUgYXMgSSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIFQsIHRvRGlzcGxheVN0cmluZyBhcyBBLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgUywgRnJhZ21lbnQgYXMgTCwgY3JlYXRlVGV4dFZOb2RlIGFzIGxlLCByZW5kZXJMaXN0IGFzIHosIHdpdGhEaXJlY3RpdmVzIGFzIG1uLCB2U2hvdyBhcyBobiwgdXNlQ3NzVmFycyBhcyBPZSwgbm9ybWFsaXplU3R5bGUgYXMgY2UsIGNyZWF0ZUJsb2NrIGFzIFYsIHJlbmRlclNsb3QgYXMgWSwgd2l0aE1vZGlmaWVycyBhcyBCdCwgd2l0aEN0eCBhcyBYLCBwdXNoU2NvcGVJZCBhcyBsYSwgcG9wU2NvcGVJZCBhcyBjYSwgVHJhbnNpdGlvbiBhcyBpciB9IGZyb20gXCJ2dWVcIjtcbnZhciBRID0gLyogQF9fUFVSRV9fICovICgoZSkgPT4gKGUuU0lOR0xFX0RBWV9USU1FRCA9IFwiU0lOR0xFX0RBWV9USU1FRFwiLCBlLlNJTkdMRV9EQVlfRlVMTF9EQVkgPSBcIlNJTkdMRV9EQVlfRlVMTF9EQVlcIiwgZS5TSU5HTEVfSFlCUklEX0RBWV9USU1FRCA9IFwiU0lOR0xFX0hZQlJJRF9EQVlfVElNRURcIiwgZS5NVUxUSV9EQVlfVElNRUQgPSBcIk1VTFRJX0RBWV9USU1FRFwiLCBlLk1VTFRJX0RBWV9GVUxMX0RBWSA9IFwiTVVMVElfREFZX0ZVTExfREFZXCIsIGUpKShRIHx8IHt9KTtcbmNvbnN0IHhlID0ge1xuICB5ZWxsb3c6IFwicmdiKDI0NCwgMTgwLCAwKVwiLFxuICBibHVlOiBcInJnYigzOCwgMTMyLCAyNTUpXCIsXG4gIGdyZWVuOiBcInJnYig1MSwgMTgyLCAxMjEpXCIsXG4gIHJlZDogXCJyZ2IoMjU1LCA4NCwgODYpXCIsXG4gIHBpbms6IFwicmdiKDIzOSwgMTM5LCAyMzkpXCIsXG4gIHB1cnBsZTogXCJyZ2IoMTU3LCAxMTQsIDI0NSlcIixcbiAgdHVycXVvaXNlOiBcInJnYig2NCwgMTkwLCAxOTApXCIsXG4gIGJyb3duOiBcInJnYigxNjksIDk5LCAzMClcIlxufSwgSWUgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9IFxcZHsyfTpcXGR7Mn0kLywgZnQgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC87XG52YXIgcSA9IC8qIEBfX1BVUkVfXyAqLyAoKGUpID0+IChlLlJFR1VMQVIgPSBcInJlZ3VsYXJcIiwgZS5TSE9SVEVORUQgPSBcInNob3J0ZW5lZFwiLCBlLkZMRVhJQkxFID0gXCJmbGV4aWJsZVwiLCBlKSkocSB8fCB7fSk7XG5jbGFzcyBFZSB7XG4gIC8qKlxuICAgKiBJZiBuYXZpZ2F0b3IubGFuZ3VhZ2VzIGlzIHByZXNlbnQgKGNvcnJlbGF0aW5nIHRvIHRoZSBicm93c2VyJ3MgQWNjZXB0LUxhbmd1YWdlIGhlYWRlciksIHRoZW4gdXNlIGl0XG4gICAqIG90aGVyd2lzZSBqdXN0IHVzZSBuYXZpZ2F0b3IubGFuZ3VhZ2VcbiAgICogKi9cbiAgc3RhdGljIGdldEJyb3dzZXJOYXZpZ2F0b3JMb2NhbGUoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJvYmplY3RcIiA/IFwiZW4tVVNcIiA6IG5hdmlnYXRvci5sYW5ndWFnZXMgJiYgbmF2aWdhdG9yLmxhbmd1YWdlcy5sZW5ndGggPyBuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdIDogbmF2aWdhdG9yLmxhbmd1YWdlO1xuICB9XG4gIC8qKlxuICAgKiBTb2x1dGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb3JlL2lzc3Vlcy80NzMzI2lzc3VlY29tbWVudC0xMDI0ODE2MDk1XG4gICAqICovXG4gIHN0YXRpYyBoYXNTbG90Q29udGVudCh0KSB7XG4gICAgcmV0dXJuIHQgPyB0KCkuc29tZSgobikgPT4gbi50eXBlID09PSBuciB8fCBBcnJheS5pc0FycmF5KG4uY2hpbGRyZW4pICYmICFuLmNoaWxkcmVuLmxlbmd0aCA/ICExIDogbi50eXBlICE9PSBhciB8fCB0eXBlb2Ygbi5jaGlsZHJlbiA9PSBcInN0cmluZ1wiICYmIG4uY2hpbGRyZW4udHJpbSgpICE9PSBcIlwiKSA6ICExO1xuICB9XG4gIHN0YXRpYyBnZXRFdmVudFR5cGUodCwgbikge1xuICAgIGNvbnN0IGEgPSBJZS50ZXN0KHQudGltZS5zdGFydCkgJiYgSWUudGVzdCh0LnRpbWUuZW5kKSwgciA9IGZ0LnRlc3QodC50aW1lLnN0YXJ0KSAmJiBmdC50ZXN0KHQudGltZS5lbmQpO1xuICAgIGlmIChhKVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGltZWRFdmVudFR5cGUodCwgbik7XG4gICAgaWYgKHIpXG4gICAgICByZXR1cm4gdGhpcy5nZXRGdWxsRGF5RXZlbnRUeXBlKHQsIG4pO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50IGhhcyBpbnZhbGlkIHR5cGVcIik7XG4gIH1cbiAgc3RhdGljIGdldFRpbWVkRXZlbnRUeXBlKHQsIG4pIHtcbiAgICBpZiAobi5kYXRlU3RyaW5nc0hhdmVFcXVhbERhdGVzKHQudGltZS5zdGFydCwgdC50aW1lLmVuZCkpXG4gICAgICByZXR1cm4gUS5TSU5HTEVfREFZX1RJTUVEO1xuICAgIGlmIChuLmRheU1vZGUgPT09IHEuRkxFWElCTEUpIHtcbiAgICAgIGNvbnN0IGEgPSBuLnNldEhvdXJJbkRhdGVUaW1lU3RyaW5nKFxuICAgICAgICBuLmFkZERheXNUb0RhdGVUaW1lU3RyaW5nKFxuICAgICAgICAgIDEsXG4gICAgICAgICAgbi5kYXRlU3RyaW5nRnJvbSh0LnRpbWUuc3RhcnQpXG4gICAgICAgICksXG4gICAgICAgIHNlLmdldEhvdXJGcm9tVGltZVBvaW50cyhuLkRBWV9FTkQpXG4gICAgICApO1xuICAgICAgaWYgKHQudGltZS5lbmQgPCBhKVxuICAgICAgICByZXR1cm4gUS5TSU5HTEVfSFlCUklEX0RBWV9USU1FRDtcbiAgICB9XG4gICAgcmV0dXJuIFEuTVVMVElfREFZX1RJTUVEO1xuICB9XG4gIHN0YXRpYyBnZXRGdWxsRGF5RXZlbnRUeXBlKHQsIG4pIHtcbiAgICByZXR1cm4gbi5kYXRlU3RyaW5nc0hhdmVFcXVhbERhdGVzKHQudGltZS5zdGFydCwgdC50aW1lLmVuZCkgPyBRLlNJTkdMRV9EQVlfRlVMTF9EQVkgOiBRLk1VTFRJX0RBWV9GVUxMX0RBWTtcbiAgfVxuICBzdGF0aWMgaXNVSUV2ZW50VG91Y2hFdmVudCh0KSB7XG4gICAgcmV0dXJuIFwidG91Y2hlc1wiIGluIHQgJiYgdHlwZW9mIHQudG91Y2hlcyA9PSBcIm9iamVjdFwiO1xuICB9XG59XG52YXIgX3QgPSAvKiBAX19QVVJFX18gKi8gKChlKSA9PiAoZVtlLk1JRE5JR0hUID0gMF0gPSBcIk1JRE5JR0hUXCIsIGVbZS5PTkVfQU0gPSAxMDBdID0gXCJPTkVfQU1cIiwgZVtlLlRXT19BTSA9IDIwMF0gPSBcIlRXT19BTVwiLCBlW2UuVEhSRUVfQU0gPSAzMDBdID0gXCJUSFJFRV9BTVwiLCBlW2UuRk9VUl9BTSA9IDQwMF0gPSBcIkZPVVJfQU1cIiwgZVtlLkZJVkVfQU0gPSA1MDBdID0gXCJGSVZFX0FNXCIsIGVbZS5TSVhfQU0gPSA2MDBdID0gXCJTSVhfQU1cIiwgZVtlLlNFVkVOX0FNID0gNzAwXSA9IFwiU0VWRU5fQU1cIiwgZVtlLkVJR0hUX0FNID0gODAwXSA9IFwiRUlHSFRfQU1cIiwgZVtlLk5JTkVfQU0gPSA5MDBdID0gXCJOSU5FX0FNXCIsIGVbZS5URU5fQU0gPSAxZTNdID0gXCJURU5fQU1cIiwgZVtlLkVMRVZFTl9BTSA9IDExMDBdID0gXCJFTEVWRU5fQU1cIiwgZVtlLlRXRUxWRV9QTSA9IDEyMDBdID0gXCJUV0VMVkVfUE1cIiwgZVtlLk9ORV9QTSA9IDEzMDBdID0gXCJPTkVfUE1cIiwgZVtlLlRXT19QTSA9IDE0MDBdID0gXCJUV09fUE1cIiwgZVtlLlRIUkVFX1BNID0gMTUwMF0gPSBcIlRIUkVFX1BNXCIsIGVbZS5GT1VSX1BNID0gMTYwMF0gPSBcIkZPVVJfUE1cIiwgZVtlLkZJVkVfUE0gPSAxNzAwXSA9IFwiRklWRV9QTVwiLCBlW2UuU0lYX1BNID0gMTgwMF0gPSBcIlNJWF9QTVwiLCBlW2UuU0VWRU5fUE0gPSAxOTAwXSA9IFwiU0VWRU5fUE1cIiwgZVtlLkVJR0hUX1BNID0gMmUzXSA9IFwiRUlHSFRfUE1cIiwgZVtlLk5JTkVfUE0gPSAyMTAwXSA9IFwiTklORV9QTVwiLCBlW2UuVEVOX1BNID0gMjIwMF0gPSBcIlRFTl9QTVwiLCBlW2UuRUxFVkVOX1BNID0gMjMwMF0gPSBcIkVMRVZFTl9QTVwiLCBlW2UuVFdFTFZFX0FNID0gMjQwMF0gPSBcIlRXRUxWRV9BTVwiLCBlKSkoX3QgfHwge30pO1xuY2xhc3MgTmUgZXh0ZW5kcyBEYXRlIHtcbiAgZ2V0IGZ1bGxZZWFyKCkge1xuICAgIHJldHVybiB0aGlzLmdldEZ1bGxZZWFyKCk7XG4gIH1cbiAgZ2V0IG1vbnRoKCkge1xuICAgIHJldHVybiB0aGlzLmdldE1vbnRoKCk7XG4gIH1cbiAgZ2V0IGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0ZSgpO1xuICB9XG59XG52YXIgTXQgPSAvKiBAX19QVVJFX18gKi8gKChlKSA9PiAoZS5TVU5EQVkgPSBcInN1bmRheVwiLCBlLk1PTkRBWSA9IFwibW9uZGF5XCIsIGUpKShNdCB8fCB7fSk7XG5jbGFzcyBzZSB7XG4gIGNvbnN0cnVjdG9yKHQgPSBcIm1vbmRheVwiLCBuID0gbnVsbCwgYSA9IHsgc3RhcnQ6IDAsIGVuZDogMjQwMCB9KSB7XG4gICAgRih0aGlzLCBcIkZJUlNUX0RBWV9PRl9XRUVLXCIpO1xuICAgIEYodGhpcywgXCJDQUxFTkRBUl9MT0NBTEVcIik7XG4gICAgRih0aGlzLCBcIkFMTF9IT1VSU1wiLCBbXG4gICAgICAwLFxuICAgICAgMTAwLFxuICAgICAgMjAwLFxuICAgICAgMzAwLFxuICAgICAgNDAwLFxuICAgICAgNTAwLFxuICAgICAgNjAwLFxuICAgICAgNzAwLFxuICAgICAgODAwLFxuICAgICAgOTAwLFxuICAgICAgMWUzLFxuICAgICAgMTEwMCxcbiAgICAgIDEyMDAsXG4gICAgICAxMzAwLFxuICAgICAgMTQwMCxcbiAgICAgIDE1MDAsXG4gICAgICAxNjAwLFxuICAgICAgMTcwMCxcbiAgICAgIDE4MDAsXG4gICAgICAxOTAwLFxuICAgICAgMmUzLFxuICAgICAgMjEwMCxcbiAgICAgIDIyMDAsXG4gICAgICAyMzAwXG4gICAgXSk7XG4gICAgRih0aGlzLCBcIkRBWV9TVEFSVFwiKTtcbiAgICBGKHRoaXMsIFwiREFZX0VORFwiKTtcbiAgICBGKHRoaXMsIFwiSE9VUlNfUEVSX0RBWVwiLCAyNCk7XG4gICAgRih0aGlzLCBcIk1TX1BFUl9EQVlcIik7XG4gICAgdGhpcy5GSVJTVF9EQVlfT0ZfV0VFSyA9IHQsIHRoaXMuQ0FMRU5EQVJfTE9DQUxFID0gbiB8fCBFZS5nZXRCcm93c2VyTmF2aWdhdG9yTG9jYWxlKCksIHRoaXMuREFZX1NUQVJUID0gYS5zdGFydCwgdGhpcy5EQVlfRU5EID0gYS5lbmQsIHRoaXMuSE9VUlNfUEVSX0RBWSA9ICgoKSA9PiB7XG4gICAgICBjb25zdCByID0gc2UuZ2V0SG91ckZyb21UaW1lUG9pbnRzKHRoaXMuREFZX0VORCksIHMgPSBzZS5nZXRIb3VyRnJvbVRpbWVQb2ludHModGhpcy5EQVlfU1RBUlQpO1xuICAgICAgcmV0dXJuIHIgPiBzID8gciAtIHMgOiB0aGlzLkhPVVJTX1BFUl9EQVkgLSBzICsgcjtcbiAgICB9KSgpLCB0aGlzLk1TX1BFUl9EQVkgPSA4NjRlNTtcbiAgfVxuICBnZXQgZGF5TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5EQVlfU1RBUlQgPT09IDAgJiYgdGhpcy5EQVlfRU5EID09PSAyNDAwID8gcS5SRUdVTEFSIDogdGhpcy5EQVlfU1RBUlQgPj0gdGhpcy5EQVlfRU5EID8gcS5GTEVYSUJMRSA6IHEuU0hPUlRFTkVEO1xuICB9XG4gIGdldERhdGVzQmV0d2VlblR3b0RhdGVzKHQsIG4pIHtcbiAgICBmb3IgKHZhciBhID0gW10sIHIgPSBuZXcgRGF0ZSh0KTsgciA8PSBuOyByLnNldERhdGUoci5nZXREYXRlKCkgKyAxKSlcbiAgICAgIGEucHVzaChuZXcgRGF0ZShyLmdldEZ1bGxZZWFyKCksIHIuZ2V0TW9udGgoKSwgci5nZXREYXRlKCkpKTtcbiAgICByZXR1cm4gYTtcbiAgfVxuICBnZXRDYWxlbmRhcldlZWtEYXRlT2JqZWN0cyh0KSB7XG4gICAgbGV0IG47XG4gICAgdGhpcy5GSVJTVF9EQVlfT0ZfV0VFSyA9PT0gXCJzdW5kYXlcIiA/IG4gPSB0LmdldERheSgpIDogbiA9IHQuZ2V0RGF5KCkgPT09IDAgPyA2IDogdC5nZXREYXkoKSAtIDE7XG4gICAgY29uc3QgYSA9IHQuZ2V0RGF0ZSgpIC0gbiwgciA9IG5ldyBEYXRlKFxuICAgICAgdC5nZXRGdWxsWWVhcigpLFxuICAgICAgdC5nZXRNb250aCgpLFxuICAgICAgYVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0ZXNCZXR3ZWVuVHdvRGF0ZXMoXG4gICAgICByLFxuICAgICAgbmV3IERhdGUoXG4gICAgICAgIHIuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgci5nZXRNb250aCgpLFxuICAgICAgICByLmdldERhdGUoKSArIDZcbiAgICAgIClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSB3ZWVrcyB0aGF0IGNvbXByaXNlIGEgbW9udGhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHl5eXlcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1tIC0gemVybyBpbmRleGVkIChKYW51YXJ5ID09PSAwKVxuICAgKiAqL1xuICBnZXRDYWxlbmRhck1vbnRoU3BsaXRJbldlZWtzKHQsIG4pIHtcbiAgICBjb25zdCBhID0gW10sIHIgPSBuZXcgRGF0ZSh0LCBuLCAxKSwgcyA9IG5ldyBEYXRlKFxuICAgICAgci5nZXRGdWxsWWVhcigpLFxuICAgICAgci5nZXRNb250aCgpLFxuICAgICAgMVxuICAgICksIGkgPSB0aGlzLmdldENhbGVuZGFyV2Vla0RhdGVPYmplY3RzKHMpO1xuICAgIGEucHVzaChpKTtcbiAgICBsZXQgbyA9ICEwLCBsID0gaVswXTtcbiAgICBjb25zdCBjID0gci5nZXRNb250aCgpO1xuICAgIGZvciAoOyBvOyApIHtcbiAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShcbiAgICAgICAgbC5nZXRGdWxsWWVhcigpLFxuICAgICAgICBsLmdldE1vbnRoKCksXG4gICAgICAgIGwuZ2V0RGF0ZSgpICsgN1xuICAgICAgKTtcbiAgICAgIGQuZ2V0TW9udGgoKSA9PT0gYyA/IChhLnB1c2godGhpcy5nZXRDYWxlbmRhcldlZWtEYXRlT2JqZWN0cyhkKSksIGwgPSBkKSA6IG8gPSAhMTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgbGVuZ3RoIG9mIDEyIGRhdGVzLFxuICAgKiBvbmUgZGF0ZSBmb3IgdGhlIGZpcnN0IGRheSBvZiBlYWNoIG1vbnRoIG9mIHRoZSB5ZWFyXG4gICAqICovXG4gIGdldENhbGVuZGFyWWVhck1vbnRocyh0KSB7XG4gICAgY29uc3QgbiA9IFtdO1xuICAgIGxldCBhID0gMDtcbiAgICBmb3IgKDsgYSA8PSAxMTsgKVxuICAgICAgbi5wdXNoKG5ldyBEYXRlKHQsIGEsIDEpKSwgYSsrO1xuICAgIHJldHVybiBuO1xuICB9XG4gIGdldEhvdXJBbmRNaW51dGVzRnJvbVRpbWVQb2ludHModCkge1xuICAgIGNvbnN0IG4gPSB0LnRvU3RyaW5nKCk7XG4gICAgbGV0IGEgPSBcIjBcIiwgciA9IFwiMFwiO1xuICAgIHJldHVybiBuLmxlbmd0aCA9PT0gNCA/IChhID0gblswXSArIG5bMV0sIHIgPSBuWzJdICsgblszXSkgOiBuLmxlbmd0aCA9PT0gMyAmJiAoYSA9IG5bMF0sIHIgPSBuWzFdICsgblsyXSksIHtcbiAgICAgIGhvdXI6ICthLFxuICAgICAgbWludXRlczogK3JcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHaXZlbiB0aW1lUG9pbnRzICgwLCAxMDAsIDIwMCBldGMuKSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zXG4gICAqIGEgbG9jYWxpemVkIHN0cmluZyB3aXRoIHRoZSByZXNwZWN0aXZlIGhvdXJcbiAgICogKGluIGVuLVVTIGZvciBleGFtcGxlOiAwID0+IDEyIEFNLCAxNjAwID0+IDQgUE0gKVxuICAgKiAqL1xuICBnZXRIb3VyTG9jYWxlU3RyaW5nRnJvbUhvdXJEaWdpdHModCkge1xuICAgIGNvbnN0IHsgaG91cjogbiwgbWludXRlczogYSB9ID0gdGhpcy5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKHQpLCByID0gbmV3IERhdGUoXG4gICAgICAyMTAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICArbixcbiAgICAgICthLFxuICAgICAgMFxuICAgICkudG9Mb2NhbGVUaW1lU3RyaW5nKHRoaXMuQ0FMRU5EQVJfTE9DQUxFLCB7XG4gICAgICBob3VyOiBcIjItZGlnaXRcIlxuICAgIH0pO1xuICAgIHJldHVybiByWzBdID09PSBcIjBcIiA/IHIuc3Vic3RyaW5nKDEpIDogcjtcbiAgfVxuICBnZXRMb2NhbGl6ZWROYW1lT2ZXZWVrZGF5KHQsIG4gPSBcInNob3J0XCIpIHtcbiAgICByZXR1cm4gdC50b0xvY2FsZURhdGVTdHJpbmcodGhpcy5DQUxFTkRBUl9MT0NBTEUsIHtcbiAgICAgIHdlZWtkYXk6IG5cbiAgICB9KTtcbiAgfVxuICBnZXRMb2NhbGl6ZWROYW1lT2ZNb250aCh0LCBuID0gXCJzaG9ydFwiKSB7XG4gICAgcmV0dXJuIHQudG9Mb2NhbGVEYXRlU3RyaW5nKHRoaXMuQ0FMRU5EQVJfTE9DQUxFLCB7XG4gICAgICBtb250aDogblxuICAgIH0pO1xuICB9XG4gIGdldExvY2FsaXplZERhdGVTdHJpbmcodCkge1xuICAgIHJldHVybiB0LnRvTG9jYWxlRGF0ZVN0cmluZyh0aGlzLkNBTEVOREFSX0xPQ0FMRSk7XG4gIH1cbiAgLyoqXG4gICAqIFRha2VzIGEgZGF0ZSBvYmplY3QsIGFuZCBjcmVhdGVzIGEgdGltZSBzdHJpbmcgZnJvbSBpdCwgaW4gdGhlIGZvcm1hdCBvZlxuICAgKiBZWVlZLU1NLUREIGhoOm1tXG4gICAqICovXG4gIGdldERhdGVUaW1lU3RyaW5nRnJvbURhdGUodCwgbikge1xuICAgIGNvbnN0IGEgPSB0LmdldEZ1bGxZZWFyKCksIHIgPSB0LmdldE1vbnRoKCkgKyAxLCBzID0gdC5nZXREYXRlKCksIGkgPSBgJHthfS0ke3IgPj0gMTAgPyByIDogXCIwXCIgKyByfS0ke3MgPj0gMTAgPyBzIDogXCIwXCIgKyBzfWA7XG4gICAgaWYgKCFuKSB7XG4gICAgICBjb25zdCBsID0gdC5nZXRIb3VycygpLCBjID0gdC5nZXRNaW51dGVzKCk7XG4gICAgICByZXR1cm4gYCR7aX0gJHtsID49IDEwID8gbCA6IFwiMFwiICsgbH06JHtjID49IDEwID8gYyA6IFwiMFwiICsgY31gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7aX0gJHtuID09PSBcInN0YXJ0XCIgPyBcIjAwOjAwXCIgOiBcIjIzOjU5XCJ9YDtcbiAgfVxuICBnZXRMb2NhbGl6ZWRUaW1lKHQpIHtcbiAgICBjb25zdCB7XG4gICAgICB5ZWFyOiBuLFxuICAgICAgbW9udGg6IGEsXG4gICAgICBkYXRlOiByLFxuICAgICAgaG91cjogcyxcbiAgICAgIG1pbnV0ZXM6IGlcbiAgICB9ID0gdGhpcy5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcodCk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG4sIGEsIHIsIHMsIGkpLnRvTG9jYWxlVGltZVN0cmluZyh0aGlzLkNBTEVOREFSX0xPQ0FMRSwge1xuICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICBtaW51dGU6IFwibnVtZXJpY1wiXG4gICAgfSk7XG4gIH1cbiAgZ2V0TG9jYWxpemVkSG91cih0KSB7XG4gICAgcmV0dXJuIHQudG9Mb2NhbGVUaW1lU3RyaW5nKHRoaXMuQ0FMRU5EQVJfTE9DQUxFLCB7IGhvdXI6IFwiMi1kaWdpdFwiIH0pO1xuICB9XG4gIGdldExvY2FsaXplZFRpbWVSYW5nZSh0LCBuKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuZ2V0TG9jYWxpemVkVGltZSh0KX0gLSAke3RoaXMuZ2V0TG9jYWxpemVkVGltZShuKX1gO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIG51bWVyaWMgdmFsdWVzIGZvciB5ZWFyLCBtb250aCwgZGF0ZSwgaG91ciBhbmQgbWludXRlcywgZ2l2ZW4gYSBkYXRlVGltZVN0cmluZ1xuICAgKiBBbGwgdmFyaWFibGVzIGFyZSBEYXRlLU9iamVjdCBjb21wYXRpYmxlLCBtZWFuaW5nIFwibW9udGhcIiBpcyB6ZXJvLWluZGV4ZWRcbiAgICogKi9cbiAgZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeWVhcjogK3Quc3Vic3RyaW5nKDAsIDQpLFxuICAgICAgbW9udGg6ICt0LnN1YnN0cmluZyg1LCA3KSAtIDEsXG4gICAgICBkYXRlOiArdC5zdWJzdHJpbmcoOCwgMTApLFxuICAgICAgaG91cjogdGhpcy5ob3VyRnJvbSh0KSxcbiAgICAgIG1pbnV0ZXM6IHRoaXMubWludXRlc0Zyb20odClcbiAgICB9O1xuICB9XG4gIGRhdGVJc1RvZGF5KHQpIHtcbiAgICBjb25zdCB7XG4gICAgICBmdWxsWWVhcjogbixcbiAgICAgIG1vbnRoOiBhLFxuICAgICAgZGF0ZTogclxuICAgIH0gPSBuZXcgTmUoKSwge1xuICAgICAgZnVsbFllYXI6IHMsXG4gICAgICBtb250aDogaSxcbiAgICAgIGRhdGU6IG9cbiAgICB9ID0gbmV3IE5lKHQpO1xuICAgIHJldHVybiBuID09PSBzICYmIGEgPT09IGkgJiYgciA9PT0gbztcbiAgfVxuICBkYXRlSXNJbldlZWsodCwgbikge1xuICAgIGNvbnN0IHsgZGF0ZTogYSwgbW9udGg6IHIsIGZ1bGxZZWFyOiBzIH0gPSBuZXcgTmUodCk7XG4gICAgZm9yIChjb25zdCBpIG9mIG4pIHtcbiAgICAgIGNvbnN0IG8gPSBhID09PSBpLmdldERhdGUoKSwgbCA9IHIgPT09IGkuZ2V0TW9udGgoKSwgYyA9IHMgPT09IGkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIGlmIChvICYmIGwgJiYgYylcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZ2V0RGF0ZVN0cmluZ0Zyb21EYXRlKHQpIHtcbiAgICBjb25zdCBuID0gdC5nZXRGdWxsWWVhcigpLCBhID0gdC5nZXRNb250aCgpICsgMSwgciA9IHQuZ2V0RGF0ZSgpO1xuICAgIHJldHVybiBgJHtufS0ke2EgPj0gMTAgPyBhIDogXCIwXCIgKyBhfS0ke3IgPj0gMTAgPyByIDogXCIwXCIgKyByfWA7XG4gIH1cbiAgYWRkTWludXRlc1RvRGF0ZVRpbWVTdHJpbmcodCwgbikge1xuICAgIGNvbnN0IHtcbiAgICAgIHllYXI6IGEsXG4gICAgICBtb250aDogcixcbiAgICAgIGRhdGU6IHMsXG4gICAgICBob3VyOiBpLFxuICAgICAgbWludXRlczogb1xuICAgIH0gPSB0aGlzLmdldEFsbFZhcmlhYmxlc0Zyb21EYXRlVGltZVN0cmluZyhuKSwgbCA9IG5ldyBEYXRlKGEsIHIsIHMsIGksIG8pLCBjID0gbmV3IERhdGUobC5nZXRUaW1lKCkgKyB0ICogNmU0KTtcbiAgICByZXR1cm4gdGhpcy5nZXREYXRlVGltZVN0cmluZ0Zyb21EYXRlKGMpO1xuICB9XG4gIGFkZERheXNUb0RhdGVUaW1lU3RyaW5nKHQsIG4pIHtcbiAgICByZXR1cm4gdGhpcy5hZGRNaW51dGVzVG9EYXRlVGltZVN0cmluZyh0ICogMTQ0MCwgbik7XG4gIH1cbiAgZGF0ZVN0cmluZ3NIYXZlRXF1YWxEYXRlcyh0LCBuKSB7XG4gICAgY29uc3QgeyB5ZWFyOiBhLCBtb250aDogciwgZGF0ZTogcyB9ID0gdGhpcy5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcodCksIHsgeWVhcjogaSwgbW9udGg6IG8sIGRhdGU6IGwgfSA9IHRoaXMuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKG4pO1xuICAgIHJldHVybiBhID09PSBpICYmIHIgPT09IG8gJiYgcyA9PT0gbDtcbiAgfVxuICBzZXREYXRlVG9FbmRPZkRheSh0KSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgdC5nZXRGdWxsWWVhcigpLFxuICAgICAgdC5nZXRNb250aCgpLFxuICAgICAgdC5nZXREYXRlKCksXG4gICAgICAyMyxcbiAgICAgIDU5LFxuICAgICAgNTksXG4gICAgICA5OTlcbiAgICApO1xuICB9XG4gIHR1cm5NaW51dGVzSW50b1BlcmNlbnRhZ2VPZkhvdXIodCkge1xuICAgIGNvbnN0IGEgPSAxLjY2NjY2NjY2NjY2NjY2NjcgKiB0O1xuICAgIHJldHVybiBhIDwgMTAgPyBcIjBcIiArIGEgOiBhLnRvU3RyaW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIEV2ZXJ5IGhvdXIgYmV0d2VlbiAnZGF5U3RhcnQnIGFuZCAnZGF5RW5kJyBpcyAxMDAsIGluIHRoaXMgZnVuY3Rpb24gcmVmZXJyZWQgdG8gYXMgMTAwIHBvaW50c1xuICAgKiBJZiBhbiBldmVudCBzdGFydHMgMzAgbWludXRlcyBhZnRlciAnZGF5U3RhcnQnLCBpdCBzaG91bGQgaGF2ZSA1MCBwb2ludHNJbnRvRGF5XG4gICAqIElmIGEgZGF5IGNvbnNpc3RzIG9mIDQgaG91cnMgKDQwMCBwb2ludHMpLCB3ZSB0aGVuIGhhdmUgdG8gY291bnRcbiAgICogKDUwIC8gNDAwKSAqIDEwMCA9IDEyLjUgPT4gZXZlbnQgc3RhcnRzIGFmdGVyIDEyLjUgcGVyY2VudCBvZiB0aGUgZGF5XG4gICAqXG4gICAqIFJlc3VsdCBpcyBzdXBwb3NlZCB0byBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCwgYW5kIGlzIHVzZWQgZm9yIHNldHRpbmcgdGhlIENTUy0gdG9wLSBhbmQgaGVpZ2h0LWF0dHJpYnV0ZXMgZm9yIGV2ZW50c1xuICAgKiAqL1xuICBnZXRQZXJjZW50YWdlT2ZEYXlGcm9tRGF0ZVRpbWVTdHJpbmcodCwgbiwgYSkge1xuICAgIGNvbnN0IHMgPSB0aGlzLmhvdXJGcm9tKHQpICogMTAwLCBpID0gK3Quc3Vic3RyaW5nKDE0LCAxNiksIG8gPSArdGhpcy50dXJuTWludXRlc0ludG9QZXJjZW50YWdlT2ZIb3VyKCtpKTtcbiAgICBpZiAoYSA+IG4pIHtcbiAgICAgIGNvbnN0IGcgPSBhIC0gbjtcbiAgICAgIHJldHVybiAocyArIG8gLSBuKSAvIGcgKiAxMDA7XG4gICAgfVxuICAgIGNvbnN0IGwgPSBfdC5UV0VMVkVfQU0gLSBuLCBjID0gbCArIGEsIGQgPSBzICsgbztcbiAgICByZXR1cm4gKGQgPj0gbiA/IGQgLSBuIDogbCArIGQpIC8gYyAqIDEwMDtcbiAgfVxuICBnZXRUaW1lRnJvbUNsaWNrKHQsIG4pIHtcbiAgICBpZiAobiA8PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwid2Vla0hlaWdodCBjYW5ub3QgYmUgYSBuZWdhdGl2ZSBudW1iZXJcIik7XG4gICAgaWYgKHQgPCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2xpY2tPZmZzZXRZIGNhbm5vdCBiZSBhIG5lZ2F0aXZlIG51bWJlclwiKTtcbiAgICBjb25zdCBhID0gdGhpcy5EQVlfU1RBUlQgLyAxMDAsIHIgPSBuIC8gdGhpcy5IT1VSU19QRVJfREFZLCBzID0gTWF0aC5mbG9vcih0ICUgciAvIChyIC8gNjApKTtcbiAgICBpZiAodGhpcy5EQVlfRU5EIDw9IHRoaXMuREFZX1NUQVJUKSB7XG4gICAgICBjb25zdCBsID0gdGhpcy5EQVlfRU5EIC8gMTAwICogciwgYyA9IG4gLSBsO1xuICAgICAgaWYgKHQgPiBjKSB7XG4gICAgICAgIGNvbnN0IGQgPSBNYXRoLmZsb29yKCh0IC0gYykgLyByKTtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZG91YmxlRGlnaXQoZCl9OiR7dGhpcy5kb3VibGVEaWdpdChzKX1gO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcih0IC8gcikgKyBhO1xuICAgIHJldHVybiBgJHt0aGlzLmRvdWJsZURpZ2l0KGkpfToke3RoaXMuZG91YmxlRGlnaXQocyl9YDtcbiAgfVxuICBzZXRTZWdtZW50T2ZEYXRlVGltZVN0cmluZyh0LCBuKSB7XG4gICAgaWYgKG4uaG91ciA8IDAgfHwgbi5ob3VyID4gMjMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhvdXJcIik7XG4gICAgY29uc3QgYSA9IHRoaXMuZG91YmxlRGlnaXQobi5ob3VyKTtcbiAgICByZXR1cm4gdCA9IHQucmVwbGFjZSgvXFxkezJ9Oi8sIGEgKyBcIjpcIiksIHQ7XG4gIH1cbiAgaXNUcmFpbGluZ09yTGVhZGluZ0RhdGUodCwgbikge1xuICAgIGNvbnN0IHsgbW9udGg6IGEgfSA9IG5ldyBOZSh0KTtcbiAgICByZXR1cm4gbiAhPT0gYTtcbiAgfVxuICBzdGF0aWMgZ2V0VGltZVBvaW50c0Zyb21Ib3VyKHQpIHtcbiAgICBpZiAodCA8IDAgfHwgdCA+IDI0IHx8IHQgJSAxICE9PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXkgYm91bmRhcnlcIik7XG4gICAgcmV0dXJuIHQgPT09IDAgPyB0IDogdCAqIDEwMDtcbiAgfVxuICBzdGF0aWMgZ2V0SG91ckZyb21UaW1lUG9pbnRzKHQpIHtcbiAgICBpZiAodCA8IDAgfHwgdCA+IDI0MDAgfHwgdCAlIDEwMCAhPT0gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGltZSBwb2ludHNcIik7XG4gICAgcmV0dXJuIHQgPT09IDAgPyB0IDogdCAvIDEwMDtcbiAgfVxuICBnZXRUaW1lbGluZUhvdXJzKCkge1xuICAgIHJldHVybiB0aGlzLmRheU1vZGUgIT09IHEuRkxFWElCTEUgPyB0aGlzLkFMTF9IT1VSUy5maWx0ZXIoKHQpID0+IHQgPj0gdGhpcy5EQVlfU1RBUlQgJiYgdCA8IHRoaXMuREFZX0VORCkgOiBbXG4gICAgICAuLi50aGlzLkFMTF9IT1VSUy5maWx0ZXIoKHQpID0+IHQgPj0gdGhpcy5EQVlfU1RBUlQpLFxuICAgICAgLi4udGhpcy5BTExfSE9VUlMuZmlsdGVyKCh0KSA9PiB0IDwgdGhpcy5EQVlfRU5EKVxuICAgIF07XG4gIH1cbiAgZGF0ZVN0cmluZ0Zyb20odCkge1xuICAgIHJldHVybiB0LnN1YnN0cmluZygwLCAxMCk7XG4gIH1cbiAgdGltZVN0cmluZ0Zyb20odCkge1xuICAgIHJldHVybiB0LnN1YnN0cmluZygxMSwgMTYpO1xuICB9XG4gIGhvdXJGcm9tKHQpIHtcbiAgICByZXR1cm4gK3Quc3Vic3RyaW5nKDExLCAxMyk7XG4gIH1cbiAgbWludXRlc0Zyb20odCkge1xuICAgIHJldHVybiArdC5zdWJzdHJpbmcoMTQsIDE2KTtcbiAgfVxuICBhcmVEYXlzQ29uc2VjdXRpdmUodCwgbikge1xuICAgIHJldHVybiB0aGlzLmRhdGVTdHJpbmdGcm9tKHRoaXMuYWRkRGF5c1RvRGF0ZVRpbWVTdHJpbmcoMSwgdCkpID09PSB0aGlzLmRhdGVTdHJpbmdGcm9tKG4pO1xuICB9XG4gIHNldEhvdXJJbkRhdGVUaW1lU3RyaW5nKHQsIG4pIHtcbiAgICBjb25zdCBhID0gdGhpcy5kb3VibGVEaWdpdChuKTtcbiAgICByZXR1cm4gdCA9IHQucmVwbGFjZSgvXFxkezJ9Oi8sIGEgKyBcIjpcIiksIHQ7XG4gIH1cbiAgc2V0TWludXRlc0luRGF0ZVRpbWVTdHJpbmcodCwgbikge1xuICAgIGNvbnN0IGEgPSB0aGlzLmRvdWJsZURpZ2l0KG4pO1xuICAgIHJldHVybiB0ID0gdC5yZXBsYWNlKC86XFxkezJ9LywgXCI6XCIgKyBhKSwgdDtcbiAgfVxuICBnZXREYXRlVGltZVN0cmluZ0RheUJvdW5kYXJpZXNGcm9tKHQpIHtcbiAgICBpZiAodGhpcy5EQVlfRU5EIDw9IHRoaXMuREFZX1NUQVJUKSB7XG4gICAgICBjb25zdCByID0gdGhpcy5hZGREYXlzVG9EYXRlVGltZVN0cmluZygxLCB0KSwgcyA9IHRoaXMuc2V0SG91ckluRGF0ZVRpbWVTdHJpbmcociwgdGhpcy5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKHRoaXMuREFZX0VORCkuaG91cik7XG4gICAgICByZXR1cm4geyBzdGFydDogdGhpcy5zZXRIb3VySW5EYXRlVGltZVN0cmluZyh0LCB0aGlzLmdldEhvdXJBbmRNaW51dGVzRnJvbVRpbWVQb2ludHModGhpcy5EQVlfU1RBUlQpLmhvdXIpLCBlbmQ6IHMgfTtcbiAgICB9XG4gICAgY29uc3QgbiA9IHRoaXMuc2V0SG91ckluRGF0ZVRpbWVTdHJpbmcodCwgdGhpcy5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKHRoaXMuREFZX1NUQVJUKS5ob3VyKTtcbiAgICBsZXQgYTtcbiAgICByZXR1cm4gdGhpcy5EQVlfRU5EID09PSBfdC5UV0VMVkVfQU0gPyAoYSA9IHRoaXMuc2V0SG91ckluRGF0ZVRpbWVTdHJpbmcodCwgMjMpLCBhID0gdGhpcy5zZXRNaW51dGVzSW5EYXRlVGltZVN0cmluZyhhLCA1OSkpIDogYSA9IHRoaXMuc2V0SG91ckluRGF0ZVRpbWVTdHJpbmcodCwgdGhpcy5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKHRoaXMuREFZX0VORCkuaG91ciksIHsgc3RhcnQ6IG4sIGVuZDogYSB9O1xuICB9XG4gIGRvdWJsZURpZ2l0KHQpIHtcbiAgICBpZiAodCA8IDAgfHwgdCA+IDYwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1iZXIuIFRoaXMgaXMgbm90IGEgdmFsaWQgaG91ciBvciBtaW51dGVcIik7XG4gICAgcmV0dXJuIHQgPCAxMCA/IFwiMFwiICsgdCA6IFN0cmluZyh0KTtcbiAgfVxufVxuZnVuY3Rpb24gdm4oZSwgdCkge1xuICB2YXIgbiA9IE9iamVjdC5rZXlzKGUpO1xuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBhID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtcbiAgICB0ICYmIChhID0gYS5maWx0ZXIoZnVuY3Rpb24ocikge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTtcbiAgICB9KSksIG4ucHVzaC5hcHBseShuLCBhKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHAoZSkge1xuICBmb3IgKHZhciB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykge1xuICAgIHZhciBuID0gYXJndW1lbnRzW3RdICE9IG51bGwgPyBhcmd1bWVudHNbdF0gOiB7fTtcbiAgICB0ICUgMiA/IHZuKE9iamVjdChuKSwgITApLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgVyhlLCBhLCBuW2FdKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpIDogdm4oT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBhLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sIGEpKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIG10KGUpIHtcbiAgcmV0dXJuIG10ID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSBcInN5bWJvbFwiID8gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0eXBlb2YgdDtcbiAgfSA6IGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gdCAmJiB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiB0LmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgdCAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgdDtcbiAgfSwgbXQoZSk7XG59XG5mdW5jdGlvbiBzcihlLCB0KSB7XG4gIGlmICghKGUgaW5zdGFuY2VvZiB0KSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gZ24oZSwgdCkge1xuICBmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHtcbiAgICB2YXIgYSA9IHRbbl07XG4gICAgYS5lbnVtZXJhYmxlID0gYS5lbnVtZXJhYmxlIHx8ICExLCBhLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gYSAmJiAoYS53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGEua2V5LCBhKTtcbiAgfVxufVxuZnVuY3Rpb24gb3IoZSwgdCwgbikge1xuICByZXR1cm4gdCAmJiBnbihlLnByb3RvdHlwZSwgdCksIG4gJiYgZ24oZSwgbiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6ICExXG4gIH0pLCBlO1xufVxuZnVuY3Rpb24gVyhlLCB0LCBuKSB7XG4gIHJldHVybiB0IGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwge1xuICAgIHZhbHVlOiBuLFxuICAgIGVudW1lcmFibGU6ICEwLFxuICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgd3JpdGFibGU6ICEwXG4gIH0pIDogZVt0XSA9IG4sIGU7XG59XG5mdW5jdGlvbiBYdChlLCB0KSB7XG4gIHJldHVybiBjcihlKSB8fCB1cihlLCB0KSB8fCBkYShlLCB0KSB8fCBtcigpO1xufVxuZnVuY3Rpb24gcWUoZSkge1xuICByZXR1cm4gbHIoZSkgfHwgZHIoZSkgfHwgZGEoZSkgfHwgZnIoKTtcbn1cbmZ1bmN0aW9uIGxyKGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZSkpXG4gICAgcmV0dXJuIFB0KGUpO1xufVxuZnVuY3Rpb24gY3IoZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSlcbiAgICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIGRyKGUpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBlW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBlW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKVxuICAgIHJldHVybiBBcnJheS5mcm9tKGUpO1xufVxuZnVuY3Rpb24gdXIoZSwgdCkge1xuICB2YXIgbiA9IGUgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgZVtTeW1ib2wuaXRlcmF0b3JdIHx8IGVbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobiAhPSBudWxsKSB7XG4gICAgdmFyIGEgPSBbXSwgciA9ICEwLCBzID0gITEsIGksIG87XG4gICAgdHJ5IHtcbiAgICAgIGZvciAobiA9IG4uY2FsbChlKTsgIShyID0gKGkgPSBuLm5leHQoKSkuZG9uZSkgJiYgKGEucHVzaChpLnZhbHVlKSwgISh0ICYmIGEubGVuZ3RoID09PSB0KSk7IHIgPSAhMClcbiAgICAgICAgO1xuICAgIH0gY2F0Y2ggKGwpIHtcbiAgICAgIHMgPSAhMCwgbyA9IGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICFyICYmIG4ucmV0dXJuICE9IG51bGwgJiYgbi5yZXR1cm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChzKVxuICAgICAgICAgIHRocm93IG87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG59XG5mdW5jdGlvbiBkYShlLCB0KSB7XG4gIGlmIChlKSB7XG4gICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gUHQoZSwgdCk7XG4gICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIGUuY29uc3RydWN0b3IgJiYgKG4gPSBlLmNvbnN0cnVjdG9yLm5hbWUpLCBuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShlKTtcbiAgICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlcbiAgICAgIHJldHVybiBQdChlLCB0KTtcbiAgfVxufVxuZnVuY3Rpb24gUHQoZSwgdCkge1xuICAodCA9PSBudWxsIHx8IHQgPiBlLmxlbmd0aCkgJiYgKHQgPSBlLmxlbmd0aCk7XG4gIGZvciAodmFyIG4gPSAwLCBhID0gbmV3IEFycmF5KHQpOyBuIDwgdDsgbisrKVxuICAgIGFbbl0gPSBlW25dO1xuICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIGZyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5gKTtcbn1cbmZ1bmN0aW9uIG1yKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLmApO1xufVxudmFyIHBuID0gZnVuY3Rpb24oKSB7XG59LCBVdCA9IHt9LCB1YSA9IHt9LCBmYSA9IG51bGwsIG1hID0ge1xuICBtYXJrOiBwbixcbiAgbWVhc3VyZTogcG5cbn07XG50cnkge1xuICB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgKFV0ID0gd2luZG93KSwgdHlwZW9mIGRvY3VtZW50IDwgXCJ1XCIgJiYgKHVhID0gZG9jdW1lbnQpLCB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA8IFwidVwiICYmIChmYSA9IE11dGF0aW9uT2JzZXJ2ZXIpLCB0eXBlb2YgcGVyZm9ybWFuY2UgPCBcInVcIiAmJiAobWEgPSBwZXJmb3JtYW5jZSk7XG59IGNhdGNoIHtcbn1cbnZhciBociA9IFV0Lm5hdmlnYXRvciB8fCB7fSwgeW4gPSBoci51c2VyQWdlbnQsIGJuID0geW4gPT09IHZvaWQgMCA/IFwiXCIgOiB5biwgeWUgPSBVdCwgTSA9IHVhLCBEbiA9IGZhLCBaZSA9IG1hO1xueWUuZG9jdW1lbnQ7XG52YXIgaGUgPSAhIU0uZG9jdW1lbnRFbGVtZW50ICYmICEhTS5oZWFkICYmIHR5cGVvZiBNLmFkZEV2ZW50TGlzdGVuZXIgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNLmNyZWF0ZUVsZW1lbnQgPT0gXCJmdW5jdGlvblwiLCBoYSA9IH5ibi5pbmRleE9mKFwiTVNJRVwiKSB8fCB+Ym4uaW5kZXhPZihcIlRyaWRlbnQvXCIpLCBldCwgdHQsIG50LCBhdCwgcnQsIGRlID0gXCJfX19GT05UX0FXRVNPTUVfX19cIiwgSXQgPSAxNiwgdmEgPSBcImZhXCIsIGdhID0gXCJzdmctaW5saW5lLS1mYVwiLCBTZSA9IFwiZGF0YS1mYS1pMnN2Z1wiLCBMdCA9IFwiZGF0YS1mYS1wc2V1ZG8tZWxlbWVudFwiLCB2ciA9IFwiZGF0YS1mYS1wc2V1ZG8tZWxlbWVudC1wZW5kaW5nXCIsIFZ0ID0gXCJkYXRhLXByZWZpeFwiLCB4dCA9IFwiZGF0YS1pY29uXCIsIGtuID0gXCJmb250YXdlc29tZS1pMnN2Z1wiLCBnciA9IFwiYXN5bmNcIiwgcHIgPSBbXCJIVE1MXCIsIFwiSEVBRFwiLCBcIlNUWUxFXCIsIFwiU0NSSVBUXCJdLCBwYSA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxufSgpLCBfID0gXCJjbGFzc2ljXCIsIE8gPSBcInNoYXJwXCIsIHF0ID0gW18sIE9dO1xuZnVuY3Rpb24gR2UoZSkge1xuICByZXR1cm4gbmV3IFByb3h5KGUsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKG4sIGEpIHtcbiAgICAgIHJldHVybiBhIGluIG4gPyBuW2FdIDogbltfXTtcbiAgICB9XG4gIH0pO1xufVxudmFyIGplID0gR2UoKGV0ID0ge30sIFcoZXQsIF8sIHtcbiAgZmE6IFwic29saWRcIixcbiAgZmFzOiBcInNvbGlkXCIsXG4gIFwiZmEtc29saWRcIjogXCJzb2xpZFwiLFxuICBmYXI6IFwicmVndWxhclwiLFxuICBcImZhLXJlZ3VsYXJcIjogXCJyZWd1bGFyXCIsXG4gIGZhbDogXCJsaWdodFwiLFxuICBcImZhLWxpZ2h0XCI6IFwibGlnaHRcIixcbiAgZmF0OiBcInRoaW5cIixcbiAgXCJmYS10aGluXCI6IFwidGhpblwiLFxuICBmYWQ6IFwiZHVvdG9uZVwiLFxuICBcImZhLWR1b3RvbmVcIjogXCJkdW90b25lXCIsXG4gIGZhYjogXCJicmFuZHNcIixcbiAgXCJmYS1icmFuZHNcIjogXCJicmFuZHNcIixcbiAgZmFrOiBcImtpdFwiLFxuICBcImZhLWtpdFwiOiBcImtpdFwiXG59KSwgVyhldCwgTywge1xuICBmYTogXCJzb2xpZFwiLFxuICBmYXNzOiBcInNvbGlkXCIsXG4gIFwiZmEtc29saWRcIjogXCJzb2xpZFwiLFxuICBmYXNyOiBcInJlZ3VsYXJcIixcbiAgXCJmYS1yZWd1bGFyXCI6IFwicmVndWxhclwiXG59KSwgZXQpKSwgQmUgPSBHZSgodHQgPSB7fSwgVyh0dCwgXywge1xuICBzb2xpZDogXCJmYXNcIixcbiAgcmVndWxhcjogXCJmYXJcIixcbiAgbGlnaHQ6IFwiZmFsXCIsXG4gIHRoaW46IFwiZmF0XCIsXG4gIGR1b3RvbmU6IFwiZmFkXCIsXG4gIGJyYW5kczogXCJmYWJcIixcbiAga2l0OiBcImZha1wiXG59KSwgVyh0dCwgTywge1xuICBzb2xpZDogXCJmYXNzXCIsXG4gIHJlZ3VsYXI6IFwiZmFzclwiXG59KSwgdHQpKSwgWGUgPSBHZSgobnQgPSB7fSwgVyhudCwgXywge1xuICBmYWI6IFwiZmEtYnJhbmRzXCIsXG4gIGZhZDogXCJmYS1kdW90b25lXCIsXG4gIGZhazogXCJmYS1raXRcIixcbiAgZmFsOiBcImZhLWxpZ2h0XCIsXG4gIGZhcjogXCJmYS1yZWd1bGFyXCIsXG4gIGZhczogXCJmYS1zb2xpZFwiLFxuICBmYXQ6IFwiZmEtdGhpblwiXG59KSwgVyhudCwgTywge1xuICBmYXNzOiBcImZhLXNvbGlkXCIsXG4gIGZhc3I6IFwiZmEtcmVndWxhclwiXG59KSwgbnQpKSwgeXIgPSBHZSgoYXQgPSB7fSwgVyhhdCwgXywge1xuICBcImZhLWJyYW5kc1wiOiBcImZhYlwiLFxuICBcImZhLWR1b3RvbmVcIjogXCJmYWRcIixcbiAgXCJmYS1raXRcIjogXCJmYWtcIixcbiAgXCJmYS1saWdodFwiOiBcImZhbFwiLFxuICBcImZhLXJlZ3VsYXJcIjogXCJmYXJcIixcbiAgXCJmYS1zb2xpZFwiOiBcImZhc1wiLFxuICBcImZhLXRoaW5cIjogXCJmYXRcIlxufSksIFcoYXQsIE8sIHtcbiAgXCJmYS1zb2xpZFwiOiBcImZhc3NcIixcbiAgXCJmYS1yZWd1bGFyXCI6IFwiZmFzclwiXG59KSwgYXQpKSwgYnIgPSAvZmEoc3xyfGx8dHxkfGJ8a3xzc3xzcik/W1xcLVxcIF0vLCB5YSA9IFwiZmEtbGF5ZXJzLXRleHRcIiwgRHIgPSAvRm9udCA/QXdlc29tZSA/KFs1NiBdKikoU29saWR8UmVndWxhcnxMaWdodHxUaGlufER1b3RvbmV8QnJhbmRzfEZyZWV8UHJvfFNoYXJwfEtpdCk/LiovaSwga3IgPSBHZSgocnQgPSB7fSwgVyhydCwgXywge1xuICA5MDA6IFwiZmFzXCIsXG4gIDQwMDogXCJmYXJcIixcbiAgbm9ybWFsOiBcImZhclwiLFxuICAzMDA6IFwiZmFsXCIsXG4gIDEwMDogXCJmYXRcIlxufSksIFcocnQsIE8sIHtcbiAgOTAwOiBcImZhc3NcIixcbiAgNDAwOiBcImZhc3JcIlxufSksIHJ0KSksIGJhID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXSwgd3IgPSBiYS5jb25jYXQoWzExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksIDIwXSksIEVyID0gW1wiY2xhc3NcIiwgXCJkYXRhLXByZWZpeFwiLCBcImRhdGEtaWNvblwiLCBcImRhdGEtZmEtdHJhbnNmb3JtXCIsIFwiZGF0YS1mYS1tYXNrXCJdLCBrZSA9IHtcbiAgR1JPVVA6IFwiZHVvdG9uZS1ncm91cFwiLFxuICBTV0FQX09QQUNJVFk6IFwic3dhcC1vcGFjaXR5XCIsXG4gIFBSSU1BUlk6IFwicHJpbWFyeVwiLFxuICBTRUNPTkRBUlk6IFwic2Vjb25kYXJ5XCJcbn0sIFVlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbk9iamVjdC5rZXlzKEJlW19dKS5tYXAoVWUuYWRkLmJpbmQoVWUpKTtcbk9iamVjdC5rZXlzKEJlW09dKS5tYXAoVWUuYWRkLmJpbmQoVWUpKTtcbnZhciBTciA9IFtdLmNvbmNhdChxdCwgcWUoVWUpLCBbXCIyeHNcIiwgXCJ4c1wiLCBcInNtXCIsIFwibGdcIiwgXCJ4bFwiLCBcIjJ4bFwiLCBcImJlYXRcIiwgXCJib3JkZXJcIiwgXCJmYWRlXCIsIFwiYmVhdC1mYWRlXCIsIFwiYm91bmNlXCIsIFwiZmxpcC1ib3RoXCIsIFwiZmxpcC1ob3Jpem9udGFsXCIsIFwiZmxpcC12ZXJ0aWNhbFwiLCBcImZsaXBcIiwgXCJmd1wiLCBcImludmVyc2VcIiwgXCJsYXllcnMtY291bnRlclwiLCBcImxheWVycy10ZXh0XCIsIFwibGF5ZXJzXCIsIFwibGlcIiwgXCJwdWxsLWxlZnRcIiwgXCJwdWxsLXJpZ2h0XCIsIFwicHVsc2VcIiwgXCJyb3RhdGUtMTgwXCIsIFwicm90YXRlLTI3MFwiLCBcInJvdGF0ZS05MFwiLCBcInJvdGF0ZS1ieVwiLCBcInNoYWtlXCIsIFwic3Bpbi1wdWxzZVwiLCBcInNwaW4tcmV2ZXJzZVwiLCBcInNwaW5cIiwgXCJzdGFjay0xeFwiLCBcInN0YWNrLTJ4XCIsIFwic3RhY2tcIiwgXCJ1bFwiLCBrZS5HUk9VUCwga2UuU1dBUF9PUEFDSVRZLCBrZS5QUklNQVJZLCBrZS5TRUNPTkRBUlldKS5jb25jYXQoYmEubWFwKGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KGUsIFwieFwiKTtcbn0pKS5jb25jYXQod3IubWFwKGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIFwidy1cIi5jb25jYXQoZSk7XG59KSksIEhlID0geWUuRm9udEF3ZXNvbWVDb25maWcgfHwge307XG5mdW5jdGlvbiBUcihlKSB7XG4gIHZhciB0ID0gTS5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W1wiICsgZSArIFwiXVwiKTtcbiAgaWYgKHQpXG4gICAgcmV0dXJuIHQuZ2V0QXR0cmlidXRlKGUpO1xufVxuZnVuY3Rpb24gQXIoZSkge1xuICByZXR1cm4gZSA9PT0gXCJcIiA/ICEwIDogZSA9PT0gXCJmYWxzZVwiID8gITEgOiBlID09PSBcInRydWVcIiA/ICEwIDogZTtcbn1cbmlmIChNICYmIHR5cGVvZiBNLnF1ZXJ5U2VsZWN0b3IgPT0gXCJmdW5jdGlvblwiKSB7XG4gIHZhciBDciA9IFtbXCJkYXRhLWZhbWlseS1wcmVmaXhcIiwgXCJmYW1pbHlQcmVmaXhcIl0sIFtcImRhdGEtY3NzLXByZWZpeFwiLCBcImNzc1ByZWZpeFwiXSwgW1wiZGF0YS1mYW1pbHktZGVmYXVsdFwiLCBcImZhbWlseURlZmF1bHRcIl0sIFtcImRhdGEtc3R5bGUtZGVmYXVsdFwiLCBcInN0eWxlRGVmYXVsdFwiXSwgW1wiZGF0YS1yZXBsYWNlbWVudC1jbGFzc1wiLCBcInJlcGxhY2VtZW50Q2xhc3NcIl0sIFtcImRhdGEtYXV0by1yZXBsYWNlLXN2Z1wiLCBcImF1dG9SZXBsYWNlU3ZnXCJdLCBbXCJkYXRhLWF1dG8tYWRkLWNzc1wiLCBcImF1dG9BZGRDc3NcIl0sIFtcImRhdGEtYXV0by1hMTF5XCIsIFwiYXV0b0ExMXlcIl0sIFtcImRhdGEtc2VhcmNoLXBzZXVkby1lbGVtZW50c1wiLCBcInNlYXJjaFBzZXVkb0VsZW1lbnRzXCJdLCBbXCJkYXRhLW9ic2VydmUtbXV0YXRpb25zXCIsIFwib2JzZXJ2ZU11dGF0aW9uc1wiXSwgW1wiZGF0YS1tdXRhdGUtYXBwcm9hY2hcIiwgXCJtdXRhdGVBcHByb2FjaFwiXSwgW1wiZGF0YS1rZWVwLW9yaWdpbmFsLXNvdXJjZVwiLCBcImtlZXBPcmlnaW5hbFNvdXJjZVwiXSwgW1wiZGF0YS1tZWFzdXJlLXBlcmZvcm1hbmNlXCIsIFwibWVhc3VyZVBlcmZvcm1hbmNlXCJdLCBbXCJkYXRhLXNob3ctbWlzc2luZy1pY29uc1wiLCBcInNob3dNaXNzaW5nSWNvbnNcIl1dO1xuICBDci5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdCA9IFh0KGUsIDIpLCBuID0gdFswXSwgYSA9IHRbMV0sIHIgPSBBcihUcihuKSk7XG4gICAgciAhPSBudWxsICYmIChIZVthXSA9IHIpO1xuICB9KTtcbn1cbnZhciBEYSA9IHtcbiAgc3R5bGVEZWZhdWx0OiBcInNvbGlkXCIsXG4gIGZhbWlseURlZmF1bHQ6IFwiY2xhc3NpY1wiLFxuICBjc3NQcmVmaXg6IHZhLFxuICByZXBsYWNlbWVudENsYXNzOiBnYSxcbiAgYXV0b1JlcGxhY2VTdmc6ICEwLFxuICBhdXRvQWRkQ3NzOiAhMCxcbiAgYXV0b0ExMXk6ICEwLFxuICBzZWFyY2hQc2V1ZG9FbGVtZW50czogITEsXG4gIG9ic2VydmVNdXRhdGlvbnM6ICEwLFxuICBtdXRhdGVBcHByb2FjaDogXCJhc3luY1wiLFxuICBrZWVwT3JpZ2luYWxTb3VyY2U6ICEwLFxuICBtZWFzdXJlUGVyZm9ybWFuY2U6ICExLFxuICBzaG93TWlzc2luZ0ljb25zOiAhMFxufTtcbkhlLmZhbWlseVByZWZpeCAmJiAoSGUuY3NzUHJlZml4ID0gSGUuZmFtaWx5UHJlZml4KTtcbnZhciBMZSA9IHAocCh7fSwgRGEpLCBIZSk7XG5MZS5hdXRvUmVwbGFjZVN2ZyB8fCAoTGUub2JzZXJ2ZU11dGF0aW9ucyA9ICExKTtcbnZhciBiID0ge307XG5PYmplY3Qua2V5cyhEYSkuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCBlLCB7XG4gICAgZW51bWVyYWJsZTogITAsXG4gICAgc2V0OiBmdW5jdGlvbihuKSB7XG4gICAgICBMZVtlXSA9IG4sIFllLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYShiKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBMZVtlXTtcbiAgICB9XG4gIH0pO1xufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoYiwgXCJmYW1pbHlQcmVmaXhcIiwge1xuICBlbnVtZXJhYmxlOiAhMCxcbiAgc2V0OiBmdW5jdGlvbih0KSB7XG4gICAgTGUuY3NzUHJlZml4ID0gdCwgWWUuZm9yRWFjaChmdW5jdGlvbihuKSB7XG4gICAgICByZXR1cm4gbihiKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTGUuY3NzUHJlZml4O1xuICB9XG59KTtcbnllLkZvbnRBd2Vzb21lQ29uZmlnID0gYjtcbnZhciBZZSA9IFtdO1xuZnVuY3Rpb24gX3IoZSkge1xuICByZXR1cm4gWWUucHVzaChlKSwgZnVuY3Rpb24oKSB7XG4gICAgWWUuc3BsaWNlKFllLmluZGV4T2YoZSksIDEpO1xuICB9O1xufVxudmFyIGdlID0gSXQsIHJlID0ge1xuICBzaXplOiAxNixcbiAgeDogMCxcbiAgeTogMCxcbiAgcm90YXRlOiAwLFxuICBmbGlwWDogITEsXG4gIGZsaXBZOiAhMVxufTtcbmZ1bmN0aW9uIE1yKGUpIHtcbiAgaWYgKCEoIWUgfHwgIWhlKSkge1xuICAgIHZhciB0ID0gTS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgdC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIiksIHQuaW5uZXJIVE1MID0gZTtcbiAgICBmb3IgKHZhciBuID0gTS5oZWFkLmNoaWxkTm9kZXMsIGEgPSBudWxsLCByID0gbi5sZW5ndGggLSAxOyByID4gLTE7IHItLSkge1xuICAgICAgdmFyIHMgPSBuW3JdLCBpID0gKHMudGFnTmFtZSB8fCBcIlwiKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgW1wiU1RZTEVcIiwgXCJMSU5LXCJdLmluZGV4T2YoaSkgPiAtMSAmJiAoYSA9IHMpO1xuICAgIH1cbiAgICByZXR1cm4gTS5oZWFkLmluc2VydEJlZm9yZSh0LCBhKSwgZTtcbiAgfVxufVxudmFyIFByID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiO1xuZnVuY3Rpb24gVmUoKSB7XG4gIGZvciAodmFyIGUgPSAxMiwgdCA9IFwiXCI7IGUtLSA+IDA7IClcbiAgICB0ICs9IFByW01hdGgucmFuZG9tKCkgKiA2MiB8IDBdO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uICRlKGUpIHtcbiAgZm9yICh2YXIgdCA9IFtdLCBuID0gKGUgfHwgW10pLmxlbmd0aCA+Pj4gMDsgbi0tOyApXG4gICAgdFtuXSA9IGVbbl07XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gR3QoZSkge1xuICByZXR1cm4gZS5jbGFzc0xpc3QgPyAkZShlLmNsYXNzTGlzdCkgOiAoZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKS5zcGxpdChcIiBcIikuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gdDtcbiAgfSk7XG59XG5mdW5jdGlvbiBrYShlKSB7XG4gIHJldHVybiBcIlwiLmNvbmNhdChlKS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLCBcIiYjMzk7XCIpLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpO1xufVxuZnVuY3Rpb24gSXIoZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZSB8fCB7fSkucmVkdWNlKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICByZXR1cm4gdCArIFwiXCIuY29uY2F0KG4sICc9XCInKS5jb25jYXQoa2EoZVtuXSksICdcIiAnKTtcbiAgfSwgXCJcIikudHJpbSgpO1xufVxuZnVuY3Rpb24gYnQoZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZSB8fCB7fSkucmVkdWNlKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICByZXR1cm4gdCArIFwiXCIuY29uY2F0KG4sIFwiOiBcIikuY29uY2F0KGVbbl0udHJpbSgpLCBcIjtcIik7XG4gIH0sIFwiXCIpO1xufVxuZnVuY3Rpb24gS3QoZSkge1xuICByZXR1cm4gZS5zaXplICE9PSByZS5zaXplIHx8IGUueCAhPT0gcmUueCB8fCBlLnkgIT09IHJlLnkgfHwgZS5yb3RhdGUgIT09IHJlLnJvdGF0ZSB8fCBlLmZsaXBYIHx8IGUuZmxpcFk7XG59XG5mdW5jdGlvbiBMcihlKSB7XG4gIHZhciB0ID0gZS50cmFuc2Zvcm0sIG4gPSBlLmNvbnRhaW5lcldpZHRoLCBhID0gZS5pY29uV2lkdGgsIHIgPSB7XG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQobiAvIDIsIFwiIDI1NilcIilcbiAgfSwgcyA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh0LnggKiAzMiwgXCIsIFwiKS5jb25jYXQodC55ICogMzIsIFwiKSBcIiksIGkgPSBcInNjYWxlKFwiLmNvbmNhdCh0LnNpemUgLyAxNiAqICh0LmZsaXBYID8gLTEgOiAxKSwgXCIsIFwiKS5jb25jYXQodC5zaXplIC8gMTYgKiAodC5mbGlwWSA/IC0xIDogMSksIFwiKSBcIiksIG8gPSBcInJvdGF0ZShcIi5jb25jYXQodC5yb3RhdGUsIFwiIDAgMClcIiksIGwgPSB7XG4gICAgdHJhbnNmb3JtOiBcIlwiLmNvbmNhdChzLCBcIiBcIikuY29uY2F0KGksIFwiIFwiKS5jb25jYXQobylcbiAgfSwgYyA9IHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiLmNvbmNhdChhIC8gMiAqIC0xLCBcIiAtMjU2KVwiKVxuICB9O1xuICByZXR1cm4ge1xuICAgIG91dGVyOiByLFxuICAgIGlubmVyOiBsLFxuICAgIHBhdGg6IGNcbiAgfTtcbn1cbmZ1bmN0aW9uIE9yKGUpIHtcbiAgdmFyIHQgPSBlLnRyYW5zZm9ybSwgbiA9IGUud2lkdGgsIGEgPSBuID09PSB2b2lkIDAgPyBJdCA6IG4sIHIgPSBlLmhlaWdodCwgcyA9IHIgPT09IHZvaWQgMCA/IEl0IDogciwgaSA9IGUuc3RhcnRDZW50ZXJlZCwgbyA9IGkgPT09IHZvaWQgMCA/ICExIDogaSwgbCA9IFwiXCI7XG4gIHJldHVybiBvICYmIGhhID8gbCArPSBcInRyYW5zbGF0ZShcIi5jb25jYXQodC54IC8gZ2UgLSBhIC8gMiwgXCJlbSwgXCIpLmNvbmNhdCh0LnkgLyBnZSAtIHMgLyAyLCBcImVtKSBcIikgOiBvID8gbCArPSBcInRyYW5zbGF0ZShjYWxjKC01MCUgKyBcIi5jb25jYXQodC54IC8gZ2UsIFwiZW0pLCBjYWxjKC01MCUgKyBcIikuY29uY2F0KHQueSAvIGdlLCBcImVtKSkgXCIpIDogbCArPSBcInRyYW5zbGF0ZShcIi5jb25jYXQodC54IC8gZ2UsIFwiZW0sIFwiKS5jb25jYXQodC55IC8gZ2UsIFwiZW0pIFwiKSwgbCArPSBcInNjYWxlKFwiLmNvbmNhdCh0LnNpemUgLyBnZSAqICh0LmZsaXBYID8gLTEgOiAxKSwgXCIsIFwiKS5jb25jYXQodC5zaXplIC8gZ2UgKiAodC5mbGlwWSA/IC0xIDogMSksIFwiKSBcIiksIGwgKz0gXCJyb3RhdGUoXCIuY29uY2F0KHQucm90YXRlLCBcImRlZykgXCIpLCBsO1xufVxudmFyICRyID0gYDpyb290LCA6aG9zdCB7XG4gIC0tZmEtZm9udC1zb2xpZDogbm9ybWFsIDkwMCAxZW0vMSBcIkZvbnQgQXdlc29tZSA2IFNvbGlkXCI7XG4gIC0tZmEtZm9udC1yZWd1bGFyOiBub3JtYWwgNDAwIDFlbS8xIFwiRm9udCBBd2Vzb21lIDYgUmVndWxhclwiO1xuICAtLWZhLWZvbnQtbGlnaHQ6IG5vcm1hbCAzMDAgMWVtLzEgXCJGb250IEF3ZXNvbWUgNiBMaWdodFwiO1xuICAtLWZhLWZvbnQtdGhpbjogbm9ybWFsIDEwMCAxZW0vMSBcIkZvbnQgQXdlc29tZSA2IFRoaW5cIjtcbiAgLS1mYS1mb250LWR1b3RvbmU6IG5vcm1hbCA5MDAgMWVtLzEgXCJGb250IEF3ZXNvbWUgNiBEdW90b25lXCI7XG4gIC0tZmEtZm9udC1zaGFycC1zb2xpZDogbm9ybWFsIDkwMCAxZW0vMSBcIkZvbnQgQXdlc29tZSA2IFNoYXJwXCI7XG4gIC0tZmEtZm9udC1zaGFycC1yZWd1bGFyOiBub3JtYWwgNDAwIDFlbS8xIFwiRm9udCBBd2Vzb21lIDYgU2hhcnBcIjtcbiAgLS1mYS1mb250LWJyYW5kczogbm9ybWFsIDQwMCAxZW0vMSBcIkZvbnQgQXdlc29tZSA2IEJyYW5kc1wiO1xufVxuXG5zdmc6bm90KDpyb290KS5zdmctaW5saW5lLS1mYSwgc3ZnOm5vdCg6aG9zdCkuc3ZnLWlubGluZS0tZmEge1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5cbi5zdmctaW5saW5lLS1mYSB7XG4gIGRpc3BsYXk6IHZhcigtLWZhLWRpc3BsYXksIGlubGluZS1ibG9jayk7XG4gIGhlaWdodDogMWVtO1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgdmVydGljYWwtYWxpZ246IC0wLjEyNWVtO1xufVxuLnN2Zy1pbmxpbmUtLWZhLmZhLTJ4cyB7XG4gIHZlcnRpY2FsLWFsaWduOiAwLjFlbTtcbn1cbi5zdmctaW5saW5lLS1mYS5mYS14cyB7XG4gIHZlcnRpY2FsLWFsaWduOiAwZW07XG59XG4uc3ZnLWlubGluZS0tZmEuZmEtc20ge1xuICB2ZXJ0aWNhbC1hbGlnbjogLTAuMDcxNDI4NTcwNWVtO1xufVxuLnN2Zy1pbmxpbmUtLWZhLmZhLWxnIHtcbiAgdmVydGljYWwtYWxpZ246IC0wLjJlbTtcbn1cbi5zdmctaW5saW5lLS1mYS5mYS14bCB7XG4gIHZlcnRpY2FsLWFsaWduOiAtMC4yNWVtO1xufVxuLnN2Zy1pbmxpbmUtLWZhLmZhLTJ4bCB7XG4gIHZlcnRpY2FsLWFsaWduOiAtMC4zMTI1ZW07XG59XG4uc3ZnLWlubGluZS0tZmEuZmEtcHVsbC1sZWZ0IHtcbiAgbWFyZ2luLXJpZ2h0OiB2YXIoLS1mYS1wdWxsLW1hcmdpbiwgMC4zZW0pO1xuICB3aWR0aDogYXV0bztcbn1cbi5zdmctaW5saW5lLS1mYS5mYS1wdWxsLXJpZ2h0IHtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLWZhLXB1bGwtbWFyZ2luLCAwLjNlbSk7XG4gIHdpZHRoOiBhdXRvO1xufVxuLnN2Zy1pbmxpbmUtLWZhLmZhLWxpIHtcbiAgd2lkdGg6IHZhcigtLWZhLWxpLXdpZHRoLCAyZW0pO1xuICB0b3A6IDAuMjVlbTtcbn1cbi5zdmctaW5saW5lLS1mYS5mYS1mdyB7XG4gIHdpZHRoOiB2YXIoLS1mYS1mdy13aWR0aCwgMS4yNWVtKTtcbn1cblxuLmZhLWxheWVycyBzdmcuc3ZnLWlubGluZS0tZmEge1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIG1hcmdpbjogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdG9wOiAwO1xufVxuXG4uZmEtbGF5ZXJzLWNvdW50ZXIsIC5mYS1sYXllcnMtdGV4dCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mYS1sYXllcnMge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMWVtO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IC0wLjEyNWVtO1xuICB3aWR0aDogMWVtO1xufVxuLmZhLWxheWVycyBzdmcuc3ZnLWlubGluZS0tZmEge1xuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7XG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGNlbnRlcjtcbn1cblxuLmZhLWxheWVycy10ZXh0IHtcbiAgbGVmdDogNTAlO1xuICB0b3A6IDUwJTtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO1xuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7XG59XG5cbi5mYS1sYXllcnMtY291bnRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZhLWNvdW50ZXItYmFja2dyb3VuZC1jb2xvciwgI2ZmMjUzYSk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWZhLWNvdW50ZXItYm9yZGVyLXJhZGl1cywgMWVtKTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgY29sb3I6IHZhcigtLWZhLWludmVyc2UsICNmZmYpO1xuICBsaW5lLWhlaWdodDogdmFyKC0tZmEtY291bnRlci1saW5lLWhlaWdodCwgMSk7XG4gIG1heC13aWR0aDogdmFyKC0tZmEtY291bnRlci1tYXgtd2lkdGgsIDVlbSk7XG4gIG1pbi13aWR0aDogdmFyKC0tZmEtY291bnRlci1taW4td2lkdGgsIDEuNWVtKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcGFkZGluZzogdmFyKC0tZmEtY291bnRlci1wYWRkaW5nLCAwLjI1ZW0gMC41ZW0pO1xuICByaWdodDogdmFyKC0tZmEtcmlnaHQsIDApO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgdG9wOiB2YXIoLS1mYS10b3AsIDApO1xuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtY291bnRlci1zY2FsZSwgMC4yNSkpO1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtY291bnRlci1zY2FsZSwgMC4yNSkpO1xuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCByaWdodDtcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgcmlnaHQ7XG59XG5cbi5mYS1sYXllcnMtYm90dG9tLXJpZ2h0IHtcbiAgYm90dG9tOiB2YXIoLS1mYS1ib3R0b20sIDApO1xuICByaWdodDogdmFyKC0tZmEtcmlnaHQsIDApO1xuICB0b3A6IGF1dG87XG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1sYXllcnMtc2NhbGUsIDAuMjUpKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWxheWVycy1zY2FsZSwgMC4yNSkpO1xuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSByaWdodDtcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gcmlnaHQ7XG59XG5cbi5mYS1sYXllcnMtYm90dG9tLWxlZnQge1xuICBib3R0b206IHZhcigtLWZhLWJvdHRvbSwgMCk7XG4gIGxlZnQ6IHZhcigtLWZhLWxlZnQsIDApO1xuICByaWdodDogYXV0bztcbiAgdG9wOiBhdXRvO1xuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtbGF5ZXJzLXNjYWxlLCAwLjI1KSk7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1sYXllcnMtc2NhbGUsIDAuMjUpKTtcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbn1cblxuLmZhLWxheWVycy10b3AtcmlnaHQge1xuICB0b3A6IHZhcigtLWZhLXRvcCwgMCk7XG4gIHJpZ2h0OiB2YXIoLS1mYS1yaWdodCwgMCk7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1sYXllcnMtc2NhbGUsIDAuMjUpKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWxheWVycy1zY2FsZSwgMC4yNSkpO1xuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCByaWdodDtcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgcmlnaHQ7XG59XG5cbi5mYS1sYXllcnMtdG9wLWxlZnQge1xuICBsZWZ0OiB2YXIoLS1mYS1sZWZ0LCAwKTtcbiAgcmlnaHQ6IGF1dG87XG4gIHRvcDogdmFyKC0tZmEtdG9wLCAwKTtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWxheWVycy1zY2FsZSwgMC4yNSkpO1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtbGF5ZXJzLXNjYWxlLCAwLjI1KSk7XG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG59XG5cbi5mYS0xeCB7XG4gIGZvbnQtc2l6ZTogMWVtO1xufVxuXG4uZmEtMngge1xuICBmb250LXNpemU6IDJlbTtcbn1cblxuLmZhLTN4IHtcbiAgZm9udC1zaXplOiAzZW07XG59XG5cbi5mYS00eCB7XG4gIGZvbnQtc2l6ZTogNGVtO1xufVxuXG4uZmEtNXgge1xuICBmb250LXNpemU6IDVlbTtcbn1cblxuLmZhLTZ4IHtcbiAgZm9udC1zaXplOiA2ZW07XG59XG5cbi5mYS03eCB7XG4gIGZvbnQtc2l6ZTogN2VtO1xufVxuXG4uZmEtOHgge1xuICBmb250LXNpemU6IDhlbTtcbn1cblxuLmZhLTl4IHtcbiAgZm9udC1zaXplOiA5ZW07XG59XG5cbi5mYS0xMHgge1xuICBmb250LXNpemU6IDEwZW07XG59XG5cbi5mYS0yeHMge1xuICBmb250LXNpemU6IDAuNjI1ZW07XG4gIGxpbmUtaGVpZ2h0OiAwLjFlbTtcbiAgdmVydGljYWwtYWxpZ246IDAuMjI1ZW07XG59XG5cbi5mYS14cyB7XG4gIGZvbnQtc2l6ZTogMC43NWVtO1xuICBsaW5lLWhlaWdodDogMC4wODMzMzMzMzM3ZW07XG4gIHZlcnRpY2FsLWFsaWduOiAwLjEyNWVtO1xufVxuXG4uZmEtc20ge1xuICBmb250LXNpemU6IDAuODc1ZW07XG4gIGxpbmUtaGVpZ2h0OiAwLjA3MTQyODU3MThlbTtcbiAgdmVydGljYWwtYWxpZ246IDAuMDUzNTcxNDI5NWVtO1xufVxuXG4uZmEtbGcge1xuICBmb250LXNpemU6IDEuMjVlbTtcbiAgbGluZS1oZWlnaHQ6IDAuMDVlbTtcbiAgdmVydGljYWwtYWxpZ246IC0wLjA3NWVtO1xufVxuXG4uZmEteGwge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBsaW5lLWhlaWdodDogMC4wNDE2NjY2NjgyZW07XG4gIHZlcnRpY2FsLWFsaWduOiAtMC4xMjVlbTtcbn1cblxuLmZhLTJ4bCB7XG4gIGZvbnQtc2l6ZTogMmVtO1xuICBsaW5lLWhlaWdodDogMC4wMzEyNWVtO1xuICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTg3NWVtO1xufVxuXG4uZmEtZncge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxLjI1ZW07XG59XG5cbi5mYS11bCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLWxlZnQ6IHZhcigtLWZhLWxpLW1hcmdpbiwgMi41ZW0pO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG59XG4uZmEtdWwgPiBsaSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmZhLWxpIHtcbiAgbGVmdDogY2FsYyh2YXIoLS1mYS1saS13aWR0aCwgMmVtKSAqIC0xKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiB2YXIoLS1mYS1saS13aWR0aCwgMmVtKTtcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG59XG5cbi5mYS1ib3JkZXIge1xuICBib3JkZXItY29sb3I6IHZhcigtLWZhLWJvcmRlci1jb2xvciwgI2VlZSk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWZhLWJvcmRlci1yYWRpdXMsIDAuMWVtKTtcbiAgYm9yZGVyLXN0eWxlOiB2YXIoLS1mYS1ib3JkZXItc3R5bGUsIHNvbGlkKTtcbiAgYm9yZGVyLXdpZHRoOiB2YXIoLS1mYS1ib3JkZXItd2lkdGgsIDAuMDhlbSk7XG4gIHBhZGRpbmc6IHZhcigtLWZhLWJvcmRlci1wYWRkaW5nLCAwLjJlbSAwLjI1ZW0gMC4xNWVtKTtcbn1cblxuLmZhLXB1bGwtbGVmdCB7XG4gIGZsb2F0OiBsZWZ0O1xuICBtYXJnaW4tcmlnaHQ6IHZhcigtLWZhLXB1bGwtbWFyZ2luLCAwLjNlbSk7XG59XG5cbi5mYS1wdWxsLXJpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBtYXJnaW4tbGVmdDogdmFyKC0tZmEtcHVsbC1tYXJnaW4sIDAuM2VtKTtcbn1cblxuLmZhLWJlYXQge1xuICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYS1iZWF0O1xuICAgICAgICAgIGFuaW1hdGlvbi1uYW1lOiBmYS1iZWF0O1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiB2YXIoLS1mYS1hbmltYXRpb24tZGVsYXksIDBzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kaXJlY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kaXJlY3Rpb24sIG5vcm1hbCk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kdXJhdGlvbiwgMXMpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IHZhcigtLWZhLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGluZmluaXRlKTtcbiAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgZWFzZS1pbi1vdXQpO1xuICAgICAgICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi10aW1pbmcsIGVhc2UtaW4tb3V0KTtcbn1cblxuLmZhLWJvdW5jZSB7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhLWJvdW5jZTtcbiAgICAgICAgICBhbmltYXRpb24tbmFtZTogZmEtYm91bmNlO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiB2YXIoLS1mYS1hbmltYXRpb24tZGVsYXksIDBzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kaXJlY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kaXJlY3Rpb24sIG5vcm1hbCk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kdXJhdGlvbiwgMXMpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IHZhcigtLWZhLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGluZmluaXRlKTtcbiAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgY3ViaWMtYmV6aWVyKDAuMjgsIDAuODQsIDAuNDIsIDEpKTtcbiAgICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBjdWJpYy1iZXppZXIoMC4yOCwgMC44NCwgMC40MiwgMSkpO1xufVxuXG4uZmEtZmFkZSB7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhLWZhZGU7XG4gICAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGZhLWZhZGU7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiB2YXIoLS1mYS1hbmltYXRpb24tZGVsYXksIDBzKTtcbiAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IHZhcigtLWZhLWFuaW1hdGlvbi1kZWxheSwgMHMpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kaXJlY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kaXJlY3Rpb24sIG5vcm1hbCk7XG4gICAgICAgICAgYW5pbWF0aW9uLWRpcmVjdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWRpcmVjdGlvbiwgbm9ybWFsKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kdXJhdGlvbiwgMXMpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWR1cmF0aW9uLCAxcyk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogdmFyKC0tZmEtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgaW5maW5pdGUpO1xuICAgICAgICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IHZhcigtLWZhLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGluZmluaXRlKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpKTtcbiAgICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpKTtcbn1cblxuLmZhLWJlYXQtZmFkZSB7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhLWJlYXQtZmFkZTtcbiAgICAgICAgICBhbmltYXRpb24tbmFtZTogZmEtYmVhdC1mYWRlO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiB2YXIoLS1mYS1hbmltYXRpb24tZGVsYXksIDBzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kaXJlY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kaXJlY3Rpb24sIG5vcm1hbCk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kdXJhdGlvbiwgMXMpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IHZhcigtLWZhLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGluZmluaXRlKTtcbiAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSk7XG4gICAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSk7XG59XG5cbi5mYS1mbGlwIHtcbiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmEtZmxpcDtcbiAgICAgICAgICBhbmltYXRpb24tbmFtZTogZmEtZmxpcDtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IHZhcigtLWZhLWFuaW1hdGlvbi1kZWxheSwgMHMpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWRpcmVjdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgICBhbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWR1cmF0aW9uLCAxcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gICAgICAgICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogdmFyKC0tZmEtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgaW5maW5pdGUpO1xuICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi10aW1pbmcsIGVhc2UtaW4tb3V0KTtcbiAgICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBlYXNlLWluLW91dCk7XG59XG5cbi5mYS1zaGFrZSB7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhLXNoYWtlO1xuICAgICAgICAgIGFuaW1hdGlvbi1uYW1lOiBmYS1zaGFrZTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IHZhcigtLWZhLWFuaW1hdGlvbi1kZWxheSwgMHMpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWRpcmVjdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgICBhbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWR1cmF0aW9uLCAxcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gICAgICAgICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogdmFyKC0tZmEtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgaW5maW5pdGUpO1xuICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi10aW1pbmcsIGxpbmVhcik7XG4gICAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgbGluZWFyKTtcbn1cblxuLmZhLXNwaW4ge1xuICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYS1zcGluO1xuICAgICAgICAgIGFuaW1hdGlvbi1uYW1lOiBmYS1zcGluO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogdmFyKC0tZmEtYW5pbWF0aW9uLWRlbGF5LCAwcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiB2YXIoLS1mYS1hbmltYXRpb24tZGVsYXksIDBzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAgICAgICAgIGFuaW1hdGlvbi1kaXJlY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kaXJlY3Rpb24sIG5vcm1hbCk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDJzKTtcbiAgICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IHZhcigtLWZhLWFuaW1hdGlvbi1kdXJhdGlvbiwgMnMpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IHZhcigtLWZhLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGluZmluaXRlKTtcbiAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLXRpbWluZywgbGluZWFyKTtcbiAgICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBsaW5lYXIpO1xufVxuXG4uZmEtc3Bpbi1yZXZlcnNlIHtcbiAgLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uOiByZXZlcnNlO1xufVxuXG4uZmEtcHVsc2UsXG4uZmEtc3Bpbi1wdWxzZSB7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZhLXNwaW47XG4gICAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGZhLXNwaW47XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWRpcmVjdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgICBhbmltYXRpb24tZGlyZWN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZGlyZWN0aW9uLCBub3JtYWwpO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogdmFyKC0tZmEtYW5pbWF0aW9uLWR1cmF0aW9uLCAxcyk7XG4gICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tZHVyYXRpb24sIDFzKTtcbiAgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiB2YXIoLS1mYS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCBpbmZpbml0ZSk7XG4gICAgICAgICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogdmFyKC0tZmEtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgaW5maW5pdGUpO1xuICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IHZhcigtLWZhLWFuaW1hdGlvbi10aW1pbmcsIHN0ZXBzKDgpKTtcbiAgICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiB2YXIoLS1mYS1hbmltYXRpb24tdGltaW5nLCBzdGVwcyg4KSk7XG59XG5cbkBtZWRpYSAocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKSB7XG4gIC5mYS1iZWF0LFxuLmZhLWJvdW5jZSxcbi5mYS1mYWRlLFxuLmZhLWJlYXQtZmFkZSxcbi5mYS1mbGlwLFxuLmZhLXB1bHNlLFxuLmZhLXNoYWtlLFxuLmZhLXNwaW4sXG4uZmEtc3Bpbi1wdWxzZSB7XG4gICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IC0xbXM7XG4gICAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IC0xbXM7XG4gICAgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDFtcztcbiAgICAgICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMW1zO1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAwcztcbiAgICAgICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IDBzO1xuICAgIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogMHM7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwcztcbiAgfVxufVxuQC13ZWJraXQta2V5ZnJhbWVzIGZhLWJlYXQge1xuICAwJSwgOTAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICB9XG4gIDQ1JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJlYXQtc2NhbGUsIDEuMjUpKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYmVhdC1zY2FsZSwgMS4yNSkpO1xuICB9XG59XG5Aa2V5ZnJhbWVzIGZhLWJlYXQge1xuICAwJSwgOTAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICB9XG4gIDQ1JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJlYXQtc2NhbGUsIDEuMjUpKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYmVhdC1zY2FsZSwgMS4yNSkpO1xuICB9XG59XG5ALXdlYmtpdC1rZXlmcmFtZXMgZmEtYm91bmNlIHtcbiAgMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICB9XG4gIDEwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1zdGFydC1zY2FsZS14LCAxLjEpLCB2YXIoLS1mYS1ib3VuY2Utc3RhcnQtc2NhbGUteSwgMC45KSkgdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYm91bmNlLXN0YXJ0LXNjYWxlLXgsIDEuMSksIHZhcigtLWZhLWJvdW5jZS1zdGFydC1zY2FsZS15LCAwLjkpKSB0cmFuc2xhdGVZKDApO1xuICB9XG4gIDMwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXgsIDAuOSksIHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXksIDEuMSkpIHRyYW5zbGF0ZVkodmFyKC0tZmEtYm91bmNlLWhlaWdodCwgLTAuNWVtKSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXgsIDAuOSksIHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXksIDEuMSkpIHRyYW5zbGF0ZVkodmFyKC0tZmEtYm91bmNlLWhlaWdodCwgLTAuNWVtKSk7XG4gIH1cbiAgNTAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYm91bmNlLWxhbmQtc2NhbGUteCwgMS4wNSksIHZhcigtLWZhLWJvdW5jZS1sYW5kLXNjYWxlLXksIDAuOTUpKSB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1ib3VuY2UtbGFuZC1zY2FsZS14LCAxLjA1KSwgdmFyKC0tZmEtYm91bmNlLWxhbmQtc2NhbGUteSwgMC45NSkpIHRyYW5zbGF0ZVkoMCk7XG4gIH1cbiAgNTclIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSh2YXIoLS1mYS1ib3VuY2UtcmVib3VuZCwgLTAuMTI1ZW0pKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSh2YXIoLS1mYS1ib3VuY2UtcmVib3VuZCwgLTAuMTI1ZW0pKTtcbiAgfVxuICA2NCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICB9XG4gIDEwMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLCAxKSB0cmFuc2xhdGVZKDApO1xuICB9XG59XG5Aa2V5ZnJhbWVzIGZhLWJvdW5jZSB7XG4gIDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxuICAxMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1ib3VuY2Utc3RhcnQtc2NhbGUteCwgMS4xKSwgdmFyKC0tZmEtYm91bmNlLXN0YXJ0LXNjYWxlLXksIDAuOSkpIHRyYW5zbGF0ZVkoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1zdGFydC1zY2FsZS14LCAxLjEpLCB2YXIoLS1mYS1ib3VuY2Utc3RhcnQtc2NhbGUteSwgMC45KSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxuICAzMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1ib3VuY2UtanVtcC1zY2FsZS14LCAwLjkpLCB2YXIoLS1mYS1ib3VuY2UtanVtcC1zY2FsZS15LCAxLjEpKSB0cmFuc2xhdGVZKHZhcigtLWZhLWJvdW5jZS1oZWlnaHQsIC0wLjVlbSkpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1ib3VuY2UtanVtcC1zY2FsZS14LCAwLjkpLCB2YXIoLS1mYS1ib3VuY2UtanVtcC1zY2FsZS15LCAxLjEpKSB0cmFuc2xhdGVZKHZhcigtLWZhLWJvdW5jZS1oZWlnaHQsIC0wLjVlbSkpO1xuICB9XG4gIDUwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1sYW5kLXNjYWxlLXgsIDEuMDUpLCB2YXIoLS1mYS1ib3VuY2UtbGFuZC1zY2FsZS15LCAwLjk1KSkgdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYm91bmNlLWxhbmQtc2NhbGUteCwgMS4wNSksIHZhcigtLWZhLWJvdW5jZS1sYW5kLXNjYWxlLXksIDAuOTUpKSB0cmFuc2xhdGVZKDApO1xuICB9XG4gIDU3JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEsIDEpIHRyYW5zbGF0ZVkodmFyKC0tZmEtYm91bmNlLXJlYm91bmQsIC0wLjEyNWVtKSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEsIDEpIHRyYW5zbGF0ZVkodmFyKC0tZmEtYm91bmNlLXJlYm91bmQsIC0wLjEyNWVtKSk7XG4gIH1cbiAgNjQlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxuICAxMDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxufVxuQC13ZWJraXQta2V5ZnJhbWVzIGZhLWZhZGUge1xuICA1MCUge1xuICAgIG9wYWNpdHk6IHZhcigtLWZhLWZhZGUtb3BhY2l0eSwgMC40KTtcbiAgfVxufVxuQGtleWZyYW1lcyBmYS1mYWRlIHtcbiAgNTAlIHtcbiAgICBvcGFjaXR5OiB2YXIoLS1mYS1mYWRlLW9wYWNpdHksIDAuNCk7XG4gIH1cbn1cbkAtd2Via2l0LWtleWZyYW1lcyBmYS1iZWF0LWZhZGUge1xuICAwJSwgMTAwJSB7XG4gICAgb3BhY2l0eTogdmFyKC0tZmEtYmVhdC1mYWRlLW9wYWNpdHksIDAuNCk7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgfVxuICA1MCUge1xuICAgIG9wYWNpdHk6IDE7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJlYXQtZmFkZS1zY2FsZSwgMS4xMjUpKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYmVhdC1mYWRlLXNjYWxlLCAxLjEyNSkpO1xuICB9XG59XG5Aa2V5ZnJhbWVzIGZhLWJlYXQtZmFkZSB7XG4gIDAlLCAxMDAlIHtcbiAgICBvcGFjaXR5OiB2YXIoLS1mYS1iZWF0LWZhZGUtb3BhY2l0eSwgMC40KTtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICB9XG4gIDUwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYmVhdC1mYWRlLXNjYWxlLCAxLjEyNSkpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSh2YXIoLS1mYS1iZWF0LWZhZGUtc2NhbGUsIDEuMTI1KSk7XG4gIH1cbn1cbkAtd2Via2l0LWtleWZyYW1lcyBmYS1mbGlwIHtcbiAgNTAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlM2QodmFyKC0tZmEtZmxpcC14LCAwKSwgdmFyKC0tZmEtZmxpcC15LCAxKSwgdmFyKC0tZmEtZmxpcC16LCAwKSwgdmFyKC0tZmEtZmxpcC1hbmdsZSwgLTE4MGRlZykpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUzZCh2YXIoLS1mYS1mbGlwLXgsIDApLCB2YXIoLS1mYS1mbGlwLXksIDEpLCB2YXIoLS1mYS1mbGlwLXosIDApLCB2YXIoLS1mYS1mbGlwLWFuZ2xlLCAtMTgwZGVnKSk7XG4gIH1cbn1cbkBrZXlmcmFtZXMgZmEtZmxpcCB7XG4gIDUwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZTNkKHZhcigtLWZhLWZsaXAteCwgMCksIHZhcigtLWZhLWZsaXAteSwgMSksIHZhcigtLWZhLWZsaXAteiwgMCksIHZhcigtLWZhLWZsaXAtYW5nbGUsIC0xODBkZWcpKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlM2QodmFyKC0tZmEtZmxpcC14LCAwKSwgdmFyKC0tZmEtZmxpcC15LCAxKSwgdmFyKC0tZmEtZmxpcC16LCAwKSwgdmFyKC0tZmEtZmxpcC1hbmdsZSwgLTE4MGRlZykpO1xuICB9XG59XG5ALXdlYmtpdC1rZXlmcmFtZXMgZmEtc2hha2Uge1xuICAwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtMTVkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTE1ZGVnKTtcbiAgfVxuICA0JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7XG4gIH1cbiAgOCUsIDI0JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtMThkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTE4ZGVnKTtcbiAgfVxuICAxMiUsIDI4JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxOGRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxOGRlZyk7XG4gIH1cbiAgMTYlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC0yMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMjJkZWcpO1xuICB9XG4gIDIwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgyMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgyMmRlZyk7XG4gIH1cbiAgMzIlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC0xMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMTJkZWcpO1xuICB9XG4gIDM2JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7XG4gIH1cbiAgNDAlLCAxMDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbn1cbkBrZXlmcmFtZXMgZmEtc2hha2Uge1xuICAwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtMTVkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTE1ZGVnKTtcbiAgfVxuICA0JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7XG4gIH1cbiAgOCUsIDI0JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtMThkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTE4ZGVnKTtcbiAgfVxuICAxMiUsIDI4JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxOGRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxOGRlZyk7XG4gIH1cbiAgMTYlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC0yMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMjJkZWcpO1xuICB9XG4gIDIwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgyMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgyMmRlZyk7XG4gIH1cbiAgMzIlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC0xMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMTJkZWcpO1xuICB9XG4gIDM2JSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7XG4gIH1cbiAgNDAlLCAxMDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbn1cbkAtd2Via2l0LWtleWZyYW1lcyBmYS1zcGluIHtcbiAgMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxuICAxMDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG59XG5Aa2V5ZnJhbWVzIGZhLXNwaW4ge1xuICAwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIDEwMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbn1cbi5mYS1yb3RhdGUtOTAge1xuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XG59XG5cbi5mYS1yb3RhdGUtMTgwIHtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XG59XG5cbi5mYS1yb3RhdGUtMjcwIHtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgyNzBkZWcpO1xuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDI3MGRlZyk7XG59XG5cbi5mYS1mbGlwLWhvcml6b250YWwge1xuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLTEsIDEpO1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoLTEsIDEpO1xufVxuXG4uZmEtZmxpcC12ZXJ0aWNhbCB7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLCAtMSk7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLCAtMSk7XG59XG5cbi5mYS1mbGlwLWJvdGgsXG4uZmEtZmxpcC1ob3Jpem9udGFsLmZhLWZsaXAtdmVydGljYWwge1xuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLTEsIC0xKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKC0xLCAtMSk7XG59XG5cbi5mYS1yb3RhdGUtYnkge1xuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKHZhcigtLWZhLXJvdGF0ZS1hbmdsZSwgbm9uZSkpO1xuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKHZhcigtLWZhLXJvdGF0ZS1hbmdsZSwgbm9uZSkpO1xufVxuXG4uZmEtc3RhY2sge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGhlaWdodDogMmVtO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAyLjVlbTtcbn1cblxuLmZhLXN0YWNrLTF4LFxuLmZhLXN0YWNrLTJ4IHtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBtYXJnaW46IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogMDtcbiAgei1pbmRleDogdmFyKC0tZmEtc3RhY2stei1pbmRleCwgYXV0byk7XG59XG5cbi5zdmctaW5saW5lLS1mYS5mYS1zdGFjay0xeCB7XG4gIGhlaWdodDogMWVtO1xuICB3aWR0aDogMS4yNWVtO1xufVxuLnN2Zy1pbmxpbmUtLWZhLmZhLXN0YWNrLTJ4IHtcbiAgaGVpZ2h0OiAyZW07XG4gIHdpZHRoOiAyLjVlbTtcbn1cblxuLmZhLWludmVyc2Uge1xuICBjb2xvcjogdmFyKC0tZmEtaW52ZXJzZSwgI2ZmZik7XG59XG5cbi5zci1vbmx5LFxuLmZhLXNyLW9ubHkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxcHg7XG4gIGhlaWdodDogMXB4O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IC0xcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGJvcmRlci13aWR0aDogMDtcbn1cblxuLnNyLW9ubHktZm9jdXNhYmxlOm5vdCg6Zm9jdXMpLFxuLmZhLXNyLW9ubHktZm9jdXNhYmxlOm5vdCg6Zm9jdXMpIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMXB4O1xuICBoZWlnaHQ6IDFweDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAtMXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBib3JkZXItd2lkdGg6IDA7XG59XG5cbi5zdmctaW5saW5lLS1mYSAuZmEtcHJpbWFyeSB7XG4gIGZpbGw6IHZhcigtLWZhLXByaW1hcnktY29sb3IsIGN1cnJlbnRDb2xvcik7XG4gIG9wYWNpdHk6IHZhcigtLWZhLXByaW1hcnktb3BhY2l0eSwgMSk7XG59XG5cbi5zdmctaW5saW5lLS1mYSAuZmEtc2Vjb25kYXJ5IHtcbiAgZmlsbDogdmFyKC0tZmEtc2Vjb25kYXJ5LWNvbG9yLCBjdXJyZW50Q29sb3IpO1xuICBvcGFjaXR5OiB2YXIoLS1mYS1zZWNvbmRhcnktb3BhY2l0eSwgMC40KTtcbn1cblxuLnN2Zy1pbmxpbmUtLWZhLmZhLXN3YXAtb3BhY2l0eSAuZmEtcHJpbWFyeSB7XG4gIG9wYWNpdHk6IHZhcigtLWZhLXNlY29uZGFyeS1vcGFjaXR5LCAwLjQpO1xufVxuXG4uc3ZnLWlubGluZS0tZmEuZmEtc3dhcC1vcGFjaXR5IC5mYS1zZWNvbmRhcnkge1xuICBvcGFjaXR5OiB2YXIoLS1mYS1wcmltYXJ5LW9wYWNpdHksIDEpO1xufVxuXG4uc3ZnLWlubGluZS0tZmEgbWFzayAuZmEtcHJpbWFyeSxcbi5zdmctaW5saW5lLS1mYSBtYXNrIC5mYS1zZWNvbmRhcnkge1xuICBmaWxsOiBibGFjaztcbn1cblxuLmZhZC5mYS1pbnZlcnNlLFxuLmZhLWR1b3RvbmUuZmEtaW52ZXJzZSB7XG4gIGNvbG9yOiB2YXIoLS1mYS1pbnZlcnNlLCAjZmZmKTtcbn1gO1xuZnVuY3Rpb24gd2EoKSB7XG4gIHZhciBlID0gdmEsIHQgPSBnYSwgbiA9IGIuY3NzUHJlZml4LCBhID0gYi5yZXBsYWNlbWVudENsYXNzLCByID0gJHI7XG4gIGlmIChuICE9PSBlIHx8IGEgIT09IHQpIHtcbiAgICB2YXIgcyA9IG5ldyBSZWdFeHAoXCJcXFxcLlwiLmNvbmNhdChlLCBcIlxcXFwtXCIpLCBcImdcIiksIGkgPSBuZXcgUmVnRXhwKFwiXFxcXC0tXCIuY29uY2F0KGUsIFwiXFxcXC1cIiksIFwiZ1wiKSwgbyA9IG5ldyBSZWdFeHAoXCJcXFxcLlwiLmNvbmNhdCh0KSwgXCJnXCIpO1xuICAgIHIgPSByLnJlcGxhY2UocywgXCIuXCIuY29uY2F0KG4sIFwiLVwiKSkucmVwbGFjZShpLCBcIi0tXCIuY29uY2F0KG4sIFwiLVwiKSkucmVwbGFjZShvLCBcIi5cIi5jb25jYXQoYSkpO1xuICB9XG4gIHJldHVybiByO1xufVxudmFyIHduID0gITE7XG5mdW5jdGlvbiBTdCgpIHtcbiAgYi5hdXRvQWRkQ3NzICYmICF3biAmJiAoTXIod2EoKSksIHduID0gITApO1xufVxudmFyIEZyID0ge1xuICBtaXhvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkb206IHtcbiAgICAgICAgY3NzOiB3YSxcbiAgICAgICAgaW5zZXJ0Q3NzOiBTdFxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGhvb2tzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmVmb3JlRE9NRWxlbWVudENyZWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgU3QoKTtcbiAgICAgIH0sXG4gICAgICBiZWZvcmVJMnN2ZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIFN0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSwgdWUgPSB5ZSB8fCB7fTtcbnVlW2RlXSB8fCAodWVbZGVdID0ge30pO1xudWVbZGVdLnN0eWxlcyB8fCAodWVbZGVdLnN0eWxlcyA9IHt9KTtcbnVlW2RlXS5ob29rcyB8fCAodWVbZGVdLmhvb2tzID0ge30pO1xudWVbZGVdLnNoaW1zIHx8ICh1ZVtkZV0uc2hpbXMgPSBbXSk7XG52YXIgdGUgPSB1ZVtkZV0sIEVhID0gW10sIFJyID0gZnVuY3Rpb24gZSgpIHtcbiAgTS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBlKSwgaHQgPSAxLCBFYS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0KCk7XG4gIH0pO1xufSwgaHQgPSAhMTtcbmhlICYmIChodCA9IChNLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCA/IC9ebG9hZGVkfF5jLyA6IC9ebG9hZGVkfF5pfF5jLykudGVzdChNLnJlYWR5U3RhdGUpLCBodCB8fCBNLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIFJyKSk7XG5mdW5jdGlvbiBOcihlKSB7XG4gIGhlICYmIChodCA/IHNldFRpbWVvdXQoZSwgMCkgOiBFYS5wdXNoKGUpKTtcbn1cbmZ1bmN0aW9uIEtlKGUpIHtcbiAgdmFyIHQgPSBlLnRhZywgbiA9IGUuYXR0cmlidXRlcywgYSA9IG4gPT09IHZvaWQgMCA/IHt9IDogbiwgciA9IGUuY2hpbGRyZW4sIHMgPSByID09PSB2b2lkIDAgPyBbXSA6IHI7XG4gIHJldHVybiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8ga2EoZSkgOiBcIjxcIi5jb25jYXQodCwgXCIgXCIpLmNvbmNhdChJcihhKSwgXCI+XCIpLmNvbmNhdChzLm1hcChLZSkuam9pbihcIlwiKSwgXCI8L1wiKS5jb25jYXQodCwgXCI+XCIpO1xufVxuZnVuY3Rpb24gRW4oZSwgdCwgbikge1xuICBpZiAoZSAmJiBlW3RdICYmIGVbdF1bbl0pXG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeDogdCxcbiAgICAgIGljb25OYW1lOiBuLFxuICAgICAgaWNvbjogZVt0XVtuXVxuICAgIH07XG59XG52YXIgV3IgPSBmdW5jdGlvbih0LCBuKSB7XG4gIHJldHVybiBmdW5jdGlvbihhLCByLCBzLCBpKSB7XG4gICAgcmV0dXJuIHQuY2FsbChuLCBhLCByLCBzLCBpKTtcbiAgfTtcbn0sIFR0ID0gZnVuY3Rpb24odCwgbiwgYSwgcikge1xuICB2YXIgcyA9IE9iamVjdC5rZXlzKHQpLCBpID0gcy5sZW5ndGgsIG8gPSByICE9PSB2b2lkIDAgPyBXcihuLCByKSA6IG4sIGwsIGMsIGQ7XG4gIGZvciAoYSA9PT0gdm9pZCAwID8gKGwgPSAxLCBkID0gdFtzWzBdXSkgOiAobCA9IDAsIGQgPSBhKTsgbCA8IGk7IGwrKylcbiAgICBjID0gc1tsXSwgZCA9IG8oZCwgdFtjXSwgYywgdCk7XG4gIHJldHVybiBkO1xufTtcbmZ1bmN0aW9uIEhyKGUpIHtcbiAgZm9yICh2YXIgdCA9IFtdLCBuID0gMCwgYSA9IGUubGVuZ3RoOyBuIDwgYTsgKSB7XG4gICAgdmFyIHIgPSBlLmNoYXJDb2RlQXQobisrKTtcbiAgICBpZiAociA+PSA1NTI5NiAmJiByIDw9IDU2MzE5ICYmIG4gPCBhKSB7XG4gICAgICB2YXIgcyA9IGUuY2hhckNvZGVBdChuKyspO1xuICAgICAgKHMgJiA2NDUxMikgPT0gNTYzMjAgPyB0LnB1c2goKChyICYgMTAyMykgPDwgMTApICsgKHMgJiAxMDIzKSArIDY1NTM2KSA6ICh0LnB1c2gociksIG4tLSk7XG4gICAgfSBlbHNlXG4gICAgICB0LnB1c2gocik7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBPdChlKSB7XG4gIHZhciB0ID0gSHIoZSk7XG4gIHJldHVybiB0Lmxlbmd0aCA9PT0gMSA/IHRbMF0udG9TdHJpbmcoMTYpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIFlyKGUsIHQpIHtcbiAgdmFyIG4gPSBlLmxlbmd0aCwgYSA9IGUuY2hhckNvZGVBdCh0KSwgcjtcbiAgcmV0dXJuIGEgPj0gNTUyOTYgJiYgYSA8PSA1NjMxOSAmJiBuID4gdCArIDEgJiYgKHIgPSBlLmNoYXJDb2RlQXQodCArIDEpLCByID49IDU2MzIwICYmIHIgPD0gNTczNDMpID8gKGEgLSA1NTI5NikgKiAxMDI0ICsgciAtIDU2MzIwICsgNjU1MzYgOiBhO1xufVxuZnVuY3Rpb24gU24oZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICB2YXIgYSA9IGVbbl0sIHIgPSAhIWEuaWNvbjtcbiAgICByZXR1cm4gciA/IHRbYS5pY29uTmFtZV0gPSBhLmljb24gOiB0W25dID0gYSwgdDtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gJHQoZSwgdCkge1xuICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzJdIDoge30sIGEgPSBuLnNraXBIb29rcywgciA9IGEgPT09IHZvaWQgMCA/ICExIDogYSwgcyA9IFNuKHQpO1xuICB0eXBlb2YgdGUuaG9va3MuYWRkUGFjayA9PSBcImZ1bmN0aW9uXCIgJiYgIXIgPyB0ZS5ob29rcy5hZGRQYWNrKGUsIFNuKHQpKSA6IHRlLnN0eWxlc1tlXSA9IHAocCh7fSwgdGUuc3R5bGVzW2VdIHx8IHt9KSwgcyksIGUgPT09IFwiZmFzXCIgJiYgJHQoXCJmYVwiLCB0KTtcbn1cbnZhciBpdCwgc3QsIG90LCBDZSA9IHRlLnN0eWxlcywgenIgPSB0ZS5zaGltcywganIgPSAoaXQgPSB7fSwgVyhpdCwgXywgT2JqZWN0LnZhbHVlcyhYZVtfXSkpLCBXKGl0LCBPLCBPYmplY3QudmFsdWVzKFhlW09dKSksIGl0KSwgUXQgPSBudWxsLCBTYSA9IHt9LCBUYSA9IHt9LCBBYSA9IHt9LCBDYSA9IHt9LCBfYSA9IHt9LCBCciA9IChzdCA9IHt9LCBXKHN0LCBfLCBPYmplY3Qua2V5cyhqZVtfXSkpLCBXKHN0LCBPLCBPYmplY3Qua2V5cyhqZVtPXSkpLCBzdCk7XG5mdW5jdGlvbiBYcihlKSB7XG4gIHJldHVybiB+U3IuaW5kZXhPZihlKTtcbn1cbmZ1bmN0aW9uIFVyKGUsIHQpIHtcbiAgdmFyIG4gPSB0LnNwbGl0KFwiLVwiKSwgYSA9IG5bMF0sIHIgPSBuLnNsaWNlKDEpLmpvaW4oXCItXCIpO1xuICByZXR1cm4gYSA9PT0gZSAmJiByICE9PSBcIlwiICYmICFYcihyKSA/IHIgOiBudWxsO1xufVxudmFyIE1hID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24ocykge1xuICAgIHJldHVybiBUdChDZSwgZnVuY3Rpb24oaSwgbywgbCkge1xuICAgICAgcmV0dXJuIGlbbF0gPSBUdChvLCBzLCB7fSksIGk7XG4gICAgfSwge30pO1xuICB9O1xuICBTYSA9IHQoZnVuY3Rpb24ociwgcywgaSkge1xuICAgIGlmIChzWzNdICYmIChyW3NbM11dID0gaSksIHNbMl0pIHtcbiAgICAgIHZhciBvID0gc1syXS5maWx0ZXIoZnVuY3Rpb24obCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGwgPT0gXCJudW1iZXJcIjtcbiAgICAgIH0pO1xuICAgICAgby5mb3JFYWNoKGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgcltsLnRvU3RyaW5nKDE2KV0gPSBpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9KSwgVGEgPSB0KGZ1bmN0aW9uKHIsIHMsIGkpIHtcbiAgICBpZiAocltpXSA9IGksIHNbMl0pIHtcbiAgICAgIHZhciBvID0gc1syXS5maWx0ZXIoZnVuY3Rpb24obCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGwgPT0gXCJzdHJpbmdcIjtcbiAgICAgIH0pO1xuICAgICAgby5mb3JFYWNoKGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgcltsXSA9IGk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0pLCBfYSA9IHQoZnVuY3Rpb24ociwgcywgaSkge1xuICAgIHZhciBvID0gc1syXTtcbiAgICByZXR1cm4gcltpXSA9IGksIG8uZm9yRWFjaChmdW5jdGlvbihsKSB7XG4gICAgICByW2xdID0gaTtcbiAgICB9KSwgcjtcbiAgfSk7XG4gIHZhciBuID0gXCJmYXJcIiBpbiBDZSB8fCBiLmF1dG9GZXRjaFN2ZywgYSA9IFR0KHpyLCBmdW5jdGlvbihyLCBzKSB7XG4gICAgdmFyIGkgPSBzWzBdLCBvID0gc1sxXSwgbCA9IHNbMl07XG4gICAgcmV0dXJuIG8gPT09IFwiZmFyXCIgJiYgIW4gJiYgKG8gPSBcImZhc1wiKSwgdHlwZW9mIGkgPT0gXCJzdHJpbmdcIiAmJiAoci5uYW1lc1tpXSA9IHtcbiAgICAgIHByZWZpeDogbyxcbiAgICAgIGljb25OYW1lOiBsXG4gICAgfSksIHR5cGVvZiBpID09IFwibnVtYmVyXCIgJiYgKHIudW5pY29kZXNbaS50b1N0cmluZygxNildID0ge1xuICAgICAgcHJlZml4OiBvLFxuICAgICAgaWNvbk5hbWU6IGxcbiAgICB9KSwgcjtcbiAgfSwge1xuICAgIG5hbWVzOiB7fSxcbiAgICB1bmljb2Rlczoge31cbiAgfSk7XG4gIEFhID0gYS5uYW1lcywgQ2EgPSBhLnVuaWNvZGVzLCBRdCA9IER0KGIuc3R5bGVEZWZhdWx0LCB7XG4gICAgZmFtaWx5OiBiLmZhbWlseURlZmF1bHRcbiAgfSk7XG59O1xuX3IoZnVuY3Rpb24oZSkge1xuICBRdCA9IER0KGUuc3R5bGVEZWZhdWx0LCB7XG4gICAgZmFtaWx5OiBiLmZhbWlseURlZmF1bHRcbiAgfSk7XG59KTtcbk1hKCk7XG5mdW5jdGlvbiBKdChlLCB0KSB7XG4gIHJldHVybiAoU2FbZV0gfHwge30pW3RdO1xufVxuZnVuY3Rpb24gVnIoZSwgdCkge1xuICByZXR1cm4gKFRhW2VdIHx8IHt9KVt0XTtcbn1cbmZ1bmN0aW9uIHdlKGUsIHQpIHtcbiAgcmV0dXJuIChfYVtlXSB8fCB7fSlbdF07XG59XG5mdW5jdGlvbiBQYShlKSB7XG4gIHJldHVybiBBYVtlXSB8fCB7XG4gICAgcHJlZml4OiBudWxsLFxuICAgIGljb25OYW1lOiBudWxsXG4gIH07XG59XG5mdW5jdGlvbiB4cihlKSB7XG4gIHZhciB0ID0gQ2FbZV0sIG4gPSBKdChcImZhc1wiLCBlKTtcbiAgcmV0dXJuIHQgfHwgKG4gPyB7XG4gICAgcHJlZml4OiBcImZhc1wiLFxuICAgIGljb25OYW1lOiBuXG4gIH0gOiBudWxsKSB8fCB7XG4gICAgcHJlZml4OiBudWxsLFxuICAgIGljb25OYW1lOiBudWxsXG4gIH07XG59XG5mdW5jdGlvbiBiZSgpIHtcbiAgcmV0dXJuIFF0O1xufVxudmFyIFp0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcHJlZml4OiBudWxsLFxuICAgIGljb25OYW1lOiBudWxsLFxuICAgIHJlc3Q6IFtdXG4gIH07XG59O1xuZnVuY3Rpb24gRHQoZSkge1xuICB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge30sIG4gPSB0LmZhbWlseSwgYSA9IG4gPT09IHZvaWQgMCA/IF8gOiBuLCByID0gamVbYV1bZV0sIHMgPSBCZVthXVtlXSB8fCBCZVthXVtyXSwgaSA9IGUgaW4gdGUuc3R5bGVzID8gZSA6IG51bGw7XG4gIHJldHVybiBzIHx8IGkgfHwgbnVsbDtcbn1cbnZhciBUbiA9IChvdCA9IHt9LCBXKG90LCBfLCBPYmplY3Qua2V5cyhYZVtfXSkpLCBXKG90LCBPLCBPYmplY3Qua2V5cyhYZVtPXSkpLCBvdCk7XG5mdW5jdGlvbiBrdChlKSB7XG4gIHZhciB0LCBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fSwgYSA9IG4uc2tpcExvb2t1cHMsIHIgPSBhID09PSB2b2lkIDAgPyAhMSA6IGEsIHMgPSAodCA9IHt9LCBXKHQsIF8sIFwiXCIuY29uY2F0KGIuY3NzUHJlZml4LCBcIi1cIikuY29uY2F0KF8pKSwgVyh0LCBPLCBcIlwiLmNvbmNhdChiLmNzc1ByZWZpeCwgXCItXCIpLmNvbmNhdChPKSksIHQpLCBpID0gbnVsbCwgbyA9IF87XG4gIChlLmluY2x1ZGVzKHNbX10pIHx8IGUuc29tZShmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuIFRuW19dLmluY2x1ZGVzKGMpO1xuICB9KSkgJiYgKG8gPSBfKSwgKGUuaW5jbHVkZXMoc1tPXSkgfHwgZS5zb21lKGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gVG5bT10uaW5jbHVkZXMoYyk7XG4gIH0pKSAmJiAobyA9IE8pO1xuICB2YXIgbCA9IGUucmVkdWNlKGZ1bmN0aW9uKGMsIGQpIHtcbiAgICB2YXIgdSA9IFVyKGIuY3NzUHJlZml4LCBkKTtcbiAgICBpZiAoQ2VbZF0gPyAoZCA9IGpyW29dLmluY2x1ZGVzKGQpID8geXJbb11bZF0gOiBkLCBpID0gZCwgYy5wcmVmaXggPSBkKSA6IEJyW29dLmluZGV4T2YoZCkgPiAtMSA/IChpID0gZCwgYy5wcmVmaXggPSBEdChkLCB7XG4gICAgICBmYW1pbHk6IG9cbiAgICB9KSkgOiB1ID8gYy5pY29uTmFtZSA9IHUgOiBkICE9PSBiLnJlcGxhY2VtZW50Q2xhc3MgJiYgZCAhPT0gc1tfXSAmJiBkICE9PSBzW09dICYmIGMucmVzdC5wdXNoKGQpLCAhciAmJiBjLnByZWZpeCAmJiBjLmljb25OYW1lKSB7XG4gICAgICB2YXIgZyA9IGkgPT09IFwiZmFcIiA/IFBhKGMuaWNvbk5hbWUpIDoge30sIEQgPSB3ZShjLnByZWZpeCwgYy5pY29uTmFtZSk7XG4gICAgICBnLnByZWZpeCAmJiAoaSA9IG51bGwpLCBjLmljb25OYW1lID0gZy5pY29uTmFtZSB8fCBEIHx8IGMuaWNvbk5hbWUsIGMucHJlZml4ID0gZy5wcmVmaXggfHwgYy5wcmVmaXgsIGMucHJlZml4ID09PSBcImZhclwiICYmICFDZS5mYXIgJiYgQ2UuZmFzICYmICFiLmF1dG9GZXRjaFN2ZyAmJiAoYy5wcmVmaXggPSBcImZhc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH0sIFp0KCkpO1xuICByZXR1cm4gKGUuaW5jbHVkZXMoXCJmYS1icmFuZHNcIikgfHwgZS5pbmNsdWRlcyhcImZhYlwiKSkgJiYgKGwucHJlZml4ID0gXCJmYWJcIiksIChlLmluY2x1ZGVzKFwiZmEtZHVvdG9uZVwiKSB8fCBlLmluY2x1ZGVzKFwiZmFkXCIpKSAmJiAobC5wcmVmaXggPSBcImZhZFwiKSwgIWwucHJlZml4ICYmIG8gPT09IE8gJiYgKENlLmZhc3MgfHwgYi5hdXRvRmV0Y2hTdmcpICYmIChsLnByZWZpeCA9IFwiZmFzc1wiLCBsLmljb25OYW1lID0gd2UobC5wcmVmaXgsIGwuaWNvbk5hbWUpIHx8IGwuaWNvbk5hbWUpLCAobC5wcmVmaXggPT09IFwiZmFcIiB8fCBpID09PSBcImZhXCIpICYmIChsLnByZWZpeCA9IGJlKCkgfHwgXCJmYXNcIiksIGw7XG59XG52YXIgcXIgPSAvKiBAX19QVVJFX18gKi8gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUoKSB7XG4gICAgc3IodGhpcywgZSksIHRoaXMuZGVmaW5pdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4gb3IoZSwgW3tcbiAgICBrZXk6IFwiYWRkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgbiA9IHRoaXMsIGEgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gbmV3IEFycmF5KGEpLCBzID0gMDsgcyA8IGE7IHMrKylcbiAgICAgICAgcltzXSA9IGFyZ3VtZW50c1tzXTtcbiAgICAgIHZhciBpID0gci5yZWR1Y2UodGhpcy5fcHVsbERlZmluaXRpb25zLCB7fSk7XG4gICAgICBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgbi5kZWZpbml0aW9uc1tvXSA9IHAocCh7fSwgbi5kZWZpbml0aW9uc1tvXSB8fCB7fSksIGlbb10pLCAkdChvLCBpW29dKTtcbiAgICAgICAgdmFyIGwgPSBYZVtfXVtvXTtcbiAgICAgICAgbCAmJiAkdChsLCBpW29dKSwgTWEoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZGVmaW5pdGlvbnMgPSB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3B1bGxEZWZpbml0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbihuLCBhKSB7XG4gICAgICB2YXIgciA9IGEucHJlZml4ICYmIGEuaWNvbk5hbWUgJiYgYS5pY29uID8ge1xuICAgICAgICAwOiBhXG4gICAgICB9IDogYTtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyKS5tYXAoZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgaSA9IHJbc10sIG8gPSBpLnByZWZpeCwgbCA9IGkuaWNvbk5hbWUsIGMgPSBpLmljb24sIGQgPSBjWzJdO1xuICAgICAgICBuW29dIHx8IChuW29dID0ge30pLCBkLmxlbmd0aCA+IDAgJiYgZC5mb3JFYWNoKGZ1bmN0aW9uKHUpIHtcbiAgICAgICAgICB0eXBlb2YgdSA9PSBcInN0cmluZ1wiICYmIChuW29dW3VdID0gYyk7XG4gICAgICAgIH0pLCBuW29dW2xdID0gYztcbiAgICAgIH0pLCBuO1xuICAgIH1cbiAgfV0pLCBlO1xufSgpLCBBbiA9IFtdLCBfZSA9IHt9LCBQZSA9IHt9LCBHciA9IE9iamVjdC5rZXlzKFBlKTtcbmZ1bmN0aW9uIEtyKGUsIHQpIHtcbiAgdmFyIG4gPSB0Lm1peG91dHNUbztcbiAgcmV0dXJuIEFuID0gZSwgX2UgPSB7fSwgT2JqZWN0LmtleXMoUGUpLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgIEdyLmluZGV4T2YoYSkgPT09IC0xICYmIGRlbGV0ZSBQZVthXTtcbiAgfSksIEFuLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgIHZhciByID0gYS5taXhvdXQgPyBhLm1peG91dCgpIDoge307XG4gICAgaWYgKE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgdHlwZW9mIHJbaV0gPT0gXCJmdW5jdGlvblwiICYmIChuW2ldID0gcltpXSksIG10KHJbaV0pID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHJbaV0pLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgICAgICBuW2ldIHx8IChuW2ldID0ge30pLCBuW2ldW29dID0gcltpXVtvXTtcbiAgICAgIH0pO1xuICAgIH0pLCBhLmhvb2tzKSB7XG4gICAgICB2YXIgcyA9IGEuaG9va3MoKTtcbiAgICAgIE9iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBfZVtpXSB8fCAoX2VbaV0gPSBbXSksIF9lW2ldLnB1c2goc1tpXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYS5wcm92aWRlcyAmJiBhLnByb3ZpZGVzKFBlKTtcbiAgfSksIG47XG59XG5mdW5jdGlvbiBGdChlLCB0KSB7XG4gIGZvciAodmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoLCBhID0gbmV3IEFycmF5KG4gPiAyID8gbiAtIDIgOiAwKSwgciA9IDI7IHIgPCBuOyByKyspXG4gICAgYVtyIC0gMl0gPSBhcmd1bWVudHNbcl07XG4gIHZhciBzID0gX2VbZV0gfHwgW107XG4gIHJldHVybiBzLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgIHQgPSBpLmFwcGx5KG51bGwsIFt0XS5jb25jYXQoYSkpO1xuICB9KSwgdDtcbn1cbmZ1bmN0aW9uIFRlKGUpIHtcbiAgZm9yICh2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGgsIG4gPSBuZXcgQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCBhID0gMTsgYSA8IHQ7IGErKylcbiAgICBuW2EgLSAxXSA9IGFyZ3VtZW50c1thXTtcbiAgdmFyIHIgPSBfZVtlXSB8fCBbXTtcbiAgci5mb3JFYWNoKGZ1bmN0aW9uKHMpIHtcbiAgICBzLmFwcGx5KG51bGwsIG4pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGZlKCkge1xuICB2YXIgZSA9IGFyZ3VtZW50c1swXSwgdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHJldHVybiBQZVtlXSA/IFBlW2VdLmFwcGx5KG51bGwsIHQpIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gUnQoZSkge1xuICBlLnByZWZpeCA9PT0gXCJmYVwiICYmIChlLnByZWZpeCA9IFwiZmFzXCIpO1xuICB2YXIgdCA9IGUuaWNvbk5hbWUsIG4gPSBlLnByZWZpeCB8fCBiZSgpO1xuICBpZiAodClcbiAgICByZXR1cm4gdCA9IHdlKG4sIHQpIHx8IHQsIEVuKElhLmRlZmluaXRpb25zLCBuLCB0KSB8fCBFbih0ZS5zdHlsZXMsIG4sIHQpO1xufVxudmFyIElhID0gbmV3IHFyKCksIFFyID0gZnVuY3Rpb24oKSB7XG4gIGIuYXV0b1JlcGxhY2VTdmcgPSAhMSwgYi5vYnNlcnZlTXV0YXRpb25zID0gITEsIFRlKFwibm9BdXRvXCIpO1xufSwgSnIgPSB7XG4gIGkyc3ZnOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgcmV0dXJuIGhlID8gKFRlKFwiYmVmb3JlSTJzdmdcIiwgdCksIGZlKFwicHNldWRvRWxlbWVudHMyc3ZnXCIsIHQpLCBmZShcImkyc3ZnXCIsIHQpKSA6IFByb21pc2UucmVqZWN0KFwiT3BlcmF0aW9uIHJlcXVpcmVzIGEgRE9NIG9mIHNvbWUga2luZC5cIik7XG4gIH0sXG4gIHdhdGNoOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge30sIG4gPSB0LmF1dG9SZXBsYWNlU3ZnUm9vdDtcbiAgICBiLmF1dG9SZXBsYWNlU3ZnID09PSAhMSAmJiAoYi5hdXRvUmVwbGFjZVN2ZyA9ICEwKSwgYi5vYnNlcnZlTXV0YXRpb25zID0gITAsIE5yKGZ1bmN0aW9uKCkge1xuICAgICAgZWkoe1xuICAgICAgICBhdXRvUmVwbGFjZVN2Z1Jvb3Q6IG5cbiAgICAgIH0pLCBUZShcIndhdGNoXCIsIHQpO1xuICAgIH0pO1xuICB9XG59LCBaciA9IHtcbiAgaWNvbjogZnVuY3Rpb24odCkge1xuICAgIGlmICh0ID09PSBudWxsKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG10KHQpID09PSBcIm9iamVjdFwiICYmIHQucHJlZml4ICYmIHQuaWNvbk5hbWUpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmVmaXg6IHQucHJlZml4LFxuICAgICAgICBpY29uTmFtZTogd2UodC5wcmVmaXgsIHQuaWNvbk5hbWUpIHx8IHQuaWNvbk5hbWVcbiAgICAgIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodCkgJiYgdC5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBuID0gdFsxXS5pbmRleE9mKFwiZmEtXCIpID09PSAwID8gdFsxXS5zbGljZSgzKSA6IHRbMV0sIGEgPSBEdCh0WzBdKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZWZpeDogYSxcbiAgICAgICAgaWNvbk5hbWU6IHdlKGEsIG4pIHx8IG5cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiICYmICh0LmluZGV4T2YoXCJcIi5jb25jYXQoYi5jc3NQcmVmaXgsIFwiLVwiKSkgPiAtMSB8fCB0Lm1hdGNoKGJyKSkpIHtcbiAgICAgIHZhciByID0ga3QodC5zcGxpdChcIiBcIiksIHtcbiAgICAgICAgc2tpcExvb2t1cHM6ICEwXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZWZpeDogci5wcmVmaXggfHwgYmUoKSxcbiAgICAgICAgaWNvbk5hbWU6IHdlKHIucHJlZml4LCByLmljb25OYW1lKSB8fCByLmljb25OYW1lXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIHMgPSBiZSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlZml4OiBzLFxuICAgICAgICBpY29uTmFtZTogd2UocywgdCkgfHwgdFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIEcgPSB7XG4gIG5vQXV0bzogUXIsXG4gIGNvbmZpZzogYixcbiAgZG9tOiBKcixcbiAgcGFyc2U6IFpyLFxuICBsaWJyYXJ5OiBJYSxcbiAgZmluZEljb25EZWZpbml0aW9uOiBSdCxcbiAgdG9IdG1sOiBLZVxufSwgZWkgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9LCBuID0gdC5hdXRvUmVwbGFjZVN2Z1Jvb3QsIGEgPSBuID09PSB2b2lkIDAgPyBNIDogbjtcbiAgKE9iamVjdC5rZXlzKHRlLnN0eWxlcykubGVuZ3RoID4gMCB8fCBiLmF1dG9GZXRjaFN2ZykgJiYgaGUgJiYgYi5hdXRvUmVwbGFjZVN2ZyAmJiBHLmRvbS5pMnN2Zyh7XG4gICAgbm9kZTogYVxuICB9KTtcbn07XG5mdW5jdGlvbiB3dChlLCB0KSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJhYnN0cmFjdFwiLCB7XG4gICAgZ2V0OiB0XG4gIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJodG1sXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGUuYWJzdHJhY3QubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIEtlKGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwibm9kZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChoZSkge1xuICAgICAgICB2YXIgYSA9IE0uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmV0dXJuIGEuaW5uZXJIVE1MID0gZS5odG1sLCBhLmNoaWxkcmVuO1xuICAgICAgfVxuICAgIH1cbiAgfSksIGU7XG59XG5mdW5jdGlvbiB0aShlKSB7XG4gIHZhciB0ID0gZS5jaGlsZHJlbiwgbiA9IGUubWFpbiwgYSA9IGUubWFzaywgciA9IGUuYXR0cmlidXRlcywgcyA9IGUuc3R5bGVzLCBpID0gZS50cmFuc2Zvcm07XG4gIGlmIChLdChpKSAmJiBuLmZvdW5kICYmICFhLmZvdW5kKSB7XG4gICAgdmFyIG8gPSBuLndpZHRoLCBsID0gbi5oZWlnaHQsIGMgPSB7XG4gICAgICB4OiBvIC8gbCAvIDIsXG4gICAgICB5OiAwLjVcbiAgICB9O1xuICAgIHIuc3R5bGUgPSBidChwKHAoe30sIHMpLCB7fSwge1xuICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFwiXCIuY29uY2F0KGMueCArIGkueCAvIDE2LCBcImVtIFwiKS5jb25jYXQoYy55ICsgaS55IC8gMTYsIFwiZW1cIilcbiAgICB9KSk7XG4gIH1cbiAgcmV0dXJuIFt7XG4gICAgdGFnOiBcInN2Z1wiLFxuICAgIGF0dHJpYnV0ZXM6IHIsXG4gICAgY2hpbGRyZW46IHRcbiAgfV07XG59XG5mdW5jdGlvbiBuaShlKSB7XG4gIHZhciB0ID0gZS5wcmVmaXgsIG4gPSBlLmljb25OYW1lLCBhID0gZS5jaGlsZHJlbiwgciA9IGUuYXR0cmlidXRlcywgcyA9IGUuc3ltYm9sLCBpID0gcyA9PT0gITAgPyBcIlwiLmNvbmNhdCh0LCBcIi1cIikuY29uY2F0KGIuY3NzUHJlZml4LCBcIi1cIikuY29uY2F0KG4pIDogcztcbiAgcmV0dXJuIFt7XG4gICAgdGFnOiBcInN2Z1wiLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIHN0eWxlOiBcImRpc3BsYXk6IG5vbmU7XCJcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbe1xuICAgICAgdGFnOiBcInN5bWJvbFwiLFxuICAgICAgYXR0cmlidXRlczogcChwKHt9LCByKSwge30sIHtcbiAgICAgICAgaWQ6IGlcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW46IGFcbiAgICB9XVxuICB9XTtcbn1cbmZ1bmN0aW9uIGVuKGUpIHtcbiAgdmFyIHQgPSBlLmljb25zLCBuID0gdC5tYWluLCBhID0gdC5tYXNrLCByID0gZS5wcmVmaXgsIHMgPSBlLmljb25OYW1lLCBpID0gZS50cmFuc2Zvcm0sIG8gPSBlLnN5bWJvbCwgbCA9IGUudGl0bGUsIGMgPSBlLm1hc2tJZCwgZCA9IGUudGl0bGVJZCwgdSA9IGUuZXh0cmEsIGcgPSBlLndhdGNoYWJsZSwgRCA9IGcgPT09IHZvaWQgMCA/ICExIDogZywgeSA9IGEuZm91bmQgPyBhIDogbiwgayA9IHkud2lkdGgsIHcgPSB5LmhlaWdodCwgaCA9IHIgPT09IFwiZmFrXCIsIHYgPSBbYi5yZXBsYWNlbWVudENsYXNzLCBzID8gXCJcIi5jb25jYXQoYi5jc3NQcmVmaXgsIFwiLVwiKS5jb25jYXQocykgOiBcIlwiXS5maWx0ZXIoZnVuY3Rpb24odmUpIHtcbiAgICByZXR1cm4gdS5jbGFzc2VzLmluZGV4T2YodmUpID09PSAtMTtcbiAgfSkuZmlsdGVyKGZ1bmN0aW9uKHZlKSB7XG4gICAgcmV0dXJuIHZlICE9PSBcIlwiIHx8ICEhdmU7XG4gIH0pLmNvbmNhdCh1LmNsYXNzZXMpLmpvaW4oXCIgXCIpLCBFID0ge1xuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIHUuYXR0cmlidXRlcyksIHt9LCB7XG4gICAgICBcImRhdGEtcHJlZml4XCI6IHIsXG4gICAgICBcImRhdGEtaWNvblwiOiBzLFxuICAgICAgY2xhc3M6IHYsXG4gICAgICByb2xlOiB1LmF0dHJpYnV0ZXMucm9sZSB8fCBcImltZ1wiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIFwiLmNvbmNhdChrLCBcIiBcIikuY29uY2F0KHcpXG4gICAgfSlcbiAgfSwgQyA9IGggJiYgIX51LmNsYXNzZXMuaW5kZXhPZihcImZhLWZ3XCIpID8ge1xuICAgIHdpZHRoOiBcIlwiLmNvbmNhdChrIC8gdyAqIDE2ICogMC4wNjI1LCBcImVtXCIpXG4gIH0gOiB7fTtcbiAgRCAmJiAoRS5hdHRyaWJ1dGVzW1NlXSA9IFwiXCIpLCBsICYmIChFLmNoaWxkcmVuLnB1c2goe1xuICAgIHRhZzogXCJ0aXRsZVwiLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIGlkOiBFLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsbGVkYnlcIl0gfHwgXCJ0aXRsZS1cIi5jb25jYXQoZCB8fCBWZSgpKVxuICAgIH0sXG4gICAgY2hpbGRyZW46IFtsXVxuICB9KSwgZGVsZXRlIEUuYXR0cmlidXRlcy50aXRsZSk7XG4gIHZhciBOID0gcChwKHt9LCBFKSwge30sIHtcbiAgICBwcmVmaXg6IHIsXG4gICAgaWNvbk5hbWU6IHMsXG4gICAgbWFpbjogbixcbiAgICBtYXNrOiBhLFxuICAgIG1hc2tJZDogYyxcbiAgICB0cmFuc2Zvcm06IGksXG4gICAgc3ltYm9sOiBvLFxuICAgIHN0eWxlczogcChwKHt9LCBDKSwgdS5zdHlsZXMpXG4gIH0pLCBuZSA9IGEuZm91bmQgJiYgbi5mb3VuZCA/IGZlKFwiZ2VuZXJhdGVBYnN0cmFjdE1hc2tcIiwgTikgfHwge1xuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhdHRyaWJ1dGVzOiB7fVxuICB9IDogZmUoXCJnZW5lcmF0ZUFic3RyYWN0SWNvblwiLCBOKSB8fCB7XG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGF0dHJpYnV0ZXM6IHt9XG4gIH0sIEogPSBuZS5jaGlsZHJlbiwgRXQgPSBuZS5hdHRyaWJ1dGVzO1xuICByZXR1cm4gTi5jaGlsZHJlbiA9IEosIE4uYXR0cmlidXRlcyA9IEV0LCBvID8gbmkoTikgOiB0aShOKTtcbn1cbmZ1bmN0aW9uIENuKGUpIHtcbiAgdmFyIHQgPSBlLmNvbnRlbnQsIG4gPSBlLndpZHRoLCBhID0gZS5oZWlnaHQsIHIgPSBlLnRyYW5zZm9ybSwgcyA9IGUudGl0bGUsIGkgPSBlLmV4dHJhLCBvID0gZS53YXRjaGFibGUsIGwgPSBvID09PSB2b2lkIDAgPyAhMSA6IG8sIGMgPSBwKHAocCh7fSwgaS5hdHRyaWJ1dGVzKSwgcyA/IHtcbiAgICB0aXRsZTogc1xuICB9IDoge30pLCB7fSwge1xuICAgIGNsYXNzOiBpLmNsYXNzZXMuam9pbihcIiBcIilcbiAgfSk7XG4gIGwgJiYgKGNbU2VdID0gXCJcIik7XG4gIHZhciBkID0gcCh7fSwgaS5zdHlsZXMpO1xuICBLdChyKSAmJiAoZC50cmFuc2Zvcm0gPSBPcih7XG4gICAgdHJhbnNmb3JtOiByLFxuICAgIHN0YXJ0Q2VudGVyZWQ6ICEwLFxuICAgIHdpZHRoOiBuLFxuICAgIGhlaWdodDogYVxuICB9KSwgZFtcIi13ZWJraXQtdHJhbnNmb3JtXCJdID0gZC50cmFuc2Zvcm0pO1xuICB2YXIgdSA9IGJ0KGQpO1xuICB1Lmxlbmd0aCA+IDAgJiYgKGMuc3R5bGUgPSB1KTtcbiAgdmFyIGcgPSBbXTtcbiAgcmV0dXJuIGcucHVzaCh7XG4gICAgdGFnOiBcInNwYW5cIixcbiAgICBhdHRyaWJ1dGVzOiBjLFxuICAgIGNoaWxkcmVuOiBbdF1cbiAgfSksIHMgJiYgZy5wdXNoKHtcbiAgICB0YWc6IFwic3BhblwiLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIGNsYXNzOiBcInNyLW9ubHlcIlxuICAgIH0sXG4gICAgY2hpbGRyZW46IFtzXVxuICB9KSwgZztcbn1cbmZ1bmN0aW9uIGFpKGUpIHtcbiAgdmFyIHQgPSBlLmNvbnRlbnQsIG4gPSBlLnRpdGxlLCBhID0gZS5leHRyYSwgciA9IHAocChwKHt9LCBhLmF0dHJpYnV0ZXMpLCBuID8ge1xuICAgIHRpdGxlOiBuXG4gIH0gOiB7fSksIHt9LCB7XG4gICAgY2xhc3M6IGEuY2xhc3Nlcy5qb2luKFwiIFwiKVxuICB9KSwgcyA9IGJ0KGEuc3R5bGVzKTtcbiAgcy5sZW5ndGggPiAwICYmIChyLnN0eWxlID0gcyk7XG4gIHZhciBpID0gW107XG4gIHJldHVybiBpLnB1c2goe1xuICAgIHRhZzogXCJzcGFuXCIsXG4gICAgYXR0cmlidXRlczogcixcbiAgICBjaGlsZHJlbjogW3RdXG4gIH0pLCBuICYmIGkucHVzaCh7XG4gICAgdGFnOiBcInNwYW5cIixcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICBjbGFzczogXCJzci1vbmx5XCJcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbbl1cbiAgfSksIGk7XG59XG52YXIgQXQgPSB0ZS5zdHlsZXM7XG5mdW5jdGlvbiBOdChlKSB7XG4gIHZhciB0ID0gZVswXSwgbiA9IGVbMV0sIGEgPSBlLnNsaWNlKDQpLCByID0gWHQoYSwgMSksIHMgPSByWzBdLCBpID0gbnVsbDtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkocykgPyBpID0ge1xuICAgIHRhZzogXCJnXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgY2xhc3M6IFwiXCIuY29uY2F0KGIuY3NzUHJlZml4LCBcIi1cIikuY29uY2F0KGtlLkdST1VQKVxuICAgIH0sXG4gICAgY2hpbGRyZW46IFt7XG4gICAgICB0YWc6IFwicGF0aFwiLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBjbGFzczogXCJcIi5jb25jYXQoYi5jc3NQcmVmaXgsIFwiLVwiKS5jb25jYXQoa2UuU0VDT05EQVJZKSxcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogc1swXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHRhZzogXCJwYXRoXCIsXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIGNsYXNzOiBcIlwiLmNvbmNhdChiLmNzc1ByZWZpeCwgXCItXCIpLmNvbmNhdChrZS5QUklNQVJZKSxcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogc1sxXVxuICAgICAgfVxuICAgIH1dXG4gIH0gOiBpID0ge1xuICAgIHRhZzogXCJwYXRoXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIGQ6IHNcbiAgICB9XG4gIH0sIHtcbiAgICBmb3VuZDogITAsXG4gICAgd2lkdGg6IHQsXG4gICAgaGVpZ2h0OiBuLFxuICAgIGljb246IGlcbiAgfTtcbn1cbnZhciByaSA9IHtcbiAgZm91bmQ6ICExLFxuICB3aWR0aDogNTEyLFxuICBoZWlnaHQ6IDUxMlxufTtcbmZ1bmN0aW9uIGlpKGUsIHQpIHtcbiAgIXBhICYmICFiLnNob3dNaXNzaW5nSWNvbnMgJiYgZSAmJiBjb25zb2xlLmVycm9yKCdJY29uIHdpdGggbmFtZSBcIicuY29uY2F0KGUsICdcIiBhbmQgcHJlZml4IFwiJykuY29uY2F0KHQsICdcIiBpcyBtaXNzaW5nLicpKTtcbn1cbmZ1bmN0aW9uIFd0KGUsIHQpIHtcbiAgdmFyIG4gPSB0O1xuICByZXR1cm4gdCA9PT0gXCJmYVwiICYmIGIuc3R5bGVEZWZhdWx0ICE9PSBudWxsICYmICh0ID0gYmUoKSksIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsIHIpIHtcbiAgICBpZiAoZmUoXCJtaXNzaW5nSWNvbkFic3RyYWN0XCIpLCBuID09PSBcImZhXCIpIHtcbiAgICAgIHZhciBzID0gUGEoZSkgfHwge307XG4gICAgICBlID0gcy5pY29uTmFtZSB8fCBlLCB0ID0gcy5wcmVmaXggfHwgdDtcbiAgICB9XG4gICAgaWYgKGUgJiYgdCAmJiBBdFt0XSAmJiBBdFt0XVtlXSkge1xuICAgICAgdmFyIGkgPSBBdFt0XVtlXTtcbiAgICAgIHJldHVybiBhKE50KGkpKTtcbiAgICB9XG4gICAgaWkoZSwgdCksIGEocChwKHt9LCByaSksIHt9LCB7XG4gICAgICBpY29uOiBiLnNob3dNaXNzaW5nSWNvbnMgJiYgZSA/IGZlKFwibWlzc2luZ0ljb25BYnN0cmFjdFwiKSB8fCB7fSA6IHt9XG4gICAgfSkpO1xuICB9KTtcbn1cbnZhciBfbiA9IGZ1bmN0aW9uKCkge1xufSwgSHQgPSBiLm1lYXN1cmVQZXJmb3JtYW5jZSAmJiBaZSAmJiBaZS5tYXJrICYmIFplLm1lYXN1cmUgPyBaZSA6IHtcbiAgbWFyazogX24sXG4gIG1lYXN1cmU6IF9uXG59LCBXZSA9ICdGQSBcIjYuMy4wXCInLCBzaSA9IGZ1bmN0aW9uKHQpIHtcbiAgcmV0dXJuIEh0Lm1hcmsoXCJcIi5jb25jYXQoV2UsIFwiIFwiKS5jb25jYXQodCwgXCIgYmVnaW5zXCIpKSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExhKHQpO1xuICB9O1xufSwgTGEgPSBmdW5jdGlvbih0KSB7XG4gIEh0Lm1hcmsoXCJcIi5jb25jYXQoV2UsIFwiIFwiKS5jb25jYXQodCwgXCIgZW5kc1wiKSksIEh0Lm1lYXN1cmUoXCJcIi5jb25jYXQoV2UsIFwiIFwiKS5jb25jYXQodCksIFwiXCIuY29uY2F0KFdlLCBcIiBcIikuY29uY2F0KHQsIFwiIGJlZ2luc1wiKSwgXCJcIi5jb25jYXQoV2UsIFwiIFwiKS5jb25jYXQodCwgXCIgZW5kc1wiKSk7XG59LCB0biA9IHtcbiAgYmVnaW46IHNpLFxuICBlbmQ6IExhXG59LCBkdCA9IGZ1bmN0aW9uKCkge1xufTtcbmZ1bmN0aW9uIE1uKGUpIHtcbiAgdmFyIHQgPSBlLmdldEF0dHJpYnV0ZSA/IGUuZ2V0QXR0cmlidXRlKFNlKSA6IG51bGw7XG4gIHJldHVybiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gb2koZSkge1xuICB2YXIgdCA9IGUuZ2V0QXR0cmlidXRlID8gZS5nZXRBdHRyaWJ1dGUoVnQpIDogbnVsbCwgbiA9IGUuZ2V0QXR0cmlidXRlID8gZS5nZXRBdHRyaWJ1dGUoeHQpIDogbnVsbDtcbiAgcmV0dXJuIHQgJiYgbjtcbn1cbmZ1bmN0aW9uIGxpKGUpIHtcbiAgcmV0dXJuIGUgJiYgZS5jbGFzc0xpc3QgJiYgZS5jbGFzc0xpc3QuY29udGFpbnMgJiYgZS5jbGFzc0xpc3QuY29udGFpbnMoYi5yZXBsYWNlbWVudENsYXNzKTtcbn1cbmZ1bmN0aW9uIGNpKCkge1xuICBpZiAoYi5hdXRvUmVwbGFjZVN2ZyA9PT0gITApXG4gICAgcmV0dXJuIHV0LnJlcGxhY2U7XG4gIHZhciBlID0gdXRbYi5hdXRvUmVwbGFjZVN2Z107XG4gIHJldHVybiBlIHx8IHV0LnJlcGxhY2U7XG59XG5mdW5jdGlvbiBkaShlKSB7XG4gIHJldHVybiBNLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGUpO1xufVxuZnVuY3Rpb24gdWkoZSkge1xuICByZXR1cm4gTS5jcmVhdGVFbGVtZW50KGUpO1xufVxuZnVuY3Rpb24gT2EoZSkge1xuICB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge30sIG4gPSB0LmNlRm4sIGEgPSBuID09PSB2b2lkIDAgPyBlLnRhZyA9PT0gXCJzdmdcIiA/IGRpIDogdWkgOiBuO1xuICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gTS5jcmVhdGVUZXh0Tm9kZShlKTtcbiAgdmFyIHIgPSBhKGUudGFnKTtcbiAgT2JqZWN0LmtleXMoZS5hdHRyaWJ1dGVzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICByLnNldEF0dHJpYnV0ZShpLCBlLmF0dHJpYnV0ZXNbaV0pO1xuICB9KTtcbiAgdmFyIHMgPSBlLmNoaWxkcmVuIHx8IFtdO1xuICByZXR1cm4gcy5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICByLmFwcGVuZENoaWxkKE9hKGksIHtcbiAgICAgIGNlRm46IGFcbiAgICB9KSk7XG4gIH0pLCByO1xufVxuZnVuY3Rpb24gZmkoZSkge1xuICB2YXIgdCA9IFwiIFwiLmNvbmNhdChlLm91dGVySFRNTCwgXCIgXCIpO1xuICByZXR1cm4gdCA9IFwiXCIuY29uY2F0KHQsIFwiRm9udCBBd2Vzb21lIGZvbnRhd2Vzb21lLmNvbSBcIiksIHQ7XG59XG52YXIgdXQgPSB7XG4gIHJlcGxhY2U6IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRbMF07XG4gICAgaWYgKG4ucGFyZW50Tm9kZSlcbiAgICAgIGlmICh0WzFdLmZvckVhY2goZnVuY3Rpb24ocikge1xuICAgICAgICBuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKE9hKHIpLCBuKTtcbiAgICAgIH0pLCBuLmdldEF0dHJpYnV0ZShTZSkgPT09IG51bGwgJiYgYi5rZWVwT3JpZ2luYWxTb3VyY2UpIHtcbiAgICAgICAgdmFyIGEgPSBNLmNyZWF0ZUNvbW1lbnQoZmkobikpO1xuICAgICAgICBuLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEsIG4pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG4ucmVtb3ZlKCk7XG4gIH0sXG4gIG5lc3Q6IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRbMF0sIGEgPSB0WzFdO1xuICAgIGlmICh+R3QobikuaW5kZXhPZihiLnJlcGxhY2VtZW50Q2xhc3MpKVxuICAgICAgcmV0dXJuIHV0LnJlcGxhY2UodCk7XG4gICAgdmFyIHIgPSBuZXcgUmVnRXhwKFwiXCIuY29uY2F0KGIuY3NzUHJlZml4LCBcIi0uKlwiKSk7XG4gICAgaWYgKGRlbGV0ZSBhWzBdLmF0dHJpYnV0ZXMuaWQsIGFbMF0uYXR0cmlidXRlcy5jbGFzcykge1xuICAgICAgdmFyIHMgPSBhWzBdLmF0dHJpYnV0ZXMuY2xhc3Muc3BsaXQoXCIgXCIpLnJlZHVjZShmdW5jdGlvbihvLCBsKSB7XG4gICAgICAgIHJldHVybiBsID09PSBiLnJlcGxhY2VtZW50Q2xhc3MgfHwgbC5tYXRjaChyKSA/IG8udG9TdmcucHVzaChsKSA6IG8udG9Ob2RlLnB1c2gobCksIG87XG4gICAgICB9LCB7XG4gICAgICAgIHRvTm9kZTogW10sXG4gICAgICAgIHRvU3ZnOiBbXVxuICAgICAgfSk7XG4gICAgICBhWzBdLmF0dHJpYnV0ZXMuY2xhc3MgPSBzLnRvU3ZnLmpvaW4oXCIgXCIpLCBzLnRvTm9kZS5sZW5ndGggPT09IDAgPyBuLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpIDogbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzLnRvTm9kZS5qb2luKFwiIFwiKSk7XG4gICAgfVxuICAgIHZhciBpID0gYS5tYXAoZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIEtlKG8pO1xuICAgIH0pLmpvaW4oYFxuYCk7XG4gICAgbi5zZXRBdHRyaWJ1dGUoU2UsIFwiXCIpLCBuLmlubmVySFRNTCA9IGk7XG4gIH1cbn07XG5mdW5jdGlvbiBQbihlKSB7XG4gIGUoKTtcbn1cbmZ1bmN0aW9uICRhKGUsIHQpIHtcbiAgdmFyIG4gPSB0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIgPyB0IDogZHQ7XG4gIGlmIChlLmxlbmd0aCA9PT0gMClcbiAgICBuKCk7XG4gIGVsc2Uge1xuICAgIHZhciBhID0gUG47XG4gICAgYi5tdXRhdGVBcHByb2FjaCA9PT0gZ3IgJiYgKGEgPSB5ZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgUG4pLCBhKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHIgPSBjaSgpLCBzID0gdG4uYmVnaW4oXCJtdXRhdGVcIik7XG4gICAgICBlLm1hcChyKSwgcygpLCBuKCk7XG4gICAgfSk7XG4gIH1cbn1cbnZhciBubiA9ICExO1xuZnVuY3Rpb24gRmEoKSB7XG4gIG5uID0gITA7XG59XG5mdW5jdGlvbiBZdCgpIHtcbiAgbm4gPSAhMTtcbn1cbnZhciB2dCA9IG51bGw7XG5mdW5jdGlvbiBJbihlKSB7XG4gIGlmIChEbiAmJiBiLm9ic2VydmVNdXRhdGlvbnMpIHtcbiAgICB2YXIgdCA9IGUudHJlZUNhbGxiYWNrLCBuID0gdCA9PT0gdm9pZCAwID8gZHQgOiB0LCBhID0gZS5ub2RlQ2FsbGJhY2ssIHIgPSBhID09PSB2b2lkIDAgPyBkdCA6IGEsIHMgPSBlLnBzZXVkb0VsZW1lbnRzQ2FsbGJhY2ssIGkgPSBzID09PSB2b2lkIDAgPyBkdCA6IHMsIG8gPSBlLm9ic2VydmVNdXRhdGlvbnNSb290LCBsID0gbyA9PT0gdm9pZCAwID8gTSA6IG87XG4gICAgdnQgPSBuZXcgRG4oZnVuY3Rpb24oYykge1xuICAgICAgaWYgKCFubikge1xuICAgICAgICB2YXIgZCA9IGJlKCk7XG4gICAgICAgICRlKGMpLmZvckVhY2goZnVuY3Rpb24odSkge1xuICAgICAgICAgIGlmICh1LnR5cGUgPT09IFwiY2hpbGRMaXN0XCIgJiYgdS5hZGRlZE5vZGVzLmxlbmd0aCA+IDAgJiYgIU1uKHUuYWRkZWROb2Rlc1swXSkgJiYgKGIuc2VhcmNoUHNldWRvRWxlbWVudHMgJiYgaSh1LnRhcmdldCksIG4odS50YXJnZXQpKSwgdS50eXBlID09PSBcImF0dHJpYnV0ZXNcIiAmJiB1LnRhcmdldC5wYXJlbnROb2RlICYmIGIuc2VhcmNoUHNldWRvRWxlbWVudHMgJiYgaSh1LnRhcmdldC5wYXJlbnROb2RlKSwgdS50eXBlID09PSBcImF0dHJpYnV0ZXNcIiAmJiBNbih1LnRhcmdldCkgJiYgfkVyLmluZGV4T2YodS5hdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgICAgIGlmICh1LmF0dHJpYnV0ZU5hbWUgPT09IFwiY2xhc3NcIiAmJiBvaSh1LnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgdmFyIGcgPSBrdChHdCh1LnRhcmdldCkpLCBEID0gZy5wcmVmaXgsIHkgPSBnLmljb25OYW1lO1xuICAgICAgICAgICAgICB1LnRhcmdldC5zZXRBdHRyaWJ1dGUoVnQsIEQgfHwgZCksIHkgJiYgdS50YXJnZXQuc2V0QXR0cmlidXRlKHh0LCB5KTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBsaSh1LnRhcmdldCkgJiYgcih1LnRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLCBoZSAmJiB2dC5vYnNlcnZlKGwsIHtcbiAgICAgIGNoaWxkTGlzdDogITAsXG4gICAgICBhdHRyaWJ1dGVzOiAhMCxcbiAgICAgIGNoYXJhY3RlckRhdGE6ICEwLFxuICAgICAgc3VidHJlZTogITBcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gbWkoKSB7XG4gIHZ0ICYmIHZ0LmRpc2Nvbm5lY3QoKTtcbn1cbmZ1bmN0aW9uIGhpKGUpIHtcbiAgdmFyIHQgPSBlLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLCBuID0gW107XG4gIHJldHVybiB0ICYmIChuID0gdC5zcGxpdChcIjtcIikucmVkdWNlKGZ1bmN0aW9uKGEsIHIpIHtcbiAgICB2YXIgcyA9IHIuc3BsaXQoXCI6XCIpLCBpID0gc1swXSwgbyA9IHMuc2xpY2UoMSk7XG4gICAgcmV0dXJuIGkgJiYgby5sZW5ndGggPiAwICYmIChhW2ldID0gby5qb2luKFwiOlwiKS50cmltKCkpLCBhO1xuICB9LCB7fSkpLCBuO1xufVxuZnVuY3Rpb24gdmkoZSkge1xuICB2YXIgdCA9IGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmVmaXhcIiksIG4gPSBlLmdldEF0dHJpYnV0ZShcImRhdGEtaWNvblwiKSwgYSA9IGUuaW5uZXJUZXh0ICE9PSB2b2lkIDAgPyBlLmlubmVyVGV4dC50cmltKCkgOiBcIlwiLCByID0ga3QoR3QoZSkpO1xuICByZXR1cm4gci5wcmVmaXggfHwgKHIucHJlZml4ID0gYmUoKSksIHQgJiYgbiAmJiAoci5wcmVmaXggPSB0LCByLmljb25OYW1lID0gbiksIHIuaWNvbk5hbWUgJiYgci5wcmVmaXggfHwgKHIucHJlZml4ICYmIGEubGVuZ3RoID4gMCAmJiAoci5pY29uTmFtZSA9IFZyKHIucHJlZml4LCBlLmlubmVyVGV4dCkgfHwgSnQoci5wcmVmaXgsIE90KGUuaW5uZXJUZXh0KSkpLCAhci5pY29uTmFtZSAmJiBiLmF1dG9GZXRjaFN2ZyAmJiBlLmZpcnN0Q2hpbGQgJiYgZS5maXJzdENoaWxkLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiAoci5pY29uTmFtZSA9IGUuZmlyc3RDaGlsZC5kYXRhKSksIHI7XG59XG5mdW5jdGlvbiBnaShlKSB7XG4gIHZhciB0ID0gJGUoZS5hdHRyaWJ1dGVzKS5yZWR1Y2UoZnVuY3Rpb24ociwgcykge1xuICAgIHJldHVybiByLm5hbWUgIT09IFwiY2xhc3NcIiAmJiByLm5hbWUgIT09IFwic3R5bGVcIiAmJiAocltzLm5hbWVdID0gcy52YWx1ZSksIHI7XG4gIH0sIHt9KSwgbiA9IGUuZ2V0QXR0cmlidXRlKFwidGl0bGVcIiksIGEgPSBlLmdldEF0dHJpYnV0ZShcImRhdGEtZmEtdGl0bGUtaWRcIik7XG4gIHJldHVybiBiLmF1dG9BMTF5ICYmIChuID8gdFtcImFyaWEtbGFiZWxsZWRieVwiXSA9IFwiXCIuY29uY2F0KGIucmVwbGFjZW1lbnRDbGFzcywgXCItdGl0bGUtXCIpLmNvbmNhdChhIHx8IFZlKCkpIDogKHRbXCJhcmlhLWhpZGRlblwiXSA9IFwidHJ1ZVwiLCB0LmZvY3VzYWJsZSA9IFwiZmFsc2VcIikpLCB0O1xufVxuZnVuY3Rpb24gcGkoKSB7XG4gIHJldHVybiB7XG4gICAgaWNvbk5hbWU6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdGl0bGVJZDogbnVsbCxcbiAgICBwcmVmaXg6IG51bGwsXG4gICAgdHJhbnNmb3JtOiByZSxcbiAgICBzeW1ib2w6ICExLFxuICAgIG1hc2s6IHtcbiAgICAgIGljb25OYW1lOiBudWxsLFxuICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgcmVzdDogW11cbiAgICB9LFxuICAgIG1hc2tJZDogbnVsbCxcbiAgICBleHRyYToge1xuICAgICAgY2xhc3NlczogW10sXG4gICAgICBzdHlsZXM6IHt9LFxuICAgICAgYXR0cmlidXRlczoge31cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBMbihlKSB7XG4gIHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgc3R5bGVQYXJzZXI6ICEwXG4gIH0sIG4gPSB2aShlKSwgYSA9IG4uaWNvbk5hbWUsIHIgPSBuLnByZWZpeCwgcyA9IG4ucmVzdCwgaSA9IGdpKGUpLCBvID0gRnQoXCJwYXJzZU5vZGVBdHRyaWJ1dGVzXCIsIHt9LCBlKSwgbCA9IHQuc3R5bGVQYXJzZXIgPyBoaShlKSA6IFtdO1xuICByZXR1cm4gcCh7XG4gICAgaWNvbk5hbWU6IGEsXG4gICAgdGl0bGU6IGUuZ2V0QXR0cmlidXRlKFwidGl0bGVcIiksXG4gICAgdGl0bGVJZDogZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZhLXRpdGxlLWlkXCIpLFxuICAgIHByZWZpeDogcixcbiAgICB0cmFuc2Zvcm06IHJlLFxuICAgIG1hc2s6IHtcbiAgICAgIGljb25OYW1lOiBudWxsLFxuICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgcmVzdDogW11cbiAgICB9LFxuICAgIG1hc2tJZDogbnVsbCxcbiAgICBzeW1ib2w6ICExLFxuICAgIGV4dHJhOiB7XG4gICAgICBjbGFzc2VzOiBzLFxuICAgICAgc3R5bGVzOiBsLFxuICAgICAgYXR0cmlidXRlczogaVxuICAgIH1cbiAgfSwgbyk7XG59XG52YXIgeWkgPSB0ZS5zdHlsZXM7XG5mdW5jdGlvbiBSYShlKSB7XG4gIHZhciB0ID0gYi5hdXRvUmVwbGFjZVN2ZyA9PT0gXCJuZXN0XCIgPyBMbihlLCB7XG4gICAgc3R5bGVQYXJzZXI6ICExXG4gIH0pIDogTG4oZSk7XG4gIHJldHVybiB+dC5leHRyYS5jbGFzc2VzLmluZGV4T2YoeWEpID8gZmUoXCJnZW5lcmF0ZUxheWVyc1RleHRcIiwgZSwgdCkgOiBmZShcImdlbmVyYXRlU3ZnUmVwbGFjZW1lbnRNdXRhdGlvblwiLCBlLCB0KTtcbn1cbnZhciBEZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5xdC5tYXAoZnVuY3Rpb24oZSkge1xuICBEZS5hZGQoXCJmYS1cIi5jb25jYXQoZSkpO1xufSk7XG5PYmplY3Qua2V5cyhqZVtfXSkubWFwKERlLmFkZC5iaW5kKERlKSk7XG5PYmplY3Qua2V5cyhqZVtPXSkubWFwKERlLmFkZC5iaW5kKERlKSk7XG5EZSA9IHFlKERlKTtcbmZ1bmN0aW9uIE9uKGUpIHtcbiAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gIGlmICghaGUpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB2YXIgbiA9IE0uZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdCwgYSA9IGZ1bmN0aW9uKHUpIHtcbiAgICByZXR1cm4gbi5hZGQoXCJcIi5jb25jYXQoa24sIFwiLVwiKS5jb25jYXQodSkpO1xuICB9LCByID0gZnVuY3Rpb24odSkge1xuICAgIHJldHVybiBuLnJlbW92ZShcIlwiLmNvbmNhdChrbiwgXCItXCIpLmNvbmNhdCh1KSk7XG4gIH0sIHMgPSBiLmF1dG9GZXRjaFN2ZyA/IERlIDogcXQubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gXCJmYS1cIi5jb25jYXQoZCk7XG4gIH0pLmNvbmNhdChPYmplY3Qua2V5cyh5aSkpO1xuICBzLmluY2x1ZGVzKFwiZmFcIikgfHwgcy5wdXNoKFwiZmFcIik7XG4gIHZhciBpID0gW1wiLlwiLmNvbmNhdCh5YSwgXCI6bm90KFtcIikuY29uY2F0KFNlLCBcIl0pXCIpXS5jb25jYXQocy5tYXAoZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiBcIi5cIi5jb25jYXQoZCwgXCI6bm90KFtcIikuY29uY2F0KFNlLCBcIl0pXCIpO1xuICB9KSkuam9pbihcIiwgXCIpO1xuICBpZiAoaS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB2YXIgbyA9IFtdO1xuICB0cnkge1xuICAgIG8gPSAkZShlLnF1ZXJ5U2VsZWN0b3JBbGwoaSkpO1xuICB9IGNhdGNoIHtcbiAgfVxuICBpZiAoby5sZW5ndGggPiAwKVxuICAgIGEoXCJwZW5kaW5nXCIpLCByKFwiY29tcGxldGVcIik7XG4gIGVsc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHZhciBsID0gdG4uYmVnaW4oXCJvblRyZWVcIiksIGMgPSBvLnJlZHVjZShmdW5jdGlvbihkLCB1KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBnID0gUmEodSk7XG4gICAgICBnICYmIGQucHVzaChnKTtcbiAgICB9IGNhdGNoIChEKSB7XG4gICAgICBwYSB8fCBELm5hbWUgPT09IFwiTWlzc2luZ0ljb25cIiAmJiBjb25zb2xlLmVycm9yKEQpO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfSwgW10pO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCwgdSkge1xuICAgIFByb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oZykge1xuICAgICAgJGEoZywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGEoXCJhY3RpdmVcIiksIGEoXCJjb21wbGV0ZVwiKSwgcihcInBlbmRpbmdcIiksIHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIiAmJiB0KCksIGwoKSwgZCgpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZykge1xuICAgICAgbCgpLCB1KGcpO1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGJpKGUpIHtcbiAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gIFJhKGUpLnRoZW4oZnVuY3Rpb24obikge1xuICAgIG4gJiYgJGEoW25dLCB0KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBEaShlKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IHt9LCBhID0gKHQgfHwge30pLmljb24gPyB0IDogUnQodCB8fCB7fSksIHIgPSBuLm1hc2s7XG4gICAgcmV0dXJuIHIgJiYgKHIgPSAociB8fCB7fSkuaWNvbiA/IHIgOiBSdChyIHx8IHt9KSksIGUoYSwgcChwKHt9LCBuKSwge30sIHtcbiAgICAgIG1hc2s6IHJcbiAgICB9KSk7XG4gIH07XG59XG52YXIga2kgPSBmdW5jdGlvbih0KSB7XG4gIHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fSwgYSA9IG4udHJhbnNmb3JtLCByID0gYSA9PT0gdm9pZCAwID8gcmUgOiBhLCBzID0gbi5zeW1ib2wsIGkgPSBzID09PSB2b2lkIDAgPyAhMSA6IHMsIG8gPSBuLm1hc2ssIGwgPSBvID09PSB2b2lkIDAgPyBudWxsIDogbywgYyA9IG4ubWFza0lkLCBkID0gYyA9PT0gdm9pZCAwID8gbnVsbCA6IGMsIHUgPSBuLnRpdGxlLCBnID0gdSA9PT0gdm9pZCAwID8gbnVsbCA6IHUsIEQgPSBuLnRpdGxlSWQsIHkgPSBEID09PSB2b2lkIDAgPyBudWxsIDogRCwgayA9IG4uY2xhc3NlcywgdyA9IGsgPT09IHZvaWQgMCA/IFtdIDogaywgaCA9IG4uYXR0cmlidXRlcywgdiA9IGggPT09IHZvaWQgMCA/IHt9IDogaCwgRSA9IG4uc3R5bGVzLCBDID0gRSA9PT0gdm9pZCAwID8ge30gOiBFO1xuICBpZiAodCkge1xuICAgIHZhciBOID0gdC5wcmVmaXgsIG5lID0gdC5pY29uTmFtZSwgSiA9IHQuaWNvbjtcbiAgICByZXR1cm4gd3QocCh7XG4gICAgICB0eXBlOiBcImljb25cIlxuICAgIH0sIHQpLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBUZShcImJlZm9yZURPTUVsZW1lbnRDcmVhdGlvblwiLCB7XG4gICAgICAgIGljb25EZWZpbml0aW9uOiB0LFxuICAgICAgICBwYXJhbXM6IG5cbiAgICAgIH0pLCBiLmF1dG9BMTF5ICYmIChnID8gdltcImFyaWEtbGFiZWxsZWRieVwiXSA9IFwiXCIuY29uY2F0KGIucmVwbGFjZW1lbnRDbGFzcywgXCItdGl0bGUtXCIpLmNvbmNhdCh5IHx8IFZlKCkpIDogKHZbXCJhcmlhLWhpZGRlblwiXSA9IFwidHJ1ZVwiLCB2LmZvY3VzYWJsZSA9IFwiZmFsc2VcIikpLCBlbih7XG4gICAgICAgIGljb25zOiB7XG4gICAgICAgICAgbWFpbjogTnQoSiksXG4gICAgICAgICAgbWFzazogbCA/IE50KGwuaWNvbikgOiB7XG4gICAgICAgICAgICBmb3VuZDogITEsXG4gICAgICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgICAgIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIGljb246IHt9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcmVmaXg6IE4sXG4gICAgICAgIGljb25OYW1lOiBuZSxcbiAgICAgICAgdHJhbnNmb3JtOiBwKHAoe30sIHJlKSwgciksXG4gICAgICAgIHN5bWJvbDogaSxcbiAgICAgICAgdGl0bGU6IGcsXG4gICAgICAgIG1hc2tJZDogZCxcbiAgICAgICAgdGl0bGVJZDogeSxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB2LFxuICAgICAgICAgIHN0eWxlczogQyxcbiAgICAgICAgICBjbGFzc2VzOiB3XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59LCB3aSA9IHtcbiAgbWl4b3V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogRGkoa2kpXG4gICAgfTtcbiAgfSxcbiAgaG9va3M6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtdXRhdGlvbk9ic2VydmVyQ2FsbGJhY2tzOiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiBuLnRyZWVDYWxsYmFjayA9IE9uLCBuLm5vZGVDYWxsYmFjayA9IGJpLCBuO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHByb3ZpZGVzOiBmdW5jdGlvbih0KSB7XG4gICAgdC5pMnN2ZyA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgIHZhciBhID0gbi5ub2RlLCByID0gYSA9PT0gdm9pZCAwID8gTSA6IGEsIHMgPSBuLmNhbGxiYWNrLCBpID0gcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7XG4gICAgICB9IDogcztcbiAgICAgIHJldHVybiBPbihyLCBpKTtcbiAgICB9LCB0LmdlbmVyYXRlU3ZnUmVwbGFjZW1lbnRNdXRhdGlvbiA9IGZ1bmN0aW9uKG4sIGEpIHtcbiAgICAgIHZhciByID0gYS5pY29uTmFtZSwgcyA9IGEudGl0bGUsIGkgPSBhLnRpdGxlSWQsIG8gPSBhLnByZWZpeCwgbCA9IGEudHJhbnNmb3JtLCBjID0gYS5zeW1ib2wsIGQgPSBhLm1hc2ssIHUgPSBhLm1hc2tJZCwgZyA9IGEuZXh0cmE7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oRCwgeSkge1xuICAgICAgICBQcm9taXNlLmFsbChbV3QociwgbyksIGQuaWNvbk5hbWUgPyBXdChkLmljb25OYW1lLCBkLnByZWZpeCkgOiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIGZvdW5kOiAhMSxcbiAgICAgICAgICB3aWR0aDogNTEyLFxuICAgICAgICAgIGhlaWdodDogNTEyLFxuICAgICAgICAgIGljb246IHt9XG4gICAgICAgIH0pXSkudGhlbihmdW5jdGlvbihrKSB7XG4gICAgICAgICAgdmFyIHcgPSBYdChrLCAyKSwgaCA9IHdbMF0sIHYgPSB3WzFdO1xuICAgICAgICAgIEQoW24sIGVuKHtcbiAgICAgICAgICAgIGljb25zOiB7XG4gICAgICAgICAgICAgIG1haW46IGgsXG4gICAgICAgICAgICAgIG1hc2s6IHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVmaXg6IG8sXG4gICAgICAgICAgICBpY29uTmFtZTogcixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogbCxcbiAgICAgICAgICAgIHN5bWJvbDogYyxcbiAgICAgICAgICAgIG1hc2tJZDogdSxcbiAgICAgICAgICAgIHRpdGxlOiBzLFxuICAgICAgICAgICAgdGl0bGVJZDogaSxcbiAgICAgICAgICAgIGV4dHJhOiBnLFxuICAgICAgICAgICAgd2F0Y2hhYmxlOiAhMFxuICAgICAgICAgIH0pXSk7XG4gICAgICAgIH0pLmNhdGNoKHkpO1xuICAgICAgfSk7XG4gICAgfSwgdC5nZW5lcmF0ZUFic3RyYWN0SWNvbiA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgIHZhciBhID0gbi5jaGlsZHJlbiwgciA9IG4uYXR0cmlidXRlcywgcyA9IG4ubWFpbiwgaSA9IG4udHJhbnNmb3JtLCBvID0gbi5zdHlsZXMsIGwgPSBidChvKTtcbiAgICAgIGwubGVuZ3RoID4gMCAmJiAoci5zdHlsZSA9IGwpO1xuICAgICAgdmFyIGM7XG4gICAgICByZXR1cm4gS3QoaSkgJiYgKGMgPSBmZShcImdlbmVyYXRlQWJzdHJhY3RUcmFuc2Zvcm1Hcm91cGluZ1wiLCB7XG4gICAgICAgIG1haW46IHMsXG4gICAgICAgIHRyYW5zZm9ybTogaSxcbiAgICAgICAgY29udGFpbmVyV2lkdGg6IHMud2lkdGgsXG4gICAgICAgIGljb25XaWR0aDogcy53aWR0aFxuICAgICAgfSkpLCBhLnB1c2goYyB8fCBzLmljb24pLCB7XG4gICAgICAgIGNoaWxkcmVuOiBhLFxuICAgICAgICBhdHRyaWJ1dGVzOiByXG4gICAgICB9O1xuICAgIH07XG4gIH1cbn0sIEVpID0ge1xuICBtaXhvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXllcjogZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge30sIHIgPSBhLmNsYXNzZXMsIHMgPSByID09PSB2b2lkIDAgPyBbXSA6IHI7XG4gICAgICAgIHJldHVybiB3dCh7XG4gICAgICAgICAgdHlwZTogXCJsYXllclwiXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIFRlKFwiYmVmb3JlRE9NRWxlbWVudENyZWF0aW9uXCIsIHtcbiAgICAgICAgICAgIGFzc2VtYmxlcjogbixcbiAgICAgICAgICAgIHBhcmFtczogYVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBpID0gW107XG4gICAgICAgICAgcmV0dXJuIG4oZnVuY3Rpb24obykge1xuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShvKSA/IG8ubWFwKGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgICAgICAgaSA9IGkuY29uY2F0KGwuYWJzdHJhY3QpO1xuICAgICAgICAgICAgfSkgOiBpID0gaS5jb25jYXQoby5hYnN0cmFjdCk7XG4gICAgICAgICAgfSksIFt7XG4gICAgICAgICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICBjbGFzczogW1wiXCIuY29uY2F0KGIuY3NzUHJlZml4LCBcIi1sYXllcnNcIildLmNvbmNhdChxZShzKSkuam9pbihcIiBcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogaVxuICAgICAgICAgIH1dO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59LCBTaSA9IHtcbiAgbWl4b3V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY291bnRlcjogZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge30sIHIgPSBhLnRpdGxlLCBzID0gciA9PT0gdm9pZCAwID8gbnVsbCA6IHIsIGkgPSBhLmNsYXNzZXMsIG8gPSBpID09PSB2b2lkIDAgPyBbXSA6IGksIGwgPSBhLmF0dHJpYnV0ZXMsIGMgPSBsID09PSB2b2lkIDAgPyB7fSA6IGwsIGQgPSBhLnN0eWxlcywgdSA9IGQgPT09IHZvaWQgMCA/IHt9IDogZDtcbiAgICAgICAgcmV0dXJuIHd0KHtcbiAgICAgICAgICB0eXBlOiBcImNvdW50ZXJcIixcbiAgICAgICAgICBjb250ZW50OiBuXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBUZShcImJlZm9yZURPTUVsZW1lbnRDcmVhdGlvblwiLCB7XG4gICAgICAgICAgICBjb250ZW50OiBuLFxuICAgICAgICAgICAgcGFyYW1zOiBhXG4gICAgICAgICAgfSksIGFpKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IG4udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHRpdGxlOiBzLFxuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogYyxcbiAgICAgICAgICAgICAgc3R5bGVzOiB1LFxuICAgICAgICAgICAgICBjbGFzc2VzOiBbXCJcIi5jb25jYXQoYi5jc3NQcmVmaXgsIFwiLWxheWVycy1jb3VudGVyXCIpXS5jb25jYXQocWUobykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0sIFRpID0ge1xuICBtaXhvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fSwgciA9IGEudHJhbnNmb3JtLCBzID0gciA9PT0gdm9pZCAwID8gcmUgOiByLCBpID0gYS50aXRsZSwgbyA9IGkgPT09IHZvaWQgMCA/IG51bGwgOiBpLCBsID0gYS5jbGFzc2VzLCBjID0gbCA9PT0gdm9pZCAwID8gW10gOiBsLCBkID0gYS5hdHRyaWJ1dGVzLCB1ID0gZCA9PT0gdm9pZCAwID8ge30gOiBkLCBnID0gYS5zdHlsZXMsIEQgPSBnID09PSB2b2lkIDAgPyB7fSA6IGc7XG4gICAgICAgIHJldHVybiB3dCh7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgY29udGVudDogblxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gVGUoXCJiZWZvcmVET01FbGVtZW50Q3JlYXRpb25cIiwge1xuICAgICAgICAgICAgY29udGVudDogbixcbiAgICAgICAgICAgIHBhcmFtczogYVxuICAgICAgICAgIH0pLCBDbih7XG4gICAgICAgICAgICBjb250ZW50OiBuLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBwKHAoe30sIHJlKSwgcyksXG4gICAgICAgICAgICB0aXRsZTogbyxcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHUsXG4gICAgICAgICAgICAgIHN0eWxlczogRCxcbiAgICAgICAgICAgICAgY2xhc3NlczogW1wiXCIuY29uY2F0KGIuY3NzUHJlZml4LCBcIi1sYXllcnMtdGV4dFwiKV0uY29uY2F0KHFlKGMpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBwcm92aWRlczogZnVuY3Rpb24odCkge1xuICAgIHQuZ2VuZXJhdGVMYXllcnNUZXh0ID0gZnVuY3Rpb24obiwgYSkge1xuICAgICAgdmFyIHIgPSBhLnRpdGxlLCBzID0gYS50cmFuc2Zvcm0sIGkgPSBhLmV4dHJhLCBvID0gbnVsbCwgbCA9IG51bGw7XG4gICAgICBpZiAoaGEpIHtcbiAgICAgICAgdmFyIGMgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKG4pLmZvbnRTaXplLCAxMCksIGQgPSBuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBvID0gZC53aWR0aCAvIGMsIGwgPSBkLmhlaWdodCAvIGM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYi5hdXRvQTExeSAmJiAhciAmJiAoaS5hdHRyaWJ1dGVzW1wiYXJpYS1oaWRkZW5cIl0gPSBcInRydWVcIiksIFByb21pc2UucmVzb2x2ZShbbiwgQ24oe1xuICAgICAgICBjb250ZW50OiBuLmlubmVySFRNTCxcbiAgICAgICAgd2lkdGg6IG8sXG4gICAgICAgIGhlaWdodDogbCxcbiAgICAgICAgdHJhbnNmb3JtOiBzLFxuICAgICAgICB0aXRsZTogcixcbiAgICAgICAgZXh0cmE6IGksXG4gICAgICAgIHdhdGNoYWJsZTogITBcbiAgICAgIH0pXSk7XG4gICAgfTtcbiAgfVxufSwgQWkgPSBuZXcgUmVnRXhwKCdcIicsIFwidWdcIiksICRuID0gWzExMDU5MjAsIDExMTIzMTldO1xuZnVuY3Rpb24gQ2koZSkge1xuICB2YXIgdCA9IGUucmVwbGFjZShBaSwgXCJcIiksIG4gPSBZcih0LCAwKSwgYSA9IG4gPj0gJG5bMF0gJiYgbiA8PSAkblsxXSwgciA9IHQubGVuZ3RoID09PSAyID8gdFswXSA9PT0gdFsxXSA6ICExO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBPdChyID8gdFswXSA6IHQpLFxuICAgIGlzU2Vjb25kYXJ5OiBhIHx8IHJcbiAgfTtcbn1cbmZ1bmN0aW9uIEZuKGUsIHQpIHtcbiAgdmFyIG4gPSBcIlwiLmNvbmNhdCh2cikuY29uY2F0KHQucmVwbGFjZShcIjpcIiwgXCItXCIpKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsIHIpIHtcbiAgICBpZiAoZS5nZXRBdHRyaWJ1dGUobikgIT09IG51bGwpXG4gICAgICByZXR1cm4gYSgpO1xuICAgIHZhciBzID0gJGUoZS5jaGlsZHJlbiksIGkgPSBzLmZpbHRlcihmdW5jdGlvbihKKSB7XG4gICAgICByZXR1cm4gSi5nZXRBdHRyaWJ1dGUoTHQpID09PSB0O1xuICAgIH0pWzBdLCBvID0geWUuZ2V0Q29tcHV0ZWRTdHlsZShlLCB0KSwgbCA9IG8uZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtZmFtaWx5XCIpLm1hdGNoKERyKSwgYyA9IG8uZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtd2VpZ2h0XCIpLCBkID0gby5nZXRQcm9wZXJ0eVZhbHVlKFwiY29udGVudFwiKTtcbiAgICBpZiAoaSAmJiAhbClcbiAgICAgIHJldHVybiBlLnJlbW92ZUNoaWxkKGkpLCBhKCk7XG4gICAgaWYgKGwgJiYgZCAhPT0gXCJub25lXCIgJiYgZCAhPT0gXCJcIikge1xuICAgICAgdmFyIHUgPSBvLmdldFByb3BlcnR5VmFsdWUoXCJjb250ZW50XCIpLCBnID0gfltcIlNoYXJwXCJdLmluZGV4T2YobFsyXSkgPyBPIDogXywgRCA9IH5bXCJTb2xpZFwiLCBcIlJlZ3VsYXJcIiwgXCJMaWdodFwiLCBcIlRoaW5cIiwgXCJEdW90b25lXCIsIFwiQnJhbmRzXCIsIFwiS2l0XCJdLmluZGV4T2YobFsyXSkgPyBCZVtnXVtsWzJdLnRvTG93ZXJDYXNlKCldIDoga3JbZ11bY10sIHkgPSBDaSh1KSwgayA9IHkudmFsdWUsIHcgPSB5LmlzU2Vjb25kYXJ5LCBoID0gbFswXS5zdGFydHNXaXRoKFwiRm9udEF3ZXNvbWVcIiksIHYgPSBKdChELCBrKSwgRSA9IHY7XG4gICAgICBpZiAoaCkge1xuICAgICAgICB2YXIgQyA9IHhyKGspO1xuICAgICAgICBDLmljb25OYW1lICYmIEMucHJlZml4ICYmICh2ID0gQy5pY29uTmFtZSwgRCA9IEMucHJlZml4KTtcbiAgICAgIH1cbiAgICAgIGlmICh2ICYmICF3ICYmICghaSB8fCBpLmdldEF0dHJpYnV0ZShWdCkgIT09IEQgfHwgaS5nZXRBdHRyaWJ1dGUoeHQpICE9PSBFKSkge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZShuLCBFKSwgaSAmJiBlLnJlbW92ZUNoaWxkKGkpO1xuICAgICAgICB2YXIgTiA9IHBpKCksIG5lID0gTi5leHRyYTtcbiAgICAgICAgbmUuYXR0cmlidXRlc1tMdF0gPSB0LCBXdCh2LCBEKS50aGVuKGZ1bmN0aW9uKEopIHtcbiAgICAgICAgICB2YXIgRXQgPSBlbihwKHAoe30sIE4pLCB7fSwge1xuICAgICAgICAgICAgaWNvbnM6IHtcbiAgICAgICAgICAgICAgbWFpbjogSixcbiAgICAgICAgICAgICAgbWFzazogWnQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZWZpeDogRCxcbiAgICAgICAgICAgIGljb25OYW1lOiBFLFxuICAgICAgICAgICAgZXh0cmE6IG5lLFxuICAgICAgICAgICAgd2F0Y2hhYmxlOiAhMFxuICAgICAgICAgIH0pKSwgdmUgPSBNLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIik7XG4gICAgICAgICAgdCA9PT0gXCI6OmJlZm9yZVwiID8gZS5pbnNlcnRCZWZvcmUodmUsIGUuZmlyc3RDaGlsZCkgOiBlLmFwcGVuZENoaWxkKHZlKSwgdmUub3V0ZXJIVE1MID0gRXQubWFwKGZ1bmN0aW9uKFphKSB7XG4gICAgICAgICAgICByZXR1cm4gS2UoWmEpO1xuICAgICAgICAgIH0pLmpvaW4oYFxuYCksIGUucmVtb3ZlQXR0cmlidXRlKG4pLCBhKCk7XG4gICAgICAgIH0pLmNhdGNoKHIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGEoKTtcbiAgICB9IGVsc2VcbiAgICAgIGEoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBfaShlKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChbRm4oZSwgXCI6OmJlZm9yZVwiKSwgRm4oZSwgXCI6OmFmdGVyXCIpXSk7XG59XG5mdW5jdGlvbiBNaShlKSB7XG4gIHJldHVybiBlLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmhlYWQgJiYgIX5wci5pbmRleE9mKGUudGFnTmFtZS50b1VwcGVyQ2FzZSgpKSAmJiAhZS5nZXRBdHRyaWJ1dGUoTHQpICYmICghZS5wYXJlbnROb2RlIHx8IGUucGFyZW50Tm9kZS50YWdOYW1lICE9PSBcInN2Z1wiKTtcbn1cbmZ1bmN0aW9uIFJuKGUpIHtcbiAgaWYgKGhlKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LCBuKSB7XG4gICAgICB2YXIgYSA9ICRlKGUucXVlcnlTZWxlY3RvckFsbChcIipcIikpLmZpbHRlcihNaSkubWFwKF9pKSwgciA9IHRuLmJlZ2luKFwic2VhcmNoUHNldWRvRWxlbWVudHNcIik7XG4gICAgICBGYSgpLCBQcm9taXNlLmFsbChhKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByKCksIFl0KCksIHQoKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICByKCksIFl0KCksIG4oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xufVxudmFyIFBpID0ge1xuICBob29rczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG11dGF0aW9uT2JzZXJ2ZXJDYWxsYmFja3M6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIG4ucHNldWRvRWxlbWVudHNDYWxsYmFjayA9IFJuLCBuO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHByb3ZpZGVzOiBmdW5jdGlvbih0KSB7XG4gICAgdC5wc2V1ZG9FbGVtZW50czJzdmcgPSBmdW5jdGlvbihuKSB7XG4gICAgICB2YXIgYSA9IG4ubm9kZSwgciA9IGEgPT09IHZvaWQgMCA/IE0gOiBhO1xuICAgICAgYi5zZWFyY2hQc2V1ZG9FbGVtZW50cyAmJiBSbihyKTtcbiAgICB9O1xuICB9XG59LCBObiA9ICExLCBJaSA9IHtcbiAgbWl4b3V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiB7XG4gICAgICAgIHVud2F0Y2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIEZhKCksIE5uID0gITA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBob29rczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvb3RzdHJhcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIEluKEZ0KFwibXV0YXRpb25PYnNlcnZlckNhbGxiYWNrc1wiLCB7fSkpO1xuICAgICAgfSxcbiAgICAgIG5vQXV0bzogZnVuY3Rpb24oKSB7XG4gICAgICAgIG1pKCk7XG4gICAgICB9LFxuICAgICAgd2F0Y2g6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIGEgPSBuLm9ic2VydmVNdXRhdGlvbnNSb290O1xuICAgICAgICBObiA/IFl0KCkgOiBJbihGdChcIm11dGF0aW9uT2JzZXJ2ZXJDYWxsYmFja3NcIiwge1xuICAgICAgICAgIG9ic2VydmVNdXRhdGlvbnNSb290OiBhXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59LCBXbiA9IGZ1bmN0aW9uKHQpIHtcbiAgdmFyIG4gPSB7XG4gICAgc2l6ZTogMTYsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGZsaXBYOiAhMSxcbiAgICBmbGlwWTogITEsXG4gICAgcm90YXRlOiAwXG4gIH07XG4gIHJldHVybiB0LnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLnJlZHVjZShmdW5jdGlvbihhLCByKSB7XG4gICAgdmFyIHMgPSByLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCItXCIpLCBpID0gc1swXSwgbyA9IHMuc2xpY2UoMSkuam9pbihcIi1cIik7XG4gICAgaWYgKGkgJiYgbyA9PT0gXCJoXCIpXG4gICAgICByZXR1cm4gYS5mbGlwWCA9ICEwLCBhO1xuICAgIGlmIChpICYmIG8gPT09IFwidlwiKVxuICAgICAgcmV0dXJuIGEuZmxpcFkgPSAhMCwgYTtcbiAgICBpZiAobyA9IHBhcnNlRmxvYXQobyksIGlzTmFOKG8pKVxuICAgICAgcmV0dXJuIGE7XG4gICAgc3dpdGNoIChpKSB7XG4gICAgICBjYXNlIFwiZ3Jvd1wiOlxuICAgICAgICBhLnNpemUgPSBhLnNpemUgKyBvO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaHJpbmtcIjpcbiAgICAgICAgYS5zaXplID0gYS5zaXplIC0gbztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBhLnggPSBhLnggLSBvO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBhLnggPSBhLnggKyBvO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cFwiOlxuICAgICAgICBhLnkgPSBhLnkgLSBvO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgIGEueSA9IGEueSArIG87XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJvdGF0ZVwiOlxuICAgICAgICBhLnJvdGF0ZSA9IGEucm90YXRlICsgbztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9LCBuKTtcbn0sIExpID0ge1xuICBtaXhvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJzZToge1xuICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICByZXR1cm4gV24obik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBob29rczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcnNlTm9kZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uKG4sIGEpIHtcbiAgICAgICAgdmFyIHIgPSBhLmdldEF0dHJpYnV0ZShcImRhdGEtZmEtdHJhbnNmb3JtXCIpO1xuICAgICAgICByZXR1cm4gciAmJiAobi50cmFuc2Zvcm0gPSBXbihyKSksIG47XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgcHJvdmlkZXM6IGZ1bmN0aW9uKHQpIHtcbiAgICB0LmdlbmVyYXRlQWJzdHJhY3RUcmFuc2Zvcm1Hcm91cGluZyA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgIHZhciBhID0gbi5tYWluLCByID0gbi50cmFuc2Zvcm0sIHMgPSBuLmNvbnRhaW5lcldpZHRoLCBpID0gbi5pY29uV2lkdGgsIG8gPSB7XG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHMgLyAyLCBcIiAyNTYpXCIpXG4gICAgICB9LCBsID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHIueCAqIDMyLCBcIiwgXCIpLmNvbmNhdChyLnkgKiAzMiwgXCIpIFwiKSwgYyA9IFwic2NhbGUoXCIuY29uY2F0KHIuc2l6ZSAvIDE2ICogKHIuZmxpcFggPyAtMSA6IDEpLCBcIiwgXCIpLmNvbmNhdChyLnNpemUgLyAxNiAqIChyLmZsaXBZID8gLTEgOiAxKSwgXCIpIFwiKSwgZCA9IFwicm90YXRlKFwiLmNvbmNhdChyLnJvdGF0ZSwgXCIgMCAwKVwiKSwgdSA9IHtcbiAgICAgICAgdHJhbnNmb3JtOiBcIlwiLmNvbmNhdChsLCBcIiBcIikuY29uY2F0KGMsIFwiIFwiKS5jb25jYXQoZClcbiAgICAgIH0sIGcgPSB7XG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGkgLyAyICogLTEsIFwiIC0yNTYpXCIpXG4gICAgICB9LCBEID0ge1xuICAgICAgICBvdXRlcjogbyxcbiAgICAgICAgaW5uZXI6IHUsXG4gICAgICAgIHBhdGg6IGdcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YWc6IFwiZ1wiLFxuICAgICAgICBhdHRyaWJ1dGVzOiBwKHt9LCBELm91dGVyKSxcbiAgICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgICAgdGFnOiBcImdcIixcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBwKHt9LCBELmlubmVyKSxcbiAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgIHRhZzogYS5pY29uLnRhZyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBhLmljb24uY2hpbGRyZW4sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIGEuaWNvbi5hdHRyaWJ1dGVzKSwgRC5wYXRoKVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgICB9O1xuICAgIH07XG4gIH1cbn0sIEN0ID0ge1xuICB4OiAwLFxuICB5OiAwLFxuICB3aWR0aDogXCIxMDAlXCIsXG4gIGhlaWdodDogXCIxMDAlXCJcbn07XG5mdW5jdGlvbiBIbihlKSB7XG4gIHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiAhMDtcbiAgcmV0dXJuIGUuYXR0cmlidXRlcyAmJiAoZS5hdHRyaWJ1dGVzLmZpbGwgfHwgdCkgJiYgKGUuYXR0cmlidXRlcy5maWxsID0gXCJibGFja1wiKSwgZTtcbn1cbmZ1bmN0aW9uIE9pKGUpIHtcbiAgcmV0dXJuIGUudGFnID09PSBcImdcIiA/IGUuY2hpbGRyZW4gOiBbZV07XG59XG52YXIgJGkgPSB7XG4gIGhvb2tzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFyc2VOb2RlQXR0cmlidXRlczogZnVuY3Rpb24obiwgYSkge1xuICAgICAgICB2YXIgciA9IGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1mYS1tYXNrXCIpLCBzID0gciA/IGt0KHIuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgcmV0dXJuIGkudHJpbSgpO1xuICAgICAgICB9KSkgOiBadCgpO1xuICAgICAgICByZXR1cm4gcy5wcmVmaXggfHwgKHMucHJlZml4ID0gYmUoKSksIG4ubWFzayA9IHMsIG4ubWFza0lkID0gYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZhLW1hc2staWRcIiksIG47XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgcHJvdmlkZXM6IGZ1bmN0aW9uKHQpIHtcbiAgICB0LmdlbmVyYXRlQWJzdHJhY3RNYXNrID0gZnVuY3Rpb24obikge1xuICAgICAgdmFyIGEgPSBuLmNoaWxkcmVuLCByID0gbi5hdHRyaWJ1dGVzLCBzID0gbi5tYWluLCBpID0gbi5tYXNrLCBvID0gbi5tYXNrSWQsIGwgPSBuLnRyYW5zZm9ybSwgYyA9IHMud2lkdGgsIGQgPSBzLmljb24sIHUgPSBpLndpZHRoLCBnID0gaS5pY29uLCBEID0gTHIoe1xuICAgICAgICB0cmFuc2Zvcm06IGwsXG4gICAgICAgIGNvbnRhaW5lcldpZHRoOiB1LFxuICAgICAgICBpY29uV2lkdGg6IGNcbiAgICAgIH0pLCB5ID0ge1xuICAgICAgICB0YWc6IFwicmVjdFwiLFxuICAgICAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIEN0KSwge30sIHtcbiAgICAgICAgICBmaWxsOiBcIndoaXRlXCJcbiAgICAgICAgfSlcbiAgICAgIH0sIGsgPSBkLmNoaWxkcmVuID8ge1xuICAgICAgICBjaGlsZHJlbjogZC5jaGlsZHJlbi5tYXAoSG4pXG4gICAgICB9IDoge30sIHcgPSB7XG4gICAgICAgIHRhZzogXCJnXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHAoe30sIEQuaW5uZXIpLFxuICAgICAgICBjaGlsZHJlbjogW0huKHAoe1xuICAgICAgICAgIHRhZzogZC50YWcsXG4gICAgICAgICAgYXR0cmlidXRlczogcChwKHt9LCBkLmF0dHJpYnV0ZXMpLCBELnBhdGgpXG4gICAgICAgIH0sIGspKV1cbiAgICAgIH0sIGggPSB7XG4gICAgICAgIHRhZzogXCJnXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHAoe30sIEQub3V0ZXIpLFxuICAgICAgICBjaGlsZHJlbjogW3ddXG4gICAgICB9LCB2ID0gXCJtYXNrLVwiLmNvbmNhdChvIHx8IFZlKCkpLCBFID0gXCJjbGlwLVwiLmNvbmNhdChvIHx8IFZlKCkpLCBDID0ge1xuICAgICAgICB0YWc6IFwibWFza1wiLFxuICAgICAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIEN0KSwge30sIHtcbiAgICAgICAgICBpZDogdixcbiAgICAgICAgICBtYXNrVW5pdHM6IFwidXNlclNwYWNlT25Vc2VcIixcbiAgICAgICAgICBtYXNrQ29udGVudFVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCJcbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkcmVuOiBbeSwgaF1cbiAgICAgIH0sIE4gPSB7XG4gICAgICAgIHRhZzogXCJkZWZzXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgIHRhZzogXCJjbGlwUGF0aFwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGlkOiBFXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogT2koZylcbiAgICAgICAgfSwgQ11cbiAgICAgIH07XG4gICAgICByZXR1cm4gYS5wdXNoKE4sIHtcbiAgICAgICAgdGFnOiBcInJlY3RcIixcbiAgICAgICAgYXR0cmlidXRlczogcCh7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBcImNsaXAtcGF0aFwiOiBcInVybCgjXCIuY29uY2F0KEUsIFwiKVwiKSxcbiAgICAgICAgICBtYXNrOiBcInVybCgjXCIuY29uY2F0KHYsIFwiKVwiKVxuICAgICAgICB9LCBDdClcbiAgICAgIH0pLCB7XG4gICAgICAgIGNoaWxkcmVuOiBhLFxuICAgICAgICBhdHRyaWJ1dGVzOiByXG4gICAgICB9O1xuICAgIH07XG4gIH1cbn0sIEZpID0ge1xuICBwcm92aWRlczogZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gITE7XG4gICAgeWUubWF0Y2hNZWRpYSAmJiAobiA9IHllLm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKS5tYXRjaGVzKSwgdC5taXNzaW5nSWNvbkFic3RyYWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYSA9IFtdLCByID0ge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICB9LCBzID0ge1xuICAgICAgICBhdHRyaWJ1dGVUeXBlOiBcIlhNTFwiLFxuICAgICAgICByZXBlYXRDb3VudDogXCJpbmRlZmluaXRlXCIsXG4gICAgICAgIGR1cjogXCIyc1wiXG4gICAgICB9O1xuICAgICAgYS5wdXNoKHtcbiAgICAgICAgdGFnOiBcInBhdGhcIixcbiAgICAgICAgYXR0cmlidXRlczogcChwKHt9LCByKSwge30sIHtcbiAgICAgICAgICBkOiBcIk0xNTYuNSw0NDcuN2wtMTIuNiwyOS41Yy0xOC43LTkuNS0zNS45LTIxLjItNTEuNS0zNC45bDIyLjctMjIuN0MxMjcuNiw0MzAuNSwxNDEuNSw0NDAsMTU2LjUsNDQ3Ljd6IE00MC42LDI3Mkg4LjUgYzEuNCwyMS4yLDUuNCw0MS43LDExLjcsNjEuMUw1MCwzMjEuMkM0NS4xLDMwNS41LDQxLjgsMjg5LDQwLjYsMjcyeiBNNDAuNiwyNDBjMS40LTE4LjgsNS4yLTM3LDExLjEtNTQuMWwtMjkuNS0xMi42IEMxNC43LDE5NC4zLDEwLDIxNi43LDguNSwyNDBINDAuNnogTTY0LjMsMTU2LjVjNy44LTE0LjksMTcuMi0yOC44LDI4LjEtNDEuNUw2OS43LDkyLjNjLTEzLjcsMTUuNi0yNS41LDMyLjgtMzQuOSw1MS41IEw2NC4zLDE1Ni41eiBNMzk3LDQxOS42Yy0xMy45LDEyLTI5LjQsMjIuMy00Ni4xLDMwLjRsMTEuOSwyOS44YzIwLjctOS45LDM5LjgtMjIuNiw1Ni45LTM3LjZMMzk3LDQxOS42eiBNMTE1LDkyLjQgYzEzLjktMTIsMjkuNC0yMi4zLDQ2LjEtMzAuNGwtMTEuOS0yOS44Yy0yMC43LDkuOS0zOS44LDIyLjYtNTYuOCwzNy42TDExNSw5Mi40eiBNNDQ3LjcsMzU1LjVjLTcuOCwxNC45LTE3LjIsMjguOC0yOC4xLDQxLjUgbDIyLjcsMjIuN2MxMy43LTE1LjYsMjUuNS0zMi45LDM0LjktNTEuNUw0NDcuNywzNTUuNXogTTQ3MS40LDI3MmMtMS40LDE4LjgtNS4yLDM3LTExLjEsNTQuMWwyOS41LDEyLjYgYzcuNS0yMS4xLDEyLjItNDMuNSwxMy42LTY2LjhINDcxLjR6IE0zMjEuMiw0NjJjLTE1LjcsNS0zMi4yLDguMi00OS4yLDkuNHYzMi4xYzIxLjItMS40LDQxLjctNS40LDYxLjEtMTEuN0wzMjEuMiw0NjJ6IE0yNDAsNDcxLjRjLTE4LjgtMS40LTM3LTUuMi01NC4xLTExLjFsLTEyLjYsMjkuNWMyMS4xLDcuNSw0My41LDEyLjIsNjYuOCwxMy42VjQ3MS40eiBNNDYyLDE5MC44YzUsMTUuNyw4LjIsMzIuMiw5LjQsNDkuMmgzMi4xIGMtMS40LTIxLjItNS40LTQxLjctMTEuNy02MS4xTDQ2MiwxOTAuOHogTTkyLjQsMzk3Yy0xMi0xMy45LTIyLjMtMjkuNC0zMC40LTQ2LjFsLTI5LjgsMTEuOWM5LjksMjAuNywyMi42LDM5LjgsMzcuNiw1Ni45IEw5Mi40LDM5N3ogTTI3Miw0MC42YzE4LjgsMS40LDM2LjksNS4yLDU0LjEsMTEuMWwxMi42LTI5LjVDMzE3LjcsMTQuNywyOTUuMywxMCwyNzIsOC41VjQwLjZ6IE0xOTAuOCw1MCBjMTUuNy01LDMyLjItOC4yLDQ5LjItOS40VjguNWMtMjEuMiwxLjQtNDEuNyw1LjQtNjEuMSwxMS43TDE5MC44LDUweiBNNDQyLjMsOTIuM0w0MTkuNiwxMTVjMTIsMTMuOSwyMi4zLDI5LjQsMzAuNSw0Ni4xIGwyOS44LTExLjlDNDcwLDEyOC41LDQ1Ny4zLDEwOS40LDQ0Mi4zLDkyLjN6IE0zOTcsOTIuNGwyMi43LTIyLjdjLTE1LjYtMTMuNy0zMi44LTI1LjUtNTEuNS0zNC45bC0xMi42LDI5LjUgQzM3MC40LDcyLjEsMzg0LjQsODEuNSwzOTcsOTIuNHpcIlxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICB2YXIgaSA9IHAocCh7fSwgcyksIHt9LCB7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IFwib3BhY2l0eVwiXG4gICAgICB9KSwgbyA9IHtcbiAgICAgICAgdGFnOiBcImNpcmNsZVwiLFxuICAgICAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIHIpLCB7fSwge1xuICAgICAgICAgIGN4OiBcIjI1NlwiLFxuICAgICAgICAgIGN5OiBcIjM2NFwiLFxuICAgICAgICAgIHI6IFwiMjhcIlxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRyZW46IFtdXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG4gfHwgby5jaGlsZHJlbi5wdXNoKHtcbiAgICAgICAgdGFnOiBcImFuaW1hdGVcIixcbiAgICAgICAgYXR0cmlidXRlczogcChwKHt9LCBzKSwge30sIHtcbiAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBcInJcIixcbiAgICAgICAgICB2YWx1ZXM6IFwiMjg7MTQ7Mjg7Mjg7MTQ7Mjg7XCJcbiAgICAgICAgfSlcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiBcImFuaW1hdGVcIixcbiAgICAgICAgYXR0cmlidXRlczogcChwKHt9LCBpKSwge30sIHtcbiAgICAgICAgICB2YWx1ZXM6IFwiMTswOzE7MTswOzE7XCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCBhLnB1c2gobyksIGEucHVzaCh7XG4gICAgICAgIHRhZzogXCJwYXRoXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHAocCh7fSwgciksIHt9LCB7XG4gICAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgICAgZDogXCJNMjYzLjcsMzEyaC0xNmMtNi42LDAtMTItNS40LTEyLTEyYzAtNzEsNzcuNC02My45LDc3LjQtMTA3LjhjMC0yMC0xNy44LTQwLjItNTcuNC00MC4yYy0yOS4xLDAtNDQuMyw5LjYtNTkuMiwyOC43IGMtMy45LDUtMTEuMSw2LTE2LjIsMi40bC0xMy4xLTkuMmMtNS42LTMuOS02LjktMTEuOC0yLjYtMTcuMmMyMS4yLTI3LjIsNDYuNC00NC43LDkxLjItNDQuN2M1Mi4zLDAsOTcuNCwyOS44LDk3LjQsODAuMiBjMCw2Ny42LTc3LjQsNjMuNS03Ny40LDEwNy44QzI3NS43LDMwNi42LDI3MC4zLDMxMiwyNjMuNywzMTJ6XCJcbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkcmVuOiBuID8gW10gOiBbe1xuICAgICAgICAgIHRhZzogXCJhbmltYXRlXCIsXG4gICAgICAgICAgYXR0cmlidXRlczogcChwKHt9LCBpKSwge30sIHtcbiAgICAgICAgICAgIHZhbHVlczogXCIxOzA7MDswOzA7MTtcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH1dXG4gICAgICB9KSwgbiB8fCBhLnB1c2goe1xuICAgICAgICB0YWc6IFwicGF0aFwiLFxuICAgICAgICBhdHRyaWJ1dGVzOiBwKHAoe30sIHIpLCB7fSwge1xuICAgICAgICAgIG9wYWNpdHk6IFwiMFwiLFxuICAgICAgICAgIGQ6IFwiTTIzMi41LDEzNC41bDcsMTY4YzAuMyw2LjQsNS42LDExLjUsMTIsMTEuNWg5YzYuNCwwLDExLjctNS4xLDEyLTExLjVsNy0xNjhjMC4zLTYuOC01LjItMTIuNS0xMi0xMi41aC0yMyBDMjM3LjcsMTIyLDIzMi4yLDEyNy43LDIzMi41LDEzNC41elwiXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICB0YWc6IFwiYW5pbWF0ZVwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHAocCh7fSwgaSksIHt9LCB7XG4gICAgICAgICAgICB2YWx1ZXM6IFwiMDswOzE7MTswOzA7XCJcbiAgICAgICAgICB9KVxuICAgICAgICB9XVxuICAgICAgfSksIHtcbiAgICAgICAgdGFnOiBcImdcIixcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIGNsYXNzOiBcIm1pc3NpbmdcIlxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogYVxuICAgICAgfTtcbiAgICB9O1xuICB9XG59LCBSaSA9IHtcbiAgaG9va3M6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJzZU5vZGVBdHRyaWJ1dGVzOiBmdW5jdGlvbihuLCBhKSB7XG4gICAgICAgIHZhciByID0gYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZhLXN5bWJvbFwiKSwgcyA9IHIgPT09IG51bGwgPyAhMSA6IHIgPT09IFwiXCIgPyAhMCA6IHI7XG4gICAgICAgIHJldHVybiBuLnN5bWJvbCA9IHMsIG47XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSwgTmkgPSBbRnIsIHdpLCBFaSwgU2ksIFRpLCBQaSwgSWksIExpLCAkaSwgRmksIFJpXTtcbktyKE5pLCB7XG4gIG1peG91dHNUbzogR1xufSk7XG5HLm5vQXV0bztcbnZhciBOYSA9IEcuY29uZmlnO1xuRy5saWJyYXJ5O1xuRy5kb207XG52YXIgZ3QgPSBHLnBhcnNlO1xuRy5maW5kSWNvbkRlZmluaXRpb247XG5HLnRvSHRtbDtcbnZhciBXaSA9IEcuaWNvbjtcbkcubGF5ZXI7XG52YXIgSGkgPSBHLnRleHQ7XG5HLmNvdW50ZXI7XG5mdW5jdGlvbiBZbihlLCB0KSB7XG4gIHZhciBuID0gT2JqZWN0LmtleXMoZSk7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO1xuICAgIHQgJiYgKGEgPSBhLmZpbHRlcihmdW5jdGlvbihyKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwgbi5wdXNoLmFwcGx5KG4sIGEpO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gZWUoZSkge1xuICBmb3IgKHZhciB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykge1xuICAgIHZhciBuID0gYXJndW1lbnRzW3RdICE9IG51bGwgPyBhcmd1bWVudHNbdF0gOiB7fTtcbiAgICB0ICUgMiA/IFluKE9iamVjdChuKSwgITApLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgQihlLCBhLCBuW2FdKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpIDogWW4oT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBhLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sIGEpKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHB0KGUpIHtcbiAgcmV0dXJuIHB0ID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSBcInN5bWJvbFwiID8gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0eXBlb2YgdDtcbiAgfSA6IGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gdCAmJiB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiB0LmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgdCAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgdDtcbiAgfSwgcHQoZSk7XG59XG5mdW5jdGlvbiBCKGUsIHQsIG4pIHtcbiAgcmV0dXJuIHQgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCB0LCB7XG4gICAgdmFsdWU6IG4sXG4gICAgZW51bWVyYWJsZTogITAsXG4gICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICB3cml0YWJsZTogITBcbiAgfSkgOiBlW3RdID0gbiwgZTtcbn1cbmZ1bmN0aW9uIFlpKGUsIHQpIHtcbiAgaWYgKGUgPT0gbnVsbClcbiAgICByZXR1cm4ge307XG4gIHZhciBuID0ge30sIGEgPSBPYmplY3Qua2V5cyhlKSwgciwgcztcbiAgZm9yIChzID0gMDsgcyA8IGEubGVuZ3RoOyBzKyspXG4gICAgciA9IGFbc10sICEodC5pbmRleE9mKHIpID49IDApICYmIChuW3JdID0gZVtyXSk7XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gemkoZSwgdCkge1xuICBpZiAoZSA9PSBudWxsKVxuICAgIHJldHVybiB7fTtcbiAgdmFyIG4gPSBZaShlLCB0KSwgYSwgcjtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7XG4gICAgZm9yIChyID0gMDsgciA8IHMubGVuZ3RoOyByKyspXG4gICAgICBhID0gc1tyXSwgISh0LmluZGV4T2YoYSkgPj0gMCkgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsIGEpICYmIChuW2FdID0gZVthXSk7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiB6dChlKSB7XG4gIHJldHVybiBqaShlKSB8fCBCaShlKSB8fCBYaShlKSB8fCBVaSgpO1xufVxuZnVuY3Rpb24gamkoZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSlcbiAgICByZXR1cm4ganQoZSk7XG59XG5mdW5jdGlvbiBCaShlKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgZVtTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgZVtcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbClcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlKTtcbn1cbmZ1bmN0aW9uIFhpKGUsIHQpIHtcbiAgaWYgKGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiBqdChlLCB0KTtcbiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LCAtMSk7XG4gICAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgZS5jb25zdHJ1Y3RvciAmJiAobiA9IGUuY29uc3RydWN0b3IubmFtZSksIG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIilcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGUpO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKVxuICAgICAgcmV0dXJuIGp0KGUsIHQpO1xuICB9XG59XG5mdW5jdGlvbiBqdChlLCB0KSB7XG4gICh0ID09IG51bGwgfHwgdCA+IGUubGVuZ3RoKSAmJiAodCA9IGUubGVuZ3RoKTtcbiAgZm9yICh2YXIgbiA9IDAsIGEgPSBuZXcgQXJyYXkodCk7IG4gPCB0OyBuKyspXG4gICAgYVtuXSA9IGVbbl07XG4gIHJldHVybiBhO1xufVxuZnVuY3Rpb24gVWkoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLmApO1xufVxudmFyIFZpID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9LCBXYSA9IHsgZXhwb3J0czoge30gfTtcbihmdW5jdGlvbihlKSB7XG4gIChmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSBmdW5jdGlvbihoLCB2LCBFKSB7XG4gICAgICBpZiAoIWModikgfHwgdSh2KSB8fCBnKHYpIHx8IEQodikgfHwgbCh2KSlcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB2YXIgQywgTiA9IDAsIG5lID0gMDtcbiAgICAgIGlmIChkKHYpKVxuICAgICAgICBmb3IgKEMgPSBbXSwgbmUgPSB2Lmxlbmd0aDsgTiA8IG5lOyBOKyspXG4gICAgICAgICAgQy5wdXNoKG4oaCwgdltOXSwgRSkpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIEMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgSiBpbiB2KVxuICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2LCBKKSAmJiAoQ1toKEosIEUpXSA9IG4oaCwgdltKXSwgRSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEM7XG4gICAgfSwgYSA9IGZ1bmN0aW9uKGgsIHYpIHtcbiAgICAgIHYgPSB2IHx8IHt9O1xuICAgICAgdmFyIEUgPSB2LnNlcGFyYXRvciB8fCBcIl9cIiwgQyA9IHYuc3BsaXQgfHwgLyg/PVtBLVpdKS87XG4gICAgICByZXR1cm4gaC5zcGxpdChDKS5qb2luKEUpO1xuICAgIH0sIHIgPSBmdW5jdGlvbihoKSB7XG4gICAgICByZXR1cm4geShoKSA/IGggOiAoaCA9IGgucmVwbGFjZSgvW1xcLV9cXHNdKyguKT8vZywgZnVuY3Rpb24odiwgRSkge1xuICAgICAgICByZXR1cm4gRSA/IEUudG9VcHBlckNhc2UoKSA6IFwiXCI7XG4gICAgICB9KSwgaC5zdWJzdHIoMCwgMSkudG9Mb3dlckNhc2UoKSArIGguc3Vic3RyKDEpKTtcbiAgICB9LCBzID0gZnVuY3Rpb24oaCkge1xuICAgICAgdmFyIHYgPSByKGgpO1xuICAgICAgcmV0dXJuIHYuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB2LnN1YnN0cigxKTtcbiAgICB9LCBpID0gZnVuY3Rpb24oaCwgdikge1xuICAgICAgcmV0dXJuIGEoaCwgdikudG9Mb3dlckNhc2UoKTtcbiAgICB9LCBvID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywgbCA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaCA9PSBcImZ1bmN0aW9uXCI7XG4gICAgfSwgYyA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIHJldHVybiBoID09PSBPYmplY3QoaCk7XG4gICAgfSwgZCA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIHJldHVybiBvLmNhbGwoaCkgPT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH0sIHUgPSBmdW5jdGlvbihoKSB7XG4gICAgICByZXR1cm4gby5jYWxsKGgpID09IFwiW29iamVjdCBEYXRlXVwiO1xuICAgIH0sIGcgPSBmdW5jdGlvbihoKSB7XG4gICAgICByZXR1cm4gby5jYWxsKGgpID09IFwiW29iamVjdCBSZWdFeHBdXCI7XG4gICAgfSwgRCA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIHJldHVybiBvLmNhbGwoaCkgPT0gXCJbb2JqZWN0IEJvb2xlYW5dXCI7XG4gICAgfSwgeSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIHJldHVybiBoID0gaCAtIDAsIGggPT09IGg7XG4gICAgfSwgayA9IGZ1bmN0aW9uKGgsIHYpIHtcbiAgICAgIHZhciBFID0gdiAmJiBcInByb2Nlc3NcIiBpbiB2ID8gdi5wcm9jZXNzIDogdjtcbiAgICAgIHJldHVybiB0eXBlb2YgRSAhPSBcImZ1bmN0aW9uXCIgPyBoIDogZnVuY3Rpb24oQywgTikge1xuICAgICAgICByZXR1cm4gRShDLCBoLCBOKTtcbiAgICAgIH07XG4gICAgfSwgdyA9IHtcbiAgICAgIGNhbWVsaXplOiByLFxuICAgICAgZGVjYW1lbGl6ZTogaSxcbiAgICAgIHBhc2NhbGl6ZTogcyxcbiAgICAgIGRlcGFzY2FsaXplOiBpLFxuICAgICAgY2FtZWxpemVLZXlzOiBmdW5jdGlvbihoLCB2KSB7XG4gICAgICAgIHJldHVybiBuKGsociwgdiksIGgpO1xuICAgICAgfSxcbiAgICAgIGRlY2FtZWxpemVLZXlzOiBmdW5jdGlvbihoLCB2KSB7XG4gICAgICAgIHJldHVybiBuKGsoaSwgdiksIGgsIHYpO1xuICAgICAgfSxcbiAgICAgIHBhc2NhbGl6ZUtleXM6IGZ1bmN0aW9uKGgsIHYpIHtcbiAgICAgICAgcmV0dXJuIG4oayhzLCB2KSwgaCk7XG4gICAgICB9LFxuICAgICAgZGVwYXNjYWxpemVLZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjYW1lbGl6ZUtleXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGUuZXhwb3J0cyA/IGUuZXhwb3J0cyA9IHcgOiB0Lmh1bXBzID0gdztcbiAgfSkoVmkpO1xufSkoV2EpO1xudmFyIHhpID0gV2EuZXhwb3J0cywgcWkgPSBbXCJjbGFzc1wiLCBcInN0eWxlXCJdO1xuZnVuY3Rpb24gR2koZSkge1xuICByZXR1cm4gZS5zcGxpdChcIjtcIikubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gdC50cmltKCk7XG4gIH0pLmZpbHRlcihmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIHQ7XG4gIH0pLnJlZHVjZShmdW5jdGlvbih0LCBuKSB7XG4gICAgdmFyIGEgPSBuLmluZGV4T2YoXCI6XCIpLCByID0geGkuY2FtZWxpemUobi5zbGljZSgwLCBhKSksIHMgPSBuLnNsaWNlKGEgKyAxKS50cmltKCk7XG4gICAgcmV0dXJuIHRbcl0gPSBzLCB0O1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBLaShlKSB7XG4gIHJldHVybiBlLnNwbGl0KC9cXHMrLykucmVkdWNlKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICByZXR1cm4gdFtuXSA9ICEwLCB0O1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBhbihlKSB7XG4gIHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fSwgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzJdIDoge307XG4gIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBlO1xuICB2YXIgYSA9IChlLmNoaWxkcmVuIHx8IFtdKS5tYXAoZnVuY3Rpb24obCkge1xuICAgIHJldHVybiBhbihsKTtcbiAgfSksIHIgPSBPYmplY3Qua2V5cyhlLmF0dHJpYnV0ZXMgfHwge30pLnJlZHVjZShmdW5jdGlvbihsLCBjKSB7XG4gICAgdmFyIGQgPSBlLmF0dHJpYnV0ZXNbY107XG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgbC5jbGFzcyA9IEtpKGQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICBsLnN0eWxlID0gR2koZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbC5hdHRyc1tjXSA9IGQ7XG4gICAgfVxuICAgIHJldHVybiBsO1xuICB9LCB7XG4gICAgYXR0cnM6IHt9LFxuICAgIGNsYXNzOiB7fSxcbiAgICBzdHlsZToge31cbiAgfSk7XG4gIG4uY2xhc3M7XG4gIHZhciBzID0gbi5zdHlsZSwgaSA9IHMgPT09IHZvaWQgMCA/IHt9IDogcywgbyA9IHppKG4sIHFpKTtcbiAgcmV0dXJuIG9hKGUudGFnLCBlZShlZShlZSh7fSwgdCksIHt9LCB7XG4gICAgY2xhc3M6IHIuY2xhc3MsXG4gICAgc3R5bGU6IGVlKGVlKHt9LCByLnN0eWxlKSwgaSlcbiAgfSwgci5hdHRycyksIG8pLCBhKTtcbn1cbnZhciBIYSA9ICExO1xudHJ5IHtcbiAgSGEgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG59IGNhdGNoIHtcbn1cbmZ1bmN0aW9uIFFpKCkge1xuICBpZiAoIUhhICYmIGNvbnNvbGUgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSBjb25zb2xlKS5lcnJvci5hcHBseShlLCBhcmd1bWVudHMpO1xuICB9XG59XG5mdW5jdGlvbiB6ZShlLCB0KSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHQpICYmIHQubGVuZ3RoID4gMCB8fCAhQXJyYXkuaXNBcnJheSh0KSAmJiB0ID8gQih7fSwgZSwgdCkgOiB7fTtcbn1cbmZ1bmN0aW9uIEppKGUpIHtcbiAgdmFyIHQsIG4gPSAodCA9IHtcbiAgICBcImZhLXNwaW5cIjogZS5zcGluLFxuICAgIFwiZmEtcHVsc2VcIjogZS5wdWxzZSxcbiAgICBcImZhLWZ3XCI6IGUuZml4ZWRXaWR0aCxcbiAgICBcImZhLWJvcmRlclwiOiBlLmJvcmRlcixcbiAgICBcImZhLWxpXCI6IGUubGlzdEl0ZW0sXG4gICAgXCJmYS1pbnZlcnNlXCI6IGUuaW52ZXJzZSxcbiAgICBcImZhLWZsaXBcIjogZS5mbGlwID09PSAhMCxcbiAgICBcImZhLWZsaXAtaG9yaXpvbnRhbFwiOiBlLmZsaXAgPT09IFwiaG9yaXpvbnRhbFwiIHx8IGUuZmxpcCA9PT0gXCJib3RoXCIsXG4gICAgXCJmYS1mbGlwLXZlcnRpY2FsXCI6IGUuZmxpcCA9PT0gXCJ2ZXJ0aWNhbFwiIHx8IGUuZmxpcCA9PT0gXCJib3RoXCJcbiAgfSwgQih0LCBcImZhLVwiLmNvbmNhdChlLnNpemUpLCBlLnNpemUgIT09IG51bGwpLCBCKHQsIFwiZmEtcm90YXRlLVwiLmNvbmNhdChlLnJvdGF0aW9uKSwgZS5yb3RhdGlvbiAhPT0gbnVsbCksIEIodCwgXCJmYS1wdWxsLVwiLmNvbmNhdChlLnB1bGwpLCBlLnB1bGwgIT09IG51bGwpLCBCKHQsIFwiZmEtc3dhcC1vcGFjaXR5XCIsIGUuc3dhcE9wYWNpdHkpLCBCKHQsIFwiZmEtYm91bmNlXCIsIGUuYm91bmNlKSwgQih0LCBcImZhLXNoYWtlXCIsIGUuc2hha2UpLCBCKHQsIFwiZmEtYmVhdFwiLCBlLmJlYXQpLCBCKHQsIFwiZmEtZmFkZVwiLCBlLmZhZGUpLCBCKHQsIFwiZmEtYmVhdC1mYWRlXCIsIGUuYmVhdEZhZGUpLCBCKHQsIFwiZmEtZmxhc2hcIiwgZS5mbGFzaCksIEIodCwgXCJmYS1zcGluLXB1bHNlXCIsIGUuc3BpblB1bHNlKSwgQih0LCBcImZhLXNwaW4tcmV2ZXJzZVwiLCBlLnNwaW5SZXZlcnNlKSwgdCk7XG4gIHJldHVybiBPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBuW2FdID8gYSA6IG51bGw7XG4gIH0pLmZpbHRlcihmdW5jdGlvbihhKSB7XG4gICAgcmV0dXJuIGE7XG4gIH0pO1xufVxuZnVuY3Rpb24gem4oZSkge1xuICBpZiAoZSAmJiBwdChlKSA9PT0gXCJvYmplY3RcIiAmJiBlLnByZWZpeCAmJiBlLmljb25OYW1lICYmIGUuaWNvbilcbiAgICByZXR1cm4gZTtcbiAgaWYgKGd0Lmljb24pXG4gICAgcmV0dXJuIGd0Lmljb24oZSk7XG4gIGlmIChlID09PSBudWxsKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAocHQoZSkgPT09IFwib2JqZWN0XCIgJiYgZS5wcmVmaXggJiYgZS5pY29uTmFtZSlcbiAgICByZXR1cm4gZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZSkgJiYgZS5sZW5ndGggPT09IDIpXG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeDogZVswXSxcbiAgICAgIGljb25OYW1lOiBlWzFdXG4gICAgfTtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeDogXCJmYXNcIixcbiAgICAgIGljb25OYW1lOiBlXG4gICAgfTtcbn1cbnZhciBRZSA9IEgoe1xuICBuYW1lOiBcIkZvbnRBd2Vzb21lSWNvblwiLFxuICBwcm9wczoge1xuICAgIGJvcmRlcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBmaXhlZFdpZHRoOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogITFcbiAgICB9LFxuICAgIGZsaXA6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogITEsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIFshMCwgITEsIFwiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCIsIFwiYm90aFwiXS5pbmRleE9mKHQpID4gLTE7XG4gICAgICB9XG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgbWFzazoge1xuICAgICAgdHlwZTogW09iamVjdCwgQXJyYXksIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBsaXN0SXRlbToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBwdWxsOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBbXCJyaWdodFwiLCBcImxlZnRcIl0uaW5kZXhPZih0KSA+IC0xO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHVsc2U6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH0sXG4gICAgcm90YXRpb246IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBbOTAsIDE4MCwgMjcwXS5pbmRleE9mKE51bWJlci5wYXJzZUludCh0LCAxMCkpID4gLTE7XG4gICAgICB9XG4gICAgfSxcbiAgICBzd2FwT3BhY2l0eToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBzaXplOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBbXCIyeHNcIiwgXCJ4c1wiLCBcInNtXCIsIFwibGdcIiwgXCJ4bFwiLCBcIjJ4bFwiLCBcIjF4XCIsIFwiMnhcIiwgXCIzeFwiLCBcIjR4XCIsIFwiNXhcIiwgXCI2eFwiLCBcIjd4XCIsIFwiOHhcIiwgXCI5eFwiLCBcIjEweFwiXS5pbmRleE9mKHQpID4gLTE7XG4gICAgICB9XG4gICAgfSxcbiAgICBzcGluOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogITFcbiAgICB9LFxuICAgIHRyYW5zZm9ybToge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIHN5bWJvbDoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGludmVyc2U6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH0sXG4gICAgYm91bmNlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogITFcbiAgICB9LFxuICAgIHNoYWtlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogITFcbiAgICB9LFxuICAgIGJlYXQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH0sXG4gICAgZmFkZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBiZWF0RmFkZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBmbGFzaDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBzcGluUHVsc2U6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH0sXG4gICAgc3BpblJldmVyc2U6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH1cbiAgfSxcbiAgc2V0dXA6IGZ1bmN0aW9uKHQsIG4pIHtcbiAgICB2YXIgYSA9IG4uYXR0cnMsIHIgPSBaKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHpuKHQuaWNvbik7XG4gICAgfSksIHMgPSBaKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHplKFwiY2xhc3Nlc1wiLCBKaSh0KSk7XG4gICAgfSksIGkgPSBaKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHplKFwidHJhbnNmb3JtXCIsIHR5cGVvZiB0LnRyYW5zZm9ybSA9PSBcInN0cmluZ1wiID8gZ3QudHJhbnNmb3JtKHQudHJhbnNmb3JtKSA6IHQudHJhbnNmb3JtKTtcbiAgICB9KSwgbyA9IFooZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gemUoXCJtYXNrXCIsIHpuKHQubWFzaykpO1xuICAgIH0pLCBsID0gWihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBXaShyLnZhbHVlLCBlZShlZShlZShlZSh7fSwgcy52YWx1ZSksIGkudmFsdWUpLCBvLnZhbHVlKSwge30sIHtcbiAgICAgICAgc3ltYm9sOiB0LnN5bWJvbCxcbiAgICAgICAgdGl0bGU6IHQudGl0bGVcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgICBycihsLCBmdW5jdGlvbihkKSB7XG4gICAgICBpZiAoIWQpXG4gICAgICAgIHJldHVybiBRaShcIkNvdWxkIG5vdCBmaW5kIG9uZSBvciBtb3JlIGljb24ocylcIiwgci52YWx1ZSwgby52YWx1ZSk7XG4gICAgfSwge1xuICAgICAgaW1tZWRpYXRlOiAhMFxuICAgIH0pO1xuICAgIHZhciBjID0gWihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBsLnZhbHVlID8gYW4obC52YWx1ZS5hYnN0cmFjdFswXSwge30sIGEpIDogbnVsbDtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9O1xuICB9XG59KTtcbkgoe1xuICBuYW1lOiBcIkZvbnRBd2Vzb21lTGF5ZXJzXCIsXG4gIHByb3BzOiB7XG4gICAgZml4ZWRXaWR0aDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfVxuICB9LFxuICBzZXR1cDogZnVuY3Rpb24odCwgbikge1xuICAgIHZhciBhID0gbi5zbG90cywgciA9IE5hLmZhbWlseVByZWZpeCwgcyA9IFooZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW1wiXCIuY29uY2F0KHIsIFwiLWxheWVyc1wiKV0uY29uY2F0KHp0KHQuZml4ZWRXaWR0aCA/IFtcIlwiLmNvbmNhdChyLCBcIi1md1wiKV0gOiBbXSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvYShcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBzLnZhbHVlXG4gICAgICB9LCBhLmRlZmF1bHQgPyBhLmRlZmF1bHQoKSA6IFtdKTtcbiAgICB9O1xuICB9XG59KTtcbkgoe1xuICBuYW1lOiBcIkZvbnRBd2Vzb21lTGF5ZXJzVGV4dFwiLFxuICBwcm9wczoge1xuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogXCJcIlxuICAgIH0sXG4gICAgdHJhbnNmb3JtOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgY291bnRlcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6ICExXG4gICAgfSxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gW1wiYm90dG9tLWxlZnRcIiwgXCJib3R0b20tcmlnaHRcIiwgXCJ0b3AtbGVmdFwiLCBcInRvcC1yaWdodFwiXS5pbmRleE9mKHQpID4gLTE7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXR1cDogZnVuY3Rpb24odCwgbikge1xuICAgIHZhciBhID0gbi5hdHRycywgciA9IE5hLmZhbWlseVByZWZpeCwgcyA9IFooZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gemUoXCJjbGFzc2VzXCIsIFtdLmNvbmNhdCh6dCh0LmNvdW50ZXIgPyBbXCJcIi5jb25jYXQociwgXCItbGF5ZXJzLWNvdW50ZXJcIildIDogW10pLCB6dCh0LnBvc2l0aW9uID8gW1wiXCIuY29uY2F0KHIsIFwiLWxheWVycy1cIikuY29uY2F0KHQucG9zaXRpb24pXSA6IFtdKSkpO1xuICAgIH0pLCBpID0gWihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB6ZShcInRyYW5zZm9ybVwiLCB0eXBlb2YgdC50cmFuc2Zvcm0gPT0gXCJzdHJpbmdcIiA/IGd0LnRyYW5zZm9ybSh0LnRyYW5zZm9ybSkgOiB0LnRyYW5zZm9ybSk7XG4gICAgfSksIG8gPSBaKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGMgPSBIaSh0LnZhbHVlLnRvU3RyaW5nKCksIGVlKGVlKHt9LCBpLnZhbHVlKSwgcy52YWx1ZSkpLCBkID0gYy5hYnN0cmFjdDtcbiAgICAgIHJldHVybiB0LmNvdW50ZXIgJiYgKGRbMF0uYXR0cmlidXRlcy5jbGFzcyA9IGRbMF0uYXR0cmlidXRlcy5jbGFzcy5yZXBsYWNlKFwiZmEtbGF5ZXJzLXRleHRcIiwgXCJcIikpLCBkWzBdO1xuICAgIH0pLCBsID0gWihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhbihvLnZhbHVlLCB7fSwgYSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGwudmFsdWU7XG4gICAgfTtcbiAgfVxufSk7XG52YXIgWmkgPSB7XG4gIHByZWZpeDogXCJmYXNcIixcbiAgaWNvbk5hbWU6IFwiY2lyY2xlLWNoZXZyb24tcmlnaHRcIixcbiAgaWNvbjogWzUxMiwgNTEyLCBbXCJjaGV2cm9uLWNpcmNsZS1yaWdodFwiXSwgXCJmMTM4XCIsIFwiTTAgMjU2YTI1NiAyNTYgMCAxIDAgNTEyIDBBMjU2IDI1NiAwIDEgMCAwIDI1NnpNMjQxIDM3N2MtOS40IDkuNC0yNC42IDkuNC0zMy45IDBzLTkuNC0yNC42IDAtMzMuOWw4Ny04Ny04Ny04N2MtOS40LTkuNC05LjQtMjQuNiAwLTMzLjlzMjQuNi05LjQgMzMuOSAwTDM0NSAyMzljOS40IDkuNCA5LjQgMjQuNiAwIDMzLjlMMjQxIDM3N3pcIl1cbn0sIGVzID0gWmksIHRzID0ge1xuICBwcmVmaXg6IFwiZmFzXCIsXG4gIGljb25OYW1lOiBcInVzZXJcIixcbiAgaWNvbjogWzQ0OCwgNTEyLCBbMTI4MTAwLCA2MjE0NF0sIFwiZjAwN1wiLCBcIk0yMjQgMjU2QTEyOCAxMjggMCAxIDAgMjI0IDBhMTI4IDEyOCAwIDEgMCAwIDI1NnptLTQ1LjcgNDhDNzkuOCAzMDQgMCAzODMuOCAwIDQ4Mi4zQzAgNDk4LjcgMTMuMyA1MTIgMjkuNyA1MTJINDE4LjNjMTYuNCAwIDI5LjctMTMuMyAyOS43LTI5LjdDNDQ4IDM4My44IDM2OC4yIDMwNCAyNjkuNyAzMDRIMTc4LjN6XCJdXG59LCBucyA9IHtcbiAgcHJlZml4OiBcImZhc1wiLFxuICBpY29uTmFtZTogXCJjaXJjbGUtcXVlc3Rpb25cIixcbiAgaWNvbjogWzUxMiwgNTEyLCBbNjIxMDgsIFwicXVlc3Rpb24tY2lyY2xlXCJdLCBcImYwNTlcIiwgXCJNMjU2IDUxMkEyNTYgMjU2IDAgMSAwIDI1NiAwYTI1NiAyNTYgMCAxIDAgMCA1MTJ6TTE2OS44IDE2NS4zYzcuOS0yMi4zIDI5LjEtMzcuMyA1Mi44LTM3LjNoNTguM2MzNC45IDAgNjMuMSAyOC4zIDYzLjEgNjMuMWMwIDIyLjYtMTIuMSA0My41LTMxLjcgNTQuOEwyODAgMjY0LjRjLS4yIDEzLTEwLjkgMjMuNi0yNCAyMy42Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNFYyNTAuNWMwLTguNiA0LjYtMTYuNSAxMi4xLTIwLjhsNDQuMy0yNS40YzQuNy0yLjcgNy42LTcuNyA3LjYtMTMuMWMwLTguNC02LjgtMTUuMS0xNS4xLTE1LjFIMjIyLjZjLTMuNCAwLTYuNCAyLjEtNy41IDUuM2wtLjQgMS4yYy00LjQgMTIuNS0xOC4yIDE5LTMwLjYgMTQuNnMtMTktMTguMi0xNC42LTMwLjZsLjQtMS4yek0yMjQgMzUyYTMyIDMyIDAgMSAxIDY0IDAgMzIgMzIgMCAxIDEgLTY0IDB6XCJdXG59LCBhcyA9IG5zLCBycyA9IHtcbiAgcHJlZml4OiBcImZhc1wiLFxuICBpY29uTmFtZTogXCJjb21tZW50XCIsXG4gIGljb246IFs1MTIsIDUxMiwgWzEyODQ4OSwgNjE2NjldLCBcImYwNzVcIiwgXCJNNTEyIDI0MGMwIDExNC45LTExNC42IDIwOC0yNTYgMjA4Yy0zNy4xIDAtNzIuMy02LjQtMTA0LjEtMTcuOWMtMTEuOSA4LjctMzEuMyAyMC42LTU0LjMgMzAuNkM3My42IDQ3MS4xIDQ0LjcgNDgwIDE2IDQ4MGMtNi41IDAtMTIuMy0zLjktMTQuOC05LjljLTIuNS02LTEuMS0xMi44IDMuNC0xNy40bDAgMCAwIDAgMCAwIDAgMCAuMy0uM2MuMy0uMyAuNy0uNyAxLjMtMS40YzEuMS0xLjIgMi44LTMuMSA0LjktNS43YzQuMS01IDkuNi0xMi40IDE1LjItMjEuNmMxMC0xNi42IDE5LjUtMzguNCAyMS40LTYyLjlDMTcuNyAzMjYuOCAwIDI4NS4xIDAgMjQwQzAgMTI1LjEgMTE0LjYgMzIgMjU2IDMyczI1NiA5My4xIDI1NiAyMDh6XCJdXG59LCBpcyA9IHtcbiAgcHJlZml4OiBcImZhc1wiLFxuICBpY29uTmFtZTogXCJjbG9ja1wiLFxuICBpY29uOiBbNTEyLCA1MTIsIFsxMjgzMzksIFwiY2xvY2stZm91clwiXSwgXCJmMDE3XCIsIFwiTTI1NiAwYTI1NiAyNTYgMCAxIDEgMCA1MTJBMjU2IDI1NiAwIDEgMSAyNTYgMHpNMjMyIDEyMFYyNTZjMCA4IDQgMTUuNSAxMC43IDIwbDk2IDY0YzExIDcuNCAyNS45IDQuNCAzMy4zLTYuN3M0LjQtMjUuOS02LjctMzMuM0wyODAgMjQzLjJWMTIwYzAtMTMuMy0xMC43LTI0LTI0LTI0cy0yNCAxMC43LTI0IDI0elwiXVxufSwgc3MgPSB7XG4gIHByZWZpeDogXCJmYXNcIixcbiAgaWNvbk5hbWU6IFwibG9jYXRpb24tZG90XCIsXG4gIGljb246IFszODQsIDUxMiwgW1wibWFwLW1hcmtlci1hbHRcIl0sIFwiZjNjNVwiLCBcIk0yMTUuNyA0OTkuMkMyNjcgNDM1IDM4NCAyNzkuNCAzODQgMTkyQzM4NCA4NiAyOTggMCAxOTIgMFMwIDg2IDAgMTkyYzAgODcuNCAxMTcgMjQzIDE2OC4zIDMwNy4yYzEyLjMgMTUuMyAzNS4xIDE1LjMgNDcuNCAwek0xOTIgMTI4YTY0IDY0IDAgMSAxIDAgMTI4IDY0IDY0IDAgMSAxIDAtMTI4elwiXVxufSwgcm4gPSBzcywgb3MgPSB7XG4gIHByZWZpeDogXCJmYXNcIixcbiAgaWNvbk5hbWU6IFwieG1hcmtcIixcbiAgaWNvbjogWzMyMCwgNTEyLCBbMTI4NDczLCAxMDAwNSwgMTAwMDYsIDEwMDYwLCAyMTUsIFwiY2xvc2VcIiwgXCJtdWx0aXBseVwiLCBcInJlbW92ZVwiLCBcInRpbWVzXCJdLCBcImYwMGRcIiwgXCJNMzEwLjYgMTUwLjZjMTIuNS0xMi41IDEyLjUtMzIuOCAwLTQ1LjNzLTMyLjgtMTIuNS00NS4zIDBMMTYwIDIxMC43IDU0LjYgMTA1LjRjLTEyLjUtMTIuNS0zMi44LTEyLjUtNDUuMyAwcy0xMi41IDMyLjggMCA0NS4zTDExNC43IDI1NiA5LjQgMzYxLjRjLTEyLjUgMTIuNS0xMi41IDMyLjggMCA0NS4zczMyLjggMTIuNSA0NS4zIDBMMTYwIDMwMS4zIDI2NS40IDQwNi42YzEyLjUgMTIuNSAzMi44IDEyLjUgNDUuMyAwczEyLjUtMzIuOCAwLTQ1LjNMMjA1LjMgMjU2IDMxMC42IDE1MC42elwiXVxufSwgWWEgPSBvcywgbHMgPSB7XG4gIHByZWZpeDogXCJmYXNcIixcbiAgaWNvbk5hbWU6IFwiY2hldnJvbi1sZWZ0XCIsXG4gIGljb246IFszMjAsIDUxMiwgWzkwMDFdLCBcImYwNTNcIiwgXCJNOS40IDIzMy40Yy0xMi41IDEyLjUtMTIuNSAzMi44IDAgNDUuM2wxOTIgMTkyYzEyLjUgMTIuNSAzMi44IDEyLjUgNDUuMyAwczEyLjUtMzIuOCAwLTQ1LjNMNzcuMyAyNTYgMjQ2LjYgODYuNmMxMi41LTEyLjUgMTIuNS0zMi44IDAtNDUuM3MtMzIuOC0xMi41LTQ1LjMgMGwtMTkyIDE5MnpcIl1cbn0sIGNzID0ge1xuICBwcmVmaXg6IFwiZmFzXCIsXG4gIGljb25OYW1lOiBcImNoZXZyb24tcmlnaHRcIixcbiAgaWNvbjogWzMyMCwgNTEyLCBbOTAwMl0sIFwiZjA1NFwiLCBcIk0zMTAuNiAyMzMuNGMxMi41IDEyLjUgMTIuNSAzMi44IDAgNDUuM2wtMTkyIDE5MmMtMTIuNSAxMi41LTMyLjggMTIuNS00NS4zIDBzLTEyLjUtMzIuOCAwLTQ1LjNMMjQyLjcgMjU2IDczLjQgODYuNmMtMTIuNS0xMi41LTEyLjUtMzIuOCAwLTQ1LjNzMzIuOC0xMi41IDQ1LjMgMGwxOTIgMTkyelwiXVxufSwgZHMgPSB7XG4gIHByZWZpeDogXCJmYXNcIixcbiAgaWNvbk5hbWU6IFwiY2lyY2xlLWNoZXZyb24tbGVmdFwiLFxuICBpY29uOiBbNTEyLCA1MTIsIFtcImNoZXZyb24tY2lyY2xlLWxlZnRcIl0sIFwiZjEzN1wiLCBcIk01MTIgMjU2QTI1NiAyNTYgMCAxIDAgMCAyNTZhMjU2IDI1NiAwIDEgMCA1MTIgMHpNMjcxIDEzNWM5LjQtOS40IDI0LjYtOS40IDMzLjkgMHM5LjQgMjQuNiAwIDMzLjlsLTg3IDg3IDg3IDg3YzkuNCA5LjQgOS40IDI0LjYgMCAzMy45cy0yNC42IDkuNC0zMy45IDBMMTY3IDI3M2MtOS40LTkuNC05LjQtMjQuNiAwLTMzLjlMMjcxIDEzNXpcIl1cbn0sIHVzID0gZHMsIGZzID0ge1xuICBwcmVmaXg6IFwiZmFzXCIsXG4gIGljb25OYW1lOiBcImNhbGVuZGFyLWRheVwiLFxuICBpY29uOiBbNDQ4LCA1MTIsIFtdLCBcImY3ODNcIiwgXCJNMTI4IDBjMTcuNyAwIDMyIDE0LjMgMzIgMzJWNjRIMjg4VjMyYzAtMTcuNyAxNC4zLTMyIDMyLTMyczMyIDE0LjMgMzIgMzJWNjRoNDhjMjYuNSAwIDQ4IDIxLjUgNDggNDh2NDhIMFYxMTJDMCA4NS41IDIxLjUgNjQgNDggNjRIOTZWMzJjMC0xNy43IDE0LjMtMzIgMzItMzJ6TTAgMTkySDQ0OFY0NjRjMCAyNi41LTIxLjUgNDgtNDggNDhINDhjLTI2LjUgMC00OC0yMS41LTQ4LTQ4VjE5MnptODAgNjRjLTguOCAwLTE2IDcuMi0xNiAxNnY5NmMwIDguOCA3LjIgMTYgMTYgMTZoOTZjOC44IDAgMTYtNy4yIDE2LTE2VjI3MmMwLTguOC03LjItMTYtMTYtMTZIODB6XCJdXG59O1xuY29uc3QgbXMgPSBIKHtcbiAgbmFtZTogXCJEYXRlUGlja2VyXCIsXG4gIGNvbXBvbmVudHM6IHsgRm9udEF3ZXNvbWVJY29uOiBRZSB9LFxuICBwcm9wczoge1xuICAgIG1vZGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwid2Vla1wiXG4gICAgfSxcbiAgICB0aW1lUHJvcDoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgcGVyaW9kUHJvcDoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgZmlyc3REYXlPZldlZWs6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwiXCJcbiAgICB9LFxuICAgIGRlZmF1bHREYXRlOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICB9LFxuICAgIC8qKiBGb3IgdXNhZ2Ugb2YgdGhlIGNvbXBvbmVudCBhcyBhIHN0YW5kLWFsb25lIGNvbXBvbmVudCwgb3V0c2lkZSBRYWxlbmRhciAqL1xuICAgIGxvY2FsZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJcIlxuICAgIH0sXG4gICAgZGlzYWJsZURhdGVzOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICAgIC8qKiBFbmQgb2YgcHJvcHMgZm9yIHN0YW5kLWFsb25lIGNvbXBvbmVudCAgKi9cbiAgfSxcbiAgZW1pdHM6IFtcInVwZGF0ZWRcIl0sXG4gIGRhdGEoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBlcmlvZFRleHQ6IFwiXCIsXG4gICAgICB3ZWVrUGlja2VyRGF0ZXM6IFtdLFxuICAgICAgbW9udGhQaWNrZXJEYXRlczogW10sXG4gICAgICBpY29uczoge1xuICAgICAgICBjYWxlbmRhckljb246IGZzLFxuICAgICAgICBjaGV2cm9uTGVmdDogdXMsXG4gICAgICAgIGNoZXZyb25SaWdodDogZXNcbiAgICAgIH0sXG4gICAgICBzaG93RGF0ZVBpY2tlcjogISEodGhpcy5sb2NhbGUgJiYgdGhpcy5maXJzdERheU9mV2VlayksXG4gICAgICAvLyBTZXQgdG8gYXV0b21hdGljIHNob3csIHdoZW4gdXNlZCBhcyBhIHN0YW5kYWxvbmUgY29tcG9uZW50XG4gICAgICAvKipcbiAgICAgICAqIFRob3VnaCBzZWxlY3RlZERhdGUgbWlnaHQgbG9vayBpZGVudGljYWwgdG8gZGF0ZVBpY2tlckN1cnJlbnREYXRlLCBpdCBpcyBub3RcbiAgICAgICAqIFRoZXJlIGlzIGEgbmVlZCBmb3Igc2VwYXJhdGUgc3RhdGUgZm9yOlxuICAgICAgICogMS4gKGRhdGVQaWNrZXJDdXJyZW50RGF0ZSkgdGhlIGN1cnJlbnQgZGF0ZSBnb3Zlcm5pbmcgd2hhdCB0byBzaG93IGluIHRoZSB3ZWVrIHBpY2tlci5cbiAgICAgICAqIFRoaXMgY2hhbmdlcyBhcyB0aGUgdXNlciBicm93c2VzIGJldHdlZW4gd2Vla3MsIG1vbnRocyBhbmQgeWVhcnNcbiAgICAgICAqXG4gICAgICAgKiAyLiAoc2VsZWN0ZWREYXRlKSB0aGUgc2VsZWN0ZWQgZGF0ZSBvZiB0aGUgZW50aXJlIGNhbGVuZGFyLlxuICAgICAgICogVGhpcyBzaG91bGQgbm90IGNoYW5nZSBhcyB0aGUgdXNlciBicm93c2VzIGluIHRoZSBkYXRlIHBpY2tlciwgb25seSB3aGVuIHRoZSB1c2VyXG4gICAgICAgKiBQSUNLUyBhIGRhdGUgaW4gdGhlIGRhdGUgcGlja2VyXG4gICAgICAgKiAqL1xuICAgICAgZGF0ZVBpY2tlckN1cnJlbnREYXRlOiAoKGUgPSB0aGlzLnBlcmlvZFByb3ApID09IG51bGwgPyB2b2lkIDAgOiBlLnNlbGVjdGVkRGF0ZSkgfHwgdGhpcy5kZWZhdWx0RGF0ZSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgIHNlbGVjdGVkRGF0ZTogKCh0ID0gdGhpcy5wZXJpb2RQcm9wKSA9PSBudWxsID8gdm9pZCAwIDogdC5zZWxlY3RlZERhdGUpIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgZGF0ZVBpY2tlck1vZGU6IFwibW9udGhcIixcbiAgICAgIHdlZWtEYXlzOiBbXSxcbiAgICAgIC8vIFVzZWQgb25seSBmb3IgcHJpbnRpbmcgd2VlayBkYXkgbmFtZXMsXG4gICAgICB0aW1lOiB0aGlzLnRpbWVQcm9wID8gdGhpcy50aW1lUHJvcCA6IG5ldyBzZSh0aGlzLmZpcnN0RGF5T2ZXZWVrLCB0aGlzLmxvY2FsZSksXG4gICAgICBwZXJpb2Q6IHRoaXMucGVyaW9kUHJvcCB8fCB7XG4gICAgICAgIHN0YXJ0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgZW5kOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc2VsZWN0ZWREYXRlOiB0aGlzLmRlZmF1bHREYXRlID8gdGhpcy5kZWZhdWx0RGF0ZSA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICAvKipcbiAgICAgKiBJZiBib3RoIGZvbGxvd2luZyBwcm9wcyBhcmUgc2V0LCB0aGlzIG1lYW5zIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgdXNlZCBhcyBhIHN0YW5kIGFsb25lIGNvbXBvbmVudFxuICAgICAqIGFuZCBub3QgaW5zaWRlIFFhbGVuZGFyXG4gICAgICogKi9cbiAgICBpc1N0YW5kQWxvbmVDb21wb25lbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGUgJiYgdGhpcy5maXJzdERheU9mV2VlaztcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5oeWRyYXRlRGF0ZVBpY2tlcigpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0TW9udGhEYXlzSW5XZWVrUGlja2VyKGUgPSAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLmdldE1vbnRoKCksIHQgPSAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHRoaXMud2Vla1BpY2tlckRhdGVzID0gW10sIHRoaXMud2Vla1BpY2tlckRhdGVzID0gdGhpcy50aW1lLmdldENhbGVuZGFyTW9udGhTcGxpdEluV2Vla3MoXG4gICAgICAgIHQsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgfSxcbiAgICB0b2dnbGVQZXJpb2RTZWxlY3RvcigpIHtcbiAgICAgIHRoaXMud2Vla1BpY2tlckRhdGVzID0gdGhpcy50aW1lLmdldENhbGVuZGFyTW9udGhTcGxpdEluV2Vla3MoXG4gICAgICAgIHRoaXMuZGF0ZVBpY2tlckN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgIHRoaXMuZGF0ZVBpY2tlckN1cnJlbnREYXRlLmdldE1vbnRoKClcbiAgICAgICksIHRoaXMuc2hvd0RhdGVQaWNrZXIgPSAhdGhpcy5zaG93RGF0ZVBpY2tlcjtcbiAgICB9LFxuICAgIHNldFdlZWsoZSwgdCA9ICExKSB7XG4gICAgICB0IHx8ICh0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSA9IGUpO1xuICAgICAgY29uc3QgbiA9IHRoaXMudGltZS5nZXRDYWxlbmRhcldlZWtEYXRlT2JqZWN0cyhlKTtcbiAgICAgIHRoaXMud2Vla0RheXMgPSBuO1xuICAgICAgY29uc3QgYSA9IG5bMF0sIHIgPSBuWzZdO1xuICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgY2FzZSBcIndlZWtcIjpcbiAgICAgICAgICB0aGlzLnBlcmlvZFRleHQgPSBgJHt0aGlzLnRpbWUuZ2V0TG9jYWxpemVkRGF0ZVN0cmluZyhcbiAgICAgICAgICAgIGFcbiAgICAgICAgICApfSAtICR7dGhpcy50aW1lLmdldExvY2FsaXplZERhdGVTdHJpbmcocil9YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1vbnRoXCI6XG4gICAgICAgICAgdGhpcy5wZXJpb2RUZXh0ID0gdGhpcy50aW1lLmdldExvY2FsaXplZE5hbWVPZk1vbnRoKGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRoaXMucGVyaW9kVGV4dCA9IHRoaXMudGltZS5nZXRMb2NhbGl6ZWREYXRlU3RyaW5nKGUpO1xuICAgICAgfVxuICAgICAgdCB8fCB0aGlzLmVtaXRDaGFuZ2UoYSwgcik7XG4gICAgfSxcbiAgICBzZXRNb250aChlKSB7XG4gICAgICB0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSA9IGUsIHRoaXMuc2V0TW9udGhEYXlzSW5XZWVrUGlja2VyKGUuZ2V0TW9udGgoKSwgZS5nZXRGdWxsWWVhcigpKSwgdGhpcy5kYXRlUGlja2VyTW9kZSA9IFwibW9udGhcIiwgdGhpcy5zaG93RGF0ZVBpY2tlciA9ICEwO1xuICAgIH0sXG4gICAgZW1pdENoYW5nZShlLCB0KSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSwgdGhpcy5tb2RlID09PSBcIm1vbnRoXCIpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMudGltZS5nZXRDYWxlbmRhck1vbnRoU3BsaXRJbldlZWtzKFxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGUuZ2V0TW9udGgoKVxuICAgICAgICApO1xuICAgICAgICBlID0gblswXVswXTtcbiAgICAgICAgY29uc3QgYSA9IG5bbi5sZW5ndGggLSAxXTtcbiAgICAgICAgdCA9IGFbYS5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB0aGlzLm1vZGUgPT09IFwiZGF5XCIgJiYgKGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSwgdCA9IHRoaXMuc2VsZWN0ZWREYXRlKTtcbiAgICAgIHRoaXMuaXNTdGFuZEFsb25lQ29tcG9uZW50ID8gdGhpcy4kZW1pdChcInVwZGF0ZWRcIiwge1xuICAgICAgICB5ZWFyOiB0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICBtb250aDogdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgZGF0ZTogdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUuZ2V0RGF0ZSgpXG4gICAgICB9KSA6IHRoaXMuJGVtaXQoXCJ1cGRhdGVkXCIsIHtcbiAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKFxuICAgICAgICAgIGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBlLmdldE1vbnRoKCksXG4gICAgICAgICAgZS5nZXREYXRlKCksXG4gICAgICAgICAgMCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDBcbiAgICAgICAgKSxcbiAgICAgICAgZW5kOiB0aGlzLnRpbWUuc2V0RGF0ZVRvRW5kT2ZEYXkodCksXG4gICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdG9nZ2xlRGF0ZVBpY2tlclBlcmlvZChlKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IERhdGUodGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUpO1xuICAgICAgaWYgKHRoaXMuZGF0ZVBpY2tlck1vZGUgPT09IFwibW9udGhcIikge1xuICAgICAgICBjb25zdCBuID0gbmV3IERhdGUoXG4gICAgICAgICAgdC5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIGUgPT09IFwicHJldmlvdXNcIiA/IHQuZ2V0TW9udGgoKSAtIDEgOiB0LmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgIDFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5zZXRNb250aERheXNJbldlZWtQaWNrZXIoXG4gICAgICAgICAgbi5nZXRNb250aCgpLFxuICAgICAgICAgIG4uZ2V0RnVsbFllYXIoKVxuICAgICAgICApLCB0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSA9IG47XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhpcy5tb250aFBpY2tlckRhdGVzID0gdGhpcy50aW1lLmdldENhbGVuZGFyWWVhck1vbnRocyhcbiAgICAgICAgICBlID09PSBcInByZXZpb3VzXCIgPyB0LmdldEZ1bGxZZWFyKCkgLSAxIDogdC5nZXRGdWxsWWVhcigpICsgMVxuICAgICAgICApLCB0aGlzLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHRoaXMubW9udGhQaWNrZXJEYXRlc1swXSk7XG4gICAgfSxcbiAgICB0b2dnbGVEYXRlUGlja2VyTW9kZSgpIHtcbiAgICAgIGlmICh0aGlzLmRhdGVQaWNrZXJNb2RlID09PSBcIm1vbnRoXCIpXG4gICAgICAgIHJldHVybiB0aGlzLm1vbnRoUGlja2VyRGF0ZXMgPSB0aGlzLnRpbWUuZ2V0Q2FsZW5kYXJZZWFyTW9udGhzKFxuICAgICAgICAgIHRoaXMuZGF0ZVBpY2tlckN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgKSwgdGhpcy5kYXRlUGlja2VyTW9kZSA9IFwieWVhclwiO1xuICAgICAgdGhpcy53ZWVrUGlja2VyRGF0ZXMgPSB0aGlzLnRpbWUuZ2V0Q2FsZW5kYXJNb250aFNwbGl0SW5XZWVrcyhcbiAgICAgICAgdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUuZ2V0TW9udGgoKVxuICAgICAgKSwgdGhpcy5kYXRlUGlja2VyTW9kZSA9IFwibW9udGhcIjtcbiAgICB9LFxuICAgIGdldExvY2FsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbWUuQ0FMRU5EQVJfTE9DQUxFO1xuICAgIH0sXG4gICAgZ29Ub1BlcmlvZChlKSB7XG4gICAgICBsZXQgdCwgbjtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IFwid2Vla1wiKSB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnRpbWUuZ2V0Q2FsZW5kYXJXZWVrRGF0ZU9iamVjdHMoXG4gICAgICAgICAgdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGVcbiAgICAgICAgKTtcbiAgICAgICAgdCA9IG5ldyBEYXRlKGFbMF0pLCBuID0gZSA9PT0gXCJuZXh0XCIgPyB0LmdldERhdGUoKSArIDcgOiB0LmdldERhdGUoKSAtIDcsIHQuc2V0RGF0ZShuKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB0aGlzLm1vZGUgPT09IFwibW9udGhcIiA/ICh0ID0gbmV3IERhdGUodGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUpLCB0LnNldE1vbnRoKFxuICAgICAgICAgIGUgPT09IFwibmV4dFwiID8gdC5nZXRNb250aCgpICsgMSA6IHQuZ2V0TW9udGgoKSAtIDFcbiAgICAgICAgKSwgdC5zZXREYXRlKDEpKSA6ICh0ID0gbmV3IERhdGUodGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGUpLCBuID0gZSA9PT0gXCJuZXh0XCIgPyB0LmdldERhdGUoKSArIDEgOiB0LmdldERhdGUoKSAtIDEsIHQuc2V0RGF0ZShuKSk7XG4gICAgICB0aGlzLnNldFdlZWsodCk7XG4gICAgfSxcbiAgICBoaWRlRGF0ZVBpY2tlcigpIHtcbiAgICAgIHRoaXMuaXNTdGFuZEFsb25lQ29tcG9uZW50IHx8IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaG93RGF0ZVBpY2tlciA9ICExLCAxMDApO1xuICAgIH0sXG4gICAgaHlkcmF0ZURhdGVQaWNrZXIoKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5kYXRlUGlja2VyQ3VycmVudERhdGU7XG4gICAgICB0aGlzLnNldE1vbnRoRGF5c0luV2Vla1BpY2tlcihlLmdldE1vbnRoKCksIGUuZ2V0RnVsbFllYXIoKSksIHRoaXMuc2V0V2VlayhlLCAhMCk7XG4gICAgfSxcbiAgICBjaGVja0lmRGF0ZUlzRGlzYWJsZWQoZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZURhdGVzID8gZS5nZXRUaW1lKCkgPCB0aGlzLmRpc2FibGVEYXRlcy5iZWZvcmUuZ2V0VGltZSgpID8gITAgOiBlLmdldFRpbWUoKSA+IHRoaXMuZGlzYWJsZURhdGVzLmFmdGVyLmdldFRpbWUoKSA6ICExO1xuICAgIH1cbiAgfVxufSk7XG5jb25zdCBqID0gKGUsIHQpID0+IHtcbiAgY29uc3QgbiA9IGUuX192Y2NPcHRzIHx8IGU7XG4gIGZvciAoY29uc3QgW2EsIHJdIG9mIHQpXG4gICAgblthXSA9IHI7XG4gIHJldHVybiBuO1xufSwgaHMgPSB7IGNsYXNzOiBcImRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5LXRleHRcIiB9LCB2cyA9IHsgY2xhc3M6IFwiZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyLW5hdmlnYXRpb25cIiB9LCBncyA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJkYXRlLXBpY2tlcl9fZGF5LW5hbWVzIHdlZWtcIlxufSwgcHMgPSBbXCJvbkNsaWNrXCJdLCB5cyA9IHsgY2xhc3M6IFwibW9udGhzXCIgfSwgYnMgPSBbXCJvbkNsaWNrXCJdO1xuZnVuY3Rpb24gRHMoZSwgdCwgbiwgYSwgciwgcykge1xuICBjb25zdCBpID0gJChcImZvbnQtYXdlc29tZS1pY29uXCIpO1xuICByZXR1cm4gZigpLCBtKFwiZGl2XCIsIHtcbiAgICBjbGFzczogeChbXCJkYXRlLXBpY2tlclwiLCBlLmlzU3RhbmRBbG9uZUNvbXBvbmVudCA/IFwiZGF0ZS1waWNrZXItcm9vdFwiIDogXCJpcy1pbi1xYWxlbmRhclwiXSksXG4gICAgb25Nb3VzZWxlYXZlOiB0WzVdIHx8ICh0WzVdID0gKC4uLm8pID0+IGUuaGlkZURhdGVQaWNrZXIgJiYgZS5oaWRlRGF0ZVBpY2tlciguLi5vKSlcbiAgfSwgW1xuICAgIGUuaXNTdGFuZEFsb25lQ29tcG9uZW50ID8gUyhcIlwiLCAhMCkgOiAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgIGtleTogMCxcbiAgICAgIGNsYXNzOiBcImRhdGUtcGlja2VyX192YWx1ZS1kaXNwbGF5XCIsXG4gICAgICBvbkNsaWNrOiB0WzBdIHx8ICh0WzBdID0gKC4uLm8pID0+IGUudG9nZ2xlUGVyaW9kU2VsZWN0b3IgJiYgZS50b2dnbGVQZXJpb2RTZWxlY3RvciguLi5vKSlcbiAgICB9LCBbXG4gICAgICBJKGksIHtcbiAgICAgICAgaWNvbjogZS5pY29ucy5jYWxlbmRhckljb25cbiAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgVChcInNwYW5cIiwgaHMsIEEoZS5wZXJpb2RUZXh0KSwgMSlcbiAgICBdKSksXG4gICAgZS5zaG93RGF0ZVBpY2tlciA/IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAga2V5OiAxLFxuICAgICAgY2xhc3M6IHgoW1wiZGF0ZS1waWNrZXJfX3dlZWstcGlja2VyXCIsIHsgXCJpcy1pbi1xYWxlbmRhclwiOiAhZS5pc1N0YW5kQWxvbmVDb21wb25lbnQgfV0pLFxuICAgICAgb25Nb3VzZWxlYXZlOiB0WzRdIHx8ICh0WzRdID0gKC4uLm8pID0+IGUuaGlkZURhdGVQaWNrZXIgJiYgZS5oaWRlRGF0ZVBpY2tlciguLi5vKSlcbiAgICB9LCBbXG4gICAgICBUKFwiZGl2XCIsIHZzLCBbXG4gICAgICAgIEkoaSwge1xuICAgICAgICAgIGNsYXNzOiBcImlzLWljb24gaXMtY2hldnJvbi1sZWZ0XCIsXG4gICAgICAgICAgaWNvbjogZS5pY29ucy5jaGV2cm9uTGVmdCxcbiAgICAgICAgICBvbkNsaWNrOiB0WzFdIHx8ICh0WzFdID0gKG8pID0+IGUudG9nZ2xlRGF0ZVBpY2tlclBlcmlvZChcInByZXZpb3VzXCIpKVxuICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKSxcbiAgICAgICAgVChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzOiBcImRhdGUtcGlja2VyX190b2dnbGUtbW9kZVwiLFxuICAgICAgICAgIG9uQ2xpY2s6IHRbMl0gfHwgKHRbMl0gPSAoLi4ubykgPT4gZS50b2dnbGVEYXRlUGlja2VyTW9kZSAmJiBlLnRvZ2dsZURhdGVQaWNrZXJNb2RlKC4uLm8pKVxuICAgICAgICB9LCBbXG4gICAgICAgICAgZS5kYXRlUGlja2VyTW9kZSA9PT0gXCJtb250aFwiID8gKGYoKSwgbShMLCB7IGtleTogMCB9LCBbXG4gICAgICAgICAgICBsZShBKGUuZGF0ZVBpY2tlckN1cnJlbnREYXRlLnRvTG9jYWxlU3RyaW5nKGUuZ2V0TG9jYWxlKCksIHtcbiAgICAgICAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgICAgfSkpLCAxKVxuICAgICAgICAgIF0sIDY0KSkgOiBlLmRhdGVQaWNrZXJNb2RlID09PSBcInllYXJcIiA/IChmKCksIG0oTCwgeyBrZXk6IDEgfSwgW1xuICAgICAgICAgICAgbGUoQShuZXcgRGF0ZShlLmRhdGVQaWNrZXJDdXJyZW50RGF0ZSkudG9Mb2NhbGVTdHJpbmcoZS5nZXRMb2NhbGUoKSwge1xuICAgICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgICAgfSkpLCAxKVxuICAgICAgICAgIF0sIDY0KSkgOiBTKFwiXCIsICEwKVxuICAgICAgICBdKSxcbiAgICAgICAgSShpLCB7XG4gICAgICAgICAgY2xhc3M6IFwiaXMtaWNvbiBpcy1jaGV2cm9uLXJpZ2h0XCIsXG4gICAgICAgICAgaWNvbjogZS5pY29ucy5jaGV2cm9uUmlnaHQsXG4gICAgICAgICAgb25DbGljazogdFszXSB8fCAodFszXSA9IChvKSA9PiBlLnRvZ2dsZURhdGVQaWNrZXJQZXJpb2QoXCJuZXh0XCIpKVxuICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKVxuICAgICAgXSksXG4gICAgICBlLmRhdGVQaWNrZXJNb2RlID09PSBcIm1vbnRoXCIgPyAoZigpLCBtKFwiZGl2XCIsIGdzLCBbXG4gICAgICAgIChmKCEwKSwgbShMLCBudWxsLCB6KGUud2Vla0RheXMsIChvKSA9PiAoZigpLCBtKFwic3BhblwiLCB7XG4gICAgICAgICAga2V5OiBvLmdldERhdGUoKVxuICAgICAgICB9LCBBKGUudGltZS5nZXRMb2NhbGl6ZWROYW1lT2ZXZWVrZGF5KG8sIFwic2hvcnRcIikpLCAxKSkpLCAxMjgpKVxuICAgICAgXSkpIDogUyhcIlwiLCAhMCksXG4gICAgICAoZighMCksIG0oTCwgbnVsbCwgeihlLndlZWtQaWNrZXJEYXRlcywgKG8sIGwpID0+IG1uKChmKCksIG0oXCJkaXZcIiwge1xuICAgICAgICBrZXk6IGwsXG4gICAgICAgIGNsYXNzOiB4KFtcbiAgICAgICAgICBcIndlZWtcIixcbiAgICAgICAgICBlLnRpbWUuZGF0ZUlzSW5XZWVrKGUuc2VsZWN0ZWREYXRlLCBvKSAmJiAhZS5pc1N0YW5kQWxvbmVDb21wb25lbnQgPyBcImlzLWFjdGl2ZVwiIDogXCJcIlxuICAgICAgICBdKVxuICAgICAgfSwgW1xuICAgICAgICAoZighMCksIG0oTCwgbnVsbCwgeihvLCAoYywgZCkgPT4gKGYoKSwgbShcInNwYW5cIiwge1xuICAgICAgICAgIGtleTogbCArIGQsXG4gICAgICAgICAgY2xhc3M6IHgoe1xuICAgICAgICAgICAgXCJpcy13ZWVrZW5kXCI6IFs1LCA2XS5pbmNsdWRlcyhkKSxcbiAgICAgICAgICAgIFwiaXMtbm90LWluLW1vbnRoXCI6IGMuZ2V0TW9udGgoKSAhPT0gZS5kYXRlUGlja2VyQ3VycmVudERhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIFwiaGFzLWRheVwiOiBjLFxuICAgICAgICAgICAgXCJpcy10b2RheVwiOiBlLnRpbWUuZGF0ZUlzVG9kYXkoYyksXG4gICAgICAgICAgICBcImlzLWRpc2FibGVkXCI6IGUuY2hlY2tJZkRhdGVJc0Rpc2FibGVkKGMpXG4gICAgICAgICAgfSksXG4gICAgICAgICAgb25DbGljazogKHUpID0+IGUuY2hlY2tJZkRhdGVJc0Rpc2FibGVkKGMpID8gbnVsbCA6IGUuc2V0V2VlayhjKVxuICAgICAgICB9LCBBKGMgPyBjLmdldERhdGUoKSA6IFwiXCIpLCAxMSwgcHMpKSksIDEyOCkpXG4gICAgICBdLCAyKSksIFtcbiAgICAgICAgW2huLCBlLmRhdGVQaWNrZXJNb2RlID09PSBcIm1vbnRoXCJdXG4gICAgICBdKSksIDEyOCkpLFxuICAgICAgbW4oVChcImRpdlwiLCB5cywgW1xuICAgICAgICAoZighMCksIG0oTCwgbnVsbCwgeihlLm1vbnRoUGlja2VyRGF0ZXMsIChvLCBsKSA9PiAoZigpLCBtKFwic3BhblwiLCB7XG4gICAgICAgICAga2V5OiBsLFxuICAgICAgICAgIGNsYXNzOiBcImhhcy1tb250aFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IChjKSA9PiBlLnNldE1vbnRoKG8pXG4gICAgICAgIH0sIEEobmV3IERhdGUobykudG9Mb2NhbGVTdHJpbmcoZS5nZXRMb2NhbGUoKSwgeyBtb250aDogXCJsb25nXCIgfSkpLCA5LCBicykpKSwgMTI4KSlcbiAgICAgIF0sIDUxMiksIFtcbiAgICAgICAgW2huLCBlLmRhdGVQaWNrZXJNb2RlID09PSBcInllYXJcIl1cbiAgICAgIF0pXG4gICAgXSwgMzQpKSA6IFMoXCJcIiwgITApXG4gIF0sIDM0KTtcbn1cbmNvbnN0IGtzID0gLyogQF9fUFVSRV9fICovIGoobXMsIFtbXCJyZW5kZXJcIiwgRHNdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtNjdmNzc4NjJcIl1dKSwgd3MgPSB7XG4gIC8qKiBUaGUgZm9sbG93aW5nIHRocmVlIGtleXMsIGRlc2NyaWJlIHRoZSBjYWxlbmRhciBtb2RlcyAqL1xuICB3ZWVrOiB7XG4gICAgXCJpdC1JVFwiOiBcIlNldHRpbWFuYVwiLFxuICAgIFwiZW4tVVNcIjogXCJXZWVrXCIsXG4gICAgXCJkZS1ERVwiOiBcIldvY2hlXCIsXG4gICAgXCJzdi1TRVwiOiBcIlZlY2thXCIsXG4gICAgXCJ6aC1DTlwiOiBcIuWRqFwiLFxuICAgIFwicHQtQlJcIjogXCJTZW1hbmFcIixcbiAgICBcImZyLUZSXCI6IFwiU2VtYWluZVwiLFxuICAgIFwidGgtVEhcIjogXCLguKrguLHguJvguJTguLLguKvguYxcIixcbiAgICBcIm5sLU5MXCI6IFwiV2Vla1wiLFxuICAgIFwicnUtUlVcIjogXCLQndC10LTQtdC70Y9cIixcbiAgICBcImFyLVlFXCI6IFwi2KXYs9io2YjYuVwiLFxuICAgIFwiZXMtRVNcIjogXCJTZW1hbmFcIixcbiAgICBcImphLUpQXCI6IFwi6YCxXCJcbiAgfSxcbiAgbW9udGg6IHtcbiAgICBcIml0LUlUXCI6IFwiTWVzZVwiLFxuICAgIFwiZW4tVVNcIjogXCJNb250aFwiLFxuICAgIFwiZGUtREVcIjogXCJNb25hdFwiLFxuICAgIFwic3YtU0VcIjogXCJNw6VuYWRcIixcbiAgICBcInpoLUNOXCI6IFwi5pyIXCIsXG4gICAgXCJwdC1CUlwiOiBcIk3DqnNcIixcbiAgICBcImZyLUZSXCI6IFwiTW9pc1wiLFxuICAgIFwidGgtVEhcIjogXCLguYDguJTguLfguK3guJlcIixcbiAgICBcIm5sLU5MXCI6IFwiTWFhbmRcIixcbiAgICBcInJ1LVJVXCI6IFwi0JzQtdGB0Y/RhlwiLFxuICAgIFwiYXItWUVcIjogXCLYtNmH2LFcIixcbiAgICBcImVzLUVTXCI6IFwiTWVzXCIsXG4gICAgXCJqYS1KUFwiOiBcIuaciFwiXG4gIH0sXG4gIGRheToge1xuICAgIFwiaXQtSVRcIjogXCJHaW9ybm9cIixcbiAgICBcImVuLVVTXCI6IFwiRGF5XCIsXG4gICAgXCJkZS1ERVwiOiBcIlRhZ1wiLFxuICAgIFwic3YtU0VcIjogXCJEYWdcIixcbiAgICBcInpoLUNOXCI6IFwi5pelXCIsXG4gICAgXCJwdC1CUlwiOiBcIkRpYVwiLFxuICAgIFwiZnItRlJcIjogXCJKb3VyXCIsXG4gICAgXCJ0aC1USFwiOiBcIuC4p+C4seC4mVwiLFxuICAgIFwibmwtTkxcIjogXCJEYWdcIixcbiAgICBcInJ1LVJVXCI6IFwi0JTQtdC90YxcIixcbiAgICBcImFyLVlFXCI6IFwi2YrZiNmFXCIsXG4gICAgXCJlcy1FU1wiOiBcIkTDrWFcIixcbiAgICBcImphLUpQXCI6IFwi5pelXCJcbiAgfSxcbiAgLyoqIE90aGVyIGtleXMgKi9cbiAgbW9yZUV2ZW50czoge1xuICAgIFwiaXQtSVRcIjogXCIrIGFsdHJpIGV2ZW50aVwiLFxuICAgIFwiZW4tVVNcIjogXCIrIG1vcmUgZXZlbnRzXCIsXG4gICAgXCJkZS1ERVwiOiBcIisgd2VpdGVyZSBFcmVpZ25pc3NlXCIsXG4gICAgXCJzdi1TRVwiOiBcIisgZmxlciBldmVudFwiLFxuICAgIFwiemgtQ05cIjogXCLliJflh7rlhbbku5bnu5PmnpxcIixcbiAgICBcInB0LUJSXCI6IFwiKyBtYWlzIGV2ZW50b3NcIixcbiAgICBcImZyLUZSXCI6IFwiKyBkJ2F1dHJlcyDDqXbDqW5lbWVudHNcIixcbiAgICBcInRoLVRIXCI6IFwiKyDguYDguKvguJXguLjguIHguLLguKPguJPguYzguYDguJ7guLTguYjguKHguYDguJXguLTguKFcIixcbiAgICBcIm5sLU5MXCI6IFwibWVlciBldmVuZW1lbnRlblwiLFxuICAgIFwicnUtUlVcIjogXCIrINC10YnRkSDRgdC+0LHRi9GC0LjRj1wiLFxuICAgIFwiYXItWUVcIjogXCIrINin2YTZhdiy2YrYryDZhdmGINin2YTYo9it2K/Yp9irXCIsXG4gICAgXCJlcy1FU1wiOiBcIm3DoXMgZXZlbnRvc1wiLFxuICAgIFwiamEtSlBcIjogXCLjgZ3jga7ku5bjgqTjg5njg7Pjg4hcIlxuICB9LFxuICBub0V2ZW50OiB7XG4gICAgXCJpdC1JVFwiOiBcIk5lc3N1biBldmVudG9cIixcbiAgICBcImVuLVVTXCI6IFwiTm8gZXZlbnRzXCIsXG4gICAgXCJkZS1ERVwiOiBcIktlaW5lIEVyZWlnbmlzc2VcIixcbiAgICBcInN2LVNFXCI6IFwiSW5nYSBldmVudFwiLFxuICAgIFwiemgtQ05cIjogXCLmspLmnInmtLvli5VcIixcbiAgICBcInB0LUJSXCI6IFwiU2VtIGV2ZW50b3NcIixcbiAgICBcImZyLUZSXCI6IFwiQXVjdW4gRXbDqG5lbWVudFwiLFxuICAgIFwidGgtVEhcIjogXCLguYTguKHguYjguKHguLXguIHguLTguIjguIHguKPguKPguKFcIixcbiAgICBcIm5sLU5MXCI6IFwiR2VlbiBldmVuZW1lbnRlblwiLFxuICAgIFwicnUtUlVcIjogXCLQndC10YIg0YHQvtCx0YvRgtC40LlcIixcbiAgICBcImFyLVlFXCI6IFwi2YTYpyDYo9it2K/Yp9irXCIsXG4gICAgXCJlcy1FU1wiOiBcIk5vIGhheSBldmVudG9zXCIsXG4gICAgXCJqYS1KUFwiOiBcIuOCpOODmeODs+ODiOOBquOBl1wiXG4gIH1cbn0sIGpuID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICBbXCJkZVwiLCBcImRlLURFXCJdLFxuICBbXCJlblwiLCBcImVuLVVTXCJdLFxuICBbXCJpdFwiLCBcIml0LUlUXCJdLFxuICBbXCJzdlwiLCBcInN2LVNFXCJdLFxuICBbXCJ6aFwiLCBcInpoLUNOXCJdLFxuICBbXCJwdFwiLCBcInB0LUJSXCJdLFxuICBbXCJmclwiLCBcImZyLUZSXCJdLFxuICBbXCJ0aFwiLCBcInRoLVRIXCJdLFxuICBbXCJubFwiLCBcIm5sLU5MXCJdLFxuICBbXCJydVwiLCBcInJ1LVJVXCJdLFxuICBbXCJhclwiLCBcImFyLVlFXCJdLFxuICBbXCJlc1wiLCBcImVzLUVTXCJdLFxuICBbXCJqYVwiLCBcImphLUpQXCJdXG5dKSwgc24gPSB7XG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhbmd1YWdlS2V5czogd3NcbiAgICB9O1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0TGFuZ3VhZ2UoZSwgdCkge1xuICAgICAgcmV0dXJuIHQgPSB0aGlzLm92ZXJyaWRlU2hvcnRMb2NhbGVXaXRoTG9uZ0xvY2FsZSh0KSwgZVt0XSA/IGVbdF0gOiBlW1wiZW4tVVNcIl07XG4gICAgfSxcbiAgICBvdmVycmlkZVNob3J0TG9jYWxlV2l0aExvbmdMb2NhbGUoZSkge1xuICAgICAgcmV0dXJuIGpuLmhhcyhlKSAmJiAoZSA9IGpuLmdldChlKSksIGU7XG4gICAgfVxuICB9XG59LCBFcyA9IEgoe1xuICBuYW1lOiBcIkFwcEhlYWRlclwiLFxuICBjb21wb25lbnRzOiB7XG4gICAgRGF0ZVBpY2tlcjoga3MsXG4gICAgRm9udEF3ZXNvbWVJY29uOiBRZVxuICB9LFxuICBtaXhpbnM6IFtzbl0sXG4gIHByb3BzOiB7XG4gICAgY29uZmlnOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiAoKSA9PiAoe30pXG4gICAgfSxcbiAgICBtb2RlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBcIndlZWtcIlxuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KVxuICAgIH0sXG4gICAgcGVyaW9kOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGlzU21hbGw6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXCJjaGFuZ2UtbW9kZVwiLCBcInVwZGF0ZWQtcGVyaW9kXCJdLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtb2RlT3B0aW9uczogW1wibW9udGhcIiwgXCJ3ZWVrXCIsIFwiZGF5XCJdLFxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgY2hldnJvbkxlZnQ6IGxzLFxuICAgICAgICBjaGV2cm9uUmlnaHQ6IGNzXG4gICAgICB9LFxuICAgICAgY3VycmVudFBlcmlvZDogdGhpcy5wZXJpb2QsXG4gICAgICBzaG93TW9kZVBpY2tlcjogITFcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHBlcmlvZE5hbWUoKSB7XG4gICAgICB2YXIgZSwgdCwgbjtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IFwid2Vla1wiKSB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnRpbWUuZ2V0TG9jYWxpemVkTmFtZU9mTW9udGgoXG4gICAgICAgICAgKGUgPSB0aGlzLmN1cnJlbnRQZXJpb2QpID09IG51bGwgPyB2b2lkIDAgOiBlLnN0YXJ0LFxuICAgICAgICAgIFwic2hvcnRcIlxuICAgICAgICApLCByID0gdGhpcy50aW1lLmdldExvY2FsaXplZE5hbWVPZk1vbnRoKFxuICAgICAgICAgICh0ID0gdGhpcy5jdXJyZW50UGVyaW9kKSA9PSBudWxsID8gdm9pZCAwIDogdC5lbmQsXG4gICAgICAgICAgXCJzaG9ydFwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhID09PSByID8gYSA6IGAke2F9IC0gJHtyfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aW1lLmdldExvY2FsaXplZE5hbWVPZk1vbnRoKFxuICAgICAgICAobiA9IHRoaXMuY3VycmVudFBlcmlvZCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uc2VsZWN0ZWREYXRlLFxuICAgICAgICBcInNob3J0XCJcbiAgICAgICkgKyBcIiBcIiArIHRoaXMuY3VycmVudFBlcmlvZC5zZWxlY3RlZERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB9LFxuICAgIG1vZGVOYW1lKCkge1xuICAgICAgdmFyIGU7XG4gICAgICByZXR1cm4gdGhpcy5nZXRMYW5ndWFnZShcbiAgICAgICAgdGhpcy5sYW5ndWFnZUtleXNbdGhpcy5tb2RlXSxcbiAgICAgICAgKGUgPSB0aGlzLnRpbWUpID09IG51bGwgPyB2b2lkIDAgOiBlLkNBTEVOREFSX0xPQ0FMRVxuICAgICAgKTtcbiAgICB9LFxuICAgIG9ubHlEYXlNb2RlSXNFbmFibGVkKCkge1xuICAgICAgdmFyIG4sIGE7XG4gICAgICBjb25zdCBlID0gKG4gPSB0aGlzLmNvbmZpZy5kaXNhYmxlTW9kZXMpID09IG51bGwgPyB2b2lkIDAgOiBuLmluY2x1ZGVzKFwid2Vla1wiKSwgdCA9IChhID0gdGhpcy5jb25maWcuZGlzYWJsZU1vZGVzKSA9PSBudWxsID8gdm9pZCAwIDogYS5pbmNsdWRlcyhcIm1vbnRoXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRpc2FibGVNb2RlcyAmJiBlICYmIHQ7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGlzU21hbGw6IHtcbiAgICAgIGhhbmRsZXIoZSkge1xuICAgICAgICBlID8gdGhpcy5tb2RlT3B0aW9ucyA9IFtcIm1vbnRoXCIsIFwiZGF5XCJdIDogdGhpcy5tb2RlT3B0aW9ucyA9IFtcIm1vbnRoXCIsIFwid2Vla1wiLCBcImRheVwiXTtcbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGU6ICEwXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgaGFuZGxlUGVyaW9kQ2hhbmdlKGUpIHtcbiAgICAgIHRoaXMuY3VycmVudFBlcmlvZCA9IGUsIHRoaXMuJGVtaXQoXCJ1cGRhdGVkLXBlcmlvZFwiLCBlKTtcbiAgICB9LFxuICAgIGdvVG9QZXJpb2QoZSkge1xuICAgICAgdGhpcy4kcmVmcy5wZXJpb2RTZWxlY3QuZ29Ub1BlcmlvZChlKTtcbiAgICB9XG4gIH1cbn0pO1xuY29uc3QgU3MgPSB7IGNsYXNzOiBcImNhbGVuZGFyLWhlYWRlclwiIH0sIFRzID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImNhbGVuZGFyLWhlYWRlcl9fcGVyaW9kLW5hbWVcIlxufSwgQXMgPSB7IGNsYXNzOiBcImNhbGVuZGFyLWhlYWRlcl9fcGVyaW9kXCIgfSwgQ3MgPSB7IGNsYXNzOiBcImNhbGVuZGFyLWhlYWRlcl9fY2hldnJvbi1hcnJvd3NcIiB9LCBfcyA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJjYWxlbmRhci1oZWFkZXJfX21vZGUtcGlja2VyXCJcbn0sIE1zID0gW1wib25DbGlja1wiXTtcbmZ1bmN0aW9uIFBzKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgY29uc3QgaSA9ICQoXCJGb250QXdlc29tZUljb25cIiksIG8gPSAkKFwiRGF0ZVBpY2tlclwiKTtcbiAgcmV0dXJuIGYoKSwgbShcImRpdlwiLCBTcywgW1xuICAgIGUucGVyaW9kTmFtZSA/IChmKCksIG0oXCJkaXZcIiwgVHMsIEEoZS5wZXJpb2ROYW1lKSwgMSkpIDogUyhcIlwiLCAhMCksXG4gICAgVChcImRpdlwiLCBBcywgW1xuICAgICAgVChcImRpdlwiLCBDcywgW1xuICAgICAgICBJKGksIHtcbiAgICAgICAgICBjbGFzczogXCJjYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3cgY2FsZW5kYXItaGVhZGVyX19jaGV2cm9uLWFycm93LWxlZnRcIixcbiAgICAgICAgICBpY29uOiBlLmljb25zLmNoZXZyb25MZWZ0LFxuICAgICAgICAgIG9uQ2xpY2s6IHRbMF0gfHwgKHRbMF0gPSAobCkgPT4gZS5nb1RvUGVyaW9kKFwicHJldmlvdXNcIikpXG4gICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgICBJKGksIHtcbiAgICAgICAgICBjbGFzczogXCJjYWxlbmRhci1oZWFkZXJfX2NoZXZyb24tYXJyb3cgY2FsZW5kYXItaGVhZGVyX19jaGV2cm9uLWFycm93LXJpZ2h0XCIsXG4gICAgICAgICAgaWNvbjogZS5pY29ucy5jaGV2cm9uUmlnaHQsXG4gICAgICAgICAgb25DbGljazogdFsxXSB8fCAodFsxXSA9IChsKSA9PiBlLmdvVG9QZXJpb2QoXCJuZXh0XCIpKVxuICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKVxuICAgICAgXSksXG4gICAgICBJKG8sIHtcbiAgICAgICAgcmVmOiBcInBlcmlvZFNlbGVjdFwiLFxuICAgICAgICBtb2RlOiBlLm1vZGUsXG4gICAgICAgIFwidGltZS1wcm9wXCI6IGUudGltZSxcbiAgICAgICAgXCJwZXJpb2QtcHJvcFwiOiBlLnBlcmlvZCxcbiAgICAgICAgb25VcGRhdGVkOiBlLmhhbmRsZVBlcmlvZENoYW5nZVxuICAgICAgfSwgbnVsbCwgOCwgW1wibW9kZVwiLCBcInRpbWUtcHJvcFwiLCBcInBlcmlvZC1wcm9wXCIsIFwib25VcGRhdGVkXCJdKSxcbiAgICAgIGUub25seURheU1vZGVJc0VuYWJsZWQgPyBTKFwiXCIsICEwKSA6IChmKCksIG0oXCJkaXZcIiwgX3MsIFtcbiAgICAgICAgVChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IFwiY2FsZW5kYXItaGVhZGVyX19tb2RlLXZhbHVlXCIsXG4gICAgICAgICAgb25DbGljazogdFsyXSB8fCAodFsyXSA9IChsKSA9PiBlLnNob3dNb2RlUGlja2VyID0gITApXG4gICAgICAgIH0sIEEoZS5tb2RlTmFtZSksIDEpLFxuICAgICAgICBlLnNob3dNb2RlUGlja2VyID8gKGYoKSwgbShcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiAwLFxuICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25zXCIsXG4gICAgICAgICAgb25Nb3VzZWxlYXZlOiB0WzNdIHx8ICh0WzNdID0gKGwpID0+IGUuc2hvd01vZGVQaWNrZXIgPSAhMSlcbiAgICAgICAgfSwgW1xuICAgICAgICAgIChmKCEwKSwgbShMLCBudWxsLCB6KGUubW9kZU9wdGlvbnMsIChsKSA9PiAoZigpLCBtKEwsIHsga2V5OiBsIH0sIFtcbiAgICAgICAgICAgICFlLmNvbmZpZy5kaXNhYmxlTW9kZXMgfHwgIWUuY29uZmlnLmRpc2FibGVNb2Rlcy5pbmNsdWRlcyhsKSA/IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgIGNsYXNzOiB4KFtcImNhbGVuZGFyLWhlYWRlcl9fbW9kZS1vcHRpb25cIiwgXCJpcy1cIiArIGwgKyBcIi1tb2RlXCJdKSxcbiAgICAgICAgICAgICAgb25DbGljazogKGMpID0+IGUuJGVtaXQoXCJjaGFuZ2UtbW9kZVwiLCBsKVxuICAgICAgICAgICAgfSwgQShlLmdldExhbmd1YWdlKGUubGFuZ3VhZ2VLZXlzW2xdLCBlLnRpbWUuQ0FMRU5EQVJfTE9DQUxFKSksIDExLCBNcykpIDogUyhcIlwiLCAhMClcbiAgICAgICAgICBdLCA2NCkpKSwgMTI4KSlcbiAgICAgICAgXSwgMzIpKSA6IFMoXCJcIiwgITApXG4gICAgICBdKSlcbiAgICBdKVxuICBdKTtcbn1cbmNvbnN0IElzID0gLyogQF9fUFVSRV9fICovIGooRXMsIFtbXCJyZW5kZXJcIiwgUHNdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtMzdmMWMzODlcIl1dKSwgb24gPSBIKHtcbiAgbmFtZTogXCJEYXlUaW1lbGluZVwiLFxuICBwcm9wczoge1xuICAgIHRpbWU6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgd2Vla0hlaWdodDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhdmFpbGFibGVIb3VyczogW1xuICAgICAgICAwLFxuICAgICAgICAxMDAsXG4gICAgICAgIDIwMCxcbiAgICAgICAgMzAwLFxuICAgICAgICA0MDAsXG4gICAgICAgIDUwMCxcbiAgICAgICAgNjAwLFxuICAgICAgICA3MDAsXG4gICAgICAgIDgwMCxcbiAgICAgICAgOTAwLFxuICAgICAgICAxZTMsXG4gICAgICAgIDExMDAsXG4gICAgICAgIDEyMDAsXG4gICAgICAgIDEzMDAsXG4gICAgICAgIDE0MDAsXG4gICAgICAgIDE1MDAsXG4gICAgICAgIDE2MDAsXG4gICAgICAgIDE3MDAsXG4gICAgICAgIDE4MDAsXG4gICAgICAgIDE5MDAsXG4gICAgICAgIDJlMyxcbiAgICAgICAgMjEwMCxcbiAgICAgICAgMjIwMCxcbiAgICAgICAgMjMwMFxuICAgICAgXSxcbiAgICAgIHRpbWVsaW5lSG91cnM6IFtdXG4gICAgfTtcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLnRpbWVsaW5lSG91cnMgPSB0aGlzLnRpbWUuZ2V0VGltZWxpbmVIb3VycygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0TG9jYWxlVGltZVN0cmluZyhlKSB7XG4gICAgICBjb25zdCB7IGhvdXI6IHQgfSA9IHRoaXMudGltZS5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKGUpO1xuICAgICAgcmV0dXJuIHRoaXMudGltZS5nZXRMb2NhbGl6ZWRIb3VyKG5ldyBEYXRlKDIxMDAsIDEsIDEsIHQpKTtcbiAgICB9XG4gIH1cbn0pLCBCbiA9ICgpID0+IHtcbiAgT2UoKGUpID0+ICh7XG4gICAgXCIxMTM3MWQxOVwiOiBlLndlZWtIZWlnaHRcbiAgfSkpO1xufSwgWG4gPSBvbi5zZXR1cDtcbm9uLnNldHVwID0gWG4gPyAoZSwgdCkgPT4gKEJuKCksIFhuKGUsIHQpKSA6IEJuO1xuY29uc3QgTHMgPSB7IGNsYXNzOiBcImRheS10aW1lbGluZVwiIH0sIE9zID0geyBjbGFzczogXCJkYXktdGltZWxpbmVfX2hvdXItdGV4dFwiIH07XG5mdW5jdGlvbiAkcyhlLCB0LCBuLCBhLCByLCBzKSB7XG4gIHJldHVybiBmKCksIG0oXCJkaXZcIiwgTHMsIFtcbiAgICAoZighMCksIG0oTCwgbnVsbCwgeihlLnRpbWVsaW5lSG91cnMsIChpKSA9PiAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgIGtleTogaSxcbiAgICAgIGNsYXNzOiBcImRheS10aW1lbGluZV9faG91clwiXG4gICAgfSwgW1xuICAgICAgVChcInNwYW5cIiwgT3MsIEEoZS5nZXRMb2NhbGVUaW1lU3RyaW5nKGkpKSwgMSlcbiAgICBdKSkpLCAxMjgpKVxuICBdKTtcbn1cbmNvbnN0IEZzID0gLyogQF9fUFVSRV9fICovIGoob24sIFtbXCJyZW5kZXJcIiwgJHNdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtMDE0YmY0ZTBcIl1dKSwgUnMgPSBIKHtcbiAgbmFtZTogXCJGdWxsRGF5RXZlbnRcIixcbiAgcHJvcHM6IHtcbiAgICBzY2hlZHVsZUV2ZW50OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgbW9kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogW1wiZXZlbnQtd2FzLWNsaWNrZWRcIl0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbG9yczogeGUsXG4gICAgICBldmVudENvbG9yOiBcIiNmZmZcIixcbiAgICAgIGV2ZW50QmFja2dyb3VuZENvbG9yOiBcIlwiLFxuICAgICAgZXZlbnRFbGVtZW50SWRQcmVmaXg6IFwid2Vlay10aW1lbGluZV9fZXZlbnQtaWQtXCJcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGV2ZW50V2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb2RlICE9PSBcImRheVwiID8gYGNhbGMoJHt0aGlzLnNjaGVkdWxlRXZlbnQubkRheXMgKiAxMDB9JSAtIDZweClgIDogXCJjYWxjKDEwMCUgLSA2cHgpXCI7XG4gICAgfVxuICB9LFxuICBtb3VudGVkKCkge1xuICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZXRDb2xvcnMoKSB7XG4gICAgICB2YXIgZSwgdCwgbjtcbiAgICAgIHJldHVybiAoZSA9IHRoaXMuc2NoZWR1bGVFdmVudCkgIT0gbnVsbCAmJiBlLmNvbG9yU2NoZW1lICYmICgodCA9IHRoaXMuY29uZmlnLnN0eWxlKSAhPSBudWxsICYmIHQuY29sb3JTY2hlbWVzKSAmJiB0aGlzLmNvbmZpZy5zdHlsZS5jb2xvclNjaGVtZXNbdGhpcy5zY2hlZHVsZUV2ZW50LmNvbG9yU2NoZW1lXSA/ICh0aGlzLmV2ZW50Q29sb3IgPSB0aGlzLmNvbmZpZy5zdHlsZS5jb2xvclNjaGVtZXNbdGhpcy5zY2hlZHVsZUV2ZW50LmNvbG9yU2NoZW1lXS5jb2xvciwgdGhpcy5ldmVudEJhY2tncm91bmRDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLnNjaGVkdWxlRXZlbnQuY29sb3JTY2hlbWVdLmJhY2tncm91bmRDb2xvcikgOiAobiA9IHRoaXMuc2NoZWR1bGVFdmVudCkgIT0gbnVsbCAmJiBuLmNvbG9yID8gKHRoaXMuZXZlbnRDb2xvciA9IFwiI2ZmZlwiLCB0aGlzLmV2ZW50QmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5zY2hlZHVsZUV2ZW50LmNvbG9yXSkgOiB0aGlzLmV2ZW50QmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcnMuYmx1ZTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrT25FdmVudCgpIHtcbiAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgdGhpcy5ldmVudEVsZW1lbnRJZFByZWZpeCArIHRoaXMuc2NoZWR1bGVFdmVudC5pZFxuICAgICAgKTtcbiAgICAgIHRoaXMuJGVtaXQoXCJldmVudC13YXMtY2xpY2tlZFwiLCB7XG4gICAgICAgIGNsaWNrZWRFdmVudDogdGhpcy5zY2hlZHVsZUV2ZW50LFxuICAgICAgICBldmVudEVsZW1lbnQ6IGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG5jb25zdCBOcyA9IFtcImlkXCJdLCBXcyA9IHtcbiAga2V5OiAxLFxuICBjbGFzczogXCJ3ZWVrLXRpbWVsaW5lX19ldmVudFwiXG59O1xuZnVuY3Rpb24gSHMoZSwgdCwgbiwgYSwgciwgcykge1xuICByZXR1cm4gZS5zY2hlZHVsZUV2ZW50ID8gKGYoKSwgbShcImRpdlwiLCB7XG4gICAga2V5OiAwLFxuICAgIGlkOiBgJHtlLmV2ZW50RWxlbWVudElkUHJlZml4fSR7ZS5zY2hlZHVsZUV2ZW50LmlkfWAsXG4gICAgY2xhc3M6IFwid2Vlay10aW1lbGluZV9fZXZlbnQgaXMtZXZlbnRcIixcbiAgICBzdHlsZTogY2Uoe1xuICAgICAgd2lkdGg6IGUuZXZlbnRXaWR0aCxcbiAgICAgIGNvbG9yOiBlLmV2ZW50Q29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGUuZXZlbnRCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICB6SW5kZXg6IDFcbiAgICB9KSxcbiAgICBvbkNsaWNrOiB0WzBdIHx8ICh0WzBdID0gKC4uLmkpID0+IGUuaGFuZGxlQ2xpY2tPbkV2ZW50ICYmIGUuaGFuZGxlQ2xpY2tPbkV2ZW50KC4uLmkpKVxuICB9LCBBKGUuc2NoZWR1bGVFdmVudC50aXRsZSksIDEzLCBOcykpIDogKGYoKSwgbShcImRpdlwiLCBXcykpO1xufVxuY29uc3QgWXMgPSAvKiBAX19QVVJFX18gKi8gaihScywgW1tcInJlbmRlclwiLCBIc10sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi03NzhkNTlmY1wiXV0pLCB6cyA9IEgoe1xuICBuYW1lOiBcIldlZWtUaW1lbGluZVwiLFxuICBjb21wb25lbnRzOiB7IEZ1bGxEYXlFdmVudDogWXMgfSxcbiAgcHJvcHM6IHtcbiAgICBkYXlzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBmdWxsRGF5RXZlbnRzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgbW9kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogW1wiZXZlbnQtd2FzLWNsaWNrZWRcIiwgXCJkYXktd2FzLWNsaWNrZWRcIl0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdzogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICB9O1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0RGF5c0RhdGUoZSkge1xuICAgICAgY29uc3QgeyBkYXRlOiB0IH0gPSB0aGlzLnRpbWUuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKFxuICAgICAgICBlLmRhdGVUaW1lU3RyaW5nXG4gICAgICApO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICB9XG59KTtcbmNvbnN0IGpzID0geyBjbGFzczogXCJ3ZWVrLXRpbWVsaW5lXCIgfSwgQnMgPSBbXCJvbkNsaWNrXCJdLCBYcyA9IHsgY2xhc3M6IFwid2Vlay10aW1lbGluZV9fZGF5LW5hbWVcIiB9LCBVcyA9IHsgY2xhc3M6IFwid2Vlay10aW1lbGluZV9fZGF0ZVwiIH0sIFZzID0geyBjbGFzczogXCJ3ZWVrLXRpbWVsaW5lX19ldmVudHNcIiB9O1xuZnVuY3Rpb24geHMoZSwgdCwgbiwgYSwgciwgcykge1xuICBjb25zdCBpID0gJChcIkZ1bGxEYXlFdmVudFwiKTtcbiAgcmV0dXJuIGYoKSwgbShcImRpdlwiLCBqcywgW1xuICAgIChmKCEwKSwgbShMLCBudWxsLCB6KGUuZGF5cywgKG8sIGwpID0+IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAga2V5OiBsLFxuICAgICAgY2xhc3M6IHgoW1wid2Vlay10aW1lbGluZV9fZGF5XCIsIHtcbiAgICAgICAgXCJpcy10b2RheVwiOiBlLnRpbWUuZ2V0RGF0ZVRpbWVTdHJpbmdGcm9tRGF0ZShlLm5vdywgXCJzdGFydFwiKSA9PT0gby5kYXRlVGltZVN0cmluZ1xuICAgICAgfV0pLFxuICAgICAgb25DbGljazogKGMpID0+IGUuJGVtaXQoXCJkYXktd2FzLWNsaWNrZWRcIiwgZS50aW1lLmRhdGVTdHJpbmdGcm9tKG8uZGF0ZVRpbWVTdHJpbmcpKVxuICAgIH0sIFtcbiAgICAgIFQoXCJkaXZcIiwgWHMsIEEoby5kYXlOYW1lLnN1YnN0cmluZygwLCAyKS50b1VwcGVyQ2FzZSgpKSwgMSksXG4gICAgICBUKFwiZGl2XCIsIFVzLCBBKGUuZ2V0RGF5c0RhdGUobykpLCAxKSxcbiAgICAgIFQoXCJkaXZcIiwgVnMsIFtcbiAgICAgICAgKGYoITApLCBtKEwsIG51bGwsIHooby5mdWxsRGF5RXZlbnRzLCAoYywgZCkgPT4gKGYoKSwgbShMLCB7IGtleTogZCB9LCBbXG4gICAgICAgICAgZCAhPT0gXCJkYXRlXCIgPyAoZigpLCBWKGksIHtcbiAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgIFwic2NoZWR1bGUtZXZlbnRcIjogdHlwZW9mIGMgPT0gXCJvYmplY3RcIiA/IGMgOiBudWxsLFxuICAgICAgICAgICAgY29uZmlnOiBlLmNvbmZpZyxcbiAgICAgICAgICAgIG1vZGU6IGUubW9kZSxcbiAgICAgICAgICAgIG9uRXZlbnRXYXNDbGlja2VkOiB0WzBdIHx8ICh0WzBdID0gKHUpID0+IGUuJGVtaXQoXCJldmVudC13YXMtY2xpY2tlZFwiLCB1KSlcbiAgICAgICAgICB9LCBudWxsLCA4LCBbXCJzY2hlZHVsZS1ldmVudFwiLCBcImNvbmZpZ1wiLCBcIm1vZGVcIl0pKSA6IFMoXCJcIiwgITApXG4gICAgICAgIF0sIDY0KSkpLCAxMjgpKVxuICAgICAgXSlcbiAgICBdLCAxMCwgQnMpKSksIDEyOCkpXG4gIF0pO1xufVxuY29uc3QgcXMgPSAvKiBAX19QVVJFX18gKi8gaih6cywgW1tcInJlbmRlclwiLCB4c10sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi1hNDM3NDZiNlwiXV0pO1xudmFyIG9lID0gLyogQF9fUFVSRV9fICovICgoZSkgPT4gKGUuQkFDS1dBUkRTID0gXCJiYWNrd2FyZHNcIiwgZS5GT1JXQVJEUyA9IFwiZm9yd2FyZHNcIiwgZSkpKG9lIHx8IHt9KTtcbmNsYXNzIEdzIHtcbiAgY29uc3RydWN0b3IodCwgbikge1xuICAgIEYodGhpcywgXCJkYXlTdGFydFwiLCBcIlwiKTtcbiAgICBGKHRoaXMsIFwiZGF5RW5kXCIsIFwiXCIpO1xuICAgIHRoaXMudGltZUluc3RhbmNlID0gdCwgdGhpcy5kYXRlID0gbiwgdGhpcy5zZXREYXlCb3VuZGFyaWVzVGltZVN0cmluZ3MoKTtcbiAgfVxuICBjYW5FdmVudEJlTW92ZWQodCwgbikge1xuICAgIHJldHVybiB0aGlzLnRpbWVJbnN0YW5jZS5kYXlNb2RlICE9PSBxLkZMRVhJQkxFID8gdGhpcy5oYW5kbGVOb25GbGV4aWJsZURheXMobiwgdCkgOiB0aGlzLmhhbmRsZUZsZXhpYmxlRGF5cyhuLCB0KTtcbiAgfVxuICBoYW5kbGVOb25GbGV4aWJsZURheXModCwgbikge1xuICAgIHJldHVybiB0ID09PSBvZS5GT1JXQVJEUyA/IHRoaXMuaGFuZGxlRm9yd2FyZHNNb3ZlRm9yTm9uRmxleGlibGVEYXlzKG4pIDogdGhpcy5oYW5kbGVCYWNrd2FyZHNNb3ZlRm9yTm9uRmxleGlibGVEYXlzKG4pO1xuICB9XG4gIGhhbmRsZUZsZXhpYmxlRGF5cyh0LCBuKSB7XG4gICAgcmV0dXJuIHQgPT0gb2UuRk9SV0FSRFMgPyB0aGlzLmhhbmRsZUZvcndhcmRzTW92ZUZvckZsZXhpYmxlRGF5cyhuKSA6IHRoaXMuaGFuZGxlQmFja3dhcmRzTW92ZUZvckZsZXhpYmxlRGF5cyhuKTtcbiAgfVxuICBoYW5kbGVGb3J3YXJkc01vdmVGb3JOb25GbGV4aWJsZURheXModCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnRpbWVJbnN0YW5jZS5hZGRNaW51dGVzVG9EYXRlVGltZVN0cmluZygxNSwgdC50aW1lLmVuZCksIGEgPSB0aGlzLnRpbWVJbnN0YW5jZS50aW1lU3RyaW5nRnJvbShuKTtcbiAgICByZXR1cm4gdGhpcy50aW1lSW5zdGFuY2UuZGF0ZVN0cmluZ0Zyb20obikgPiB0aGlzLmRhdGUgPyAhMSA6IGEgPD0gdGhpcy5kYXlFbmQ7XG4gIH1cbiAgaGFuZGxlQmFja3dhcmRzTW92ZUZvck5vbkZsZXhpYmxlRGF5cyh0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMudGltZUluc3RhbmNlLmFkZE1pbnV0ZXNUb0RhdGVUaW1lU3RyaW5nKC0xNSwgdC50aW1lLnN0YXJ0KSwgYSA9IHRoaXMudGltZUluc3RhbmNlLnRpbWVTdHJpbmdGcm9tKG4pO1xuICAgIHJldHVybiB0aGlzLnRpbWVJbnN0YW5jZS5kYXRlU3RyaW5nRnJvbShuKSA8IHRoaXMuZGF0ZSA/ICExIDogYSA+PSB0aGlzLmRheVN0YXJ0O1xuICB9XG4gIGhhbmRsZUZvcndhcmRzTW92ZUZvckZsZXhpYmxlRGF5cyh0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMudGltZUluc3RhbmNlLmFkZE1pbnV0ZXNUb0RhdGVUaW1lU3RyaW5nKDE1LCB0LnRpbWUuZW5kKSwgYSA9IHRoaXMudGltZUluc3RhbmNlLnRpbWVTdHJpbmdGcm9tKG4pO1xuICAgIHJldHVybiB0aGlzLnRpbWVJbnN0YW5jZS5kYXRlU3RyaW5nRnJvbShuKSA9PT0gdGhpcy5kYXRlID8gITAgOiBhIDw9IHRoaXMuZGF5RW5kO1xuICB9XG4gIGhhbmRsZUJhY2t3YXJkc01vdmVGb3JGbGV4aWJsZURheXModCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnRpbWVJbnN0YW5jZS5hZGRNaW51dGVzVG9EYXRlVGltZVN0cmluZygtMTUsIHQudGltZS5zdGFydCksIGEgPSB0aGlzLnRpbWVJbnN0YW5jZS50aW1lU3RyaW5nRnJvbShuKTtcbiAgICByZXR1cm4gdGhpcy50aW1lSW5zdGFuY2UuZGF0ZVN0cmluZ0Zyb20obikgPiB0aGlzLmRhdGUgPyAhMCA6IGEgPj0gdGhpcy5kYXlTdGFydDtcbiAgfVxuICBzZXREYXlCb3VuZGFyaWVzVGltZVN0cmluZ3MoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudGltZUluc3RhbmNlLmdldEhvdXJBbmRNaW51dGVzRnJvbVRpbWVQb2ludHModGhpcy50aW1lSW5zdGFuY2UuREFZX1NUQVJUKS5ob3VyLCBuID0gdGhpcy50aW1lSW5zdGFuY2UuZ2V0SG91ckFuZE1pbnV0ZXNGcm9tVGltZVBvaW50cyh0aGlzLnRpbWVJbnN0YW5jZS5EQVlfRU5EKS5ob3VyLCBhID0gdGhpcy50aW1lSW5zdGFuY2UuZG91YmxlRGlnaXQodCk7XG4gICAgdGhpcy5kYXlTdGFydCA9IGAke2F9OjAwYDtcbiAgICBjb25zdCByID0gdGhpcy50aW1lSW5zdGFuY2UuZG91YmxlRGlnaXQobik7XG4gICAgdGhpcy5kYXlFbmQgPSBgJHtyfTowMGA7XG4gIH1cbn1cbmNvbnN0IEtzID0gSCh7XG4gIG5hbWU6IFwiRGF5RXZlbnRcIixcbiAgY29tcG9uZW50czoge1xuICAgIEZvbnRBd2Vzb21lSWNvbjogUWVcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBldmVudFByb3A6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgZGF5SW5mbzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBtb2RlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXCJldmVudC13YXMtY2xpY2tlZFwiLCBcImV2ZW50LXdhcy1yZXNpemVkXCIsIFwiZXZlbnQtd2FzLWRyYWdnZWRcIiwgXCJkcmFnLXN0YXJ0XCIsIFwiZHJhZy1lbmRcIl0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50OiB0aGlzLmV2ZW50UHJvcCxcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGNsb2NrOiBpcyxcbiAgICAgICAgdXNlcjogdHMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBycyxcbiAgICAgICAgbG9jYXRpb246IHJuLFxuICAgICAgICB0b3BpYzogYXNcbiAgICAgIH0sXG4gICAgICBzaG93UmVzaXplRWxlbWVudHM6ICExLFxuICAgICAgZXZlbnRUcmFuc2Zvcm1WYWx1ZTogXCJpbml0aWFsXCIsXG4gICAgICBldmVudFpJbmRleFZhbHVlOiBcImluaXRpYWxcIixcbiAgICAgIGRheUVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsZW5kYXItd2Vla19fZGF5XCIpLFxuICAgICAgZGF5Qm91bmRhcmllc0RhdGVUaW1lU3RyaW5nczogdGhpcy50aW1lLmdldERhdGVUaW1lU3RyaW5nRGF5Qm91bmRhcmllc0Zyb20odGhpcy5kYXlJbmZvLmRhdGVUaW1lU3RyaW5nKSxcbiAgICAgIC8vIFJlc2l6aW5nIGV2ZW50c1xuICAgICAgcmVzaXppbmdTdGFydGluZ1BvaW50OiB2b2lkIDAsXG4gICAgICByZXNpemluZ1N0YXJ0aW5nUG9pbnRFbmRPZlRpbWU6IHRoaXMuZXZlbnRQcm9wLnRpbWUuZW5kLFxuICAgICAgcmVzaXppbmdTdGFydGluZ1BvaW50U3RhcnRPZlRpbWU6IHRoaXMuZXZlbnRQcm9wLnRpbWUuc3RhcnQsXG4gICAgICByZXNpemluZ0RpcmVjdGlvbjogXCJcIixcbiAgICAgIGNoYW5nZUluUXVhcnRlckhvdXJzRXZlbnRTdGFydDogMCxcbiAgICAgIGNoYW5nZUluUXVhcnRlckhvdXJzRXZlbnRFbmQ6IDAsXG4gICAgICBpc0VkaXRhYmxlOiB0aGlzLmV2ZW50UHJvcC5pc0VkaXRhYmxlIHx8ICExLFxuICAgICAgY29sb3JzOiB4ZSxcbiAgICAgIGV2ZW50Q29sb3I6IFwiI2ZmZlwiLFxuICAgICAgZXZlbnRCYWNrZ3JvdW5kQ29sb3I6IFwiXCIsXG4gICAgICBpc1Jlc2l6aW5nOiAhMSxcbiAgICAgIC8vIERyYWdnaW5nIGV2ZW50c1xuICAgICAgY2FuRHJhZzogITEsXG4gICAgICAvLyBzZXQgdG8gdHJ1ZSBvbiBtb3VzZWRvd24gYW5kIGZhbHNlIG9uIG1vdXNldXBcbiAgICAgIGNsaWVudFlEcmFnU3RhcnQ6IG51bGwsXG4gICAgICBjbGllbnRYRHJhZ1N0YXJ0OiBudWxsLFxuICAgICAgY2hhbmdlSW5RdWFydGVyc09uRHJhZzogMCxcbiAgICAgIGNoYW5nZUluRGF5c09uRHJhZzogMCxcbiAgICAgIGlzRHJhZ2dpbmc6ICExLFxuICAgICAgdGltZVN0YXJ0RHJhZ1N0YXJ0OiB0aGlzLmV2ZW50UHJvcC50aW1lLnN0YXJ0LFxuICAgICAgdGltZUVuZERyYWdTdGFydDogdGhpcy5ldmVudFByb3AudGltZS5lbmQsXG4gICAgICBkcmFnTW92ZUxpc3RlbmVyTmFtZUFuZENhbGxiYWNrczogW1xuICAgICAgICBbXCJtb3VzZW1vdmVcIiwgdGhpcy5oYW5kbGVEcmFnXSxcbiAgICAgICAgW1widG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlRHJhZ10sXG4gICAgICAgIFtcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXBXaGVuRHJhZ2dpbmddLFxuICAgICAgICBbXCJ0b3VjaGVuZFwiLCB0aGlzLm9uTW91c2VVcFdoZW5EcmFnZ2luZ11cbiAgICAgIF1cbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGV2ZW50Q2hhbmdlSGVscGVyKCkge1xuICAgICAgY29uc3QgZSA9IHRoaXMudGltZS5hZGREYXlzVG9EYXRlVGltZVN0cmluZyh0aGlzLmNoYW5nZUluRGF5c09uRHJhZywgdGhpcy5kYXlJbmZvLmRhdGVUaW1lU3RyaW5nKTtcbiAgICAgIHJldHVybiBuZXcgR3ModGhpcy50aW1lLCB0aGlzLnRpbWUuZGF0ZVN0cmluZ0Zyb20oZSkpO1xuICAgIH0sXG4gICAgaXNDdXN0b21FdmVudCgpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMuZXZlbnRQcm9wLmlzQ3VzdG9tKSA/IHRoaXMuZXZlbnRQcm9wLmlzQ3VzdG9tLmluY2x1ZGVzKHRoaXMubW9kZSkgOiB0aGlzLmV2ZW50UHJvcC5pc0N1c3RvbSB8fCAhMTtcbiAgICB9LFxuICAgIGdldEV2ZW50VGltZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbWUuZ2V0TG9jYWxpemVkVGltZSh0aGlzLmV2ZW50LnRpbWUuc3RhcnQpICsgXCIgLSBcIiArIHRoaXMudGltZS5nZXRMb2NhbGl6ZWRUaW1lKHRoaXMuZXZlbnQudGltZS5lbmQpO1xuICAgIH0sXG4gICAgdGltZVBvaW50c0luRGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMudGltZS5IT1VSU19QRVJfREFZICogMTAwO1xuICAgIH0sXG4gICAgdGltZVBvaW50c0luT25lTWludXRlKCkge1xuICAgICAgcmV0dXJuIDEwMCAvIDYwO1xuICAgIH0sXG4gICAgZ2V0TGVmdFJ1bGUoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZXZlbnQudG90YWxDb25jdXJyZW50RXZlbnRzIHx8ICF0aGlzLmV2ZW50Lm5PZlByZXZpb3VzQ29uY3VycmVudEV2ZW50cyA/IDAgOiB0aGlzLmV2ZW50Lm5PZlByZXZpb3VzQ29uY3VycmVudEV2ZW50cyAvIHRoaXMuZXZlbnQudG90YWxDb25jdXJyZW50RXZlbnRzICogMTAwO1xuICAgIH0sXG4gICAgZ2V0V2lkdGhSdWxlKCkge1xuICAgICAgcmV0dXJuIDEwMCAtIHRoaXMuZ2V0TGVmdFJ1bGU7XG4gICAgfSxcbiAgICBnZXRCb3JkZXJSdWxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnQubk9mUHJldmlvdXNDb25jdXJyZW50RXZlbnRzID8gXCIxcHggc29saWQgI2ZmZlwiIDogXCJub25lXCI7XG4gICAgfSxcbiAgICBldmVudElzTG9uZ2VyVGhhbjMwTWludXRlcygpIHtcbiAgICAgIGNvbnN0IHsgaG91cjogZSwgbWludXRlczogdCB9ID0gdGhpcy50aW1lLmdldEFsbFZhcmlhYmxlc0Zyb21EYXRlVGltZVN0cmluZyh0aGlzLmV2ZW50LnRpbWUuc3RhcnQpLCB7IGhvdXI6IG4sIG1pbnV0ZXM6IGEgfSA9IHRoaXMudGltZS5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcodGhpcy5ldmVudC50aW1lLmVuZCksIHIgPSBuZXcgRGF0ZSgwLCAwLCAwLCBlLCB0KS5nZXRUaW1lKCk7XG4gICAgICByZXR1cm4gbmV3IERhdGUoMCwgMCwgMCwgbiwgYSkuZ2V0VGltZSgpIC0gciA+PSAxOGU1O1xuICAgIH0sXG4gICAgaGFzRGlzYWJsZWREcmFnQW5kRHJvcCgpIHtcbiAgICAgIHJldHVybiAhISh0aGlzLmV2ZW50UHJvcC5kaXNhYmxlRG5EICYmIHRoaXMuZXZlbnRQcm9wLmRpc2FibGVEbkQuaW5jbHVkZXModGhpcy5tb2RlKSk7XG4gICAgfSxcbiAgICBoYXNEaXNhYmxlZFJlc2l6ZSgpIHtcbiAgICAgIHJldHVybiAhISh0aGlzLmV2ZW50UHJvcC5kaXNhYmxlUmVzaXplICYmIHRoaXMuZXZlbnRQcm9wLmRpc2FibGVSZXNpemUuaW5jbHVkZXModGhpcy5tb2RlKSk7XG4gICAgfSxcbiAgICByZXF1aXJlZFN0eWxlcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdGhpcy5nZXRQb3NpdGlvbkluRGF5KHRoaXMuZXZlbnQudGltZS5zdGFydCksXG4gICAgICAgIGhlaWdodDogdGhpcy5nZXRMZW5ndGhPZkV2ZW50KFxuICAgICAgICAgIHRoaXMuZXZlbnQudGltZS5zdGFydCxcbiAgICAgICAgICB0aGlzLmV2ZW50LnRpbWUuZW5kXG4gICAgICAgICksXG4gICAgICAgIGxlZnQ6IHRoaXMuZ2V0TGVmdFJ1bGUgKyBcIiVcIixcbiAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGhSdWxlICsgXCIlXCIsXG4gICAgICAgIHRyYW5zZm9ybTogdGhpcy5ldmVudFRyYW5zZm9ybVZhbHVlLFxuICAgICAgICB6SW5kZXg6IHRoaXMuZXZlbnRaSW5kZXhWYWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgY2hhbmdlSW5RdWFydGVySG91cnNFdmVudFN0YXJ0KGUsIHQpIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLnRpbWUuYWRkTWludXRlc1RvRGF0ZVRpbWVTdHJpbmcoXG4gICAgICAgIDE1ICogZSxcbiAgICAgICAgdGhpcy5yZXNpemluZ1N0YXJ0aW5nUG9pbnRTdGFydE9mVGltZVxuICAgICAgKSwgYSA9IGUgPiB0ID8gb2UuRk9SV0FSRFMgOiBvZS5CQUNLV0FSRFMsIHIgPSB0aGlzLmV2ZW50Q2hhbmdlSGVscGVyLmNhbkV2ZW50QmVNb3ZlZChcbiAgICAgICAgdGhpcy5ldmVudCxcbiAgICAgICAgYVxuICAgICAgKTtcbiAgICAgIG4gPCB0aGlzLmV2ZW50LnRpbWUuZW5kICYmIHIgJiYgKHRoaXMuZXZlbnQudGltZS5zdGFydCA9IG4pO1xuICAgIH0sXG4gICAgY2hhbmdlSW5RdWFydGVySG91cnNFdmVudEVuZChlLCB0KSB7XG4gICAgICBjb25zdCBuID0gdGhpcy50aW1lLmFkZE1pbnV0ZXNUb0RhdGVUaW1lU3RyaW5nKFxuICAgICAgICAxNSAqIGUsXG4gICAgICAgIHRoaXMucmVzaXppbmdTdGFydGluZ1BvaW50RW5kT2ZUaW1lXG4gICAgICApLCBhID0gZSA+IHQgPyBvZS5GT1JXQVJEUyA6IG9lLkJBQ0tXQVJEUywgciA9IHRoaXMuZXZlbnRDaGFuZ2VIZWxwZXIuY2FuRXZlbnRCZU1vdmVkKFxuICAgICAgICB0aGlzLmV2ZW50LFxuICAgICAgICBhXG4gICAgICApO1xuICAgICAgbiA+IHRoaXMuZXZlbnQudGltZS5zdGFydCAmJiByICYmICh0aGlzLmV2ZW50LnRpbWUuZW5kID0gbik7XG4gICAgfSxcbiAgICBjaGFuZ2VJblF1YXJ0ZXJzT25EcmFnKGUsIHQpIHtcbiAgICAgIGNvbnN0IG4gPSBlID4gdCA/IG9lLkZPUldBUkRTIDogb2UuQkFDS1dBUkRTO1xuICAgICAgdGhpcy5ldmVudENoYW5nZUhlbHBlci5jYW5FdmVudEJlTW92ZWQoXG4gICAgICAgIHRoaXMuZXZlbnQsXG4gICAgICAgIG5cbiAgICAgICkgJiYgdGhpcy51cGRhdGVQb3NpdGlvbk9uRHJhZygpO1xuICAgIH0sXG4gICAgY2hhbmdlSW5EYXlzT25EcmFnKGUpIHtcbiAgICAgIGlmICghdGhpcy5kYXlFbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB0ID0gdGhpcy5kYXlJbmZvLmRheXNUb3RhbE4gLSAodGhpcy5kYXlJbmZvLnRoaXNEYXlJbmRleCArIDEpLCBuID0gMCAtIHRoaXMuZGF5SW5mby50aGlzRGF5SW5kZXg7XG4gICAgICBpZiAoZSA+IHQgfHwgZSA8IG4pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGEgPSBlICogdGhpcy5kYXlFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgdGhpcy5ldmVudFRyYW5zZm9ybVZhbHVlID0gYHRyYW5zbGF0ZVgoJHthfXB4KWAsIHRoaXMudXBkYXRlUG9zaXRpb25PbkRyYWcoKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldFBvc2l0aW9uSW5EYXkoZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGltZS5nZXRQZXJjZW50YWdlT2ZEYXlGcm9tRGF0ZVRpbWVTdHJpbmcoXG4gICAgICAgIGUsXG4gICAgICAgIHRoaXMudGltZS5EQVlfU1RBUlQsXG4gICAgICAgIHRoaXMudGltZS5EQVlfRU5EXG4gICAgICApLnRvU3RyaW5nKCkgKyBcIiVcIjtcbiAgICB9LFxuICAgIGdldExlbmd0aE9mRXZlbnQoZSwgdCkge1xuICAgICAgY29uc3QgbiA9IHRoaXMudGltZS5nZXRQZXJjZW50YWdlT2ZEYXlGcm9tRGF0ZVRpbWVTdHJpbmcoXG4gICAgICAgIGUsXG4gICAgICAgIHRoaXMudGltZS5EQVlfU1RBUlQsXG4gICAgICAgIHRoaXMudGltZS5EQVlfRU5EXG4gICAgICApLCBhID0gdGhpcy50aW1lLmdldFBlcmNlbnRhZ2VPZkRheUZyb21EYXRlVGltZVN0cmluZyhcbiAgICAgICAgdCxcbiAgICAgICAgdGhpcy50aW1lLkRBWV9TVEFSVCxcbiAgICAgICAgdGhpcy50aW1lLkRBWV9FTkRcbiAgICAgICk7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoYSAtIG4pICsgXCIlXCI7XG4gICAgfSxcbiAgICBoYW5kbGVDbGlja09uRXZlbnQoZSkge1xuICAgICAgY29uc3QgdCA9IHRoaXMuZ2V0RXZlbnRFbGVtZW50RnJvbUNoaWxkRWxlbWVudChlKTtcbiAgICAgIHQgJiYgdGhpcy4kZW1pdChcImV2ZW50LXdhcy1jbGlja2VkXCIsIHtcbiAgICAgICAgY2xpY2tlZEV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICBldmVudEVsZW1lbnQ6IHRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogV2hlbiBhIGNoaWxkIGVsZW1lbnQgb2YgdGhlIGV2ZW50IGlzIGNsaWNrZWQsIHJldHVybiB0aGUgcGFyZW50IGV2ZW50IGVsZW1lbnRcbiAgICAgKiAqL1xuICAgIGdldEV2ZW50RWxlbWVudEZyb21DaGlsZEVsZW1lbnQoZSkge1xuICAgICAgY29uc3QgdCA9IGUudGFyZ2V0O1xuICAgICAgcmV0dXJuICF0IHx8IHR5cGVvZiB0LmNsYXNzTmFtZS5pbmNsdWRlcyAhPSBcImZ1bmN0aW9uXCIgPyBudWxsIDogdC5jbGFzc05hbWUuaW5jbHVkZXMoXCIuY2FsZW5kYXItd2Vla19fZXZlbnRcIikgPyBlLnRhcmdldCA6IHQuY2xvc2VzdChcIi5jYWxlbmRhci13ZWVrX19ldmVudFwiKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtb3VzZW1vdmUtZXZlbnRzLCB3aGlsZSB0aGUgZXZlbnQgaXMgYmVpbmcgcmVzaXplZFxuICAgICAqICovXG4gICAgb25Nb3VzZU1vdmVSZXNpemUoZSkge1xuICAgICAgY29uc3QgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsZW5kYXItd2Vla19fZXZlbnRzXCIpO1xuICAgICAgaWYgKCF0KVxuICAgICAgICByZXR1cm47XG4gICAgICB0eXBlb2YgdGhpcy5yZXNpemluZ1N0YXJ0aW5nUG9pbnQgPiBcInVcIiAmJiAodGhpcy5yZXNpemluZ1N0YXJ0aW5nUG9pbnQgPSBlLmNsaWVudFkpO1xuICAgICAgY29uc3QgYSA9IGUuY2xpZW50WSAtIHRoaXMucmVzaXppbmdTdGFydGluZ1BvaW50LCByID0gdC5jbGllbnRIZWlnaHQsIHMgPSBhIC8gciAqIDEwMCwgaSA9IHRoaXMudGltZVBvaW50c0luRGF5IC8gMTAwICogcywgbyA9IHRoaXMuZ2V0TWludXRlc0Zyb21UaW1lUG9pbnRzKGkpO1xuICAgICAgdGhpcy5yZXNpemluZ0RpcmVjdGlvbiA9PT0gXCJkb3duXCIgPyB0aGlzLmNoYW5nZUluUXVhcnRlckhvdXJzRXZlbnRFbmQgPSBNYXRoLmZsb29yKG8gLyAxNSkgOiB0aGlzLmNoYW5nZUluUXVhcnRlckhvdXJzRXZlbnRTdGFydCA9IE1hdGguZmxvb3IobyAvIDE1KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtb3VzZXVwLWV2ZW50cywgZm9yIHdoZW4gYW4gZXZlbnQgc3RvcHMgYmVpbmcgcmVzaXplZFxuICAgICAqICovXG4gICAgb25Nb3VzZVVwV2hlblJlc2l6aW5nKCkge1xuICAgICAgdGhpcy5zdG9wUmVzaXppbmcoKTtcbiAgICB9LFxuICAgIHJlc2l6ZUV2ZW50KGUpIHtcbiAgICAgIHRoaXMuaXNSZXNpemluZyA9ICEwLCB0aGlzLnJlc2l6aW5nRGlyZWN0aW9uID0gZSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlUmVzaXplKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXBXaGVuUmVzaXppbmcpO1xuICAgIH0sXG4gICAgc3RvcFJlc2l6aW5nKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlUmVzaXplKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXBXaGVuUmVzaXppbmcpLCB0aGlzLnJlc2V0UmVzaXppbmdWYWx1ZXMoKSwgdGhpcy4kZW1pdChcImV2ZW50LXdhcy1yZXNpemVkXCIsIHRoaXMuZXZlbnQpLCB0aGlzLmlzUmVzaXppbmcgPSAhMTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlc2V0IHZhbHVlcyB1c2VkIGZvciByZXNpemluZyBhbiBldmVudCwgdG8gcHJlcGFyZSBmb3IgdXBjb21pbmcgcmVzaXppbmcgZXZlbnRzXG4gICAgICogKi9cbiAgICByZXNldFJlc2l6aW5nVmFsdWVzKCkge1xuICAgICAgdGhpcy5yZXNpemluZ1N0YXJ0aW5nUG9pbnQgPSB2b2lkIDAsIHRoaXMucmVzaXppbmdTdGFydGluZ1BvaW50U3RhcnRPZlRpbWUgPSB0aGlzLmV2ZW50UHJvcC50aW1lLnN0YXJ0LCB0aGlzLnJlc2l6aW5nU3RhcnRpbmdQb2ludEVuZE9mVGltZSA9IHRoaXMuZXZlbnRQcm9wLnRpbWUuZW5kLCB0aGlzLmNoYW5nZUluUXVhcnRlckhvdXJzRXZlbnRFbmQgPSAwO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjaGFuZ2Ugb2YgYW4gZXZlbnQgaW4gbWludXRlcywgYmFzZWQgb24gdGhlIG51bWJlciBvZiB0aW1lIHBvaW50cyB0aGF0IGNoYW5nZWRcbiAgICAgKiAqL1xuICAgIGdldE1pbnV0ZXNGcm9tVGltZVBvaW50cyhlKSB7XG4gICAgICByZXR1cm4gZSAvIHRoaXMudGltZVBvaW50c0luT25lTWludXRlO1xuICAgIH0sXG4gICAgc2V0Q29sb3JzKCkge1xuICAgICAgdmFyIGUsIHQsIG47XG4gICAgICBpZiAoKGUgPSB0aGlzLmV2ZW50KSAhPSBudWxsICYmIGUuY29sb3JTY2hlbWUgJiYgKCh0ID0gdGhpcy5jb25maWcuc3R5bGUpICE9IG51bGwgJiYgdC5jb2xvclNjaGVtZXMpICYmIHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLmV2ZW50LmNvbG9yU2NoZW1lXSlcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLmV2ZW50LmNvbG9yU2NoZW1lXS5jb2xvciwgdGhpcy5ldmVudEJhY2tncm91bmRDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLmV2ZW50LmNvbG9yU2NoZW1lXS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICBpZiAoKG4gPSB0aGlzLmV2ZW50KSAhPSBudWxsICYmIG4uY29sb3IpIHtcbiAgICAgICAgdGhpcy5ldmVudENvbG9yID0gXCIjZmZmXCIsIHRoaXMuZXZlbnRCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmV2ZW50LmNvbG9yXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5ldmVudEJhY2tncm91bmRDb2xvciA9IHRoaXMuY29sb3JzLmJsdWU7XG4gICAgfSxcbiAgICBpbml0RHJhZyhlKSB7XG4gICAgICB2YXIgdCwgbjtcbiAgICAgICF0aGlzLmV2ZW50LmlzRWRpdGFibGUgfHwgdGhpcy5oYXNEaXNhYmxlZERyYWdBbmREcm9wIHx8ICh0aGlzLiRlbWl0KFwiZHJhZy1zdGFydFwiKSwgdGhpcy5kcmFnTW92ZUxpc3RlbmVyTmFtZUFuZENhbGxiYWNrcy5mb3JFYWNoKChbYSwgcl0pID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihhLCByKTtcbiAgICAgIH0pLCBFZS5pc1VJRXZlbnRUb3VjaEV2ZW50KGUpID8gdGhpcy5zZXRJbml0aWFsRHJhZ1ZhbHVlcyhcbiAgICAgICAgKHQgPSBlLnRvdWNoZXNbMF0pID09IG51bGwgPyB2b2lkIDAgOiB0LmNsaWVudFgsXG4gICAgICAgIChuID0gZS50b3VjaGVzWzBdKSA9PSBudWxsID8gdm9pZCAwIDogbi5jbGllbnRZXG4gICAgICApIDogdGhpcy5zZXRJbml0aWFsRHJhZ1ZhbHVlcyhlLmNsaWVudFgsIGUuY2xpZW50WSkpO1xuICAgIH0sXG4gICAgc2V0SW5pdGlhbERyYWdWYWx1ZXMoZSwgdCkge1xuICAgICAgdGhpcy5jYW5EcmFnID0gITAsIHRoaXMuZXZlbnRaSW5kZXhWYWx1ZSA9IDEwLCB0aGlzLmNsaWVudFlEcmFnU3RhcnQgPSB0LCB0aGlzLmNsaWVudFhEcmFnU3RhcnQgPSBlLCB0aGlzLnRpbWVTdGFydERyYWdTdGFydCA9IHRoaXMuZXZlbnQudGltZS5zdGFydCwgdGhpcy50aW1lRW5kRHJhZ1N0YXJ0ID0gdGhpcy5ldmVudC50aW1lLmVuZDtcbiAgICB9LFxuICAgIG9uTW91c2VVcFdoZW5EcmFnZ2luZygpIHtcbiAgICAgIHRoaXMuJGVtaXQoXCJkcmFnLWVuZFwiKSwgdGhpcy5oYW5kbGVEcmFnRW5kKCk7XG4gICAgfSxcbiAgICBoYW5kbGVEcmFnRW5kKCkge1xuICAgICAgdGhpcy5jYW5EcmFnID0gITEsIHRoaXMuZXZlbnRaSW5kZXhWYWx1ZSA9IFwiaW5pdGlhbFwiLCB0aGlzLmRyYWdNb3ZlTGlzdGVuZXJOYW1lQW5kQ2FsbGJhY2tzLmZvckVhY2goKFtuLCBhXSkgPT4ge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG4sIGEpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBlID0gdGhpcy5jaGFuZ2VJbkRheXNPbkRyYWcgPD0gLTEgfHwgdGhpcy5jaGFuZ2VJbkRheXNPbkRyYWcgPiAwLCB0ID0gdGhpcy5jaGFuZ2VJblF1YXJ0ZXJzT25EcmFnIDw9IC0xIHx8IHRoaXMuY2hhbmdlSW5RdWFydGVyc09uRHJhZyA+IDA7XG4gICAgICAoZSB8fCB0KSAmJiB0aGlzLiRlbWl0KFwiZXZlbnQtd2FzLWRyYWdnZWRcIiwgdGhpcy5ldmVudCk7XG4gICAgfSxcbiAgICBoYW5kbGVEcmFnKGUpIHtcbiAgICAgIHRoaXMuaXNSZXNpemluZyB8fCAhdGhpcy5jYW5EcmFnIHx8ICF0aGlzLmNsaWVudFlEcmFnU3RhcnQgfHwgKEVlLmlzVUlFdmVudFRvdWNoRXZlbnQoZSkgPyAodGhpcy5oYW5kbGVWZXJ0aWNhbERyYWcoZS50b3VjaGVzWzBdLmNsaWVudFkpLCB0aGlzLmhhbmRsZUhvcml6b250YWxEcmFnKGUudG91Y2hlc1swXS5jbGllbnRYKSkgOiAodGhpcy5oYW5kbGVWZXJ0aWNhbERyYWcoZS5jbGllbnRZKSwgdGhpcy5oYW5kbGVIb3Jpem9udGFsRHJhZyhlLmNsaWVudFgpKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZHJhZ2dpbmcgd2l0aGluIGRheXNcbiAgICAgKiAqL1xuICAgIGhhbmRsZVZlcnRpY2FsRHJhZyhlKSB7XG4gICAgICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci13ZWVrX19ldmVudHNcIik7XG4gICAgICBpZiAoIXQgfHwgIXRoaXMuY2xpZW50WURyYWdTdGFydClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbiA9IGUgLSB0aGlzLmNsaWVudFlEcmFnU3RhcnQsIGEgPSB0LmNsaWVudEhlaWdodCwgciA9IG4gLyBhICogMTAwLCBzID0gdGhpcy50aW1lUG9pbnRzSW5EYXkgLyAxMDAgKiByLCBpID0gdGhpcy5nZXRNaW51dGVzRnJvbVRpbWVQb2ludHMocyk7XG4gICAgICB0aGlzLmNoYW5nZUluUXVhcnRlcnNPbkRyYWcgPSBpIDwgMCA/IE1hdGguY2VpbChpIC8gMTUpIDogTWF0aC5mbG9vcihpIC8gMTUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGRyYWdnaW5nIGJldHdlZW4gZGF5c1xuICAgICAqICovXG4gICAgaGFuZGxlSG9yaXpvbnRhbERyYWcoZSkge1xuICAgICAgaWYgKCF0aGlzLmRheUVsZW1lbnQgfHwgIXRoaXMuY2xpZW50WERyYWdTdGFydClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgdCA9IHRoaXMuZGF5RWxlbWVudC5jbGllbnRXaWR0aCwgbiA9IGUgLSB0aGlzLmNsaWVudFhEcmFnU3RhcnQ7XG4gICAgICB0aGlzLmNoYW5nZUluRGF5c09uRHJhZyA9IG4gPCAwID8gTWF0aC5jZWlsKG4gLyB0KSA6IE1hdGguZmxvb3IobiAvIHQpO1xuICAgIH0sXG4gICAgdXBkYXRlUG9zaXRpb25PbkRyYWcoKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5jaGFuZ2VJblF1YXJ0ZXJzT25EcmFnICogMTUsIHQgPSB0aGlzLmNoYW5nZUluRGF5c09uRHJhZyAqIDE0NDA7XG4gICAgICB0aGlzLmV2ZW50LnRpbWUuc3RhcnQgPSB0aGlzLnRpbWUuYWRkTWludXRlc1RvRGF0ZVRpbWVTdHJpbmcoXG4gICAgICAgIGUgKyB0LFxuICAgICAgICB0aGlzLnRpbWVTdGFydERyYWdTdGFydFxuICAgICAgKSwgdGhpcy5ldmVudC50aW1lLmVuZCA9IHRoaXMudGltZS5hZGRNaW51dGVzVG9EYXRlVGltZVN0cmluZyhcbiAgICAgICAgZSArIHQsXG4gICAgICAgIHRoaXMudGltZUVuZERyYWdTdGFydFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn0pO1xuY29uc3QgUXMgPSBbXCJkYXRhLXJlZlwiXSwgSnMgPSB7IGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LXJvdyBpcy10aXRsZVwiIH0sIFpzID0geyBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1yb3cgaXMtdGltZVwiIH0sIGVvID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LXJvdyBpcy1sb2NhdGlvblwiXG59LCB0byA9IHtcbiAga2V5OiAxLFxuICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1yb3cgaXMtd2l0aFwiXG59LCBubyA9IHtcbiAga2V5OiAyLFxuICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1yb3cgaXMtdG9waWNcIlxufSwgYW8gPSB7XG4gIGtleTogMyxcbiAgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fZXZlbnQtcm93IGlzLWRlc2NyaXB0aW9uXCJcbn0sIHJvID0gW1wiaW5uZXJIVE1MXCJdO1xuZnVuY3Rpb24gaW8oZSwgdCwgbiwgYSwgciwgcykge1xuICBjb25zdCBpID0gJChcImZvbnQtYXdlc29tZS1pY29uXCIpO1xuICByZXR1cm4gZigpLCBtKFwiZGl2XCIsIHtcbiAgICBjbGFzczogeChbXCJjYWxlbmRhci13ZWVrX19ldmVudCBpcy1ldmVudFwiLCB7XG4gICAgICBcImlzLWVkaXRhYmxlXCI6IGUuaXNFZGl0YWJsZSxcbiAgICAgIFwiaGFzLWRpc2FibGVkLWRuZFwiOiBlLmhhc0Rpc2FibGVkRHJhZ0FuZERyb3BcbiAgICB9XSksXG4gICAgc3R5bGU6IGNlKHtcbiAgICAgIC4uLmUucmVxdWlyZWRTdHlsZXMsXG4gICAgICBib3JkZXI6IGUuZ2V0Qm9yZGVyUnVsZVxuICAgIH0pLFxuICAgIFwiZGF0YS1yZWZcIjogXCJldmVudC1cIiArIGUuZXZlbnQuaWQsXG4gICAgb25DbGljazogdFsyXSB8fCAodFsyXSA9ICguLi5vKSA9PiBlLmhhbmRsZUNsaWNrT25FdmVudCAmJiBlLmhhbmRsZUNsaWNrT25FdmVudCguLi5vKSksXG4gICAgb25Nb3VzZWVudGVyOiB0WzNdIHx8ICh0WzNdID0gKG8pID0+IGUuc2hvd1Jlc2l6ZUVsZW1lbnRzID0gZS5pc0VkaXRhYmxlICYmICFlLmhhc0Rpc2FibGVkUmVzaXplKSxcbiAgICBvbk1vdXNlbGVhdmU6IHRbNF0gfHwgKHRbNF0gPSAobykgPT4gZS5zaG93UmVzaXplRWxlbWVudHMgPSAhMSksXG4gICAgb25Nb3VzZWRvd246IHRbNV0gfHwgKHRbNV0gPSAoLi4ubykgPT4gZS5pbml0RHJhZyAmJiBlLmluaXREcmFnKC4uLm8pKSxcbiAgICBvblRvdWNoc3RhcnQ6IHRbNl0gfHwgKHRbNl0gPSAoLi4ubykgPT4gZS5pbml0RHJhZyAmJiBlLmluaXREcmFnKC4uLm8pKVxuICB9LCBbXG4gICAgZS5pc0N1c3RvbUV2ZW50ID8gWShlLiRzbG90cywgXCJ3ZWVrRGF5RXZlbnRcIiwge1xuICAgICAga2V5OiAxLFxuICAgICAgZXZlbnREYXRhOiBlLmV2ZW50XG4gICAgfSwgdm9pZCAwLCAhMCkgOiAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgIGtleTogMCxcbiAgICAgIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LWluZm8td3JhcHBlclwiLFxuICAgICAgc3R5bGU6IGNlKHtcbiAgICAgICAgY29sb3I6IGUuZXZlbnRDb2xvcixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGUuZXZlbnRCYWNrZ3JvdW5kQ29sb3JcbiAgICAgIH0pXG4gICAgfSwgW1xuICAgICAgVChcImRpdlwiLCBKcywgQShlLmV2ZW50LnRpdGxlKSwgMSksXG4gICAgICBUKFwiZGl2XCIsIFpzLCBbXG4gICAgICAgIEkoaSwge1xuICAgICAgICAgIGljb246IGUuaWNvbnMuY2xvY2ssXG4gICAgICAgICAgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fZXZlbnQtaWNvblwiXG4gICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgICBUKFwic3BhblwiLCBudWxsLCBBKGUuZ2V0RXZlbnRUaW1lKSwgMSlcbiAgICAgIF0pLFxuICAgICAgZS5ldmVudC5sb2NhdGlvbiA/IChmKCksIG0oXCJkaXZcIiwgZW8sIFtcbiAgICAgICAgSShpLCB7XG4gICAgICAgICAgaWNvbjogZS5pY29ucy5sb2NhdGlvbixcbiAgICAgICAgICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1pY29uXCJcbiAgICAgICAgfSwgbnVsbCwgOCwgW1wiaWNvblwiXSksXG4gICAgICAgIFQoXCJzcGFuXCIsIG51bGwsIEEoZS5ldmVudC5sb2NhdGlvbiksIDEpXG4gICAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgIGUuZXZlbnQud2l0aCA/IChmKCksIG0oXCJkaXZcIiwgdG8sIFtcbiAgICAgICAgSShpLCB7XG4gICAgICAgICAgaWNvbjogZS5pY29ucy51c2VyLFxuICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LWljb25cIlxuICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKSxcbiAgICAgICAgVChcInNwYW5cIiwgbnVsbCwgQShlLmV2ZW50LndpdGgpLCAxKVxuICAgICAgXSkpIDogUyhcIlwiLCAhMCksXG4gICAgICBlLmV2ZW50LnRvcGljID8gKGYoKSwgbShcImRpdlwiLCBubywgW1xuICAgICAgICBJKGksIHtcbiAgICAgICAgICBpY29uOiBlLmljb25zLnRvcGljLFxuICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LWljb25cIlxuICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKSxcbiAgICAgICAgVChcInNwYW5cIiwgbnVsbCwgQShlLmV2ZW50LnRvcGljKSwgMSlcbiAgICAgIF0pKSA6IFMoXCJcIiwgITApLFxuICAgICAgZS5ldmVudC5kZXNjcmlwdGlvbiA/IChmKCksIG0oXCJkaXZcIiwgYW8sIFtcbiAgICAgICAgSShpLCB7XG4gICAgICAgICAgaWNvbjogZS5pY29ucy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1pY29uXCJcbiAgICAgICAgfSwgbnVsbCwgOCwgW1wiaWNvblwiXSksXG4gICAgICAgIFQoXCJwXCIsIHtcbiAgICAgICAgICBpbm5lckhUTUw6IGUuZXZlbnQuZGVzY3JpcHRpb25cbiAgICAgICAgfSwgbnVsbCwgOCwgcm8pXG4gICAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgIGUuZXZlbnRJc0xvbmdlclRoYW4zME1pbnV0ZXMgPyAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiA0LFxuICAgICAgICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19ldmVudC1ibGVuZC1vdXRcIixcbiAgICAgICAgc3R5bGU6IGNlKHtcbiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQsIFwiICsgZS5ldmVudEJhY2tncm91bmRDb2xvciArIFwiKVwiXG4gICAgICAgIH0pXG4gICAgICB9LCBudWxsLCA0KSkgOiBTKFwiXCIsICEwKVxuICAgIF0sIDQpKSxcbiAgICBlLnNob3dSZXNpemVFbGVtZW50cyA/IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAga2V5OiAyLFxuICAgICAgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fZXZlbnQtcmVzaXplIGNhbGVuZGFyLXdlZWtfX2V2ZW50LXJlc2l6ZS11cFwiLFxuICAgICAgb25Nb3VzZWRvd246IHRbMF0gfHwgKHRbMF0gPSAobykgPT4gZS5yZXNpemVFdmVudChcInVwXCIpKVxuICAgIH0sIG51bGwsIDMyKSkgOiBTKFwiXCIsICEwKSxcbiAgICBlLnNob3dSZXNpemVFbGVtZW50cyA/IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAga2V5OiAzLFxuICAgICAgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fZXZlbnQtcmVzaXplIGNhbGVuZGFyLXdlZWtfX2V2ZW50LXJlc2l6ZS1kb3duXCIsXG4gICAgICBvbk1vdXNlZG93bjogdFsxXSB8fCAodFsxXSA9IChvKSA9PiBlLnJlc2l6ZUV2ZW50KFwiZG93blwiKSlcbiAgICB9LCBudWxsLCAzMikpIDogUyhcIlwiLCAhMClcbiAgXSwgNDYsIFFzKTtcbn1cbmNvbnN0IHNvID0gLyogQF9fUFVSRV9fICovIGooS3MsIFtbXCJyZW5kZXJcIiwgaW9dLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtNTU2NGQ0MzZcIl1dKTtcbmNsYXNzIG9vIHtcbiAgc29ydEV2ZW50c0FjY29yZGluZ1RvU3RhcnRPZlRpbWUodCkge1xuICAgIGZ1bmN0aW9uIG4oYSwgcikge1xuICAgICAgcmV0dXJuIGEudGltZS5zdGFydCA8IHIudGltZS5zdGFydCA/IC0xIDogYS50aW1lLnN0YXJ0ID4gci50aW1lLnN0YXJ0ID8gMSA6IDA7XG4gICAgfVxuICAgIHJldHVybiB0LnNvcnQobik7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIFwiekluZGV4XCIgYW5kIFwibk9mUHJldmlvdXNDb25jdXJyZW50RXZlbnRzXCIgcHJvcGVydGllcyBvbiBhbiBldmVudFxuICAgKlxuICAgKiB6SW5kZXggLSBsZXRzIHRoZSBldmVudCBrbm93IHdpdGggd2hpY2ggei1pbmRleCBpdCBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqIG5PZlByZXZpb3VzQ29uY3VycmVudEV2ZW50cyAtIGxldHMgdGhlIGV2ZW50IGtub3csIGhvdyBtYW55IG90aGVyLCBwcmV2aW91cyBldmVudHMsIGFyZSBjb21wZXRpbmcgZm9yIHRoZSBzYW1lIHdpZHRoXG4gICAqICovXG4gIGNhbGN1bGF0ZUNvbmN1cnJlbmN5Rm9yRXZlbnRzKHQpIHtcbiAgICBjb25zdCBuID0gdGhpcy5zb3J0RXZlbnRzQWNjb3JkaW5nVG9TdGFydE9mVGltZSh0KTtcbiAgICBpZiAoIW4ubGVuZ3RoKVxuICAgICAgcmV0dXJuIFtdO1xuICAgIGZvciAoY29uc3QgW2EsIHJdIG9mIG4uZW50cmllcygpKSB7XG4gICAgICBpZiAoYSA9PT0gMClcbiAgICAgICAgY29udGludWU7XG4gICAgICBuW2EgLSAxXTtcbiAgICAgIGxldCBzID0gMCwgaSA9IDA7XG4gICAgICBmb3IgKDsgcyA8IGE7IClcbiAgICAgICAgbltzXS50aW1lLmVuZCA+IHIudGltZS5zdGFydCAmJiBpKyssIHMrKztcbiAgICAgIGkgJiYgKG5bYV0ubk9mUHJldmlvdXNDb25jdXJyZW50RXZlbnRzID0gaSk7XG4gICAgfVxuICAgIGZvciAobGV0IGEgPSBuLmxlbmd0aCAtIDE7IGEgPj0gMDsgYS0tKSB7XG4gICAgICBsZXQgciA9IDAsIHMgPSBuLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKDsgcyA+IGE7IClcbiAgICAgICAgbltzXS50aW1lLnN0YXJ0IDwgblthXS50aW1lLmVuZCAmJiByKyssIHMtLTtcbiAgICAgIGNvbnN0IGkgPSBuW2FdLm5PZlByZXZpb3VzQ29uY3VycmVudEV2ZW50cyB8fCAwO1xuICAgICAgblthXS50b3RhbENvbmN1cnJlbnRFdmVudHMgPSBpICsgciArIDE7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG59XG5jbGFzcyBsbyBleHRlbmRzIHNlIHtcbiAgY29uc3RydWN0b3IobiwgYSwgciA9IDI0KSB7XG4gICAgc3VwZXIoKTtcbiAgICBGKHRoaXMsIFwiSU5URVJWQUxfTUlOVVRFU1wiKTtcbiAgICBGKHRoaXMsIFwiREFZX1NUQVJUX0RBVEVfVElNRV9TVFJJTkdcIik7XG4gICAgRih0aGlzLCBcIkhPVVJTX1BFUl9EQVlcIiwgMjQpO1xuICAgIHRoaXMuSU5URVJWQUxfTUlOVVRFUyA9IG4sIHRoaXMuREFZX1NUQVJUX0RBVEVfVElNRV9TVFJJTkcgPSBhLCB0aGlzLkhPVVJTX1BFUl9EQVkgPSByO1xuICB9XG4gIGdldEludGVydmFscygpIHtcbiAgICBjb25zdCBuID0gW10sIGEgPSB0aGlzLkhPVVJTX1BFUl9EQVkgKiAoNjAgLyB0aGlzLklOVEVSVkFMX01JTlVURVMpO1xuICAgIGxldCByID0gdGhpcy5EQVlfU1RBUlRfREFURV9USU1FX1NUUklORztcbiAgICBmb3IgKDsgbi5sZW5ndGggPCBhOyApIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmFkZE1pbnV0ZXNUb0RhdGVUaW1lU3RyaW5nKHRoaXMuSU5URVJWQUxfTUlOVVRFUywgcik7XG4gICAgICBuLnB1c2goe1xuICAgICAgICBpbnRlcnZhbFN0YXJ0OiByLFxuICAgICAgICBpbnRlcnZhbEVuZDogcyxcbiAgICAgICAgLy8gT25seSBzaG93IGEgYm9yZGVyIGF0IHRoZSBib3R0b20gb2YgYW4gaW50ZXJ2YWwsIHdoZW4gdGhlIHVwY29taW5nIGludGVydmFsIGlzIG5vdCB0aGUgc3RhcnQgb2YgYSBuZXcgaG91ci5cbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBkb3VibGUgYm9yZGVyc1xuICAgICAgICBoYXNCb3JkZXI6IHMuc3Vic3RyaW5nKDE0LCAxNikgIT09IFwiMDBcIlxuICAgICAgfSksIHIgPSBzO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfVxufVxuY29uc3QgY28gPSBuZXcgb28oKSwgdW8gPSBIKHtcbiAgbmFtZTogXCJEYXlcIixcbiAgY29tcG9uZW50czogeyBEYXlFdmVudDogc28gfSxcbiAgcHJvcHM6IHtcbiAgICBkYXk6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgZGF5SW5mbzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBtb2RlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGRheUludGVydmFsczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICB3ZWVrSGVpZ2h0OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXG4gICAgXCJldmVudC13YXMtY2xpY2tlZFwiLFxuICAgIFwiZXZlbnQtd2FzLXJlc2l6ZWRcIixcbiAgICBcImV2ZW50LXdhcy1kcmFnZ2VkXCIsXG4gICAgXCJpbnRlcnZhbC13YXMtY2xpY2tlZFwiLFxuICAgIFwiZGF5LXdhcy1jbGlja2VkXCIsXG4gICAgXCJkYXRldGltZS13YXMtY2xpY2tlZFwiLFxuICAgIFwiZHJhZy1zdGFydFwiLFxuICAgIFwiZHJhZy1lbmRcIlxuICBdLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBldmVudHM6IFtdLFxuICAgICAgaW50ZXJ2YWxzOiBbXVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaW50ZXJ2YWxTdHlsZXMoKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHJldHVybiAoZSA9IHRoaXMuY29uZmlnLmRheUludGVydmFscykgIT0gbnVsbCAmJiBlLmludGVydmFsU3R5bGVzID8gdGhpcy5jb25maWcuZGF5SW50ZXJ2YWxzLmludGVydmFsU3R5bGVzIDoge307XG4gICAgfVxuICB9LFxuICBtb3VudGVkKCkge1xuICAgIHRoaXMuY2FsY3VsYXRlRXZlbnRDb25jdXJyZW5jeSgpLCB0aGlzLmRheUludGVydmFscy5kaXNwbGF5Q2xpY2thYmxlSW50ZXJ2YWwgJiYgdGhpcy5zZXRDbGlja2FibGVJbnRlcnZhbHMoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNhbGN1bGF0ZUV2ZW50Q29uY3VycmVuY3koKSB7XG4gICAgICB0aGlzLmV2ZW50cyA9IGNvLmNhbGN1bGF0ZUNvbmN1cnJlbmN5Rm9yRXZlbnRzKFxuICAgICAgICB0aGlzLmRheS5ldmVudHNcbiAgICAgICk7XG4gICAgfSxcbiAgICBoYW5kbGVFdmVudFdhc1Jlc2l6ZWQoZSkge1xuICAgICAgdGhpcy4kZW1pdChcImV2ZW50LXdhcy1yZXNpemVkXCIsIGUpLCB0aGlzLmNhbGN1bGF0ZUV2ZW50Q29uY3VycmVuY3koKTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrT25JbnRlcnZhbChlKSB7XG4gICAgICBjb25zdCB7IGludGVydmFsU3RhcnQ6IHQsIGludGVydmFsRW5kOiBuIH0gPSBlO1xuICAgICAgdGhpcy4kZW1pdChcImludGVydmFsLXdhcy1jbGlja2VkXCIsIHsgaW50ZXJ2YWxTdGFydDogdCwgaW50ZXJ2YWxFbmQ6IG4gfSk7XG4gICAgfSxcbiAgICBzZXRDbGlja2FibGVJbnRlcnZhbHMoKSB7XG4gICAgICBsZXQgZSA9IHRoaXMuZGF5LmRhdGVUaW1lU3RyaW5nO1xuICAgICAgaWYgKHRoaXMudGltZS5EQVlfU1RBUlQgIT09IDApIHtcbiAgICAgICAgY29uc3QgeyBob3VyOiB0IH0gPSB0aGlzLnRpbWUuZ2V0SG91ckFuZE1pbnV0ZXNGcm9tVGltZVBvaW50cyh0aGlzLnRpbWUuREFZX1NUQVJUKTtcbiAgICAgICAgZSA9IHRoaXMudGltZS5zZXRTZWdtZW50T2ZEYXRlVGltZVN0cmluZyhlLCB7IGhvdXI6IHQgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLmludGVydmFscyA9IG5ldyBsbyhcbiAgICAgICAgdGhpcy5kYXlJbnRlcnZhbHMubGVuZ3RoIHx8IDYwLFxuICAgICAgICBlLFxuICAgICAgICB0aGlzLnRpbWUuSE9VUlNfUEVSX0RBWVxuICAgICAgKS5nZXRJbnRlcnZhbHMoKTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrT25EYXkoZSkge1xuICAgICAgY29uc3QgdCA9IHRoaXMudGltZS5nZXRUaW1lRnJvbUNsaWNrKGUub2Zmc2V0WSwgdGhpcy53ZWVrSGVpZ2h0KTtcbiAgICAgIGxldCBuID0gdGhpcy50aW1lLmRhdGVTdHJpbmdGcm9tKHRoaXMuZGF5LmRhdGVUaW1lU3RyaW5nKTtcbiAgICAgIHRoaXMudGltZS5EQVlfRU5EIDw9IHRoaXMudGltZS5EQVlfU1RBUlQgJiYgKG4gPSB0aGlzLmdldERhdGVTdHJpbmdGb3JGbGV4aWJsZURheUJvdW5kYXJpZXMobiwgdCkpO1xuICAgICAgY29uc3QgciA9IGAke259ICR7dH1gO1xuICAgICAgdGhpcy4kZW1pdChcImRheS13YXMtY2xpY2tlZFwiLCBuKSwgdGhpcy4kZW1pdChcImRhdGV0aW1lLXdhcy1jbGlja2VkXCIsIHIpO1xuICAgIH0sXG4gICAgZ2V0RGF0ZVN0cmluZ0ZvckZsZXhpYmxlRGF5Qm91bmRhcmllcyhlLCB0KSB7XG4gICAgICBjb25zdCBhID0gYCR7dGhpcy50aW1lLmRvdWJsZURpZ2l0KHRoaXMudGltZS5EQVlfU1RBUlQgLyAxMDApfTowMGA7XG4gICAgICByZXR1cm4gdCA8IGEgJiYgKGUgPSB0aGlzLnRpbWUuZGF0ZVN0cmluZ0Zyb20oXG4gICAgICAgIHRoaXMudGltZS5hZGREYXlzVG9EYXRlVGltZVN0cmluZygxLCBlKVxuICAgICAgKSksIGU7XG4gICAgfVxuICB9XG59KTtcbmNvbnN0IGZvID0gW1wiaWRcIiwgXCJvbkNsaWNrXCJdO1xuZnVuY3Rpb24gbW8oZSwgdCwgbiwgYSwgciwgcykge1xuICBjb25zdCBpID0gJChcIkRheUV2ZW50XCIpO1xuICByZXR1cm4gZigpLCBtKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJjYWxlbmRhci13ZWVrX19kYXlcIixcbiAgICBvbkNsaWNrOiB0WzRdIHx8ICh0WzRdID0gQnQoKC4uLm8pID0+IGUuaGFuZGxlQ2xpY2tPbkRheSAmJiBlLmhhbmRsZUNsaWNrT25EYXkoLi4ubyksIFtcInNlbGZcIl0pKVxuICB9LCBbXG4gICAgKGYoITApLCBtKEwsIG51bGwsIHooZS5ldmVudHMsIChvLCBsKSA9PiAoZigpLCBWKGksIHtcbiAgICAgIGtleTogbCxcbiAgICAgIFwiZGF0YS10ZXN0XCI6IFwiZGF5LWV2ZW50XCIsXG4gICAgICBcImV2ZW50LXByb3BcIjogbyxcbiAgICAgIGRheTogZS5kYXksXG4gICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICBjb25maWc6IGUuY29uZmlnLFxuICAgICAgXCJkYXktaW5mb1wiOiBlLmRheUluZm8sXG4gICAgICBtb2RlOiBlLm1vZGUsXG4gICAgICBvbkV2ZW50V2FzQ2xpY2tlZDogdFswXSB8fCAodFswXSA9IChjKSA9PiBlLiRlbWl0KFwiZXZlbnQtd2FzLWNsaWNrZWRcIiwgYykpLFxuICAgICAgb25FdmVudFdhc0RyYWdnZWQ6IHRbMV0gfHwgKHRbMV0gPSAoYykgPT4gZS4kZW1pdChcImV2ZW50LXdhcy1kcmFnZ2VkXCIsIGMpKSxcbiAgICAgIG9uRXZlbnRXYXNSZXNpemVkOiBlLmhhbmRsZUV2ZW50V2FzUmVzaXplZCxcbiAgICAgIG9uRHJhZ1N0YXJ0OiB0WzJdIHx8ICh0WzJdID0gKGMpID0+IGUuJGVtaXQoXCJkcmFnLXN0YXJ0XCIpKSxcbiAgICAgIG9uRHJhZ0VuZDogdFszXSB8fCAodFszXSA9IChjKSA9PiBlLiRlbWl0KFwiZHJhZy1lbmRcIikpXG4gICAgfSwge1xuICAgICAgd2Vla0RheUV2ZW50OiBYKChjKSA9PiBbXG4gICAgICAgIFkoZS4kc2xvdHMsIFwid2Vla0RheUV2ZW50XCIsIHtcbiAgICAgICAgICBldmVudERhdGE6IGMuZXZlbnREYXRhXG4gICAgICAgIH0sIHZvaWQgMCwgITApXG4gICAgICBdKSxcbiAgICAgIF86IDJcbiAgICB9LCAxMDMyLCBbXCJldmVudC1wcm9wXCIsIFwiZGF5XCIsIFwidGltZVwiLCBcImNvbmZpZ1wiLCBcImRheS1pbmZvXCIsIFwibW9kZVwiLCBcIm9uRXZlbnRXYXNSZXNpemVkXCJdKSkpLCAxMjgpKSxcbiAgICBlLmRheUludGVydmFscyAmJiBlLmRheUludGVydmFscy5kaXNwbGF5Q2xpY2thYmxlSW50ZXJ2YWwgPyAoZighMCksIG0oTCwgeyBrZXk6IDAgfSwgeihlLmludGVydmFscywgKG8sIGwpID0+IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAgaWQ6IFwiaW50ZXJ2YWwtXCIgKyBsLFxuICAgICAga2V5OiBvLmludGVydmFsU3RhcnQsXG4gICAgICBjbGFzczogeChbXCJjYWxlbmRhci13ZWVrX19kYXktaW50ZXJ2YWxcIiwgeyBcImhhcy1ib3JkZXJcIjogby5oYXNCb3JkZXIgfV0pLFxuICAgICAgc3R5bGU6IGNlKGUuaW50ZXJ2YWxTdHlsZXMpLFxuICAgICAgb25DbGljazogKGMpID0+IGUuaGFuZGxlQ2xpY2tPbkludGVydmFsKG8pXG4gICAgfSwgQShlLnRpbWUuZ2V0TG9jYWxpemVkVGltZShvLmludGVydmFsU3RhcnQpKSwgMTUsIGZvKSkpLCAxMjgpKSA6IFMoXCJcIiwgITApXG4gIF0pO1xufVxuY29uc3QgaG8gPSAvKiBAX19QVVJFX18gKi8gaih1bywgW1tcInJlbmRlclwiLCBtb10sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi1iMjY4YmU3ZVwiXV0pLCB2byA9IHtcbiAgeDogOCxcbiAgeTogMjYsXG4gIHdpZHRoOiA5MDMsXG4gIGhlaWdodDogNzAyLFxuICB0b3A6IDI2LFxuICByaWdodDogOTExLFxuICBib3R0b206IDcyOCxcbiAgbGVmdDogOFxufSwgZ28gPSA0MDA7XG5jbGFzcyBwbyB7XG4gIGNhbGN1bGF0ZUZseW91dFBvc2l0aW9uKHQsIG4sIGEgPSBudWxsKSB7XG4gICAgY29uc3QgciA9IGEgfHwgdm8sIHMgPSB0LnRvcCAtIHIudG9wLCBpID0gci5yaWdodCAtIHQucmlnaHQsIG8gPSByLmJvdHRvbSAtIHQuYm90dG9tLCBsID0gdC5sZWZ0IC0gci5sZWZ0LCBjID0gbi53aWR0aCArIDEwLCBkID0gbyA8IDAgPyByLmJvdHRvbSAtIG4uaGVpZ2h0IC0gMTAgOiBudWxsLCB1ID0gcyA8IDAgPyByLnRvcCArIDEwIDogbnVsbDtcbiAgICByZXR1cm4gbyA+IG4uaGVpZ2h0ICYmIGkgPiBjID8ge1xuICAgICAgdG9wOiB1IHx8IE1hdGgucm91bmQodC50b3ApLFxuICAgICAgbGVmdDogTWF0aC5yb3VuZCh0LnJpZ2h0KSArIDEwXG4gICAgfSA6IHMgPiBuLmhlaWdodCAmJiBpID4gYyA/IHtcbiAgICAgIHRvcDogZCB8fCBNYXRoLnJvdW5kKHQuYm90dG9tKSAtIG4uaGVpZ2h0LFxuICAgICAgbGVmdDogTWF0aC5yb3VuZCh0LnJpZ2h0KSArIDEwXG4gICAgfSA6IGwgPiBjICYmIG8gPiBuLmhlaWdodCA/IHtcbiAgICAgIHRvcDogdSB8fCB0LnRvcCxcbiAgICAgIGxlZnQ6IE1hdGgucm91bmQoXG4gICAgICAgIHQubGVmdCAtIChuLndpZHRoICsgMTApXG4gICAgICApXG4gICAgfSA6IGwgPiBjICYmIHMgPiBuLmhlaWdodCA/IHtcbiAgICAgIHRvcDogZCB8fCBNYXRoLnJvdW5kKHQuYm90dG9tIC0gbi5oZWlnaHQpLFxuICAgICAgbGVmdDogTWF0aC5yb3VuZChcbiAgICAgICAgdC5sZWZ0IC0gKG4ud2lkdGggKyAxMClcbiAgICAgIClcbiAgICB9IDogbyA8IG4uaGVpZ2h0ID8geyB0b3A6IHIuYm90dG9tIC0gbi5oZWlnaHQsIGxlZnQ6IG51bGwgfSA6IHsgdG9wOiB0LnRvcCwgbGVmdDogbnVsbCB9O1xuICB9XG59XG52YXIgeW8gPSB7XG4gIHByZWZpeDogXCJmYXJcIixcbiAgaWNvbk5hbWU6IFwidHJhc2gtY2FuXCIsXG4gIGljb246IFs0NDgsIDUxMiwgWzYxNDYwLCBcInRyYXNoLWFsdFwiXSwgXCJmMmVkXCIsIFwiTTE3MC41IDUxLjZMMTUxLjUgODBoMTQ1bC0xOS0yOC40Yy0xLjUtMi4yLTQtMy42LTYuNy0zLjZIMTc3LjFjLTIuNyAwLTUuMiAxLjMtNi43IDMuNnptMTQ3LTI2LjZMMzU0LjIgODBIMzY4aDQ4IDhjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRoLThWNDMyYzAgNDQuMi0zNS44IDgwLTgwIDgwSDExMmMtNDQuMiAwLTgwLTM1LjgtODAtODBWMTI4SDI0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNFMxMC43IDgwIDI0IDgwaDhIODAgOTMuOGwzNi43LTU1LjFDMTQwLjkgOS40IDE1OC40IDAgMTc3LjEgMGg5My43YzE4LjcgMCAzNi4yIDkuNCA0Ni42IDI0Ljl6TTgwIDEyOFY0MzJjMCAxNy43IDE0LjMgMzIgMzIgMzJIMzM2YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjEyOEg4MHptODAgNjRWNDAwYzAgOC44LTcuMiAxNi0xNiAxNnMtMTYtNy4yLTE2LTE2VjE5MmMwLTguOCA3LjItMTYgMTYtMTZzMTYgNy4yIDE2IDE2em04MCAwVjQwMGMwIDguOC03LjIgMTYtMTYgMTZzLTE2LTcuMi0xNi0xNlYxOTJjMC04LjggNy4yLTE2IDE2LTE2czE2IDcuMiAxNiAxNnptODAgMFY0MDBjMCA4LjgtNy4yIDE2LTE2IDE2cy0xNi03LjItMTYtMTZWMTkyYzAtOC44IDcuMi0xNiAxNi0xNnMxNiA3LjIgMTYgMTZ6XCJdXG59LCB6YSA9IHlvLCBibyA9IHtcbiAgcHJlZml4OiBcImZhclwiLFxuICBpY29uTmFtZTogXCJwZW4tdG8tc3F1YXJlXCIsXG4gIGljb246IFs1MTIsIDUxMiwgW1wiZWRpdFwiXSwgXCJmMDQ0XCIsIFwiTTQ0MSA1OC45TDQ1My4xIDcxYzkuNCA5LjQgOS40IDI0LjYgMCAzMy45TDQyNCAxMzQuMSAzNzcuOSA4OCA0MDcgNTguOWM5LjQtOS40IDI0LjYtOS40IDMzLjkgMHpNMjA5LjggMjU2LjJMMzQ0IDEyMS45IDM5MC4xIDE2OCAyNTUuOCAzMDIuMmMtMi45IDIuOS02LjUgNS0xMC40IDYuMWwtNTguNSAxNi43IDE2LjctNTguNWMxLjEtMy45IDMuMi03LjUgNi4xLTEwLjR6TTM3My4xIDI1TDE3NS44IDIyMi4yYy04LjcgOC43LTE1IDE5LjQtMTguMyAzMS4xbC0yOC42IDEwMGMtMi40IDguNC0uMSAxNy40IDYuMSAyMy42czE1LjIgOC41IDIzLjYgNi4xbDEwMC0yOC42YzExLjgtMy40IDIyLjUtOS43IDMxLjEtMTguM0w0ODcgMTM4LjljMjguMS0yOC4xIDI4LjEtNzMuNyAwLTEwMS44TDQ3NC45IDI1QzQ0Ni44LTMuMSA0MDEuMi0zLjEgMzczLjEgMjV6TTg4IDY0QzM5LjQgNjQgMCAxMDMuNCAwIDE1MlY0MjRjMCA0OC42IDM5LjQgODggODggODhIMzYwYzQ4LjYgMCA4OC0zOS40IDg4LTg4VjMxMmMwLTEzLjMtMTAuNy0yNC0yNC0yNHMtMjQgMTAuNy0yNCAyNFY0MjRjMCAyMi4xLTE3LjkgNDAtNDAgNDBIODhjLTIyLjEgMC00MC0xNy45LTQwLTQwVjE1MmMwLTIyLjEgMTcuOS00MCA0MC00MEgyMDBjMTMuMyAwIDI0LTEwLjcgMjQtMjRzLTEwLjctMjQtMjQtMjRIODh6XCJdXG59LCBqYSA9IGJvLCBCYSA9IHtcbiAgcHJlZml4OiBcImZhclwiLFxuICBpY29uTmFtZTogXCJ1c2VyXCIsXG4gIGljb246IFs0NDgsIDUxMiwgWzEyODEwMCwgNjIxNDRdLCBcImYwMDdcIiwgXCJNMzA0IDEyOGE4MCA4MCAwIDEgMCAtMTYwIDAgODAgODAgMCAxIDAgMTYwIDB6TTk2IDEyOGExMjggMTI4IDAgMSAxIDI1NiAwQTEyOCAxMjggMCAxIDEgOTYgMTI4ek00OS4zIDQ2NEgzOTguN2MtOC45LTYzLjMtNjMuMy0xMTItMTI5LTExMkgxNzguM2MtNjUuNyAwLTEyMC4xIDQ4LjctMTI5IDExMnpNMCA0ODIuM0MwIDM4My44IDc5LjggMzA0IDE3OC4zIDMwNGg5MS40QzM2OC4yIDMwNCA0NDggMzgzLjggNDQ4IDQ4Mi4zYzAgMTYuNC0xMy4zIDI5LjctMjkuNyAyOS43SDI5LjdDMTMuMyA1MTIgMCA0OTguNyAwIDQ4Mi4zelwiXVxufSwgRG8gPSB7XG4gIHByZWZpeDogXCJmYXJcIixcbiAgaWNvbk5hbWU6IFwiY2lyY2xlLXF1ZXN0aW9uXCIsXG4gIGljb246IFs1MTIsIDUxMiwgWzYyMTA4LCBcInF1ZXN0aW9uLWNpcmNsZVwiXSwgXCJmMDU5XCIsIFwiTTQ2NCAyNTZBMjA4IDIwOCAwIDEgMCA0OCAyNTZhMjA4IDIwOCAwIDEgMCA0MTYgMHpNMCAyNTZhMjU2IDI1NiAwIDEgMSA1MTIgMEEyNTYgMjU2IDAgMSAxIDAgMjU2em0xNjkuOC05MC43YzcuOS0yMi4zIDI5LjEtMzcuMyA1Mi44LTM3LjNoNTguM2MzNC45IDAgNjMuMSAyOC4zIDYzLjEgNjMuMWMwIDIyLjYtMTIuMSA0My41LTMxLjcgNTQuOEwyODAgMjY0LjRjLS4yIDEzLTEwLjkgMjMuNi0yNCAyMy42Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNFYyNTAuNWMwLTguNiA0LjYtMTYuNSAxMi4xLTIwLjhsNDQuMy0yNS40YzQuNy0yLjcgNy42LTcuNyA3LjYtMTMuMWMwLTguNC02LjgtMTUuMS0xNS4xLTE1LjFIMjIyLjZjLTMuNCAwLTYuNCAyLjEtNy41IDUuM2wtLjQgMS4yYy00LjQgMTIuNS0xOC4yIDE5LTMwLjYgMTQuNnMtMTktMTguMi0xNC42LTMwLjZsLjQtMS4yek0yMjQgMzUyYTMyIDMyIDAgMSAxIDY0IDAgMzIgMzIgMCAxIDEgLTY0IDB6XCJdXG59LCBYYSA9IERvLCBVYSA9IHtcbiAgcHJlZml4OiBcImZhclwiLFxuICBpY29uTmFtZTogXCJjb21tZW50XCIsXG4gIGljb246IFs1MTIsIDUxMiwgWzEyODQ4OSwgNjE2NjldLCBcImYwNzVcIiwgXCJNMTIzLjYgMzkxLjNjMTIuOS05LjQgMjkuNi0xMS44IDQ0LjYtNi40YzI2LjUgOS42IDU2LjIgMTUuMSA4Ny44IDE1LjFjMTI0LjcgMCAyMDgtODAuNSAyMDgtMTYwcy04My4zLTE2MC0yMDgtMTYwUzQ4IDE2MC41IDQ4IDI0MGMwIDMyIDEyLjQgNjIuOCAzNS43IDg5LjJjOC42IDkuNyAxMi44IDIyLjUgMTEuOCAzNS41Yy0xLjQgMTguMS01LjcgMzQuNy0xMS4zIDQ5LjRjMTctNy45IDMxLjEtMTYuNyAzOS40LTIyLjd6TTIxLjIgNDMxLjljMS44LTIuNyAzLjUtNS40IDUuMS04LjFjMTAtMTYuNiAxOS41LTM4LjQgMjEuNC02Mi45QzE3LjcgMzI2LjggMCAyODUuMSAwIDI0MEMwIDEyNS4xIDExNC42IDMyIDI1NiAzMnMyNTYgOTMuMSAyNTYgMjA4cy0xMTQuNiAyMDgtMjU2IDIwOGMtMzcuMSAwLTcyLjMtNi40LTEwNC4xLTE3LjljLTExLjkgOC43LTMxLjMgMjAuNi01NC4zIDMwLjZjLTE1LjEgNi42LTMyLjMgMTIuNi01MC4xIDE2LjFjLS44IC4yLTEuNiAuMy0yLjQgLjVjLTQuNCAuOC04LjcgMS41LTEzLjIgMS45Yy0uMiAwLS41IC4xLS43IC4xYy01LjEgLjUtMTAuMiAuOC0xNS4zIC44Yy02LjUgMC0xMi4zLTMuOS0xNC44LTkuOWMtMi41LTYtMS4xLTEyLjggMy40LTE3LjRjNC4xLTQuMiA3LjgtOC43IDExLjMtMTMuNWMxLjctMi4zIDMuMy00LjYgNC44LTYuOWMuMS0uMiAuMi0uMyAuMy0uNXpcIl1cbn0sIFZhID0ge1xuICBwcmVmaXg6IFwiZmFyXCIsXG4gIGljb25OYW1lOiBcImNsb2NrXCIsXG4gIGljb246IFs1MTIsIDUxMiwgWzEyODMzOSwgXCJjbG9jay1mb3VyXCJdLCBcImYwMTdcIiwgXCJNNDY0IDI1NkEyMDggMjA4IDAgMSAxIDQ4IDI1NmEyMDggMjA4IDAgMSAxIDQxNiAwek0wIDI1NmEyNTYgMjU2IDAgMSAwIDUxMiAwQTI1NiAyNTYgMCAxIDAgMCAyNTZ6TTIzMiAxMjBWMjU2YzAgOCA0IDE1LjUgMTAuNyAyMGw5NiA2NGMxMSA3LjQgMjUuOSA0LjQgMzMuMy02LjdzNC40LTI1LjktNi43LTMzLjNMMjgwIDI0My4yVjEyMGMwLTEzLjMtMTAuNy0yNC0yNC0yNHMtMjQgMTAuNy0yNCAyNHpcIl1cbn07XG5jb25zdCBrbyA9IG5ldyBwbygpLCBsbiA9IEgoe1xuICBuYW1lOiBcIkV2ZW50Rmx5b3V0XCIsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBGb250QXdlc29tZUljb246IFFlXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgY2FsZW5kYXJFdmVudFByb3A6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSlcbiAgICB9LFxuICAgIGV2ZW50RWxlbWVudDoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IFtcImhpZGVcIiwgXCJlZGl0LWV2ZW50XCIsIFwiZGVsZXRlLWV2ZW50XCJdLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1Zpc2libGU6ICExLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGNsb2NrOiBWYSxcbiAgICAgICAgdXNlcjogQmEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBVYSxcbiAgICAgICAgdHJhc2g6IHphLFxuICAgICAgICBlZGl0OiBqYSxcbiAgICAgICAgdGltZXM6IFlhLFxuICAgICAgICB0b3BpYzogWGEsXG4gICAgICAgIGxvY2F0aW9uOiByblxuICAgICAgfSxcbiAgICAgIGNhbGVuZGFyRXZlbnQ6IHRoaXMuY2FsZW5kYXJFdmVudFByb3AsXG4gICAgICBmbHlvdXRXaWR0aDogZ28gKyBcInB4XCIsXG4gICAgICBjb2xvcnM6IHhlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBnZXRFdmVudFRpbWUoKSB7XG4gICAgICBpZiAoIXRoaXMuY2FsZW5kYXJFdmVudCB8fCAhdGhpcy5jYWxlbmRhckV2ZW50LnRpbWUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgZSA9IEVlLmdldEV2ZW50VHlwZSh0aGlzLmNhbGVuZGFyRXZlbnQsIHRoaXMudGltZSk7XG4gICAgICBpZiAoW1EuTVVMVElfREFZX1RJTUVEXS5pbmNsdWRlcyhlKSkge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5nZXREYXRlRnJvbURhdGVTdHJpbmcoXG4gICAgICAgICAgdGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuc3RhcnRcbiAgICAgICAgKSArIFwiIFwiICsgdGhpcy50aW1lLmdldExvY2FsaXplZFRpbWUodGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuc3RhcnQpLCByID0gdGhpcy5nZXREYXRlRnJvbURhdGVTdHJpbmcoXG4gICAgICAgICAgdGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuZW5kXG4gICAgICAgICkgKyBcIiBcIiArIHRoaXMudGltZS5nZXRMb2NhbGl6ZWRUaW1lKHRoaXMuY2FsZW5kYXJFdmVudC50aW1lLmVuZCk7XG4gICAgICAgIHJldHVybiBgJHthfSAtICR7cn1gO1xuICAgICAgfVxuICAgICAgaWYgKFtRLlNJTkdMRV9EQVlfRlVMTF9EQVksIFEuTVVMVElfREFZX0ZVTExfREFZXS5pbmNsdWRlcyhlKSkge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5nZXREYXRlRnJvbURhdGVTdHJpbmcodGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuc3RhcnQpLCByID0gdGhpcy5nZXREYXRlRnJvbURhdGVTdHJpbmcodGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuZW5kKTtcbiAgICAgICAgcmV0dXJuIGEgPT09IHIgPyBhIDogYCR7YX0gLSAke3J9YDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHQgPSB0aGlzLmdldERhdGVGcm9tRGF0ZVN0cmluZyh0aGlzLmNhbGVuZGFyRXZlbnQudGltZS5zdGFydCksIG4gPSB0aGlzLnRpbWUuZ2V0TG9jYWxpemVkVGltZVJhbmdlKFxuICAgICAgICB0aGlzLmNhbGVuZGFyRXZlbnQudGltZS5zdGFydCxcbiAgICAgICAgdGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuZW5kXG4gICAgICApO1xuICAgICAgcmV0dXJuIGAke3R9IOKLhSAke259YDtcbiAgICB9LFxuICAgIGV2ZW50Rmx5b3V0SW5saW5lU3R5bGVzKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnRvcCA9PSBcIm51bWJlclwiICYmICF0aGlzLmxlZnQgPyB7XG4gICAgICAgIHRvcDogdGhpcy50b3AgKyBcInB4XCIsXG4gICAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC01MCUpXCJcbiAgICAgIH0gOiB7XG4gICAgICAgIHRvcDogdGhpcy50b3AgKyBcInB4XCIsXG4gICAgICAgIGxlZnQ6IHRoaXMubGVmdCArIFwicHhcIixcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIlxuICAgICAgICAvLyBjYXN0aW5nLCBzaW5jZSB0c2Mgb3RoZXJ3aXNlIHRoaW5rcyB3ZSdyZSBjYXN0aW5nICdzdHJpbmcnIHRvICdQb3NpdGlvblByb3BlcnR5J1xuICAgICAgfTtcbiAgICB9LFxuICAgIGlzRWRpdGFibGUoKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHJldHVybiAoKGUgPSB0aGlzLmNhbGVuZGFyRXZlbnRQcm9wKSA9PSBudWxsID8gdm9pZCAwIDogZS5pc0VkaXRhYmxlKSB8fCAhMTtcbiAgICB9LFxuICAgIGV2ZW50QmFja2dyb3VuZENvbG9yKCkge1xuICAgICAgdmFyIGUsIHQsIG47XG4gICAgICByZXR1cm4gKGUgPSB0aGlzLmNhbGVuZGFyRXZlbnQpICE9IG51bGwgJiYgZS5jb2xvclNjaGVtZSAmJiAoKHQgPSB0aGlzLmNvbmZpZy5zdHlsZSkgIT0gbnVsbCAmJiB0LmNvbG9yU2NoZW1lcykgJiYgdGhpcy5jb25maWcuc3R5bGUuY29sb3JTY2hlbWVzW3RoaXMuY2FsZW5kYXJFdmVudC5jb2xvclNjaGVtZV0gPyB0aGlzLmNvbmZpZy5zdHlsZS5jb2xvclNjaGVtZXNbdGhpcy5jYWxlbmRhckV2ZW50LmNvbG9yU2NoZW1lXS5iYWNrZ3JvdW5kQ29sb3IgOiB0aGlzLmNvbG9yc1soKG4gPSB0aGlzLmNhbGVuZGFyRXZlbnQpID09IG51bGwgPyB2b2lkIDAgOiBuLmNvbG9yKSB8fCBcImJsdWVcIl07XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGNhbGVuZGFyRXZlbnRQcm9wOiB7XG4gICAgICBkZWVwOiAhMCxcbiAgICAgIGhhbmRsZXIoZSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbGVuZGFyRXZlbnQgPSBlLCB0aGlzLmlzVmlzaWJsZSA9ICEhZSwgdGhpcy4kbmV4dFRpY2soKCkgPT4gdGhpcy5zZXRGbHlvdXRQb3NpdGlvbigpKTtcbiAgICAgICAgfSwgMTApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLmxpc3RlbkZvckNsaWNrT3V0c2lkZSgpO1xuICB9LFxuICBiZWZvcmVVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlRmx5b3V0T25DbGlja091dHNpZGUpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0Rmx5b3V0UG9zaXRpb24oKSB7XG4gICAgICB2YXIgYSwgcjtcbiAgICAgIGNvbnN0IGUgPSAoYSA9IHRoaXMuZXZlbnRFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogYS5jbG9zZXN0KFwiLmNhbGVuZGFyLXJvb3RcIiksIHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV2ZW50LWZseW91dFwiKTtcbiAgICAgIGlmICghdGhpcy5ldmVudEVsZW1lbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG4gPSBrby5jYWxjdWxhdGVGbHlvdXRQb3NpdGlvbihcbiAgICAgICAgKHIgPSB0aGlzLmV2ZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHtcbiAgICAgICAgICBoZWlnaHQ6ICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LmNsaWVudEhlaWdodCkgfHwgMzAwLFxuICAgICAgICAgIHdpZHRoOiAodCA9PSBudWxsID8gdm9pZCAwIDogdC5jbGllbnRXaWR0aCkgfHwgMFxuICAgICAgICB9LFxuICAgICAgICBlID8gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGxcbiAgICAgICk7XG4gICAgICB0aGlzLnRvcCA9IHR5cGVvZiAobiA9PSBudWxsID8gdm9pZCAwIDogbi50b3ApID09IFwibnVtYmVyXCIgPyBuLnRvcCA6IG51bGwsIHRoaXMubGVmdCA9IHR5cGVvZiAobiA9PSBudWxsID8gdm9pZCAwIDogbi5sZWZ0KSA9PSBcIm51bWJlclwiID8gbi5sZWZ0IDogbnVsbDtcbiAgICB9LFxuICAgIGVkaXRFdmVudCgpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdGhpcy4kZW1pdChcImVkaXQtZXZlbnRcIiwgKGUgPSB0aGlzLmNhbGVuZGFyRXZlbnQpID09IG51bGwgPyB2b2lkIDAgOiBlLmlkKSwgdGhpcy5jbG9zZUZseW91dCgpO1xuICAgIH0sXG4gICAgZGVsZXRlRXZlbnQoKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRoaXMuJGVtaXQoXCJkZWxldGUtZXZlbnRcIiwgKGUgPSB0aGlzLmNhbGVuZGFyRXZlbnQpID09IG51bGwgPyB2b2lkIDAgOiBlLmlkKSwgdGhpcy5jbG9zZUZseW91dCgpO1xuICAgIH0sXG4gICAgY2xvc2VGbHlvdXQoKSB7XG4gICAgICB0aGlzLmlzVmlzaWJsZSA9ICExLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy4kZW1pdChcImhpZGVcIik7XG4gICAgICB9LCAxMDApO1xuICAgIH0sXG4gICAgZ2V0RGF0ZUZyb21EYXRlU3RyaW5nKGUpIHtcbiAgICAgIGNvbnN0IHsgeWVhcjogdCwgbW9udGg6IG4sIGRhdGU6IGEgfSA9IHRoaXMudGltZS5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcoZSk7XG4gICAgICByZXR1cm4gbmV3IERhdGUodCwgbiwgYSkudG9Mb2NhbGVEYXRlU3RyaW5nKFxuICAgICAgICB0aGlzLnRpbWUuQ0FMRU5EQVJfTE9DQUxFLFxuICAgICAgICB7XG4gICAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9LFxuICAgIGxpc3RlbkZvckNsaWNrT3V0c2lkZSgpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlRmx5b3V0T25DbGlja091dHNpZGUpO1xuICAgIH0sXG4gICAgY2xvc2VGbHlvdXRPbkNsaWNrT3V0c2lkZShlKSB7XG4gICAgICB2YXIgcztcbiAgICAgIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV2ZW50LWZseW91dFwiKTtcbiAgICAgIGlmICghdCB8fCAhdGhpcy5pc1Zpc2libGUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG4gPSAhdC5jb250YWlucyhlLnRhcmdldCksIGEgPSAhIWUudGFyZ2V0LmNsb3Nlc3QoXCIuaXMtZXZlbnRcIiksIHIgPSAoKHMgPSB0aGlzLmNvbmZpZy5ldmVudERpYWxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IHMuY2xvc2VPbkNsaWNrT3V0c2lkZSkgPz8gITA7XG4gICAgICB0aGlzLmlzVmlzaWJsZSAmJiBuICYmICFhICYmIHIgJiYgdGhpcy5jbG9zZUZseW91dCgpO1xuICAgIH1cbiAgfVxufSksIFVuID0gKCkgPT4ge1xuICBPZSgoZSkgPT4gKHtcbiAgICBcIjdjMGIyMTE0XCI6IGUuZmx5b3V0V2lkdGhcbiAgfSkpO1xufSwgVm4gPSBsbi5zZXR1cDtcbmxuLnNldHVwID0gVm4gPyAoZSwgdCkgPT4gKFVuKCksIFZuKGUsIHQpKSA6IFVuO1xuY29uc3Qgd28gPSB7XG4gIGtleTogMCxcbiAgY2xhc3M6IFwiZXZlbnQtZmx5b3V0X19yZWxhdGl2ZS13cmFwcGVyXCJcbn0sIEVvID0geyBjbGFzczogXCJldmVudC1mbHlvdXRfX21lbnVcIiB9LCBTbyA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJldmVudC1mbHlvdXRfX21lbnUtZWRpdGFibGVcIlxufSwgVG8gPSB7IGNsYXNzOiBcImV2ZW50LWZseW91dF9fbWVudS1jbG9zZVwiIH0sIEFvID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImV2ZW50LWZseW91dF9faW5mby13cmFwcGVyXCJcbn0sIENvID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImV2ZW50LWZseW91dF9fcm93IGlzLXRpdGxlXCJcbn0sIF9vID0ge1xuICBrZXk6IDEsXG4gIGNsYXNzOiBcImV2ZW50LWZseW91dF9fcm93IGlzLXRpbWVcIlxufSwgTW8gPSB7XG4gIGtleTogMixcbiAgY2xhc3M6IFwiZXZlbnQtZmx5b3V0X19yb3cgaXMtbG9jYXRpb25cIlxufSwgUG8gPSB7XG4gIGtleTogMyxcbiAgY2xhc3M6IFwiZXZlbnQtZmx5b3V0X19yb3cgaXMtd2l0aFwiXG59LCBJbyA9IHtcbiAga2V5OiA0LFxuICBjbGFzczogXCJldmVudC1mbHlvdXRfX3JvdyBpcy10b3BpY1wiXG59LCBMbyA9IHtcbiAga2V5OiA1LFxuICBjbGFzczogXCJldmVudC1mbHlvdXRfX3JvdyBpcy1kZXNjcmlwdGlvblwiXG59LCBPbyA9IFtcImlubmVySFRNTFwiXTtcbmZ1bmN0aW9uICRvKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgY29uc3QgaSA9ICQoXCJmb250LWF3ZXNvbWUtaWNvblwiKTtcbiAgcmV0dXJuIGYoKSwgbShcImRpdlwiLCB7XG4gICAgY2xhc3M6IHgoW1wiZXZlbnQtZmx5b3V0XCIsIHsgXCJpcy12aXNpYmxlXCI6IGUuaXNWaXNpYmxlLCBcImlzLW5vdC1lZGl0YWJsZVwiOiAhZS5pc0VkaXRhYmxlIH1dKSxcbiAgICBzdHlsZTogY2UoZS5ldmVudEZseW91dElubGluZVN0eWxlcylcbiAgfSwgW1xuICAgICFlLmNvbmZpZy5ldmVudERpYWxvZyB8fCAhZS5jb25maWcuZXZlbnREaWFsb2cuaXNDdXN0b20gPyAoZigpLCBtKFwiZGl2XCIsIHdvLCBbXG4gICAgICBUKFwiZGl2XCIsIEVvLCBbXG4gICAgICAgIGUuaXNFZGl0YWJsZSA/IChmKCksIG0oXCJzcGFuXCIsIFNvLCBbXG4gICAgICAgICAgSShpLCB7XG4gICAgICAgICAgICBjbGFzczogXCJldmVudC1mbHlvdXRfX21lbnUtaXRlbSBpcy1lZGl0LWljb25cIixcbiAgICAgICAgICAgIGljb246IGUuaWNvbnMuZWRpdCxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUuZWRpdEV2ZW50XG4gICAgICAgICAgfSwgbnVsbCwgOCwgW1wiaWNvblwiLCBcIm9uQ2xpY2tcIl0pLFxuICAgICAgICAgIEkoaSwge1xuICAgICAgICAgICAgY2xhc3M6IFwiZXZlbnQtZmx5b3V0X19tZW51LWl0ZW0gaXMtdHJhc2gtaWNvblwiLFxuICAgICAgICAgICAgaWNvbjogZS5pY29ucy50cmFzaCxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUuZGVsZXRlRXZlbnRcbiAgICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCIsIFwib25DbGlja1wiXSlcbiAgICAgICAgXSkpIDogUyhcIlwiLCAhMCksXG4gICAgICAgIFQoXCJzcGFuXCIsIFRvLCBbXG4gICAgICAgICAgSShpLCB7XG4gICAgICAgICAgICBjbGFzczogXCJldmVudC1mbHlvdXRfX21lbnUtaXRlbSBpcy10aW1lcy1pY29uXCIsXG4gICAgICAgICAgICBpY29uOiBlLmljb25zLnRpbWVzLFxuICAgICAgICAgICAgb25DbGljazogZS5jbG9zZUZseW91dFxuICAgICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIiwgXCJvbkNsaWNrXCJdKVxuICAgICAgICBdKVxuICAgICAgXSksXG4gICAgICBlLmNhbGVuZGFyRXZlbnQgPyAoZigpLCBtKFwiZGl2XCIsIEFvLCBbXG4gICAgICAgIGUuY2FsZW5kYXJFdmVudC50aXRsZSA/IChmKCksIG0oXCJkaXZcIiwgQ28sIFtcbiAgICAgICAgICBUKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImV2ZW50LWZseW91dF9fY29sb3ItaWNvblwiLFxuICAgICAgICAgICAgc3R5bGU6IGNlKHsgYmFja2dyb3VuZENvbG9yOiBlLmV2ZW50QmFja2dyb3VuZENvbG9yIH0pXG4gICAgICAgICAgfSwgbnVsbCwgNCksXG4gICAgICAgICAgbGUoXCIgXCIgKyBBKGUuY2FsZW5kYXJFdmVudC50aXRsZSksIDEpXG4gICAgICAgIF0pKSA6IFMoXCJcIiwgITApLFxuICAgICAgICBlLmNhbGVuZGFyRXZlbnQudGltZSA/IChmKCksIG0oXCJkaXZcIiwgX28sIEEoZS5nZXRFdmVudFRpbWUpLCAxKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgICAgZS5jYWxlbmRhckV2ZW50LmxvY2F0aW9uID8gKGYoKSwgbShcImRpdlwiLCBNbywgW1xuICAgICAgICAgIEkoaSwge1xuICAgICAgICAgICAgaWNvbjogZS5pY29ucy5sb2NhdGlvblxuICAgICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgICAgIGxlKFwiIFwiICsgQShlLmNhbGVuZGFyRXZlbnQubG9jYXRpb24pLCAxKVxuICAgICAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgICAgZS5jYWxlbmRhckV2ZW50LndpdGggPyAoZigpLCBtKFwiZGl2XCIsIFBvLCBbXG4gICAgICAgICAgSShpLCB7XG4gICAgICAgICAgICBpY29uOiBlLmljb25zLnVzZXJcbiAgICAgICAgICB9LCBudWxsLCA4LCBbXCJpY29uXCJdKSxcbiAgICAgICAgICBsZShcIiBcIiArIEEoZS5jYWxlbmRhckV2ZW50LndpdGgpLCAxKVxuICAgICAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgICAgZS5jYWxlbmRhckV2ZW50LnRvcGljID8gKGYoKSwgbShcImRpdlwiLCBJbywgW1xuICAgICAgICAgIEkoaSwge1xuICAgICAgICAgICAgaWNvbjogZS5pY29ucy50b3BpYyxcbiAgICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LWljb25cIlxuICAgICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgICAgIGxlKFwiIFwiICsgQShlLmNhbGVuZGFyRXZlbnQudG9waWMpLCAxKVxuICAgICAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICAgICAgZS5jYWxlbmRhckV2ZW50LmRlc2NyaXB0aW9uID8gKGYoKSwgbShcImRpdlwiLCBMbywgW1xuICAgICAgICAgIEkoaSwge1xuICAgICAgICAgICAgaWNvbjogZS5pY29ucy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLXdlZWtfX2V2ZW50LWljb25cIlxuICAgICAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgICAgIFQoXCJwXCIsIHtcbiAgICAgICAgICAgIGlubmVySFRNTDogZS5jYWxlbmRhckV2ZW50LmRlc2NyaXB0aW9uXG4gICAgICAgICAgfSwgbnVsbCwgOCwgT28pXG4gICAgICAgIF0pKSA6IFMoXCJcIiwgITApXG4gICAgICBdKSkgOiBTKFwiXCIsICEwKVxuICAgIF0pKSA6IFkoZS4kc2xvdHMsIFwiZGVmYXVsdFwiLCB7XG4gICAgICBrZXk6IDEsXG4gICAgICBldmVudERpYWxvZ0RhdGE6IGUuY2FsZW5kYXJFdmVudCxcbiAgICAgIGNsb3NlRXZlbnREaWFsb2c6IGUuY2xvc2VGbHlvdXRcbiAgICB9LCB2b2lkIDAsICEwKVxuICBdLCA2KTtcbn1cbmNvbnN0IHhhID0gLyogQF9fUFVSRV9fICovIGoobG4sIFtbXCJyZW5kZXJcIiwgJG9dLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtZDZhNjFlMzdcIl1dKTtcbmNsYXNzIHFhIGV4dGVuZHMgc2Uge1xuICAvKipcbiAgICogWWllbGRzIGEgZnVsbCBjYWxlbmRhciB3ZWVrLCB3aXRoIGFsbCBmdWxsLWRheSBldmVudHMgcG9zaXRpb25lZCBpbiBpdFxuICAgKiAqL1xuICBwb3NpdGlvbkZ1bGxEYXlFdmVudHNJbldlZWsodCwgbiwgYSkge1xuICAgIGNvbnN0IHIgPSBhLm1hcCgobCkgPT4ge1xuICAgICAgY29uc3QgeyB5ZWFyOiBjLCBtb250aDogZCwgZGF0ZTogdSB9ID0gdGhpcy5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcobC50aW1lLnN0YXJ0KSwgeyB5ZWFyOiBnLCBtb250aDogRCwgZGF0ZTogeSB9ID0gdGhpcy5nZXRBbGxWYXJpYWJsZXNGcm9tRGF0ZVRpbWVTdHJpbmcobC50aW1lLmVuZCk7XG4gICAgICByZXR1cm4gbC50aW1lSlMgPSB7XG4gICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShjLCBkLCB1KSxcbiAgICAgICAgZW5kOiBuZXcgRGF0ZShnLCBELCB5KVxuICAgICAgfSwgbDtcbiAgICB9KS5zb3J0KChsLCBjKSA9PiBsLnRpbWUuc3RhcnQgPCBjLnRpbWUuc3RhcnQgPyAtMSA6IGwudGltZS5zdGFydCA+IGMudGltZS5zdGFydCA/IDEgOiAwKSwgaSA9IHRoaXMuZ2V0RGF0ZXNCZXR3ZWVuVHdvRGF0ZXModCwgbikubWFwKChsKSA9PiAoeyBkYXRlOiBsIH0pKTtcbiAgICBmb3IgKGNvbnN0IGwgb2YgcilcbiAgICAgIGZvciAoY29uc3QgW2MsIGRdIG9mIGkuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IHUgPSB0aGlzLmdldERhdGVTdHJpbmdGcm9tRGF0ZShkLmRhdGUpO1xuICAgICAgICBpZiAodGhpcy5nZXREYXRlU3RyaW5nRnJvbURhdGUobC50aW1lSlMuc3RhcnQpIDw9IHUgJiYgdGhpcy5nZXREYXRlU3RyaW5nRnJvbURhdGUobC50aW1lSlMuZW5kKSA+PSB1KSB7XG4gICAgICAgICAgbGV0IGcgPSAxO1xuICAgICAgICAgIGZvciAoOyB0eXBlb2YgaVtjXVtgbGV2ZWwke2d9YF0gPCBcInVcIjsgKVxuICAgICAgICAgICAgZysrO1xuICAgICAgICAgIGxldCBEID0gTWF0aC5jZWlsKChsLnRpbWVKUy5lbmQuZ2V0VGltZSgpIC0gZC5kYXRlLmdldFRpbWUoKSkgLyB0aGlzLk1TX1BFUl9EQVkpICsgMTtcbiAgICAgICAgICBjb25zdCB5ID0gaS5sZW5ndGggLSBjO1xuICAgICAgICAgIEQgPiB5ICYmIChEID0geSksIGlbY11bYGxldmVsJHtnfWBdID0ge1xuICAgICAgICAgICAgLi4ubCxcbiAgICAgICAgICAgIG5EYXlzOiBEXG4gICAgICAgICAgICAvLyBEZW5vdGVzIHRoZSBudW1iZXIgb2YgZGF5cyB0byBkaXNwbGF5IGluIHRoZSB3ZWVrLCBub3QgdGhlIGFjdHVhbCBudW1iZXIgb2YgZGF5c1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCBEOyBrKyspXG4gICAgICAgICAgICBpW2MgKyBrXVtgbGV2ZWwke2d9YF0gPSBcImJsb2NrZWRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGNvbnN0IG8gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGwgb2YgaSlcbiAgICAgIG8ucHVzaChPYmplY3Qua2V5cyhsKS5zb3J0KCkucmVkdWNlKFxuICAgICAgICAoYywgZCkgPT4gKGNbZF0gPSBsW2RdLCBjKSxcbiAgICAgICAge31cbiAgICAgICkpO1xuICAgIHJldHVybiBvO1xuICB9XG4gIHBvc2l0aW9uRnVsbERheUV2ZW50c0luTW9udGgodCwgbikge1xuICAgIGNvbnN0IGEgPSBbXSwgciA9IHQuZmxhdCgpLCBzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICByLmZvckVhY2goKG8pID0+IHMuc2V0KHRoaXMuZGF0ZVN0cmluZ0Zyb20oby5kYXRlVGltZVN0cmluZyksIG8pKSwgbiA9IG4uc29ydCgobywgbCkgPT4gby50aW1lLnN0YXJ0IDwgbC50aW1lLnN0YXJ0ID8gMSA6IG8udGltZS5zdGFydCA+IGwudGltZS5zdGFydCA/IC0xIDogMCk7XG4gICAgZm9yIChjb25zdCBvIG9mIG4pIHtcbiAgICAgIGNvbnN0IHsgeWVhcjogbCwgbW9udGg6IGMsIGRhdGU6IGQgfSA9IHRoaXMuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKG8udGltZS5zdGFydCksIHsgeWVhcjogdSwgbW9udGg6IGcsIGRhdGU6IEQgfSA9IHRoaXMuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKG8udGltZS5lbmQpLCB5ID0gdGhpcy5nZXREYXRlc0JldHdlZW5Ud29EYXRlcyhcbiAgICAgICAgbmV3IERhdGUobCwgYywgZCksXG4gICAgICAgIG5ldyBEYXRlKHUsIGcsIEQpXG4gICAgICApO1xuICAgICAgZm9yIChjb25zdCBrIG9mIHkpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuZ2V0RGF0ZVN0cmluZ0Zyb21EYXRlKGspLCBoID0gcy5nZXQodyk7XG4gICAgICAgIGggJiYgcy5zZXQodywge1xuICAgICAgICAgIC4uLmgsXG4gICAgICAgICAgLy8gU2luY2Ugd2UncmUgaXRlcmF0aW5nIG92ZXIgdGhlIGZ1bGxEYXlFdmVudHMgc29ydGVkIGJhY2t3YXJkcywgdGhlIGVhcmxpZXN0IGV2ZW50cyB3aWxsIGVuZCB1cCBmaXJzdCAod2hpY2ggaXMgdGhlIHdhbnRlZCBiZWhhdmlvcilcbiAgICAgICAgICBldmVudHM6IFtvLCAuLi5oLmV2ZW50c11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBhLmxlbmd0aCA/IGFbaV0gJiYgYVtpXS5sZW5ndGggPCA3ID8gYVtpXS5wdXNoKG8pIDogYVtpXSAmJiBhW2ldLmxlbmd0aCA9PT0gNyAmJiAoYS5wdXNoKFtvXSksIGkrKykgOiBhLnB1c2goW29dKTtcbiAgICB9KSwgYTtcbiAgfVxufVxuLyohXG4gKiBwZXJmZWN0LXNjcm9sbGJhciB2MS41LjNcbiAqIENvcHlyaWdodCAyMDIxIEh5dW5qZSBKdW4sIE1EQm9vdHN0cmFwIGFuZCBDb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICovXG5mdW5jdGlvbiBpZShlKSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGUpO1xufVxuZnVuY3Rpb24gVShlLCB0KSB7XG4gIGZvciAodmFyIG4gaW4gdCkge1xuICAgIHZhciBhID0gdFtuXTtcbiAgICB0eXBlb2YgYSA9PSBcIm51bWJlclwiICYmIChhID0gYSArIFwicHhcIiksIGUuc3R5bGVbbl0gPSBhO1xuICB9XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gbHQoZSkge1xuICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHJldHVybiB0LmNsYXNzTmFtZSA9IGUsIHQ7XG59XG52YXIgeG4gPSB0eXBlb2YgRWxlbWVudCA8IFwidVwiICYmIChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IpO1xuZnVuY3Rpb24gcGUoZSwgdCkge1xuICBpZiAoIXhuKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGVsZW1lbnQgbWF0Y2hpbmcgbWV0aG9kIHN1cHBvcnRlZFwiKTtcbiAgcmV0dXJuIHhuLmNhbGwoZSwgdCk7XG59XG5mdW5jdGlvbiBNZShlKSB7XG4gIGUucmVtb3ZlID8gZS5yZW1vdmUoKSA6IGUucGFyZW50Tm9kZSAmJiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7XG59XG5mdW5jdGlvbiBxbihlLCB0KSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoXG4gICAgZS5jaGlsZHJlbixcbiAgICBmdW5jdGlvbihuKSB7XG4gICAgICByZXR1cm4gcGUobiwgdCk7XG4gICAgfVxuICApO1xufVxudmFyIFIgPSB7XG4gIG1haW46IFwicHNcIixcbiAgcnRsOiBcInBzX19ydGxcIixcbiAgZWxlbWVudDoge1xuICAgIHRodW1iOiBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gXCJwc19fdGh1bWItXCIgKyBlO1xuICAgIH0sXG4gICAgcmFpbDogZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIFwicHNfX3JhaWwtXCIgKyBlO1xuICAgIH0sXG4gICAgY29uc3VtaW5nOiBcInBzX19jaGlsZC0tY29uc3VtZVwiXG4gIH0sXG4gIHN0YXRlOiB7XG4gICAgZm9jdXM6IFwicHMtLWZvY3VzXCIsXG4gICAgY2xpY2tpbmc6IFwicHMtLWNsaWNraW5nXCIsXG4gICAgYWN0aXZlOiBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gXCJwcy0tYWN0aXZlLVwiICsgZTtcbiAgICB9LFxuICAgIHNjcm9sbGluZzogZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIFwicHMtLXNjcm9sbGluZy1cIiArIGU7XG4gICAgfVxuICB9XG59LCBHYSA9IHsgeDogbnVsbCwgeTogbnVsbCB9O1xuZnVuY3Rpb24gS2EoZSwgdCkge1xuICB2YXIgbiA9IGUuZWxlbWVudC5jbGFzc0xpc3QsIGEgPSBSLnN0YXRlLnNjcm9sbGluZyh0KTtcbiAgbi5jb250YWlucyhhKSA/IGNsZWFyVGltZW91dChHYVt0XSkgOiBuLmFkZChhKTtcbn1cbmZ1bmN0aW9uIFFhKGUsIHQpIHtcbiAgR2FbdF0gPSBzZXRUaW1lb3V0KFxuICAgIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGUuaXNBbGl2ZSAmJiBlLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShSLnN0YXRlLnNjcm9sbGluZyh0KSk7XG4gICAgfSxcbiAgICBlLnNldHRpbmdzLnNjcm9sbGluZ1RocmVzaG9sZFxuICApO1xufVxuZnVuY3Rpb24gRm8oZSwgdCkge1xuICBLYShlLCB0KSwgUWEoZSwgdCk7XG59XG52YXIgSmUgPSBmdW5jdGlvbih0KSB7XG4gIHRoaXMuZWxlbWVudCA9IHQsIHRoaXMuaGFuZGxlcnMgPSB7fTtcbn0sIEphID0geyBpc0VtcHR5OiB7IGNvbmZpZ3VyYWJsZTogITAgfSB9O1xuSmUucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbih0LCBuKSB7XG4gIHR5cGVvZiB0aGlzLmhhbmRsZXJzW3RdID4gXCJ1XCIgJiYgKHRoaXMuaGFuZGxlcnNbdF0gPSBbXSksIHRoaXMuaGFuZGxlcnNbdF0ucHVzaChuKSwgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodCwgbiwgITEpO1xufTtcbkplLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbih0LCBuKSB7XG4gIHZhciBhID0gdGhpcztcbiAgdGhpcy5oYW5kbGVyc1t0XSA9IHRoaXMuaGFuZGxlcnNbdF0uZmlsdGVyKGZ1bmN0aW9uKHIpIHtcbiAgICByZXR1cm4gbiAmJiByICE9PSBuID8gITAgOiAoYS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodCwgciwgITEpLCAhMSk7XG4gIH0pO1xufTtcbkplLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgdCBpbiB0aGlzLmhhbmRsZXJzKVxuICAgIHRoaXMudW5iaW5kKHQpO1xufTtcbkphLmlzRW1wdHkuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gdGhpcztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnMpLmV2ZXJ5KFxuICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiBlLmhhbmRsZXJzW3RdLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSmUucHJvdG90eXBlLCBKYSk7XG52YXIgRmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ldmVudEVsZW1lbnRzID0gW107XG59O1xuRmUucHJvdG90eXBlLmV2ZW50RWxlbWVudCA9IGZ1bmN0aW9uKHQpIHtcbiAgdmFyIG4gPSB0aGlzLmV2ZW50RWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gYS5lbGVtZW50ID09PSB0O1xuICB9KVswXTtcbiAgcmV0dXJuIG4gfHwgKG4gPSBuZXcgSmUodCksIHRoaXMuZXZlbnRFbGVtZW50cy5wdXNoKG4pKSwgbjtcbn07XG5GZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKHQsIG4sIGEpIHtcbiAgdGhpcy5ldmVudEVsZW1lbnQodCkuYmluZChuLCBhKTtcbn07XG5GZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24odCwgbiwgYSkge1xuICB2YXIgciA9IHRoaXMuZXZlbnRFbGVtZW50KHQpO1xuICByLnVuYmluZChuLCBhKSwgci5pc0VtcHR5ICYmIHRoaXMuZXZlbnRFbGVtZW50cy5zcGxpY2UodGhpcy5ldmVudEVsZW1lbnRzLmluZGV4T2YociksIDEpO1xufTtcbkZlLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ldmVudEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0LnVuYmluZEFsbCgpO1xuICB9KSwgdGhpcy5ldmVudEVsZW1lbnRzID0gW107XG59O1xuRmUucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0LCBuLCBhKSB7XG4gIHZhciByID0gdGhpcy5ldmVudEVsZW1lbnQodCksIHMgPSBmdW5jdGlvbihpKSB7XG4gICAgci51bmJpbmQobiwgcyksIGEoaSk7XG4gIH07XG4gIHIuYmluZChuLCBzKTtcbn07XG5mdW5jdGlvbiBjdChlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KGUpO1xuICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gIHJldHVybiB0LmluaXRDdXN0b21FdmVudChlLCAhMSwgITEsIHZvaWQgMCksIHQ7XG59XG5mdW5jdGlvbiB5dChlLCB0LCBuLCBhLCByKSB7XG4gIGEgPT09IHZvaWQgMCAmJiAoYSA9ICEwKSwgciA9PT0gdm9pZCAwICYmIChyID0gITEpO1xuICB2YXIgcztcbiAgaWYgKHQgPT09IFwidG9wXCIpXG4gICAgcyA9IFtcbiAgICAgIFwiY29udGVudEhlaWdodFwiLFxuICAgICAgXCJjb250YWluZXJIZWlnaHRcIixcbiAgICAgIFwic2Nyb2xsVG9wXCIsXG4gICAgICBcInlcIixcbiAgICAgIFwidXBcIixcbiAgICAgIFwiZG93blwiXG4gICAgXTtcbiAgZWxzZSBpZiAodCA9PT0gXCJsZWZ0XCIpXG4gICAgcyA9IFtcbiAgICAgIFwiY29udGVudFdpZHRoXCIsXG4gICAgICBcImNvbnRhaW5lcldpZHRoXCIsXG4gICAgICBcInNjcm9sbExlZnRcIixcbiAgICAgIFwieFwiLFxuICAgICAgXCJsZWZ0XCIsXG4gICAgICBcInJpZ2h0XCJcbiAgICBdO1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBwcm9wZXIgYXhpcyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG4gIFJvKGUsIG4sIHMsIGEsIHIpO1xufVxuZnVuY3Rpb24gUm8oZSwgdCwgbiwgYSwgcikge1xuICB2YXIgcyA9IG5bMF0sIGkgPSBuWzFdLCBvID0gblsyXSwgbCA9IG5bM10sIGMgPSBuWzRdLCBkID0gbls1XTtcbiAgYSA9PT0gdm9pZCAwICYmIChhID0gITApLCByID09PSB2b2lkIDAgJiYgKHIgPSAhMSk7XG4gIHZhciB1ID0gZS5lbGVtZW50O1xuICBlLnJlYWNoW2xdID0gbnVsbCwgdVtvXSA8IDEgJiYgKGUucmVhY2hbbF0gPSBcInN0YXJ0XCIpLCB1W29dID4gZVtzXSAtIGVbaV0gLSAxICYmIChlLnJlYWNoW2xdID0gXCJlbmRcIiksIHQgJiYgKHUuZGlzcGF0Y2hFdmVudChjdChcInBzLXNjcm9sbC1cIiArIGwpKSwgdCA8IDAgPyB1LmRpc3BhdGNoRXZlbnQoY3QoXCJwcy1zY3JvbGwtXCIgKyBjKSkgOiB0ID4gMCAmJiB1LmRpc3BhdGNoRXZlbnQoY3QoXCJwcy1zY3JvbGwtXCIgKyBkKSksIGEgJiYgRm8oZSwgbCkpLCBlLnJlYWNoW2xdICYmICh0IHx8IHIpICYmIHUuZGlzcGF0Y2hFdmVudChjdChcInBzLVwiICsgbCArIFwiLXJlYWNoLVwiICsgZS5yZWFjaFtsXSkpO1xufVxuZnVuY3Rpb24gUChlKSB7XG4gIHJldHVybiBwYXJzZUludChlLCAxMCkgfHwgMDtcbn1cbmZ1bmN0aW9uIE5vKGUpIHtcbiAgcmV0dXJuIHBlKGUsIFwiaW5wdXQsW2NvbnRlbnRlZGl0YWJsZV1cIikgfHwgcGUoZSwgXCJzZWxlY3QsW2NvbnRlbnRlZGl0YWJsZV1cIikgfHwgcGUoZSwgXCJ0ZXh0YXJlYSxbY29udGVudGVkaXRhYmxlXVwiKSB8fCBwZShlLCBcImJ1dHRvbixbY29udGVudGVkaXRhYmxlXVwiKTtcbn1cbmZ1bmN0aW9uIFdvKGUpIHtcbiAgdmFyIHQgPSBpZShlKTtcbiAgcmV0dXJuIFAodC53aWR0aCkgKyBQKHQucGFkZGluZ0xlZnQpICsgUCh0LnBhZGRpbmdSaWdodCkgKyBQKHQuYm9yZGVyTGVmdFdpZHRoKSArIFAodC5ib3JkZXJSaWdodFdpZHRoKTtcbn1cbnZhciBBZSA9IHtcbiAgaXNXZWJLaXQ6IHR5cGVvZiBkb2N1bWVudCA8IFwidVwiICYmIFwiV2Via2l0QXBwZWFyYW5jZVwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgc3VwcG9ydHNUb3VjaDogdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIChcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdyB8fCBcIm1heFRvdWNoUG9pbnRzXCIgaW4gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSxcbiAgc3VwcG9ydHNJZVBvaW50ZXI6IHR5cGVvZiBuYXZpZ2F0b3IgPCBcInVcIiAmJiBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyxcbiAgaXNDaHJvbWU6IHR5cGVvZiBuYXZpZ2F0b3IgPCBcInVcIiAmJiAvQ2hyb21lL2kudGVzdChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudClcbn07XG5mdW5jdGlvbiBtZShlKSB7XG4gIHZhciB0ID0gZS5lbGVtZW50LCBuID0gTWF0aC5mbG9vcih0LnNjcm9sbFRvcCksIGEgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBlLmNvbnRhaW5lcldpZHRoID0gTWF0aC5yb3VuZChhLndpZHRoKSwgZS5jb250YWluZXJIZWlnaHQgPSBNYXRoLnJvdW5kKGEuaGVpZ2h0KSwgZS5jb250ZW50V2lkdGggPSB0LnNjcm9sbFdpZHRoLCBlLmNvbnRlbnRIZWlnaHQgPSB0LnNjcm9sbEhlaWdodCwgdC5jb250YWlucyhlLnNjcm9sbGJhclhSYWlsKSB8fCAocW4odCwgUi5lbGVtZW50LnJhaWwoXCJ4XCIpKS5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uKHIpIHtcbiAgICAgIHJldHVybiBNZShyKTtcbiAgICB9XG4gICksIHQuYXBwZW5kQ2hpbGQoZS5zY3JvbGxiYXJYUmFpbCkpLCB0LmNvbnRhaW5zKGUuc2Nyb2xsYmFyWVJhaWwpIHx8IChxbih0LCBSLmVsZW1lbnQucmFpbChcInlcIikpLmZvckVhY2goXG4gICAgZnVuY3Rpb24ocikge1xuICAgICAgcmV0dXJuIE1lKHIpO1xuICAgIH1cbiAgKSwgdC5hcHBlbmRDaGlsZChlLnNjcm9sbGJhcllSYWlsKSksICFlLnNldHRpbmdzLnN1cHByZXNzU2Nyb2xsWCAmJiBlLmNvbnRhaW5lcldpZHRoICsgZS5zZXR0aW5ncy5zY3JvbGxYTWFyZ2luT2Zmc2V0IDwgZS5jb250ZW50V2lkdGggPyAoZS5zY3JvbGxiYXJYQWN0aXZlID0gITAsIGUucmFpbFhXaWR0aCA9IGUuY29udGFpbmVyV2lkdGggLSBlLnJhaWxYTWFyZ2luV2lkdGgsIGUucmFpbFhSYXRpbyA9IGUuY29udGFpbmVyV2lkdGggLyBlLnJhaWxYV2lkdGgsIGUuc2Nyb2xsYmFyWFdpZHRoID0gR24oXG4gICAgZSxcbiAgICBQKGUucmFpbFhXaWR0aCAqIGUuY29udGFpbmVyV2lkdGggLyBlLmNvbnRlbnRXaWR0aClcbiAgKSwgZS5zY3JvbGxiYXJYTGVmdCA9IFAoXG4gICAgKGUubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ICsgdC5zY3JvbGxMZWZ0KSAqIChlLnJhaWxYV2lkdGggLSBlLnNjcm9sbGJhclhXaWR0aCkgLyAoZS5jb250ZW50V2lkdGggLSBlLmNvbnRhaW5lcldpZHRoKVxuICApKSA6IGUuc2Nyb2xsYmFyWEFjdGl2ZSA9ICExLCAhZS5zZXR0aW5ncy5zdXBwcmVzc1Njcm9sbFkgJiYgZS5jb250YWluZXJIZWlnaHQgKyBlLnNldHRpbmdzLnNjcm9sbFlNYXJnaW5PZmZzZXQgPCBlLmNvbnRlbnRIZWlnaHQgPyAoZS5zY3JvbGxiYXJZQWN0aXZlID0gITAsIGUucmFpbFlIZWlnaHQgPSBlLmNvbnRhaW5lckhlaWdodCAtIGUucmFpbFlNYXJnaW5IZWlnaHQsIGUucmFpbFlSYXRpbyA9IGUuY29udGFpbmVySGVpZ2h0IC8gZS5yYWlsWUhlaWdodCwgZS5zY3JvbGxiYXJZSGVpZ2h0ID0gR24oXG4gICAgZSxcbiAgICBQKGUucmFpbFlIZWlnaHQgKiBlLmNvbnRhaW5lckhlaWdodCAvIGUuY29udGVudEhlaWdodClcbiAgKSwgZS5zY3JvbGxiYXJZVG9wID0gUChcbiAgICBuICogKGUucmFpbFlIZWlnaHQgLSBlLnNjcm9sbGJhcllIZWlnaHQpIC8gKGUuY29udGVudEhlaWdodCAtIGUuY29udGFpbmVySGVpZ2h0KVxuICApKSA6IGUuc2Nyb2xsYmFyWUFjdGl2ZSA9ICExLCBlLnNjcm9sbGJhclhMZWZ0ID49IGUucmFpbFhXaWR0aCAtIGUuc2Nyb2xsYmFyWFdpZHRoICYmIChlLnNjcm9sbGJhclhMZWZ0ID0gZS5yYWlsWFdpZHRoIC0gZS5zY3JvbGxiYXJYV2lkdGgpLCBlLnNjcm9sbGJhcllUb3AgPj0gZS5yYWlsWUhlaWdodCAtIGUuc2Nyb2xsYmFyWUhlaWdodCAmJiAoZS5zY3JvbGxiYXJZVG9wID0gZS5yYWlsWUhlaWdodCAtIGUuc2Nyb2xsYmFyWUhlaWdodCksIEhvKHQsIGUpLCBlLnNjcm9sbGJhclhBY3RpdmUgPyB0LmNsYXNzTGlzdC5hZGQoUi5zdGF0ZS5hY3RpdmUoXCJ4XCIpKSA6ICh0LmNsYXNzTGlzdC5yZW1vdmUoUi5zdGF0ZS5hY3RpdmUoXCJ4XCIpKSwgZS5zY3JvbGxiYXJYV2lkdGggPSAwLCBlLnNjcm9sbGJhclhMZWZ0ID0gMCwgdC5zY3JvbGxMZWZ0ID0gZS5pc1J0bCA9PT0gITAgPyBlLmNvbnRlbnRXaWR0aCA6IDApLCBlLnNjcm9sbGJhcllBY3RpdmUgPyB0LmNsYXNzTGlzdC5hZGQoUi5zdGF0ZS5hY3RpdmUoXCJ5XCIpKSA6ICh0LmNsYXNzTGlzdC5yZW1vdmUoUi5zdGF0ZS5hY3RpdmUoXCJ5XCIpKSwgZS5zY3JvbGxiYXJZSGVpZ2h0ID0gMCwgZS5zY3JvbGxiYXJZVG9wID0gMCwgdC5zY3JvbGxUb3AgPSAwKTtcbn1cbmZ1bmN0aW9uIEduKGUsIHQpIHtcbiAgcmV0dXJuIGUuc2V0dGluZ3MubWluU2Nyb2xsYmFyTGVuZ3RoICYmICh0ID0gTWF0aC5tYXgodCwgZS5zZXR0aW5ncy5taW5TY3JvbGxiYXJMZW5ndGgpKSwgZS5zZXR0aW5ncy5tYXhTY3JvbGxiYXJMZW5ndGggJiYgKHQgPSBNYXRoLm1pbih0LCBlLnNldHRpbmdzLm1heFNjcm9sbGJhckxlbmd0aCkpLCB0O1xufVxuZnVuY3Rpb24gSG8oZSwgdCkge1xuICB2YXIgbiA9IHsgd2lkdGg6IHQucmFpbFhXaWR0aCB9LCBhID0gTWF0aC5mbG9vcihlLnNjcm9sbFRvcCk7XG4gIHQuaXNSdGwgPyBuLmxlZnQgPSB0Lm5lZ2F0aXZlU2Nyb2xsQWRqdXN0bWVudCArIGUuc2Nyb2xsTGVmdCArIHQuY29udGFpbmVyV2lkdGggLSB0LmNvbnRlbnRXaWR0aCA6IG4ubGVmdCA9IGUuc2Nyb2xsTGVmdCwgdC5pc1Njcm9sbGJhclhVc2luZ0JvdHRvbSA/IG4uYm90dG9tID0gdC5zY3JvbGxiYXJYQm90dG9tIC0gYSA6IG4udG9wID0gdC5zY3JvbGxiYXJYVG9wICsgYSwgVSh0LnNjcm9sbGJhclhSYWlsLCBuKTtcbiAgdmFyIHIgPSB7IHRvcDogYSwgaGVpZ2h0OiB0LnJhaWxZSGVpZ2h0IH07XG4gIHQuaXNTY3JvbGxiYXJZVXNpbmdSaWdodCA/IHQuaXNSdGwgPyByLnJpZ2h0ID0gdC5jb250ZW50V2lkdGggLSAodC5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgKyBlLnNjcm9sbExlZnQpIC0gdC5zY3JvbGxiYXJZUmlnaHQgLSB0LnNjcm9sbGJhcllPdXRlcldpZHRoIC0gOSA6IHIucmlnaHQgPSB0LnNjcm9sbGJhcllSaWdodCAtIGUuc2Nyb2xsTGVmdCA6IHQuaXNSdGwgPyByLmxlZnQgPSB0Lm5lZ2F0aXZlU2Nyb2xsQWRqdXN0bWVudCArIGUuc2Nyb2xsTGVmdCArIHQuY29udGFpbmVyV2lkdGggKiAyIC0gdC5jb250ZW50V2lkdGggLSB0LnNjcm9sbGJhcllMZWZ0IC0gdC5zY3JvbGxiYXJZT3V0ZXJXaWR0aCA6IHIubGVmdCA9IHQuc2Nyb2xsYmFyWUxlZnQgKyBlLnNjcm9sbExlZnQsIFUodC5zY3JvbGxiYXJZUmFpbCwgciksIFUodC5zY3JvbGxiYXJYLCB7XG4gICAgbGVmdDogdC5zY3JvbGxiYXJYTGVmdCxcbiAgICB3aWR0aDogdC5zY3JvbGxiYXJYV2lkdGggLSB0LnJhaWxCb3JkZXJYV2lkdGhcbiAgfSksIFUodC5zY3JvbGxiYXJZLCB7XG4gICAgdG9wOiB0LnNjcm9sbGJhcllUb3AsXG4gICAgaGVpZ2h0OiB0LnNjcm9sbGJhcllIZWlnaHQgLSB0LnJhaWxCb3JkZXJZV2lkdGhcbiAgfSk7XG59XG5mdW5jdGlvbiBZbyhlKSB7XG4gIGUuZWxlbWVudCwgZS5ldmVudC5iaW5kKGUuc2Nyb2xsYmFyWSwgXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KSwgZS5ldmVudC5iaW5kKGUuc2Nyb2xsYmFyWVJhaWwsIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHQucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQgLSBlLnNjcm9sbGJhcllSYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwgYSA9IG4gPiBlLnNjcm9sbGJhcllUb3AgPyAxIDogLTE7XG4gICAgZS5lbGVtZW50LnNjcm9sbFRvcCArPSBhICogZS5jb250YWluZXJIZWlnaHQsIG1lKGUpLCB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KSwgZS5ldmVudC5iaW5kKGUuc2Nyb2xsYmFyWCwgXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KSwgZS5ldmVudC5iaW5kKGUuc2Nyb2xsYmFyWFJhaWwsIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHQucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQgLSBlLnNjcm9sbGJhclhSYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsIGEgPSBuID4gZS5zY3JvbGxiYXJYTGVmdCA/IDEgOiAtMTtcbiAgICBlLmVsZW1lbnQuc2Nyb2xsTGVmdCArPSBhICogZS5jb250YWluZXJXaWR0aCwgbWUoZSksIHQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gem8oZSkge1xuICBLbihlLCBbXG4gICAgXCJjb250YWluZXJXaWR0aFwiLFxuICAgIFwiY29udGVudFdpZHRoXCIsXG4gICAgXCJwYWdlWFwiLFxuICAgIFwicmFpbFhXaWR0aFwiLFxuICAgIFwic2Nyb2xsYmFyWFwiLFxuICAgIFwic2Nyb2xsYmFyWFdpZHRoXCIsXG4gICAgXCJzY3JvbGxMZWZ0XCIsXG4gICAgXCJ4XCIsXG4gICAgXCJzY3JvbGxiYXJYUmFpbFwiXG4gIF0pLCBLbihlLCBbXG4gICAgXCJjb250YWluZXJIZWlnaHRcIixcbiAgICBcImNvbnRlbnRIZWlnaHRcIixcbiAgICBcInBhZ2VZXCIsXG4gICAgXCJyYWlsWUhlaWdodFwiLFxuICAgIFwic2Nyb2xsYmFyWVwiLFxuICAgIFwic2Nyb2xsYmFyWUhlaWdodFwiLFxuICAgIFwic2Nyb2xsVG9wXCIsXG4gICAgXCJ5XCIsXG4gICAgXCJzY3JvbGxiYXJZUmFpbFwiXG4gIF0pO1xufVxuZnVuY3Rpb24gS24oZSwgdCkge1xuICB2YXIgbiA9IHRbMF0sIGEgPSB0WzFdLCByID0gdFsyXSwgcyA9IHRbM10sIGkgPSB0WzRdLCBvID0gdFs1XSwgbCA9IHRbNl0sIGMgPSB0WzddLCBkID0gdFs4XSwgdSA9IGUuZWxlbWVudCwgZyA9IG51bGwsIEQgPSBudWxsLCB5ID0gbnVsbDtcbiAgZnVuY3Rpb24gayh2KSB7XG4gICAgdi50b3VjaGVzICYmIHYudG91Y2hlc1swXSAmJiAodltyXSA9IHYudG91Y2hlc1swXS5wYWdlWSksIHVbbF0gPSBnICsgeSAqICh2W3JdIC0gRCksIEthKGUsIGMpLCBtZShlKSwgdi5zdG9wUHJvcGFnYXRpb24oKSwgdi50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSAmJiB2LmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDEgJiYgdi5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGZ1bmN0aW9uIHcoKSB7XG4gICAgUWEoZSwgYyksIGVbZF0uY2xhc3NMaXN0LnJlbW92ZShSLnN0YXRlLmNsaWNraW5nKSwgZS5ldmVudC51bmJpbmQoZS5vd25lckRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBrKTtcbiAgfVxuICBmdW5jdGlvbiBoKHYsIEUpIHtcbiAgICBnID0gdVtsXSwgRSAmJiB2LnRvdWNoZXMgJiYgKHZbcl0gPSB2LnRvdWNoZXNbMF0ucGFnZVkpLCBEID0gdltyXSwgeSA9IChlW2FdIC0gZVtuXSkgLyAoZVtzXSAtIGVbb10pLCBFID8gZS5ldmVudC5iaW5kKGUub3duZXJEb2N1bWVudCwgXCJ0b3VjaG1vdmVcIiwgaykgOiAoZS5ldmVudC5iaW5kKGUub3duZXJEb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgayksIGUuZXZlbnQub25jZShlLm93bmVyRG9jdW1lbnQsIFwibW91c2V1cFwiLCB3KSwgdi5wcmV2ZW50RGVmYXVsdCgpKSwgZVtkXS5jbGFzc0xpc3QuYWRkKFIuc3RhdGUuY2xpY2tpbmcpLCB2LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIGUuZXZlbnQuYmluZChlW2ldLCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbih2KSB7XG4gICAgaCh2KTtcbiAgfSksIGUuZXZlbnQuYmluZChlW2ldLCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24odikge1xuICAgIGgodiwgITApO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGpvKGUpIHtcbiAgdmFyIHQgPSBlLmVsZW1lbnQsIG4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGUodCwgXCI6aG92ZXJcIik7XG4gIH0sIGEgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGUoZS5zY3JvbGxiYXJYLCBcIjpmb2N1c1wiKSB8fCBwZShlLnNjcm9sbGJhclksIFwiOmZvY3VzXCIpO1xuICB9O1xuICBmdW5jdGlvbiByKHMsIGkpIHtcbiAgICB2YXIgbyA9IE1hdGguZmxvb3IodC5zY3JvbGxUb3ApO1xuICAgIGlmIChzID09PSAwKSB7XG4gICAgICBpZiAoIWUuc2Nyb2xsYmFyWUFjdGl2ZSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgaWYgKG8gPT09IDAgJiYgaSA+IDAgfHwgbyA+PSBlLmNvbnRlbnRIZWlnaHQgLSBlLmNvbnRhaW5lckhlaWdodCAmJiBpIDwgMClcbiAgICAgICAgcmV0dXJuICFlLnNldHRpbmdzLndoZWVsUHJvcGFnYXRpb247XG4gICAgfVxuICAgIHZhciBsID0gdC5zY3JvbGxMZWZ0O1xuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBpZiAoIWUuc2Nyb2xsYmFyWEFjdGl2ZSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgaWYgKGwgPT09IDAgJiYgcyA8IDAgfHwgbCA+PSBlLmNvbnRlbnRXaWR0aCAtIGUuY29udGFpbmVyV2lkdGggJiYgcyA+IDApXG4gICAgICAgIHJldHVybiAhZS5zZXR0aW5ncy53aGVlbFByb3BhZ2F0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgZS5ldmVudC5iaW5kKGUub3duZXJEb2N1bWVudCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKHMpIHtcbiAgICBpZiAoIShzLmlzRGVmYXVsdFByZXZlbnRlZCAmJiBzLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IHMuZGVmYXVsdFByZXZlbnRlZCkgJiYgISghbigpICYmICFhKCkpKSB7XG4gICAgICB2YXIgaSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBpZiAoaSkge1xuICAgICAgICBpZiAoaS50YWdOYW1lID09PSBcIklGUkFNRVwiKVxuICAgICAgICAgIGkgPSBpLmNvbnRlbnREb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yICg7IGkuc2hhZG93Um9vdDsgKVxuICAgICAgICAgICAgaSA9IGkuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O1xuICAgICAgICBpZiAoTm8oaSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG8gPSAwLCBsID0gMDtcbiAgICAgIHN3aXRjaCAocy53aGljaCkge1xuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgIHMubWV0YUtleSA/IG8gPSAtZS5jb250ZW50V2lkdGggOiBzLmFsdEtleSA/IG8gPSAtZS5jb250YWluZXJXaWR0aCA6IG8gPSAtMzA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgcy5tZXRhS2V5ID8gbCA9IGUuY29udGVudEhlaWdodCA6IHMuYWx0S2V5ID8gbCA9IGUuY29udGFpbmVySGVpZ2h0IDogbCA9IDMwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIHMubWV0YUtleSA/IG8gPSBlLmNvbnRlbnRXaWR0aCA6IHMuYWx0S2V5ID8gbyA9IGUuY29udGFpbmVyV2lkdGggOiBvID0gMzA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgcy5tZXRhS2V5ID8gbCA9IC1lLmNvbnRlbnRIZWlnaHQgOiBzLmFsdEtleSA/IGwgPSAtZS5jb250YWluZXJIZWlnaHQgOiBsID0gLTMwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIHMuc2hpZnRLZXkgPyBsID0gZS5jb250YWluZXJIZWlnaHQgOiBsID0gLWUuY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgIGwgPSBlLmNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICBsID0gLWUuY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgIGwgPSBlLmNvbnRlbnRIZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgbCA9IC1lLmNvbnRlbnRIZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZS5zZXR0aW5ncy5zdXBwcmVzc1Njcm9sbFggJiYgbyAhPT0gMCB8fCBlLnNldHRpbmdzLnN1cHByZXNzU2Nyb2xsWSAmJiBsICE9PSAwIHx8ICh0LnNjcm9sbFRvcCAtPSBsLCB0LnNjcm9sbExlZnQgKz0gbywgbWUoZSksIHIobywgbCkgJiYgcy5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gQm8oZSkge1xuICB2YXIgdCA9IGUuZWxlbWVudDtcbiAgZnVuY3Rpb24gbihpLCBvKSB7XG4gICAgdmFyIGwgPSBNYXRoLmZsb29yKHQuc2Nyb2xsVG9wKSwgYyA9IHQuc2Nyb2xsVG9wID09PSAwLCBkID0gbCArIHQub2Zmc2V0SGVpZ2h0ID09PSB0LnNjcm9sbEhlaWdodCwgdSA9IHQuc2Nyb2xsTGVmdCA9PT0gMCwgZyA9IHQuc2Nyb2xsTGVmdCArIHQub2Zmc2V0V2lkdGggPT09IHQuc2Nyb2xsV2lkdGgsIEQ7XG4gICAgcmV0dXJuIE1hdGguYWJzKG8pID4gTWF0aC5hYnMoaSkgPyBEID0gYyB8fCBkIDogRCA9IHUgfHwgZywgRCA/ICFlLnNldHRpbmdzLndoZWVsUHJvcGFnYXRpb24gOiAhMDtcbiAgfVxuICBmdW5jdGlvbiBhKGkpIHtcbiAgICB2YXIgbyA9IGkuZGVsdGFYLCBsID0gLTEgKiBpLmRlbHRhWTtcbiAgICByZXR1cm4gKHR5cGVvZiBvID4gXCJ1XCIgfHwgdHlwZW9mIGwgPiBcInVcIikgJiYgKG8gPSAtMSAqIGkud2hlZWxEZWx0YVggLyA2LCBsID0gaS53aGVlbERlbHRhWSAvIDYpLCBpLmRlbHRhTW9kZSAmJiBpLmRlbHRhTW9kZSA9PT0gMSAmJiAobyAqPSAxMCwgbCAqPSAxMCksIG8gIT09IG8gJiYgbCAhPT0gbCAmJiAobyA9IDAsIGwgPSBpLndoZWVsRGVsdGEpLCBpLnNoaWZ0S2V5ID8gWy1sLCAtb10gOiBbbywgbF07XG4gIH1cbiAgZnVuY3Rpb24gcihpLCBvLCBsKSB7XG4gICAgaWYgKCFBZS5pc1dlYktpdCAmJiB0LnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3Q6Zm9jdXNcIikpXG4gICAgICByZXR1cm4gITA7XG4gICAgaWYgKCF0LmNvbnRhaW5zKGkpKVxuICAgICAgcmV0dXJuICExO1xuICAgIGZvciAodmFyIGMgPSBpOyBjICYmIGMgIT09IHQ7ICkge1xuICAgICAgaWYgKGMuY2xhc3NMaXN0LmNvbnRhaW5zKFIuZWxlbWVudC5jb25zdW1pbmcpKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB2YXIgZCA9IGllKGMpO1xuICAgICAgaWYgKGwgJiYgZC5vdmVyZmxvd1kubWF0Y2goLyhzY3JvbGx8YXV0bykvKSkge1xuICAgICAgICB2YXIgdSA9IGMuc2Nyb2xsSGVpZ2h0IC0gYy5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmICh1ID4gMCAmJiAoYy5zY3JvbGxUb3AgPiAwICYmIGwgPCAwIHx8IGMuc2Nyb2xsVG9wIDwgdSAmJiBsID4gMCkpXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgaWYgKG8gJiYgZC5vdmVyZmxvd1gubWF0Y2goLyhzY3JvbGx8YXV0bykvKSkge1xuICAgICAgICB2YXIgZyA9IGMuc2Nyb2xsV2lkdGggLSBjLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAoZyA+IDAgJiYgKGMuc2Nyb2xsTGVmdCA+IDAgJiYgbyA8IDAgfHwgYy5zY3JvbGxMZWZ0IDwgZyAmJiBvID4gMCkpXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgYyA9IGMucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZ1bmN0aW9uIHMoaSkge1xuICAgIHZhciBvID0gYShpKSwgbCA9IG9bMF0sIGMgPSBvWzFdO1xuICAgIGlmICghcihpLnRhcmdldCwgbCwgYykpIHtcbiAgICAgIHZhciBkID0gITE7XG4gICAgICBlLnNldHRpbmdzLnVzZUJvdGhXaGVlbEF4ZXMgPyBlLnNjcm9sbGJhcllBY3RpdmUgJiYgIWUuc2Nyb2xsYmFyWEFjdGl2ZSA/IChjID8gdC5zY3JvbGxUb3AgLT0gYyAqIGUuc2V0dGluZ3Mud2hlZWxTcGVlZCA6IHQuc2Nyb2xsVG9wICs9IGwgKiBlLnNldHRpbmdzLndoZWVsU3BlZWQsIGQgPSAhMCkgOiBlLnNjcm9sbGJhclhBY3RpdmUgJiYgIWUuc2Nyb2xsYmFyWUFjdGl2ZSAmJiAobCA/IHQuc2Nyb2xsTGVmdCArPSBsICogZS5zZXR0aW5ncy53aGVlbFNwZWVkIDogdC5zY3JvbGxMZWZ0IC09IGMgKiBlLnNldHRpbmdzLndoZWVsU3BlZWQsIGQgPSAhMCkgOiAodC5zY3JvbGxUb3AgLT0gYyAqIGUuc2V0dGluZ3Mud2hlZWxTcGVlZCwgdC5zY3JvbGxMZWZ0ICs9IGwgKiBlLnNldHRpbmdzLndoZWVsU3BlZWQpLCBtZShlKSwgZCA9IGQgfHwgbihsLCBjKSwgZCAmJiAhaS5jdHJsS2V5ICYmIChpLnN0b3BQcm9wYWdhdGlvbigpLCBpLnByZXZlbnREZWZhdWx0KCkpO1xuICAgIH1cbiAgfVxuICB0eXBlb2Ygd2luZG93Lm9ud2hlZWwgPCBcInVcIiA/IGUuZXZlbnQuYmluZCh0LCBcIndoZWVsXCIsIHMpIDogdHlwZW9mIHdpbmRvdy5vbm1vdXNld2hlZWwgPCBcInVcIiAmJiBlLmV2ZW50LmJpbmQodCwgXCJtb3VzZXdoZWVsXCIsIHMpO1xufVxuZnVuY3Rpb24gWG8oZSkge1xuICBpZiAoIUFlLnN1cHBvcnRzVG91Y2ggJiYgIUFlLnN1cHBvcnRzSWVQb2ludGVyKVxuICAgIHJldHVybjtcbiAgdmFyIHQgPSBlLmVsZW1lbnQ7XG4gIGZ1bmN0aW9uIG4oeSwgaykge1xuICAgIHZhciB3ID0gTWF0aC5mbG9vcih0LnNjcm9sbFRvcCksIGggPSB0LnNjcm9sbExlZnQsIHYgPSBNYXRoLmFicyh5KSwgRSA9IE1hdGguYWJzKGspO1xuICAgIGlmIChFID4gdikge1xuICAgICAgaWYgKGsgPCAwICYmIHcgPT09IGUuY29udGVudEhlaWdodCAtIGUuY29udGFpbmVySGVpZ2h0IHx8IGsgPiAwICYmIHcgPT09IDApXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWSA9PT0gMCAmJiBrID4gMCAmJiBBZS5pc0Nocm9tZTtcbiAgICB9IGVsc2UgaWYgKHYgPiBFICYmICh5IDwgMCAmJiBoID09PSBlLmNvbnRlbnRXaWR0aCAtIGUuY29udGFpbmVyV2lkdGggfHwgeSA+IDAgJiYgaCA9PT0gMCkpXG4gICAgICByZXR1cm4gITA7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGZ1bmN0aW9uIGEoeSwgaykge1xuICAgIHQuc2Nyb2xsVG9wIC09IGssIHQuc2Nyb2xsTGVmdCAtPSB5LCBtZShlKTtcbiAgfVxuICB2YXIgciA9IHt9LCBzID0gMCwgaSA9IHt9LCBvID0gbnVsbDtcbiAgZnVuY3Rpb24gbCh5KSB7XG4gICAgcmV0dXJuIHkudGFyZ2V0VG91Y2hlcyA/IHkudGFyZ2V0VG91Y2hlc1swXSA6IHk7XG4gIH1cbiAgZnVuY3Rpb24gYyh5KSB7XG4gICAgcmV0dXJuIHkucG9pbnRlclR5cGUgJiYgeS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIiAmJiB5LmJ1dHRvbnMgPT09IDAgPyAhMSA6ICEhKHkudGFyZ2V0VG91Y2hlcyAmJiB5LnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAxIHx8IHkucG9pbnRlclR5cGUgJiYgeS5wb2ludGVyVHlwZSAhPT0gXCJtb3VzZVwiICYmIHkucG9pbnRlclR5cGUgIT09IHkuTVNQT0lOVEVSX1RZUEVfTU9VU0UpO1xuICB9XG4gIGZ1bmN0aW9uIGQoeSkge1xuICAgIGlmIChjKHkpKSB7XG4gICAgICB2YXIgayA9IGwoeSk7XG4gICAgICByLnBhZ2VYID0gay5wYWdlWCwgci5wYWdlWSA9IGsucGFnZVksIHMgPSAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLmdldFRpbWUoKSwgbyAhPT0gbnVsbCAmJiBjbGVhckludGVydmFsKG8pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1KHksIGssIHcpIHtcbiAgICBpZiAoIXQuY29udGFpbnMoeSkpXG4gICAgICByZXR1cm4gITE7XG4gICAgZm9yICh2YXIgaCA9IHk7IGggJiYgaCAhPT0gdDsgKSB7XG4gICAgICBpZiAoaC5jbGFzc0xpc3QuY29udGFpbnMoUi5lbGVtZW50LmNvbnN1bWluZykpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIHZhciB2ID0gaWUoaCk7XG4gICAgICBpZiAodyAmJiB2Lm92ZXJmbG93WS5tYXRjaCgvKHNjcm9sbHxhdXRvKS8pKSB7XG4gICAgICAgIHZhciBFID0gaC5zY3JvbGxIZWlnaHQgLSBoLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKEUgPiAwICYmIChoLnNjcm9sbFRvcCA+IDAgJiYgdyA8IDAgfHwgaC5zY3JvbGxUb3AgPCBFICYmIHcgPiAwKSlcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBpZiAoayAmJiB2Lm92ZXJmbG93WC5tYXRjaCgvKHNjcm9sbHxhdXRvKS8pKSB7XG4gICAgICAgIHZhciBDID0gaC5zY3JvbGxXaWR0aCAtIGguY2xpZW50V2lkdGg7XG4gICAgICAgIGlmIChDID4gMCAmJiAoaC5zY3JvbGxMZWZ0ID4gMCAmJiBrIDwgMCB8fCBoLnNjcm9sbExlZnQgPCBDICYmIGsgPiAwKSlcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBoID0gaC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZnVuY3Rpb24gZyh5KSB7XG4gICAgaWYgKGMoeSkpIHtcbiAgICAgIHZhciBrID0gbCh5KSwgdyA9IHsgcGFnZVg6IGsucGFnZVgsIHBhZ2VZOiBrLnBhZ2VZIH0sIGggPSB3LnBhZ2VYIC0gci5wYWdlWCwgdiA9IHcucGFnZVkgLSByLnBhZ2VZO1xuICAgICAgaWYgKHUoeS50YXJnZXQsIGgsIHYpKVxuICAgICAgICByZXR1cm47XG4gICAgICBhKGgsIHYpLCByID0gdztcbiAgICAgIHZhciBFID0gKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS5nZXRUaW1lKCksIEMgPSBFIC0gcztcbiAgICAgIEMgPiAwICYmIChpLnggPSBoIC8gQywgaS55ID0gdiAvIEMsIHMgPSBFKSwgbihoLCB2KSAmJiB5LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIEQoKSB7XG4gICAgZS5zZXR0aW5ncy5zd2lwZUVhc2luZyAmJiAoY2xlYXJJbnRlcnZhbChvKSwgbyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGUuaXNJbml0aWFsaXplZCkge1xuICAgICAgICBjbGVhckludGVydmFsKG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWkueCAmJiAhaS55KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwobyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmFicyhpLngpIDwgMC4wMSAmJiBNYXRoLmFicyhpLnkpIDwgMC4wMSkge1xuICAgICAgICBjbGVhckludGVydmFsKG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWUuZWxlbWVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhKGkueCAqIDMwLCBpLnkgKiAzMCksIGkueCAqPSAwLjgsIGkueSAqPSAwLjg7XG4gICAgfSwgMTApKTtcbiAgfVxuICBBZS5zdXBwb3J0c1RvdWNoID8gKGUuZXZlbnQuYmluZCh0LCBcInRvdWNoc3RhcnRcIiwgZCksIGUuZXZlbnQuYmluZCh0LCBcInRvdWNobW92ZVwiLCBnKSwgZS5ldmVudC5iaW5kKHQsIFwidG91Y2hlbmRcIiwgRCkpIDogQWUuc3VwcG9ydHNJZVBvaW50ZXIgJiYgKHdpbmRvdy5Qb2ludGVyRXZlbnQgPyAoZS5ldmVudC5iaW5kKHQsIFwicG9pbnRlcmRvd25cIiwgZCksIGUuZXZlbnQuYmluZCh0LCBcInBvaW50ZXJtb3ZlXCIsIGcpLCBlLmV2ZW50LmJpbmQodCwgXCJwb2ludGVydXBcIiwgRCkpIDogd2luZG93Lk1TUG9pbnRlckV2ZW50ICYmIChlLmV2ZW50LmJpbmQodCwgXCJNU1BvaW50ZXJEb3duXCIsIGQpLCBlLmV2ZW50LmJpbmQodCwgXCJNU1BvaW50ZXJNb3ZlXCIsIGcpLCBlLmV2ZW50LmJpbmQodCwgXCJNU1BvaW50ZXJVcFwiLCBEKSkpO1xufVxudmFyIFVvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgaGFuZGxlcnM6IFtcImNsaWNrLXJhaWxcIiwgXCJkcmFnLXRodW1iXCIsIFwia2V5Ym9hcmRcIiwgXCJ3aGVlbFwiLCBcInRvdWNoXCJdLFxuICAgIG1heFNjcm9sbGJhckxlbmd0aDogbnVsbCxcbiAgICBtaW5TY3JvbGxiYXJMZW5ndGg6IG51bGwsXG4gICAgc2Nyb2xsaW5nVGhyZXNob2xkOiAxZTMsXG4gICAgc2Nyb2xsWE1hcmdpbk9mZnNldDogMCxcbiAgICBzY3JvbGxZTWFyZ2luT2Zmc2V0OiAwLFxuICAgIHN1cHByZXNzU2Nyb2xsWDogITEsXG4gICAgc3VwcHJlc3NTY3JvbGxZOiAhMSxcbiAgICBzd2lwZUVhc2luZzogITAsXG4gICAgdXNlQm90aFdoZWVsQXhlczogITEsXG4gICAgd2hlZWxQcm9wYWdhdGlvbjogITAsXG4gICAgd2hlZWxTcGVlZDogMVxuICB9O1xufSwgVm8gPSB7XG4gIFwiY2xpY2stcmFpbFwiOiBZbyxcbiAgXCJkcmFnLXRodW1iXCI6IHpvLFxuICBrZXlib2FyZDogam8sXG4gIHdoZWVsOiBCbyxcbiAgdG91Y2g6IFhvXG59LCBSZSA9IGZ1bmN0aW9uKHQsIG4pIHtcbiAgdmFyIGEgPSB0aGlzO1xuICBpZiAobiA9PT0gdm9pZCAwICYmIChuID0ge30pLCB0eXBlb2YgdCA9PSBcInN0cmluZ1wiICYmICh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KSksICF0IHx8ICF0Lm5vZGVOYW1lKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm5vIGVsZW1lbnQgaXMgc3BlY2lmaWVkIHRvIGluaXRpYWxpemUgUGVyZmVjdFNjcm9sbGJhclwiKTtcbiAgdGhpcy5lbGVtZW50ID0gdCwgdC5jbGFzc0xpc3QuYWRkKFIubWFpbiksIHRoaXMuc2V0dGluZ3MgPSBVbygpO1xuICBmb3IgKHZhciByIGluIG4pXG4gICAgdGhpcy5zZXR0aW5nc1tyXSA9IG5bcl07XG4gIHRoaXMuY29udGFpbmVyV2lkdGggPSBudWxsLCB0aGlzLmNvbnRhaW5lckhlaWdodCA9IG51bGwsIHRoaXMuY29udGVudFdpZHRoID0gbnVsbCwgdGhpcy5jb250ZW50SGVpZ2h0ID0gbnVsbDtcbiAgdmFyIHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5jbGFzc0xpc3QuYWRkKFIuc3RhdGUuZm9jdXMpO1xuICB9LCBpID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuY2xhc3NMaXN0LnJlbW92ZShSLnN0YXRlLmZvY3VzKTtcbiAgfTtcbiAgdGhpcy5pc1J0bCA9IGllKHQpLmRpcmVjdGlvbiA9PT0gXCJydGxcIiwgdGhpcy5pc1J0bCA9PT0gITAgJiYgdC5jbGFzc0xpc3QuYWRkKFIucnRsKSwgdGhpcy5pc05lZ2F0aXZlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGMgPSB0LnNjcm9sbExlZnQsIGQgPSBudWxsO1xuICAgIHJldHVybiB0LnNjcm9sbExlZnQgPSAtMSwgZCA9IHQuc2Nyb2xsTGVmdCA8IDAsIHQuc2Nyb2xsTGVmdCA9IGMsIGQ7XG4gIH0oKSwgdGhpcy5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgPSB0aGlzLmlzTmVnYXRpdmVTY3JvbGwgPyB0LnNjcm9sbFdpZHRoIC0gdC5jbGllbnRXaWR0aCA6IDAsIHRoaXMuZXZlbnQgPSBuZXcgRmUoKSwgdGhpcy5vd25lckRvY3VtZW50ID0gdC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50LCB0aGlzLnNjcm9sbGJhclhSYWlsID0gbHQoUi5lbGVtZW50LnJhaWwoXCJ4XCIpKSwgdC5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbGJhclhSYWlsKSwgdGhpcy5zY3JvbGxiYXJYID0gbHQoUi5lbGVtZW50LnRodW1iKFwieFwiKSksIHRoaXMuc2Nyb2xsYmFyWFJhaWwuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJYKSwgdGhpcy5zY3JvbGxiYXJYLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIDApLCB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJYLCBcImZvY3VzXCIsIHMpLCB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJYLCBcImJsdXJcIiwgaSksIHRoaXMuc2Nyb2xsYmFyWEFjdGl2ZSA9IG51bGwsIHRoaXMuc2Nyb2xsYmFyWFdpZHRoID0gbnVsbCwgdGhpcy5zY3JvbGxiYXJYTGVmdCA9IG51bGw7XG4gIHZhciBvID0gaWUodGhpcy5zY3JvbGxiYXJYUmFpbCk7XG4gIHRoaXMuc2Nyb2xsYmFyWEJvdHRvbSA9IHBhcnNlSW50KG8uYm90dG9tLCAxMCksIGlzTmFOKHRoaXMuc2Nyb2xsYmFyWEJvdHRvbSkgPyAodGhpcy5pc1Njcm9sbGJhclhVc2luZ0JvdHRvbSA9ICExLCB0aGlzLnNjcm9sbGJhclhUb3AgPSBQKG8udG9wKSkgOiB0aGlzLmlzU2Nyb2xsYmFyWFVzaW5nQm90dG9tID0gITAsIHRoaXMucmFpbEJvcmRlclhXaWR0aCA9IFAoby5ib3JkZXJMZWZ0V2lkdGgpICsgUChvLmJvcmRlclJpZ2h0V2lkdGgpLCBVKHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsgZGlzcGxheTogXCJibG9ja1wiIH0pLCB0aGlzLnJhaWxYTWFyZ2luV2lkdGggPSBQKG8ubWFyZ2luTGVmdCkgKyBQKG8ubWFyZ2luUmlnaHQpLCBVKHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsgZGlzcGxheTogXCJcIiB9KSwgdGhpcy5yYWlsWFdpZHRoID0gbnVsbCwgdGhpcy5yYWlsWFJhdGlvID0gbnVsbCwgdGhpcy5zY3JvbGxiYXJZUmFpbCA9IGx0KFIuZWxlbWVudC5yYWlsKFwieVwiKSksIHQuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJZUmFpbCksIHRoaXMuc2Nyb2xsYmFyWSA9IGx0KFIuZWxlbWVudC50aHVtYihcInlcIikpLCB0aGlzLnNjcm9sbGJhcllSYWlsLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsYmFyWSksIHRoaXMuc2Nyb2xsYmFyWS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCAwKSwgdGhpcy5ldmVudC5iaW5kKHRoaXMuc2Nyb2xsYmFyWSwgXCJmb2N1c1wiLCBzKSwgdGhpcy5ldmVudC5iaW5kKHRoaXMuc2Nyb2xsYmFyWSwgXCJibHVyXCIsIGkpLCB0aGlzLnNjcm9sbGJhcllBY3RpdmUgPSBudWxsLCB0aGlzLnNjcm9sbGJhcllIZWlnaHQgPSBudWxsLCB0aGlzLnNjcm9sbGJhcllUb3AgPSBudWxsO1xuICB2YXIgbCA9IGllKHRoaXMuc2Nyb2xsYmFyWVJhaWwpO1xuICB0aGlzLnNjcm9sbGJhcllSaWdodCA9IHBhcnNlSW50KGwucmlnaHQsIDEwKSwgaXNOYU4odGhpcy5zY3JvbGxiYXJZUmlnaHQpID8gKHRoaXMuaXNTY3JvbGxiYXJZVXNpbmdSaWdodCA9ICExLCB0aGlzLnNjcm9sbGJhcllMZWZ0ID0gUChsLmxlZnQpKSA6IHRoaXMuaXNTY3JvbGxiYXJZVXNpbmdSaWdodCA9ICEwLCB0aGlzLnNjcm9sbGJhcllPdXRlcldpZHRoID0gdGhpcy5pc1J0bCA/IFdvKHRoaXMuc2Nyb2xsYmFyWSkgOiBudWxsLCB0aGlzLnJhaWxCb3JkZXJZV2lkdGggPSBQKGwuYm9yZGVyVG9wV2lkdGgpICsgUChsLmJvcmRlckJvdHRvbVdpZHRoKSwgVSh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6IFwiYmxvY2tcIiB9KSwgdGhpcy5yYWlsWU1hcmdpbkhlaWdodCA9IFAobC5tYXJnaW5Ub3ApICsgUChsLm1hcmdpbkJvdHRvbSksIFUodGhpcy5zY3JvbGxiYXJZUmFpbCwgeyBkaXNwbGF5OiBcIlwiIH0pLCB0aGlzLnJhaWxZSGVpZ2h0ID0gbnVsbCwgdGhpcy5yYWlsWVJhdGlvID0gbnVsbCwgdGhpcy5yZWFjaCA9IHtcbiAgICB4OiB0LnNjcm9sbExlZnQgPD0gMCA/IFwic3RhcnRcIiA6IHQuc2Nyb2xsTGVmdCA+PSB0aGlzLmNvbnRlbnRXaWR0aCAtIHRoaXMuY29udGFpbmVyV2lkdGggPyBcImVuZFwiIDogbnVsbCxcbiAgICB5OiB0LnNjcm9sbFRvcCA8PSAwID8gXCJzdGFydFwiIDogdC5zY3JvbGxUb3AgPj0gdGhpcy5jb250ZW50SGVpZ2h0IC0gdGhpcy5jb250YWluZXJIZWlnaHQgPyBcImVuZFwiIDogbnVsbFxuICB9LCB0aGlzLmlzQWxpdmUgPSAhMCwgdGhpcy5zZXR0aW5ncy5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gVm9bY10oYSk7XG4gIH0pLCB0aGlzLmxhc3RTY3JvbGxUb3AgPSBNYXRoLmZsb29yKHQuc2Nyb2xsVG9wKSwgdGhpcy5sYXN0U2Nyb2xsTGVmdCA9IHQuc2Nyb2xsTGVmdCwgdGhpcy5ldmVudC5iaW5kKHRoaXMuZWxlbWVudCwgXCJzY3JvbGxcIiwgZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBhLm9uU2Nyb2xsKGMpO1xuICB9KSwgbWUodGhpcyk7XG59O1xuUmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzQWxpdmUgJiYgKHRoaXMubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ID0gdGhpcy5pc05lZ2F0aXZlU2Nyb2xsID8gdGhpcy5lbGVtZW50LnNjcm9sbFdpZHRoIC0gdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoIDogMCwgVSh0aGlzLnNjcm9sbGJhclhSYWlsLCB7IGRpc3BsYXk6IFwiYmxvY2tcIiB9KSwgVSh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6IFwiYmxvY2tcIiB9KSwgdGhpcy5yYWlsWE1hcmdpbldpZHRoID0gUChpZSh0aGlzLnNjcm9sbGJhclhSYWlsKS5tYXJnaW5MZWZ0KSArIFAoaWUodGhpcy5zY3JvbGxiYXJYUmFpbCkubWFyZ2luUmlnaHQpLCB0aGlzLnJhaWxZTWFyZ2luSGVpZ2h0ID0gUChpZSh0aGlzLnNjcm9sbGJhcllSYWlsKS5tYXJnaW5Ub3ApICsgUChpZSh0aGlzLnNjcm9sbGJhcllSYWlsKS5tYXJnaW5Cb3R0b20pLCBVKHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsgZGlzcGxheTogXCJub25lXCIgfSksIFUodGhpcy5zY3JvbGxiYXJZUmFpbCwgeyBkaXNwbGF5OiBcIm5vbmVcIiB9KSwgbWUodGhpcyksIHl0KHRoaXMsIFwidG9wXCIsIDAsICExLCAhMCksIHl0KHRoaXMsIFwibGVmdFwiLCAwLCAhMSwgITApLCBVKHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsgZGlzcGxheTogXCJcIiB9KSwgVSh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6IFwiXCIgfSkpO1xufTtcblJlLnByb3RvdHlwZS5vblNjcm9sbCA9IGZ1bmN0aW9uKHQpIHtcbiAgdGhpcy5pc0FsaXZlICYmIChtZSh0aGlzKSwgeXQodGhpcywgXCJ0b3BcIiwgdGhpcy5lbGVtZW50LnNjcm9sbFRvcCAtIHRoaXMubGFzdFNjcm9sbFRvcCksIHl0KFxuICAgIHRoaXMsXG4gICAgXCJsZWZ0XCIsXG4gICAgdGhpcy5lbGVtZW50LnNjcm9sbExlZnQgLSB0aGlzLmxhc3RTY3JvbGxMZWZ0XG4gICksIHRoaXMubGFzdFNjcm9sbFRvcCA9IE1hdGguZmxvb3IodGhpcy5lbGVtZW50LnNjcm9sbFRvcCksIHRoaXMubGFzdFNjcm9sbExlZnQgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCk7XG59O1xuUmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc0FsaXZlICYmICh0aGlzLmV2ZW50LnVuYmluZEFsbCgpLCBNZSh0aGlzLnNjcm9sbGJhclgpLCBNZSh0aGlzLnNjcm9sbGJhclkpLCBNZSh0aGlzLnNjcm9sbGJhclhSYWlsKSwgTWUodGhpcy5zY3JvbGxiYXJZUmFpbCksIHRoaXMucmVtb3ZlUHNDbGFzc2VzKCksIHRoaXMuZWxlbWVudCA9IG51bGwsIHRoaXMuc2Nyb2xsYmFyWCA9IG51bGwsIHRoaXMuc2Nyb2xsYmFyWSA9IG51bGwsIHRoaXMuc2Nyb2xsYmFyWFJhaWwgPSBudWxsLCB0aGlzLnNjcm9sbGJhcllSYWlsID0gbnVsbCwgdGhpcy5pc0FsaXZlID0gITEpO1xufTtcblJlLnByb3RvdHlwZS5yZW1vdmVQc0NsYXNzZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcihmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuICF0Lm1hdGNoKC9ecHMoWy1fXS4rfCkkLyk7XG4gIH0pLmpvaW4oXCIgXCIpO1xufTtcbmNsYXNzIFFuIHtcbiAgY29uc3RydWN0b3IodCkge1xuICAgIHRoaXMuZXZlbnRzID0gdDtcbiAgfVxuICBnZXRFdmVudHNGb3JEYXkodCwgbikge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5maWx0ZXIoKGEpID0+IHRoaXMuaXNFdmVudEluRGF5Qm91bmRhcmllcyhhLCB0LCBuKSk7XG4gIH1cbiAgaXNFdmVudEluRGF5Qm91bmRhcmllcyh0LCBuLCBhKSB7XG4gICAgY29uc3QgciA9IG4uZGF0ZVN0cmluZ0Zyb20odC50aW1lLnN0YXJ0KSA9PT0gbi5kYXRlU3RyaW5nRnJvbShhKTtcbiAgICByZXR1cm4gbi5kYXlNb2RlID09PSBxLlJFR1VMQVIgPyByIDogciAmJiBuLmRheU1vZGUgPT09IHEuU0hPUlRFTkVEID8gdGhpcy5oYW5kbGVQYXJ0aWFsRGF5V2l0aGluT25lRGF5Qm91bmRhcnkobiwgdCkgOiBuLmRheU1vZGUgPT09IHEuRkxFWElCTEUgPyB0aGlzLmhhbmRsZURheVN0cmV0Y2hpbmdUd29EYXRlcyhuLCB0LCBhLCByKSA6ICExO1xuICB9XG4gIGhhbmRsZURheVN0cmV0Y2hpbmdUd29EYXRlcyh0LCBuLCBhLCByKSB7XG4gICAgY29uc3QgeyBob3VyOiBzIH0gPSB0LmdldEhvdXJBbmRNaW51dGVzRnJvbVRpbWVQb2ludHModC5EQVlfU1RBUlQpLCB7IGhvdXI6IGkgfSA9IHQuZ2V0SG91ckFuZE1pbnV0ZXNGcm9tVGltZVBvaW50cyh0LkRBWV9FTkQpLCB7IGhvdXI6IG8gfSA9IHQuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKG4udGltZS5zdGFydCksIGwgPSB0LmFkZERheXNUb0RhdGVUaW1lU3RyaW5nKDEsIGEpLCBjID0gbi50aW1lLnN0YXJ0LnN1YnN0cmluZygwLCAxMSkgPT09IGwuc3Vic3RyaW5nKDAsIDExKTtcbiAgICByZXR1cm4gciAmJiBvID49IHMgfHwgYyAmJiBvIDwgaTtcbiAgfVxuICBoYW5kbGVQYXJ0aWFsRGF5V2l0aGluT25lRGF5Qm91bmRhcnkodCwgbikge1xuICAgIGNvbnN0IHsgaG91cjogYSB9ID0gdC5nZXRIb3VyQW5kTWludXRlc0Zyb21UaW1lUG9pbnRzKHQuREFZX1NUQVJUKSwgeyBob3VyOiByIH0gPSB0LmdldEhvdXJBbmRNaW51dGVzRnJvbVRpbWVQb2ludHModC5EQVlfRU5EKSwgeyBob3VyOiBzIH0gPSB0LmdldEFsbFZhcmlhYmxlc0Zyb21EYXRlVGltZVN0cmluZyhuLnRpbWUuc3RhcnQpO1xuICAgIHJldHVybiBzID49IGEgJiYgcyA8IHI7XG4gIH1cbn1cbmNsYXNzIEpuIHtcbiAgc3RhdGljIGdldE5Ib3Vyc0ludG9EYXlGcm9tSG91cih0LCBuKSB7XG4gICAgY29uc3QgYSA9IHNlLmdldEhvdXJGcm9tVGltZVBvaW50cyhuLkRBWV9TVEFSVCk7XG4gICAgcmV0dXJuIG4uZGF5TW9kZSA9PT0gcS5SRUdVTEFSID8gdCA6IG4uZGF5TW9kZSA9PT0gcS5TSE9SVEVORUQgfHwgbi5kYXlNb2RlID09PSBxLkZMRVhJQkxFICYmIHQgPj0gYSA/IHQgLSBhIDogMjQgLSBhICsgdDtcbiAgfVxuICBzdGF0aWMgZXZlbnRTZXBhcmF0b3IodCwgbikge1xuICAgIGNvbnN0IGEgPSBbXSwgciA9IFtdO1xuICAgIGZvciAoY29uc3QgcyBvZiB0KSB7XG4gICAgICBjb25zdCBpID0gRWUuZ2V0RXZlbnRUeXBlKHMsIG4pO1xuICAgICAgW1EuU0lOR0xFX0RBWV9USU1FRCwgUS5TSU5HTEVfSFlCUklEX0RBWV9USU1FRF0uaW5jbHVkZXMoaSkgPyBhLnB1c2gocykgOiByLnB1c2gocyk7XG4gICAgfVxuICAgIHJldHVybiB7IGZ1bGxEYXlBbmRNdWx0aXBsZURheUV2ZW50czogciwgc2luZ2xlRGF5VGltZWRFdmVudHM6IGEgfTtcbiAgfVxufVxuY29uc3QgeG8gPSBuZXcgcWEoKSwgY24gPSBIKHtcbiAgbmFtZTogXCJXZWVrXCIsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBEYXk6IGhvLFxuICAgIFdlZWtUaW1lbGluZTogcXMsXG4gICAgRGF5VGltZWxpbmU6IEZzLFxuICAgIEV2ZW50Rmx5b3V0OiB4YVxuICB9LFxuICBwcm9wczoge1xuICAgIGNvbmZpZzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBldmVudHNQcm9wOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gICAgfSxcbiAgICBwZXJpb2Q6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgbW9kZVByb3A6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwid2Vla1wiXG4gICAgfSxcbiAgICB0aW1lOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXG4gICAgXCJldmVudC13YXMtY2xpY2tlZFwiLFxuICAgIFwiZXZlbnQtd2FzLXJlc2l6ZWRcIixcbiAgICBcImV2ZW50LXdhcy1kcmFnZ2VkXCIsXG4gICAgXCJlZGl0LWV2ZW50XCIsXG4gICAgXCJkZWxldGUtZXZlbnRcIixcbiAgICBcImludGVydmFsLXdhcy1jbGlja2VkXCIsXG4gICAgXCJkYXktd2FzLWNsaWNrZWRcIixcbiAgICBcImRhdGV0aW1lLXdhcy1jbGlja2VkXCJcbiAgXSxcbiAgZGF0YSgpIHtcbiAgICB2YXIgZTtcbiAgICByZXR1cm4ge1xuICAgICAgZGF5czogW10sXG4gICAgICBtb2RlOiB0aGlzLm1vZGVQcm9wLFxuICAgICAgc2VsZWN0ZWRFdmVudDogbnVsbCxcbiAgICAgIHNlbGVjdGVkRXZlbnRFbGVtZW50OiBudWxsLFxuICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50c1Byb3AsXG4gICAgICBmdWxsRGF5RXZlbnRzOiBbXSxcbiAgICAgIHdlZWtWZXJzaW9uOiAwLFxuICAgICAgLy8gaXMgc2ltcGx5IGEgZHVtbXkgdmFsdWUsIGZvciByZS1yZW5kZXJpbmcgY2hpbGQgY29tcG9uZW50cyBvbiBldmVudC13YXMtZHJhZ2dlZFxuICAgICAgZGF5SW50ZXJ2YWxzOiB7XG4gICAgICAgIGxlbmd0aDogNjAsXG4gICAgICAgIGhlaWdodDogNjZcbiAgICAgIH0sXG4gICAgICB3ZWVrSGVpZ2h0OiBcIjE1ODRweFwiLFxuICAgICAgLy8gQ29ycmVsYXRlcyB0byB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgZGF5SW50ZXJ2YWxzLmxlbmd0aCBhbmQgZGF5SW50ZXJ2YWxzLmhlaWdodFxuICAgICAgc2Nyb2xsYmFyOiBudWxsLFxuICAgICAgY3VycmVudFRpbWVQZXJjZW50YWdlOiAwLFxuICAgICAgLy8gV2hlbiBkYXlCb3VuZGFyaWVzIGFyZSBzZXQsIGFuZCB0aGUgY3VycmVudCB0aW1lIGlzIG91dHNpZGUgdGhlIGRheUJvdW5kYXJpZXMsIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIGZhbHNlLFxuICAgICAgLy8gaW4gb3JkZXIgdG8gaGlkZSB0aGUgY3VycmVudCB0aW1lIGxpbmVcbiAgICAgIHNob3dDdXJyZW50VGltZTogISEoKGUgPSB0aGlzLmNvbmZpZykgIT0gbnVsbCAmJiBlLnNob3dDdXJyZW50VGltZSlcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGhhc0N1c3RvbUN1cnJlbnRUaW1lU2xvdCgpIHtcbiAgICAgIHJldHVybiBFZS5oYXNTbG90Q29udGVudCh0aGlzLiRzbG90cy5jdXN0b21DdXJyZW50VGltZSk7XG4gICAgfSxcbiAgICBuRGF5cygpIHtcbiAgICAgIHZhciBlLCB0O1xuICAgICAgcmV0dXJuICgodCA9IChlID0gdGhpcy5jb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBlLndlZWspID09IG51bGwgPyB2b2lkIDAgOiB0Lm5EYXlzKSB8fCA3O1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBwZXJpb2Q6IHtcbiAgICAgIGRlZXA6ICEwLFxuICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5zZXRJbml0aWFsRXZlbnRzKHRoaXMubW9kZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb2RlUHJvcDoge1xuICAgICAgZGVlcDogITAsXG4gICAgICBoYW5kbGVyKGUpIHtcbiAgICAgICAgdGhpcy5tb2RlID0gZSwgdGhpcy5zZXRJbml0aWFsRXZlbnRzKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnNldERheUludGVydmFscygpLCB0aGlzLnNlcGFyYXRlRnVsbERheUV2ZW50c0Zyb21PdGhlckV2ZW50cygpLCB0aGlzLnNldEluaXRpYWxFdmVudHModGhpcy5tb2RlUHJvcCksIHRoaXMuc2Nyb2xsT25Nb3VudCgpLCB0aGlzLmluaXRTY3JvbGxiYXIoKSwgKChlID0gdGhpcy5jb25maWcpICE9IG51bGwgJiYgZS5zaG93Q3VycmVudFRpbWUgfHwgdGhpcy5oYXNDdXN0b21DdXJyZW50VGltZVNsb3QpICYmIHRoaXMuc2V0Q3VycmVudFRpbWUoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGluaXRTY3JvbGxiYXIoZSA9IDApIHtcbiAgICAgIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLXdlZWtfX3dyYXBwZXJcIik7XG4gICAgICBlID4gM2UzIHx8ICh0ID8gKHRoaXMuc2Nyb2xsYmFyID0gbmV3IFJlKHQpLCB0aGlzLnNjcm9sbGJhci51cGRhdGUoKSkgOiB0aGlzLmluaXRTY3JvbGxiYXIoZSArIDUwKSk7XG4gICAgfSxcbiAgICBkZXN0cm95U2Nyb2xsYmFyQW5kSGlkZU92ZXJmbG93KCkge1xuICAgICAgY29uc3QgZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsZW5kYXItd2Vla19fd3JhcHBlclwiKTtcbiAgICAgIGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoZS5zdHlsZS5vdmVyZmxvd1kgPSBcImhpZGRlblwiLCB0aGlzLnNjcm9sbGJhci5kZXN0cm95KCkpO1xuICAgIH0sXG4gICAgc2VwYXJhdGVGdWxsRGF5RXZlbnRzRnJvbU90aGVyRXZlbnRzKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzaW5nbGVEYXlUaW1lZEV2ZW50czogZSxcbiAgICAgICAgZnVsbERheUFuZE11bHRpcGxlRGF5RXZlbnRzOiB0XG4gICAgICB9ID0gSm4uZXZlbnRTZXBhcmF0b3IodGhpcy5ldmVudHMsIHRoaXMudGltZSk7XG4gICAgICB0aGlzLmV2ZW50cyA9IGUsIHRoaXMucG9zaXRpb25GdWxsRGF5RXZlbnRzKHQpO1xuICAgIH0sXG4gICAgcG9zaXRpb25GdWxsRGF5RXZlbnRzKGUpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLm5EYXlzID09PSA1ID8gbmV3IERhdGUoXG4gICAgICAgIHRoaXMucGVyaW9kLmVuZC5nZXRGdWxsWWVhcigpLFxuICAgICAgICB0aGlzLnBlcmlvZC5lbmQuZ2V0TW9udGgoKSxcbiAgICAgICAgdGhpcy5wZXJpb2QuZW5kLmdldERhdGUoKSAtIDJcbiAgICAgICkgOiB0aGlzLnBlcmlvZC5lbmQ7XG4gICAgICB0aGlzLmZ1bGxEYXlFdmVudHMgPSBlLmxlbmd0aCA/IHhvLnBvc2l0aW9uRnVsbERheUV2ZW50c0luV2VlayhcbiAgICAgICAgdGhpcy5wZXJpb2Quc3RhcnQsXG4gICAgICAgIHQsXG4gICAgICAgIGVcbiAgICAgICkgOiBbXTtcbiAgICB9LFxuICAgIHNldERheXMoKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy50aW1lLmdldENhbGVuZGFyV2Vla0RhdGVPYmplY3RzKHRoaXMucGVyaW9kLnN0YXJ0KS5tYXAoKHQpID0+IHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMudGltZS5nZXRMb2NhbGl6ZWROYW1lT2ZXZWVrZGF5KHQsIFwibG9uZ1wiKSwgYSA9IHRoaXMudGltZS5nZXREYXRlVGltZVN0cmluZ0Zyb21EYXRlKFxuICAgICAgICAgIHQsXG4gICAgICAgICAgXCJzdGFydFwiXG4gICAgICAgICksIHIgPSBuZXcgUW4odGhpcy5ldmVudHMpLmdldEV2ZW50c0ZvckRheSh0aGlzLnRpbWUsIGEpO1xuICAgICAgICByZXR1cm4geyBkYXlOYW1lOiBuLCBkYXRlVGltZVN0cmluZzogYSwgZXZlbnRzOiByIH07XG4gICAgICB9KTtcbiAgICAgIHRoaXMubkRheXMgPT09IDUgJiYgdGhpcy50aW1lLkZJUlNUX0RBWV9PRl9XRUVLID09PSBNdC5NT05EQVkgPyAoZS5zcGxpY2UoNSwgMiksIHRoaXMuZnVsbERheUV2ZW50cy5zcGxpY2UoNSwgMikpIDogdGhpcy5uRGF5cyA9PT0gNSAmJiB0aGlzLnRpbWUuRklSU1RfREFZX09GX1dFRUsgPT09IE10LlNVTkRBWSAmJiAoZS5zcGxpY2UoNiwgMSksIHRoaXMuZnVsbERheUV2ZW50cy5zcGxpY2UoNiwgMSksIGUuc3BsaWNlKDAsIDEpLCB0aGlzLmZ1bGxEYXlFdmVudHMuc3BsaWNlKDAsIDEpKSwgdGhpcy5kYXlzID0gZTtcbiAgICB9LFxuICAgIG1lcmdlRnVsbERheUV2ZW50c0ludG9EYXlzKCkge1xuICAgICAgZm9yIChjb25zdCBbZV0gb2YgdGhpcy5kYXlzLmVudHJpZXMoKSlcbiAgICAgICAgdGhpcy5kYXlzW2VdLmZ1bGxEYXlFdmVudHMgPSB0aGlzLmZ1bGxEYXlFdmVudHNbZV07XG4gICAgfSxcbiAgICBzZXREYXkoKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy50aW1lLmdldERhdGVUaW1lU3RyaW5nRnJvbURhdGUoXG4gICAgICAgIHRoaXMucGVyaW9kLnNlbGVjdGVkRGF0ZVxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmRheXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBkYXlOYW1lOiBuZXcgRGF0ZSh0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZyhcbiAgICAgICAgICAgIHRoaXMudGltZS5DQUxFTkRBUl9MT0NBTEUsXG4gICAgICAgICAgICB7IHdlZWtkYXk6IFwibG9uZ1wiIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIGRhdGVUaW1lU3RyaW5nOiB0aGlzLnRpbWUuZ2V0RGF0ZVRpbWVTdHJpbmdGcm9tRGF0ZShcbiAgICAgICAgICAgIHRoaXMucGVyaW9kLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgIFwic3RhcnRcIlxuICAgICAgICAgICksXG4gICAgICAgICAgZXZlbnRzOiBuZXcgUW4odGhpcy5ldmVudHMpLmdldEV2ZW50c0ZvckRheSh0aGlzLnRpbWUsIGUpXG4gICAgICAgIH1cbiAgICAgIF0sICEhdGhpcy5mdWxsRGF5RXZlbnRzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5mdWxsRGF5RXZlbnRzKVxuICAgICAgICAgIGlmICh0aGlzLnRpbWUuZ2V0RGF0ZVRpbWVTdHJpbmdGcm9tRGF0ZSh0LmRhdGUpLnN1YnN0cmluZygwLCAxMSkgPT09IGUuc3Vic3RyaW5nKDAsIDExKSkge1xuICAgICAgICAgICAgdGhpcy5mdWxsRGF5RXZlbnRzID0gW3RdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNldEluaXRpYWxFdmVudHMoZSkge1xuICAgICAgZSA9PT0gXCJkYXlcIiAmJiB0aGlzLnNldERheSgpLCBlID09PSBcIndlZWtcIiAmJiB0aGlzLnNldERheXMoKSwgdGhpcy5tZXJnZUZ1bGxEYXlFdmVudHNJbnRvRGF5cygpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2tPbkV2ZW50KGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoXCJldmVudC13YXMtY2xpY2tlZFwiLCBlKSwgdGhpcy5zZWxlY3RlZEV2ZW50RWxlbWVudCA9IGUuZXZlbnRFbGVtZW50LCB0aGlzLnNlbGVjdGVkRXZlbnQgPSBlLmNsaWNrZWRFdmVudDtcbiAgICB9LFxuICAgIGhhbmRsZUV2ZW50V2FzRHJhZ2dlZChlKSB7XG4gICAgICB0aGlzLmluaXRTY3JvbGxiYXIoKTtcbiAgICAgIGNvbnN0IHQgPSBlO1xuICAgICAgZGVsZXRlIHQudG90YWxDb25jdXJyZW50RXZlbnRzLCBkZWxldGUgdC5uT2ZQcmV2aW91c0NvbmN1cnJlbnRFdmVudHM7XG4gICAgICBjb25zdCBuID0gdGhpcy5ldmVudHMuZmlsdGVyKChhKSA9PiBhLmlkICE9PSBlLmlkKTtcbiAgICAgIHRoaXMuZXZlbnRzID0gW1xuICAgICAgICB0LFxuICAgICAgICAuLi5uLm1hcCgoYSkgPT4gKGRlbGV0ZSBhLm5PZlByZXZpb3VzQ29uY3VycmVudEV2ZW50cywgZGVsZXRlIGEudG90YWxDb25jdXJyZW50RXZlbnRzLCBhKSlcbiAgICAgIF0sIHRoaXMuc2V0SW5pdGlhbEV2ZW50cyh0aGlzLm1vZGUpLCB0aGlzLndlZWtWZXJzaW9uID0gdGhpcy53ZWVrVmVyc2lvbiArIDEsIHRoaXMuJGVtaXQoXCJldmVudC13YXMtZHJhZ2dlZFwiLCBlKTtcbiAgICB9LFxuICAgIHNjcm9sbE9uTW91bnQoKSB7XG4gICAgICB2YXIgdDtcbiAgICAgIGlmICh0eXBlb2YgKCh0ID0gdGhpcy5jb25maWcud2VlaykgPT0gbnVsbCA/IHZvaWQgMCA6IHQuc2Nyb2xsVG9Ib3VyKSAhPSBcIm51bWJlclwiKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci13ZWVrX193cmFwcGVyXCIpO1xuICAgICAgZSAmJiB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSArdGhpcy53ZWVrSGVpZ2h0LnNwbGl0KFwicFwiKVswXSAvIHRoaXMudGltZS5IT1VSU19QRVJfREFZLCByID0gSm4uZ2V0TkhvdXJzSW50b0RheUZyb21Ib3VyKHRoaXMuY29uZmlnLndlZWsuc2Nyb2xsVG9Ib3VyLCB0aGlzLnRpbWUpLCBzID0gYSAqIHI7XG4gICAgICAgIGUuc2Nyb2xsKDAsIHMgLSAxMCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldERheUludGVydmFscygpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kYXlJbnRlcnZhbHMpXG4gICAgICAgIGZvciAoY29uc3QgW2UsIHRdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnLmRheUludGVydmFscykpXG4gICAgICAgICAgdGhpcy5kYXlJbnRlcnZhbHNbZV0gPSB0O1xuICAgICAgdGhpcy5zZXRXZWVrSGVpZ2h0QmFzZWRPbkludGVydmFscygpO1xuICAgIH0sXG4gICAgc2V0V2Vla0hlaWdodEJhc2VkT25JbnRlcnZhbHMoKSB7XG4gICAgICBbMTUsIDMwLCA2MF0uaW5jbHVkZXModGhpcy5kYXlJbnRlcnZhbHMubGVuZ3RoKSB8fCAodGhpcy5kYXlJbnRlcnZhbHMubGVuZ3RoID0gNjAsIHRoaXMuZGF5SW50ZXJ2YWxzLmhlaWdodCA9IDY2LCBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiVGhlIGRheUludGVydmFscyBjb25maWd1cmF0aW9uIGlzIGZhdWx0eS4gSXQgaGFzIGJlZW4gcmVzZXQgdG8gZGVmYXVsdCB2YWx1ZXMuXCJcbiAgICAgICkpO1xuICAgICAgbGV0IGUgPSAxO1xuICAgICAgdGhpcy5kYXlJbnRlcnZhbHMubGVuZ3RoID09PSAxNSAmJiAoZSA9IDQpLCB0aGlzLmRheUludGVydmFscy5sZW5ndGggPT09IDMwICYmIChlID0gMiksIHRoaXMud2Vla0hlaWdodCA9IHRoaXMuZGF5SW50ZXJ2YWxzLmhlaWdodCAqIGUgKiB0aGlzLnRpbWUuSE9VUlNfUEVSX0RBWSArIFwicHhcIjtcbiAgICB9LFxuICAgIHNldEN1cnJlbnRUaW1lKCkge1xuICAgICAgY29uc3QgZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMudGltZS5nZXREYXRlVGltZVN0cmluZ0Zyb21EYXRlKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKSwgbiA9IHRoaXMudGltZS5nZXRQZXJjZW50YWdlT2ZEYXlGcm9tRGF0ZVRpbWVTdHJpbmcodCwgdGhpcy50aW1lLkRBWV9TVEFSVCwgdGhpcy50aW1lLkRBWV9FTkQpO1xuICAgICAgICBpZiAobiA8IDAgfHwgbiA+IDEwMClcbiAgICAgICAgICByZXR1cm4gdGhpcy5zaG93Q3VycmVudFRpbWUgPSAhMTtcbiAgICAgICAgdGhpcy5zaG93Q3VycmVudFRpbWUgPSAhMCwgdGhpcy5jdXJyZW50VGltZVBlcmNlbnRhZ2UgPSBuO1xuICAgICAgfTtcbiAgICAgIGUoKSwgc2V0SW50ZXJ2YWwoKCkgPT4gZSgpLCA2ZTQpO1xuICAgIH1cbiAgfVxufSksIFpuID0gKCkgPT4ge1xuICBPZSgoZSkgPT4gKHtcbiAgICBcIjVjYjVkMDU3XCI6IGUud2Vla0hlaWdodFxuICB9KSk7XG59LCBlYSA9IGNuLnNldHVwO1xuY24uc2V0dXAgPSBlYSA/IChlLCB0KSA9PiAoWm4oKSwgZWEoZSwgdCkpIDogWm47XG5jb25zdCBxbyA9IChlKSA9PiAobGEoXCJkYXRhLXYtOGJiNmFkMDVcIiksIGUgPSBlKCksIGNhKCksIGUpLCBHbyA9IHsgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fd3JhcHBlclwiIH0sIEtvID0geyBjbGFzczogXCJjYWxlbmRhci13ZWVrXCIgfSwgUW8gPSAvKiBAX19QVVJFX18gKi8gcW8oKCkgPT4gLyogQF9fUFVSRV9fICovIFQoXCJkaXZcIiwgeyBjbGFzczogXCJjdXJyZW50LXRpbWUtbGluZV9fY2lyY2xlXCIgfSwgbnVsbCwgLTEpKSwgSm8gPSBbXG4gIFFvXG5dLCBabyA9IHsgY2xhc3M6IFwiY2FsZW5kYXItd2Vla19fZXZlbnRzXCIgfTtcbmZ1bmN0aW9uIGVsKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgY29uc3QgaSA9ICQoXCJXZWVrVGltZWxpbmVcIiksIG8gPSAkKFwiRXZlbnRGbHlvdXRcIiksIGwgPSAkKFwiRGF5VGltZWxpbmVcIiksIGMgPSAkKFwiRGF5XCIpO1xuICByZXR1cm4gZigpLCBtKEwsIG51bGwsIFtcbiAgICBJKGksIHtcbiAgICAgIGRheXM6IGUuZGF5cyxcbiAgICAgIHRpbWU6IGUudGltZSxcbiAgICAgIFwiZnVsbC1kYXktZXZlbnRzXCI6IGUuZnVsbERheUV2ZW50cyxcbiAgICAgIGNvbmZpZzogZS5jb25maWcsXG4gICAgICBtb2RlOiBlLm1vZGUsXG4gICAgICBvbkV2ZW50V2FzQ2xpY2tlZDogZS5oYW5kbGVDbGlja09uRXZlbnQsXG4gICAgICBvbkRheVdhc0NsaWNrZWQ6IHRbMF0gfHwgKHRbMF0gPSAoZCkgPT4gZS4kZW1pdChcImRheS13YXMtY2xpY2tlZFwiLCBkKSlcbiAgICB9LCBudWxsLCA4LCBbXCJkYXlzXCIsIFwidGltZVwiLCBcImZ1bGwtZGF5LWV2ZW50c1wiLCBcImNvbmZpZ1wiLCBcIm1vZGVcIiwgXCJvbkV2ZW50V2FzQ2xpY2tlZFwiXSksXG4gICAgVChcImRpdlwiLCBHbywgW1xuICAgICAgIWUuY29uZmlnLmV2ZW50RGlhbG9nIHx8ICFlLmNvbmZpZy5ldmVudERpYWxvZy5pc0Rpc2FibGVkID8gKGYoKSwgVihvLCB7XG4gICAgICAgIGtleTogMCxcbiAgICAgICAgXCJjYWxlbmRhci1ldmVudC1wcm9wXCI6IGUuc2VsZWN0ZWRFdmVudCxcbiAgICAgICAgXCJldmVudC1lbGVtZW50XCI6IGUuc2VsZWN0ZWRFdmVudEVsZW1lbnQsXG4gICAgICAgIHRpbWU6IGUudGltZSxcbiAgICAgICAgY29uZmlnOiBlLmNvbmZpZyxcbiAgICAgICAgb25IaWRlOiB0WzFdIHx8ICh0WzFdID0gKGQpID0+IGUuc2VsZWN0ZWRFdmVudCA9IG51bGwpLFxuICAgICAgICBvbkVkaXRFdmVudDogdFsyXSB8fCAodFsyXSA9IChkKSA9PiBlLiRlbWl0KFwiZWRpdC1ldmVudFwiLCBkKSksXG4gICAgICAgIG9uRGVsZXRlRXZlbnQ6IHRbM10gfHwgKHRbM10gPSAoZCkgPT4gZS4kZW1pdChcImRlbGV0ZS1ldmVudFwiLCBkKSlcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogWCgoZCkgPT4gW1xuICAgICAgICAgIFkoZS4kc2xvdHMsIFwiZXZlbnREaWFsb2dcIiwge1xuICAgICAgICAgICAgZXZlbnREaWFsb2dEYXRhOiBkLmV2ZW50RGlhbG9nRGF0YSxcbiAgICAgICAgICAgIGNsb3NlRXZlbnREaWFsb2c6IGQuY2xvc2VFdmVudERpYWxvZ1xuICAgICAgICAgIH0sIHZvaWQgMCwgITApXG4gICAgICAgIF0pLFxuICAgICAgICBfOiAzXG4gICAgICB9LCA4LCBbXCJjYWxlbmRhci1ldmVudC1wcm9wXCIsIFwiZXZlbnQtZWxlbWVudFwiLCBcInRpbWVcIiwgXCJjb25maWdcIl0pKSA6IFMoXCJcIiwgITApLFxuICAgICAgVChcInNlY3Rpb25cIiwgS28sIFtcbiAgICAgICAgZS5oYXNDdXN0b21DdXJyZW50VGltZVNsb3QgJiYgZS5zaG93Q3VycmVudFRpbWUgPyAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgY2xhc3M6IFwiY3VzdG9tLWN1cnJlbnQtdGltZVwiLFxuICAgICAgICAgIHN0eWxlOiBjZSh7IHRvcDogYCR7ZS5jdXJyZW50VGltZVBlcmNlbnRhZ2V9JWAgfSlcbiAgICAgICAgfSwgW1xuICAgICAgICAgIFkoZS4kc2xvdHMsIFwiY3VzdG9tQ3VycmVudFRpbWVcIiwge30sIHZvaWQgMCwgITApXG4gICAgICAgIF0sIDQpKSA6IGUuY29uZmlnICYmIGUuY29uZmlnLnNob3dDdXJyZW50VGltZSAmJiBlLnNob3dDdXJyZW50VGltZSA/IChmKCksIG0oXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICBjbGFzczogXCJjdXJyZW50LXRpbWUtbGluZVwiLFxuICAgICAgICAgIHN0eWxlOiBjZSh7IHRvcDogYCR7ZS5jdXJyZW50VGltZVBlcmNlbnRhZ2V9JWAgfSlcbiAgICAgICAgfSwgSm8sIDQpKSA6IFMoXCJcIiwgITApLFxuICAgICAgICAoZigpLCBWKGwsIHtcbiAgICAgICAgICBrZXk6IGUucGVyaW9kLnN0YXJ0LmdldFRpbWUoKSArIGUucGVyaW9kLmVuZC5nZXRUaW1lKCkgKyBlLm1vZGUsXG4gICAgICAgICAgdGltZTogZS50aW1lLFxuICAgICAgICAgIFwiZGF5LWludGVydmFsc1wiOiBlLmRheUludGVydmFscyxcbiAgICAgICAgICBcIndlZWstaGVpZ2h0XCI6IGUud2Vla0hlaWdodFxuICAgICAgICB9LCBudWxsLCA4LCBbXCJ0aW1lXCIsIFwiZGF5LWludGVydmFsc1wiLCBcIndlZWstaGVpZ2h0XCJdKSksXG4gICAgICAgIFQoXCJkaXZcIiwgWm8sIFtcbiAgICAgICAgICAoZighMCksIG0oTCwgbnVsbCwgeihlLmRheXMsIChkLCB1KSA9PiAoZigpLCBWKGMsIHtcbiAgICAgICAgICAgIGtleTogZC5kYXRlVGltZVN0cmluZyArIGUubW9kZSArIGUud2Vla1ZlcnNpb24sXG4gICAgICAgICAgICBkYXk6IGQsXG4gICAgICAgICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICAgICAgICBjb25maWc6IGUuY29uZmlnLFxuICAgICAgICAgICAgXCJkYXktaW5mb1wiOiB7IGRheXNUb3RhbE46IGUuZGF5cy5sZW5ndGgsIHRoaXNEYXlJbmRleDogdSwgZGF0ZVRpbWVTdHJpbmc6IGQuZGF0ZVRpbWVTdHJpbmcgfSxcbiAgICAgICAgICAgIG1vZGU6IGUubW9kZSxcbiAgICAgICAgICAgIFwiZGF5LWludGVydmFsc1wiOiBlLmRheUludGVydmFscyxcbiAgICAgICAgICAgIFwid2Vlay1oZWlnaHRcIjogK2Uud2Vla0hlaWdodC5yZXBsYWNlKFwicHhcIiwgXCJcIiksXG4gICAgICAgICAgICBvbkV2ZW50V2FzQ2xpY2tlZDogZS5oYW5kbGVDbGlja09uRXZlbnQsXG4gICAgICAgICAgICBvbkV2ZW50V2FzUmVzaXplZDogdFs0XSB8fCAodFs0XSA9IChnKSA9PiBlLiRlbWl0KFwiZXZlbnQtd2FzLXJlc2l6ZWRcIiwgZykpLFxuICAgICAgICAgICAgb25FdmVudFdhc0RyYWdnZWQ6IGUuaGFuZGxlRXZlbnRXYXNEcmFnZ2VkLFxuICAgICAgICAgICAgb25JbnRlcnZhbFdhc0NsaWNrZWQ6IHRbNV0gfHwgKHRbNV0gPSAoZykgPT4gZS4kZW1pdChcImludGVydmFsLXdhcy1jbGlja2VkXCIsIGcpKSxcbiAgICAgICAgICAgIG9uRGF5V2FzQ2xpY2tlZDogdFs2XSB8fCAodFs2XSA9IChnKSA9PiBlLiRlbWl0KFwiZGF5LXdhcy1jbGlja2VkXCIsIGcpKSxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0OiBlLmRlc3Ryb3lTY3JvbGxiYXJBbmRIaWRlT3ZlcmZsb3csXG4gICAgICAgICAgICBvbkRyYWdFbmQ6IGUuaW5pdFNjcm9sbGJhcixcbiAgICAgICAgICAgIG9uRGF0ZXRpbWVXYXNDbGlja2VkOiB0WzddIHx8ICh0WzddID0gKGcpID0+IGUuJGVtaXQoXCJkYXRldGltZS13YXMtY2xpY2tlZFwiLCBnKSlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICB3ZWVrRGF5RXZlbnQ6IFgoKGcpID0+IFtcbiAgICAgICAgICAgICAgWShlLiRzbG90cywgXCJ3ZWVrRGF5RXZlbnRcIiwge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YTogZy5ldmVudERhdGFcbiAgICAgICAgICAgICAgfSwgdm9pZCAwLCAhMClcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXzogMlxuICAgICAgICAgIH0sIDEwMzIsIFtcImRheVwiLCBcInRpbWVcIiwgXCJjb25maWdcIiwgXCJkYXktaW5mb1wiLCBcIm1vZGVcIiwgXCJkYXktaW50ZXJ2YWxzXCIsIFwid2Vlay1oZWlnaHRcIiwgXCJvbkV2ZW50V2FzQ2xpY2tlZFwiLCBcIm9uRXZlbnRXYXNEcmFnZ2VkXCIsIFwib25EcmFnU3RhcnRcIiwgXCJvbkRyYWdFbmRcIl0pKSksIDEyOCkpXG4gICAgICAgIF0pXG4gICAgICBdKVxuICAgIF0pXG4gIF0sIDY0KTtcbn1cbmNvbnN0IHRsID0gLyogQF9fUFVSRV9fICovIGooY24sIFtbXCJyZW5kZXJcIiwgZWxdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtOGJiNmFkMDVcIl1dKSwgZG4gPSBIKHtcbiAgbmFtZTogXCJFdmVudFwiLFxuICBwcm9wczoge1xuICAgIHRpbWU6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgY2FsZW5kYXJFdmVudDoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgZGF5OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXCJldmVudC13YXMtY2xpY2tlZFwiXSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3JzOiB4ZSxcbiAgICAgIGV2ZW50QmFja2dyb3VuZENvbG9yOiBcIlwiLFxuICAgICAgZXZlbnRJZFByZWZpeDogXCJjYWxlbmRhci1tb250aF9fZXZlbnQtXCJcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGlzQ3VzdG9tRXZlbnQoKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmNhbGVuZGFyRXZlbnQuaXNDdXN0b20pID8gdGhpcy5jYWxlbmRhckV2ZW50LmlzQ3VzdG9tLmluY2x1ZGVzKFwibW9udGhcIikgOiB0aGlzLmNhbGVuZGFyRXZlbnQuaXNDdXN0b20gfHwgITE7XG4gICAgfSxcbiAgICBldmVudFRpbWVTdGFydCgpIHtcbiAgICAgIHJldHVybiBJZS50ZXN0KHRoaXMuY2FsZW5kYXJFdmVudC50aW1lLnN0YXJ0KSA/IHRoaXMudGltZS5nZXRMb2NhbGl6ZWRUaW1lKHRoaXMuY2FsZW5kYXJFdmVudC50aW1lLnN0YXJ0KSA6IG51bGw7XG4gICAgfSxcbiAgICBlbGVtZW50SWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ldmVudElkUHJlZml4ICsgdGhpcy5jYWxlbmRhckV2ZW50LmlkICsgdGhpcy50aW1lLmRhdGVTdHJpbmdGcm9tKHRoaXMuZGF5LmRhdGVUaW1lU3RyaW5nKTtcbiAgICB9LFxuICAgIGVsZW1lbnREcmFnZ2FibGVBdHRyaWJ1dGUoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHllYXI6IGUsXG4gICAgICAgIG1vbnRoOiB0LFxuICAgICAgICBkYXRlOiBuXG4gICAgICB9ID0gdGhpcy50aW1lLmdldEFsbFZhcmlhYmxlc0Zyb21EYXRlVGltZVN0cmluZyhcbiAgICAgICAgdGhpcy5jYWxlbmRhckV2ZW50LnRpbWUuc3RhcnRcbiAgICAgICksIHtcbiAgICAgICAgeWVhcjogYSxcbiAgICAgICAgbW9udGg6IHIsXG4gICAgICAgIGRhdGU6IHNcbiAgICAgIH0gPSB0aGlzLnRpbWUuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKFxuICAgICAgICB0aGlzLmNhbGVuZGFyRXZlbnQudGltZS5lbmRcbiAgICAgICksIGkgPSBlID09PSBhICYmIHQgPT09IHIgJiYgbiA9PT0gcywgbyA9IHRoaXMuY2FsZW5kYXJFdmVudC5kaXNhYmxlRG5EICYmIHRoaXMuY2FsZW5kYXJFdmVudC5kaXNhYmxlRG5ELmluY2x1ZGVzKFwibW9udGhcIik7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhckV2ZW50LmlzRWRpdGFibGUgJiYgaSAmJiAhbyA/ICEwIDogdm9pZCAwO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLnNldENvbG9ycygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0Q29sb3JzKCkge1xuICAgICAgdmFyIGUsIHQsIG47XG4gICAgICByZXR1cm4gKGUgPSB0aGlzLmNhbGVuZGFyRXZlbnQpICE9IG51bGwgJiYgZS5jb2xvclNjaGVtZSAmJiAoKHQgPSB0aGlzLmNvbmZpZy5zdHlsZSkgIT0gbnVsbCAmJiB0LmNvbG9yU2NoZW1lcykgJiYgdGhpcy5jb25maWcuc3R5bGUuY29sb3JTY2hlbWVzW3RoaXMuY2FsZW5kYXJFdmVudC5jb2xvclNjaGVtZV0gPyB0aGlzLmV2ZW50QmFja2dyb3VuZENvbG9yID0gdGhpcy5jb25maWcuc3R5bGUuY29sb3JTY2hlbWVzW3RoaXMuY2FsZW5kYXJFdmVudC5jb2xvclNjaGVtZV0uYmFja2dyb3VuZENvbG9yIDogKG4gPSB0aGlzLmNhbGVuZGFyRXZlbnQpICE9IG51bGwgJiYgbi5jb2xvciA/IHRoaXMuZXZlbnRCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmNhbGVuZGFyRXZlbnQuY29sb3JdIDogdGhpcy5ldmVudEJhY2tncm91bmRDb2xvciA9IHRoaXMuY29sb3JzLmJsdWU7XG4gICAgfSxcbiAgICBoYW5kbGVDbGlja09uRXZlbnQoKSB7XG4gICAgICBjb25zdCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbGVtZW50SWQpO1xuICAgICAgdGhpcy4kZW1pdChcImV2ZW50LXdhcy1jbGlja2VkXCIsIHtcbiAgICAgICAgY2xpY2tlZEV2ZW50OiB0aGlzLmNhbGVuZGFyRXZlbnQsXG4gICAgICAgIGV2ZW50RWxlbWVudDogZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVEcmFnU3RhcnQoZSkge1xuICAgICAgIWUgfHwgIWUuZGF0YVRyYW5zZmVyIHx8IChlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCIsIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXG4gICAgICAgIFwianNvblwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmNhbGVuZGFyRXZlbnQpXG4gICAgICApKTtcbiAgICB9XG4gIH1cbn0pLCB0YSA9ICgpID0+IHtcbiAgT2UoKGUpID0+ICh7XG4gICAgXCI2M2E5YmM4YVwiOiBlLmV2ZW50QmFja2dyb3VuZENvbG9yXG4gIH0pKTtcbn0sIG5hID0gZG4uc2V0dXA7XG5kbi5zZXR1cCA9IG5hID8gKGUsIHQpID0+ICh0YSgpLCBuYShlLCB0KSkgOiB0YTtcbmNvbnN0IG5sID0gKGUpID0+IChsYShcImRhdGEtdi00NzY2ZGZjN1wiKSwgZSA9IGUoKSwgY2EoKSwgZSksIGFsID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImNhbGVuZGFyLW1vbnRoX19ldmVudFwiXG59LCBybCA9IFtcImlkXCIsIFwiZHJhZ2dhYmxlXCJdLCBpbCA9IFtcImlkXCIsIFwiZHJhZ2dhYmxlXCJdLCBzbCA9IC8qIEBfX1BVUkVfXyAqLyBubCgoKSA9PiAvKiBAX19QVVJFX18gKi8gVChcInNwYW5cIiwgeyBjbGFzczogXCJjYWxlbmRhci1tb250aF9fZXZlbnQtY29sb3JcIiB9LCBudWxsLCAtMSkpLCBvbCA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJjYWxlbmRhci1tb250aF9fZXZlbnQtdGltZVwiXG59LCBsbCA9IHsgY2xhc3M6IFwiY2FsZW5kYXItbW9udGhfX2V2ZW50LXRpdGxlXCIgfTtcbmZ1bmN0aW9uIGNsKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgcmV0dXJuIGUuY29uZmlnLmlzU21hbGwgPyAoZigpLCBtKFwiZGl2XCIsIGFsKSkgOiAoZigpLCBtKEwsIHsga2V5OiAxIH0sIFtcbiAgICBlLmlzQ3VzdG9tRXZlbnQgPyAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgIGtleTogMCxcbiAgICAgIGlkOiBlLmVsZW1lbnRJZCxcbiAgICAgIGNsYXNzOiB4KFtcImlzLWV2ZW50XCIsIHsgXCJpcy1kcmFnZ2FibGVcIjogZS5lbGVtZW50RHJhZ2dhYmxlQXR0cmlidXRlIH1dKSxcbiAgICAgIFwiZGF0YS1yZWZcIjogXCJjdXN0b20tZXZlbnRcIixcbiAgICAgIGRyYWdnYWJsZTogZS5lbGVtZW50RHJhZ2dhYmxlQXR0cmlidXRlLFxuICAgICAgb25EcmFnc3RhcnQ6IHRbMF0gfHwgKHRbMF0gPSAoLi4uaSkgPT4gZS5oYW5kbGVEcmFnU3RhcnQgJiYgZS5oYW5kbGVEcmFnU3RhcnQoLi4uaSkpLFxuICAgICAgb25DbGljazogdFsxXSB8fCAodFsxXSA9ICguLi5pKSA9PiBlLmhhbmRsZUNsaWNrT25FdmVudCAmJiBlLmhhbmRsZUNsaWNrT25FdmVudCguLi5pKSlcbiAgICB9LCBbXG4gICAgICBZKGUuJHNsb3RzLCBcIm1vbnRoRXZlbnRcIiwgeyBldmVudERhdGE6IGUuY2FsZW5kYXJFdmVudCB9LCB2b2lkIDAsICEwKVxuICAgIF0sIDQyLCBybCkpIDogKGYoKSwgbShcImRpdlwiLCB7XG4gICAgICBrZXk6IDEsXG4gICAgICBpZDogZS5lbGVtZW50SWQsXG4gICAgICBcImRhdGEtcmVmXCI6IFwiZGVmYXVsdC1ldmVudFwiLFxuICAgICAgY2xhc3M6IHgoW1wiY2FsZW5kYXItbW9udGhfX2V2ZW50IGlzLWV2ZW50XCIsIHsgXCJpcy1kcmFnZ2FibGVcIjogZS5lbGVtZW50RHJhZ2dhYmxlQXR0cmlidXRlIH1dKSxcbiAgICAgIGRyYWdnYWJsZTogZS5lbGVtZW50RHJhZ2dhYmxlQXR0cmlidXRlLFxuICAgICAgb25EcmFnc3RhcnQ6IHRbMl0gfHwgKHRbMl0gPSAoLi4uaSkgPT4gZS5oYW5kbGVEcmFnU3RhcnQgJiYgZS5oYW5kbGVEcmFnU3RhcnQoLi4uaSkpLFxuICAgICAgb25DbGljazogdFszXSB8fCAodFszXSA9ICguLi5pKSA9PiBlLmhhbmRsZUNsaWNrT25FdmVudCAmJiBlLmhhbmRsZUNsaWNrT25FdmVudCguLi5pKSlcbiAgICB9LCBbXG4gICAgICBzbCxcbiAgICAgIGUuZXZlbnRUaW1lU3RhcnQgJiYgIWUuY2FsZW5kYXJFdmVudC5vcmlnaW5hbEV2ZW50ID8gKGYoKSwgbShcInNwYW5cIiwgb2wsIEEoZS5ldmVudFRpbWVTdGFydCksIDEpKSA6IFMoXCJcIiwgITApLFxuICAgICAgVChcInNwYW5cIiwgbGwsIEEoZS5jYWxlbmRhckV2ZW50LnRpdGxlKSwgMSlcbiAgICBdLCA0MiwgaWwpKVxuICBdLCA2NCkpO1xufVxuY29uc3QgZGwgPSAvKiBAX19QVVJFX18gKi8gaihkbiwgW1tcInJlbmRlclwiLCBjbF0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi00NzY2ZGZjN1wiXV0pLCB1bCA9IEgoe1xuICBuYW1lOiBcIkRheVwiLFxuICBjb21wb25lbnRzOiB7IEV2ZW50OiBkbCB9LFxuICBtaXhpbnM6IFtzbl0sXG4gIHByb3BzOiB7XG4gICAgY29uZmlnOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIHRpbWU6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgZGF5OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGlzU2VsZWN0ZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IFtcbiAgICBcImV2ZW50LXdhcy1jbGlja2VkXCIsXG4gICAgXCJldmVudC13YXMtZHJhZ2dlZFwiLFxuICAgIFwidXBkYXRlZC1wZXJpb2RcIixcbiAgICBcImRhdGUtd2FzLWNsaWNrZWRcIixcbiAgICBcImRheS13YXMtc2VsZWN0ZWRcIlxuICBdLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZURyb3BwYWJsZTogITFcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGNhbkJlRHJvcHBlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQWN0aXZlRHJvcHBhYmxlO1xuICAgIH0sXG4gICAgaGlkZUxlYWRpbmdBbmRUcmFpbGluZ0RhdGUoKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHJldHVybiB0aGlzLmRheS5pc1RyYWlsaW5nT3JMZWFkaW5nRGF0ZSA9PT0gITAgJiYgKChlID0gdGhpcy5jb25maWcubW9udGgpID09IG51bGwgPyB2b2lkIDAgOiBlLnNob3dUcmFpbGluZ0FuZExlYWRpbmdEYXRlcykgPT09ICExO1xuICAgIH0sXG4gICAgaXNUb2RheSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeWVhcjogZSxcbiAgICAgICAgbW9udGg6IHQsXG4gICAgICAgIGRhdGU6IG5cbiAgICAgIH0gPSB0aGlzLnRpbWUuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKHRoaXMuZGF5LmRhdGVUaW1lU3RyaW5nKTtcbiAgICAgIHJldHVybiB0aGlzLnRpbWUuZGF0ZUlzVG9kYXkobmV3IERhdGUoZSwgdCwgbikpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldE1vcmVFdmVudHMoKSB7XG4gICAgICBjb25zdCB7IGRhdGU6IGUsIG1vbnRoOiB0LCB5ZWFyOiBuIH0gPSB0aGlzLnRpbWUuZ2V0QWxsVmFyaWFibGVzRnJvbURhdGVUaW1lU3RyaW5nKFxuICAgICAgICB0aGlzLmRheS5kYXRlVGltZVN0cmluZ1xuICAgICAgKSwgYSA9IG5ldyBEYXRlKG4sIHQsIGUpLCByID0gdGhpcy50aW1lLmdldENhbGVuZGFyV2Vla0RhdGVPYmplY3RzKGEpLCBzID0gclswXSwgaSA9IHJbNl07XG4gICAgICB0aGlzLiRlbWl0KFwidXBkYXRlZC1wZXJpb2RcIiwgeyBzdGFydDogcywgZW5kOiBpLCBzZWxlY3RlZERhdGU6IGEgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVEcmFnTGVhdmUoKSB7XG4gICAgICB0aGlzLmlzQWN0aXZlRHJvcHBhYmxlID0gITE7XG4gICAgfSxcbiAgICBoYW5kbGVEcmFnRW5kKGUpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmVEcm9wcGFibGUgPSAhMSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9LFxuICAgIGhhbmRsZURyb3AoZSkge1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmVEcm9wcGFibGUgPSAhMSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgIWUgfHwgIWUuZGF0YVRyYW5zZmVyKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB0ID0gSlNPTi5wYXJzZShcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImpzb25cIilcbiAgICAgICk7XG4gICAgICB0aGlzLnRpbWUuZGF0ZVN0cmluZ3NIYXZlRXF1YWxEYXRlcyhcbiAgICAgICAgdC50aW1lLnN0YXJ0LFxuICAgICAgICB0aGlzLnRpbWUuZGF0ZVN0cmluZ0Zyb20odGhpcy5kYXkuZGF0ZVRpbWVTdHJpbmcpXG4gICAgICApIHx8ICh0LnRpbWUuc3RhcnQgPSB0LnRpbWUuc3RhcnQucmVwbGFjZShcbiAgICAgICAgL15cXGR7NH0tXFxkezJ9LVxcZHsyfS8sXG4gICAgICAgIHRoaXMudGltZS5kYXRlU3RyaW5nRnJvbSh0aGlzLmRheS5kYXRlVGltZVN0cmluZylcbiAgICAgICksIHQudGltZS5lbmQgPSB0LnRpbWUuZW5kLnJlcGxhY2UoXG4gICAgICAgIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0vLFxuICAgICAgICB0aGlzLnRpbWUuZGF0ZVN0cmluZ0Zyb20odGhpcy5kYXkuZGF0ZVRpbWVTdHJpbmcpXG4gICAgICApLCB0aGlzLiRlbWl0KFwiZXZlbnQtd2FzLWRyYWdnZWRcIiwgdCkpO1xuICAgIH0sXG4gICAgaGFuZGxlRHJhZ092ZXIoZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNBY3RpdmVEcm9wcGFibGUgPSAhMCwgZS5wcmV2ZW50RGVmYXVsdCgpLCAhMTtcbiAgICB9LFxuICAgIGVtaXREYXlXYXNDbGlja2VkKCkge1xuICAgICAgdGhpcy4kZW1pdChcImRhdGUtd2FzLWNsaWNrZWRcIiwgdGhpcy50aW1lLmRhdGVTdHJpbmdGcm9tKHRoaXMuZGF5LmRhdGVUaW1lU3RyaW5nKSksIHRoaXMuY29uZmlnLmlzU21hbGwgJiYgdGhpcy4kZW1pdChcImRheS13YXMtc2VsZWN0ZWRcIiwgdGhpcy5kYXkpO1xuICAgIH1cbiAgfVxufSk7XG5jb25zdCBmbCA9IFtcImlkXCJdLCBtbCA9IHsgY2xhc3M6IFwiY2FsZW5kYXItbW9udGhfX2RheS1kYXRlXCIgfSwgaGwgPSB7IGNsYXNzOiBcImNhbGVuZGFyLW1vbnRoX2V2ZW50c1wiIH0sIHZsID0ge1xuICBrZXk6IDEsXG4gIGNsYXNzOiBcInNwYWNlLXJlc2VydmVyXCJcbn07XG5mdW5jdGlvbiBnbChlLCB0LCBuLCBhLCByLCBzKSB7XG4gIGNvbnN0IGkgPSAkKFwiRXZlbnRcIik7XG4gIHJldHVybiBlLmhpZGVMZWFkaW5nQW5kVHJhaWxpbmdEYXRlID8gKGYoKSwgbShcImRpdlwiLCB2bCkpIDogKGYoKSwgbShcImRpdlwiLCB7XG4gICAga2V5OiAwLFxuICAgIGlkOiBcImRheS1cIiArIGUudGltZS5kYXRlU3RyaW5nRnJvbShlLmRheS5kYXRlVGltZVN0cmluZyksXG4gICAgY2xhc3M6IHgoW1wiY2FsZW5kYXItbW9udGhfX3dlZWtkYXlcIiwge1xuICAgICAgXCJpcy1kcm9wcGFibGVcIjogZS5jYW5CZURyb3BwZWQsXG4gICAgICBcInRyYWlsaW5nLW9yLWxlYWRpbmdcIjogZS5kYXkuaXNUcmFpbGluZ09yTGVhZGluZ0RhdGUsXG4gICAgICBcImlzLXNlbGVjdGVkXCI6IGUuaXNTZWxlY3RlZCxcbiAgICAgIFwiaXMtdG9kYXlcIjogZS5pc1RvZGF5XG4gICAgfV0pLFxuICAgIG9uQ2xpY2s6IHRbMl0gfHwgKHRbMl0gPSBCdCgoLi4ubykgPT4gZS5lbWl0RGF5V2FzQ2xpY2tlZCAmJiBlLmVtaXREYXlXYXNDbGlja2VkKC4uLm8pLCBbXCJzZWxmXCJdKSksXG4gICAgb25EcmFnbGVhdmU6IHRbM10gfHwgKHRbM10gPSAoLi4ubykgPT4gZS5oYW5kbGVEcmFnTGVhdmUgJiYgZS5oYW5kbGVEcmFnTGVhdmUoLi4ubykpLFxuICAgIG9uRHJhZ292ZXI6IHRbNF0gfHwgKHRbNF0gPSAoLi4ubykgPT4gZS5oYW5kbGVEcmFnT3ZlciAmJiBlLmhhbmRsZURyYWdPdmVyKC4uLm8pKSxcbiAgICBvbkRyb3A6IHRbNV0gfHwgKHRbNV0gPSAoLi4ubykgPT4gZS5oYW5kbGVEcm9wICYmIGUuaGFuZGxlRHJvcCguLi5vKSksXG4gICAgb25EcmFnZW5kOiB0WzZdIHx8ICh0WzZdID0gKC4uLm8pID0+IGUuaGFuZGxlRHJhZ0VuZCAmJiBlLmhhbmRsZURyYWdFbmQoLi4ubykpXG4gIH0sIFtcbiAgICBZKGUuJHNsb3RzLCBcImRheUNlbGxcIiwgeyBkYXlEYXRhOiBlLmRheSB9LCAoKSA9PiBbXG4gICAgICBUKFwic3BhblwiLCBtbCwgQShlLmRheS5kYXRlVGltZVN0cmluZy5zdWJzdHJpbmcoOCwgMTApLnN0YXJ0c1dpdGgoXCIwXCIpID8gZS5kYXkuZGF0ZVRpbWVTdHJpbmcuc3Vic3RyaW5nKDksIDEwKSA6IGUuZGF5LmRhdGVUaW1lU3RyaW5nLnN1YnN0cmluZyg4LCAxMCkpLCAxKSxcbiAgICAgIFQoXCJkaXZcIiwgaGwsIFtcbiAgICAgICAgKGYoITApLCBtKEwsIG51bGwsIHooZS5kYXkuZXZlbnRzLCAobywgbCkgPT4gKGYoKSwgbShMLCB7IGtleTogbCB9LCBbXG4gICAgICAgICAgbCA8IDMgPyAoZigpLCBWKGksIHtcbiAgICAgICAgICAgIGtleTogby5pZCxcbiAgICAgICAgICAgIFwiY2FsZW5kYXItZXZlbnRcIjogbyxcbiAgICAgICAgICAgIGNvbmZpZzogZS5jb25maWcsXG4gICAgICAgICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICAgICAgICBkYXk6IGUuZGF5LFxuICAgICAgICAgICAgb25FdmVudFdhc0NsaWNrZWQ6IHRbMF0gfHwgKHRbMF0gPSAoYykgPT4gZS4kZW1pdChcImV2ZW50LXdhcy1jbGlja2VkXCIsIGMpKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vbnRoRXZlbnQ6IFgoKGMpID0+IFtcbiAgICAgICAgICAgICAgWShlLiRzbG90cywgXCJtb250aEV2ZW50XCIsIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGE6IGMuZXZlbnREYXRhXG4gICAgICAgICAgICAgIH0sIHZvaWQgMCwgITApXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDJcbiAgICAgICAgICB9LCAxMDMyLCBbXCJjYWxlbmRhci1ldmVudFwiLCBcImNvbmZpZ1wiLCBcInRpbWVcIiwgXCJkYXlcIl0pKSA6IFMoXCJcIiwgITApXG4gICAgICAgIF0sIDY0KSkpLCAxMjgpKSxcbiAgICAgICAgZS5kYXkuZXZlbnRzLmxlbmd0aCA+PSA0ID8gKGYoKSwgbShcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiAwLFxuICAgICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLW1vbnRoX193ZWVrZGF5LW1vcmVcIixcbiAgICAgICAgICBvbkNsaWNrOiB0WzFdIHx8ICh0WzFdID0gKC4uLm8pID0+IGUuZ2V0TW9yZUV2ZW50cyAmJiBlLmdldE1vcmVFdmVudHMoLi4ubykpXG4gICAgICAgIH0sIEEoZS5nZXRMYW5ndWFnZShlLmxhbmd1YWdlS2V5cy5tb3JlRXZlbnRzLCBlLnRpbWUuQ0FMRU5EQVJfTE9DQUxFKSksIDEpKSA6IFMoXCJcIiwgITApXG4gICAgICBdKVxuICAgIF0sICEwKVxuICBdLCA0MiwgZmwpKTtcbn1cbmNvbnN0IHBsID0gLyogQF9fUFVSRV9fICovIGoodWwsIFtbXCJyZW5kZXJcIiwgZ2xdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtMDM0ZjA2ZDhcIl1dKSwgeWwgPSBIKHtcbiAgbmFtZTogXCJXZWVrRGF5XCIsXG4gIHByb3BzOiB7XG4gICAgZGF5OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH1cbn0pO1xuY29uc3QgYmwgPSB7IGNsYXNzOiBcImNhbGVuZGFyLW1vbnRoX19kYXktbmFtZVwiIH07XG5mdW5jdGlvbiBEbChlLCB0LCBuLCBhLCByLCBzKSB7XG4gIHJldHVybiBmKCksIG0oXCJzcGFuXCIsIGJsLCBBKGUuZGF5LmRheU5hbWUpLCAxKTtcbn1cbmNvbnN0IGtsID0gLyogQF9fUFVSRV9fICovIGooeWwsIFtbXCJyZW5kZXJcIiwgRGxdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtMDljN2M1ZGJcIl1dKSwgdW4gPSBIKHtcbiAgbmFtZTogXCJFdmVudFwiLFxuICBjb21wb25lbnRzOiB7IEZvbnRBd2Vzb21lSWNvbjogUWUgfSxcbiAgcHJvcHM6IHtcbiAgICB0aW1lOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGNhbGVuZGFyRXZlbnQ6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH0sXG4gICAgY29uZmlnOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbXCJldmVudC13YXMtY2xpY2tlZFwiXSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbnM6IHtcbiAgICAgICAgY2xvY2s6IFZhLFxuICAgICAgICB1c2VyOiBCYSxcbiAgICAgICAgZGVzY3JpcHRpb246IFVhLFxuICAgICAgICB0cmFzaDogemEsXG4gICAgICAgIGVkaXQ6IGphLFxuICAgICAgICB0aW1lczogWWEsXG4gICAgICAgIHRvcGljOiBYYSxcbiAgICAgICAgbG9jYXRpb246IHJuXG4gICAgICB9LFxuICAgICAgY29sb3JzOiB4ZSxcbiAgICAgIGV2ZW50QmFja2dyb3VuZENvbG9yOiBcIlwiLFxuICAgICAgZXZlbnRDb2xvcjogXCIjZmZmXCIsXG4gICAgICBldmVudElkUHJlZml4OiBcImFnZW5kYV9fZXZlbnQtXCJcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGV2ZW50VGltZSgpIHtcbiAgICAgIHJldHVybiBJZS50ZXN0KHRoaXMuY2FsZW5kYXJFdmVudC50aW1lLnN0YXJ0KSA/IHRoaXMudGltZS5nZXRMb2NhbGl6ZWRUaW1lUmFuZ2UoXG4gICAgICAgIHRoaXMuY2FsZW5kYXJFdmVudC50aW1lLnN0YXJ0LFxuICAgICAgICB0aGlzLmNhbGVuZGFyRXZlbnQudGltZS5lbmRcbiAgICAgICkgOiBudWxsO1xuICAgIH0sXG4gICAgZWxlbWVudElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRJZFByZWZpeCArIHRoaXMuY2FsZW5kYXJFdmVudC5pZDtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldENvbG9ycygpIHtcbiAgICAgIHZhciBlLCB0LCBuO1xuICAgICAgcmV0dXJuIChlID0gdGhpcy5jYWxlbmRhckV2ZW50KSAhPSBudWxsICYmIGUuY29sb3JTY2hlbWUgJiYgKCh0ID0gdGhpcy5jb25maWcuc3R5bGUpICE9IG51bGwgJiYgdC5jb2xvclNjaGVtZXMpICYmIHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLmNhbGVuZGFyRXZlbnQuY29sb3JTY2hlbWVdID8gKHRoaXMuZXZlbnRDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlLmNvbG9yU2NoZW1lc1t0aGlzLmNhbGVuZGFyRXZlbnQuY29sb3JTY2hlbWVdLmNvbG9yLCB0aGlzLmV2ZW50QmFja2dyb3VuZENvbG9yID0gdGhpcy5jb25maWcuc3R5bGUuY29sb3JTY2hlbWVzW3RoaXMuY2FsZW5kYXJFdmVudC5jb2xvclNjaGVtZV0uYmFja2dyb3VuZENvbG9yKSA6IChuID0gdGhpcy5jYWxlbmRhckV2ZW50KSAhPSBudWxsICYmIG4uY29sb3IgPyB0aGlzLmV2ZW50QmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5jYWxlbmRhckV2ZW50LmNvbG9yXSA6IHRoaXMuZXZlbnRCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9ycy5ibHVlO1xuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2tPbkV2ZW50KCkge1xuICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudElkKTtcbiAgICAgIHRoaXMuJGVtaXQoXCJldmVudC13YXMtY2xpY2tlZFwiLCB7XG4gICAgICAgIGNsaWNrZWRFdmVudDogdGhpcy5jYWxlbmRhckV2ZW50LFxuICAgICAgICBldmVudEVsZW1lbnQ6IGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSksIGFhID0gKCkgPT4ge1xuICBPZSgoZSkgPT4gKHtcbiAgICBcIjY5MWYyNzkxXCI6IGUuZXZlbnRCYWNrZ3JvdW5kQ29sb3IsXG4gICAgZmExNjQ5YzI6IGUuZXZlbnRDb2xvclxuICB9KSk7XG59LCByYSA9IHVuLnNldHVwO1xudW4uc2V0dXAgPSByYSA/IChlLCB0KSA9PiAoYWEoKSwgcmEoZSwgdCkpIDogYWE7XG5jb25zdCB3bCA9IFtcImlkXCJdLCBFbCA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJhZ2VuZGFfX2V2ZW50LXRpbWVcIlxufSwgU2wgPSB7IGNsYXNzOiBcImFnZW5kYV9fZXZlbnQtdGl0bGVcIiB9LCBUbCA9IHtcbiAga2V5OiAxLFxuICBjbGFzczogXCJhZ2VuZGFfX2V2ZW50LXdpdGhcIlxufSwgQWwgPSB7XG4gIGtleTogMixcbiAgY2xhc3M6IFwiYWdlbmRhX19ldmVudC1sb2NhdGlvblwiXG59O1xuZnVuY3Rpb24gQ2woZSwgdCwgbiwgYSwgciwgcykge1xuICBjb25zdCBpID0gJChcIkZvbnRBd2Vzb21lSWNvblwiKTtcbiAgcmV0dXJuIGYoKSwgbShcImRpdlwiLCB7XG4gICAgaWQ6IGUuZWxlbWVudElkLFxuICAgIGNsYXNzOiBcImFnZW5kYV9fZXZlbnQgaXMtZXZlbnRcIixcbiAgICBvbkNsaWNrOiB0WzBdIHx8ICh0WzBdID0gQnQoKC4uLm8pID0+IGUuaGFuZGxlQ2xpY2tPbkV2ZW50ICYmIGUuaGFuZGxlQ2xpY2tPbkV2ZW50KC4uLm8pLCBbXCJwcmV2ZW50XCJdKSlcbiAgfSwgW1xuICAgIGUuZXZlbnRUaW1lICYmICFlLmNhbGVuZGFyRXZlbnQub3JpZ2luYWxFdmVudCA/IChmKCksIG0oXCJzcGFuXCIsIEVsLCBbXG4gICAgICBJKGksIHtcbiAgICAgICAgaWNvbjogZS5pY29ucy5jbG9ja1xuICAgICAgfSwgbnVsbCwgOCwgW1wiaWNvblwiXSksXG4gICAgICBsZShcIiBcIiArIEEoZS5ldmVudFRpbWUpLCAxKVxuICAgIF0pKSA6IFMoXCJcIiwgITApLFxuICAgIFQoXCJzcGFuXCIsIFNsLCBBKGUuY2FsZW5kYXJFdmVudC50aXRsZSksIDEpLFxuICAgIGUuY2FsZW5kYXJFdmVudC53aXRoID8gKGYoKSwgbShcInNwYW5cIiwgVGwsIFtcbiAgICAgIEkoaSwge1xuICAgICAgICBpY29uOiBlLmljb25zLnVzZXJcbiAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgbGUoXCIgXCIgKyBBKGUuY2FsZW5kYXJFdmVudC53aXRoKSwgMSlcbiAgICBdKSkgOiBTKFwiXCIsICEwKSxcbiAgICBlLmNhbGVuZGFyRXZlbnQubG9jYXRpb24gPyAoZigpLCBtKFwic3BhblwiLCBBbCwgW1xuICAgICAgSShpLCB7XG4gICAgICAgIGljb246IGUuaWNvbnMubG9jYXRpb25cbiAgICAgIH0sIG51bGwsIDgsIFtcImljb25cIl0pLFxuICAgICAgbGUoXCIgXCIgKyBBKGUuY2FsZW5kYXJFdmVudC5sb2NhdGlvbiksIDEpXG4gICAgXSkpIDogUyhcIlwiLCAhMClcbiAgXSwgOCwgd2wpO1xufVxuY29uc3QgX2wgPSAvKiBAX19QVVJFX18gKi8gaih1biwgW1tcInJlbmRlclwiLCBDbF0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi02OThiNDMxZVwiXV0pLCBNbCA9IEgoe1xuICBuYW1lOiBcIkFnZW5kYUV2ZW50c1wiLFxuICBjb21wb25lbnRzOiB7IEFnZW5kYUV2ZW50VGlsZTogX2wgfSxcbiAgbWl4aW5zOiBbc25dLFxuICBwcm9wczoge1xuICAgIGNvbmZpZzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICB0aW1lOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGRheToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogW1xuICAgIFwiZXZlbnQtd2FzLWNsaWNrZWRcIlxuICBdXG59KTtcbmNvbnN0IFBsID0geyBjbGFzczogXCJhZ2VuZGFfX3dyYXBwZXJcIiB9LCBJbCA9IHsgY2xhc3M6IFwiYWdlbmRhX19oZWFkZXJcIiB9LCBMbCA9IHsgY2xhc3M6IFwiYWdlbmRhX19oZWFkZXItZGF5LW5hbWVcIiB9LCBPbCA9IHsgY2xhc3M6IFwiYWdlbmRhX19oZWFkZXItZGF0ZVwiIH0sICRsID0geyBjbGFzczogXCJhZ2VuZGFfX2NvbnRlbnRcIiB9LCBGbCA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJpcy1lbXB0eVwiXG59LCBSbCA9IHtcbiAga2V5OiAxLFxuICBjbGFzczogXCJhZ2VuZGFfX2NvbnRlbnQtZXZlbnRzLWxpc3RcIlxufTtcbmZ1bmN0aW9uIE5sKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgY29uc3QgaSA9ICQoXCJBZ2VuZGFFdmVudFRpbGVcIik7XG4gIHJldHVybiBmKCksIG0oXCJkaXZcIiwgUGwsIFtcbiAgICBUKFwiaGVhZGVyXCIsIElsLCBbXG4gICAgICBUKFwiZGl2XCIsIExsLCBBKGUuZGF5LmRheU5hbWUpLCAxKSxcbiAgICAgIFQoXCJkaXZcIiwgT2wsIEEoZS5kYXkuZGF0ZVRpbWVTdHJpbmcuc3Vic3RyaW5nKDgsIDEwKSksIDEpXG4gICAgXSksXG4gICAgVChcImRpdlwiLCAkbCwgW1xuICAgICAgZS5kYXkuZXZlbnRzLmxlbmd0aCA9PT0gMCA/IChmKCksIG0oXCJkaXZcIiwgRmwsIEEoZS5nZXRMYW5ndWFnZShlLmxhbmd1YWdlS2V5cy5ub0V2ZW50LCBlLnRpbWUuQ0FMRU5EQVJfTE9DQUxFKSksIDEpKSA6IChmKCksIG0oXCJkaXZcIiwgUmwsIFtcbiAgICAgICAgKGYoITApLCBtKEwsIG51bGwsIHooZS5kYXkuZXZlbnRzLCAobykgPT4gKGYoKSwgVihpLCB7XG4gICAgICAgICAga2V5OiBcImFnZW5kYV9ldmVudF9cIiArIG8uaWQsXG4gICAgICAgICAgZGF5OiBlLmRheSxcbiAgICAgICAgICBjb25maWc6IGUuY29uZmlnLFxuICAgICAgICAgIFwiY2FsZW5kYXItZXZlbnRcIjogbyxcbiAgICAgICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICAgICAgb25FdmVudFdhc0NsaWNrZWQ6IHRbMF0gfHwgKHRbMF0gPSAobCkgPT4gZS4kZW1pdChcImV2ZW50LXdhcy1jbGlja2VkXCIsIGwpKVxuICAgICAgICB9LCBudWxsLCA4LCBbXCJkYXlcIiwgXCJjb25maWdcIiwgXCJjYWxlbmRhci1ldmVudFwiLCBcInRpbWVcIl0pKSksIDEyOCkpXG4gICAgICBdKSlcbiAgICBdKVxuICBdKTtcbn1cbmNvbnN0IFdsID0gLyogQF9fUFVSRV9fICovIGooTWwsIFtbXCJyZW5kZXJcIiwgTmxdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtYjYwY2JjZTVcIl1dKSwgSGwgPSBuZXcgcWEoKSwgWWwgPSBIKHtcbiAgbmFtZTogXCJNb250aFwiLFxuICBjb21wb25lbnRzOiB7XG4gICAgQWdlbmRhRXZlbnRzOiBXbCxcbiAgICBEYXk6IHBsLFxuICAgIEV2ZW50Rmx5b3V0OiB4YSxcbiAgICBXZWVrRGF5OiBrbFxuICB9LFxuICBwcm9wczoge1xuICAgIGNvbmZpZzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICB0aW1lOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIHBlcmlvZDoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBldmVudHNQcm9wOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gICAgfVxuICB9LFxuICBlbWl0czogW1xuICAgIFwiZWRpdC1ldmVudFwiLFxuICAgIFwiZGVsZXRlLWV2ZW50XCIsXG4gICAgXCJ1cGRhdGVkLXBlcmlvZFwiLFxuICAgIFwiZXZlbnQtd2FzLWNsaWNrZWRcIixcbiAgICBcImV2ZW50LXdhcy1kcmFnZ2VkXCIsXG4gICAgXCJkYXRlLXdhcy1jbGlja2VkXCJcbiAgXSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9udGg6IFtdLFxuICAgICAgc2VsZWN0ZWRFdmVudDogbnVsbCxcbiAgICAgIHNlbGVjdGVkRXZlbnRFbGVtZW50OiBudWxsLFxuICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50c1Byb3AsXG4gICAgICBmdWxsRGF5RXZlbnRzOiBbXSxcbiAgICAgIHNjcm9sbGJhcjogbnVsbCxcbiAgICAgIHNlbGVjdGVkRGF5OiBudWxsXG4gICAgfTtcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLmluaXRNb250aCgpLCB0aGlzLmluaXRTY3JvbGxiYXIoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGluaXRTY3JvbGxiYXIoZSA9IDApIHtcbiAgICAgIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLW1vbnRoXCIpO1xuICAgICAgZSA+IDNlMyB8fCAodCA/ICh0aGlzLnNjcm9sbGJhciA9IG5ldyBSZSh0KSwgdGhpcy5zY3JvbGxiYXIudXBkYXRlKCkpIDogdGhpcy5pbml0U2Nyb2xsYmFyKGUgKyA1MCkpO1xuICAgIH0sXG4gICAgaW5pdE1vbnRoKCkge1xuICAgICAgdGhpcy5tb250aCA9IFtdLCB0aGlzLnNvcnRPdXRGdWxsRGF5RXZlbnRzKCksIHRoaXMuc2V0TW9udGgoKSwgdGhpcy5jb25maWcuaXNTbWFsbCAmJiB0aGlzLnNldEluaXRpYWxTZWxlY3RlZERheSgpO1xuICAgIH0sXG4gICAgc2V0TW9udGgoKSB7XG4gICAgICBjb25zdCB7IG1vbnRoOiBlLCBmdWxsWWVhcjogdCB9ID0gbmV3IE5lKHRoaXMucGVyaW9kLnNlbGVjdGVkRGF0ZSksIGEgPSB0aGlzLnRpbWUuZ2V0Q2FsZW5kYXJNb250aFNwbGl0SW5XZWVrcyhcbiAgICAgICAgdCxcbiAgICAgICAgZVxuICAgICAgKS5tYXAoKHIpID0+IHIubWFwKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnRpbWUuZ2V0RGF0ZVRpbWVTdHJpbmdGcm9tRGF0ZShzKSwgbyA9IHRoaXMuZXZlbnRzLmZpbHRlcigobCkgPT4gdGhpcy50aW1lLmRhdGVTdHJpbmdzSGF2ZUVxdWFsRGF0ZXMobC50aW1lLnN0YXJ0LCBpKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNUcmFpbGluZ09yTGVhZGluZ0RhdGU6IHRoaXMudGltZS5pc1RyYWlsaW5nT3JMZWFkaW5nRGF0ZShzLCBlKSxcbiAgICAgICAgICBkYXlOYW1lOiB0aGlzLnRpbWUuZ2V0TG9jYWxpemVkTmFtZU9mV2Vla2RheShzKSxcbiAgICAgICAgICBkYXRlVGltZVN0cmluZzogdGhpcy50aW1lLmdldERhdGVUaW1lU3RyaW5nRnJvbURhdGUocyksXG4gICAgICAgICAgZXZlbnRzOiBvXG4gICAgICAgIH07XG4gICAgICB9KSk7XG4gICAgICB0aGlzLm1vbnRoID0gSGwucG9zaXRpb25GdWxsRGF5RXZlbnRzSW5Nb250aChcbiAgICAgICAgYSxcbiAgICAgICAgdGhpcy5mdWxsRGF5RXZlbnRzXG4gICAgICApO1xuICAgIH0sXG4gICAgc29ydE91dEZ1bGxEYXlFdmVudHMoKSB7XG4gICAgICBjb25zdCBlID0gW10sIHQgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLmV2ZW50cylcbiAgICAgICAgRWUuZ2V0RXZlbnRUeXBlKG4sIHRoaXMudGltZSkgPT09IFEuU0lOR0xFX0RBWV9USU1FRCA/IGUucHVzaChuKSA6IHQucHVzaChuKTtcbiAgICAgIHRoaXMuZXZlbnRzID0gZSwgdGhpcy5mdWxsRGF5RXZlbnRzID0gdDtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrT25FdmVudChlKSB7XG4gICAgICB0aGlzLiRlbWl0KFwiZXZlbnQtd2FzLWNsaWNrZWRcIiwgZSksIHRoaXMuc2VsZWN0ZWRFdmVudEVsZW1lbnQgPSBlLmV2ZW50RWxlbWVudCwgdGhpcy5zZWxlY3RlZEV2ZW50ID0gZS5jbGlja2VkRXZlbnQ7XG4gICAgfSxcbiAgICBoYW5kbGVFdmVudFdhc0RyYWdnZWQoZSkge1xuICAgICAgdGhpcy4kZW1pdChcImV2ZW50LXdhcy1kcmFnZ2VkXCIsIGUpO1xuICAgICAgY29uc3QgdCA9IFsuLi50aGlzLmV2ZW50cywgLi4udGhpcy5mdWxsRGF5RXZlbnRzXS5maWx0ZXIoXG4gICAgICAgIChuKSA9PiBuLmlkICE9PSBlLmlkXG4gICAgICApO1xuICAgICAgdC5wdXNoKGUpLCB0aGlzLmV2ZW50cyA9IFtdLCB0aGlzLmZ1bGxEYXlFdmVudHMgPSBbXSwgdGhpcy5ldmVudHMgPSB0LCB0aGlzLmluaXRNb250aCgpO1xuICAgIH0sXG4gICAgc2V0SW5pdGlhbFNlbGVjdGVkRGF5KCkge1xuICAgICAgY29uc3QgZSA9IHRoaXMudGltZS5nZXREYXRlU3RyaW5nRnJvbURhdGUodGhpcy5wZXJpb2Quc2VsZWN0ZWREYXRlKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXkgPSB0aGlzLm1vbnRoLmZsYXQoKS5maW5kKCh0KSA9PiB0aGlzLnRpbWUuZGF0ZVN0cmluZ0Zyb20odC5kYXRlVGltZVN0cmluZykgPT09IGUpIHx8IG51bGw7XG4gICAgfVxuICB9XG59KTtcbmNvbnN0IHpsID0geyBjbGFzczogXCJjYWxlbmRhci1tb250aFwiIH0sIGpsID0geyBjbGFzczogXCJjYWxlbmRhci1tb250aF9fd2Vlay1kYXktbmFtZXNcIiB9LCBCbCA9IHsgY2xhc3M6IFwiY2FsZW5kYXItbW9udGhfX3dlZWtzXCIgfSwgWGwgPSB7XG4gIGtleTogMCxcbiAgY2xhc3M6IFwiY2FsZW5kYXItbW9udGhfX2RheV9ldmVudHNcIlxufTtcbmZ1bmN0aW9uIFVsKGUsIHQsIG4sIGEsIHIsIHMpIHtcbiAgdmFyIGQ7XG4gIGNvbnN0IGkgPSAkKFwiV2Vla0RheVwiKSwgbyA9ICQoXCJEYXlcIiksIGwgPSAkKFwiQWdlbmRhRXZlbnRzXCIpLCBjID0gJChcIkV2ZW50Rmx5b3V0XCIpO1xuICByZXR1cm4gZigpLCBtKFwiZGl2XCIsIHpsLCBbXG4gICAgVChcImRpdlwiLCBqbCwgW1xuICAgICAgKGYoITApLCBtKEwsIG51bGwsIHooZS5tb250aFswXSwgKHUsIGcpID0+IChmKCksIFYoaSwge1xuICAgICAgICBrZXk6IGcsXG4gICAgICAgIGNsYXNzOiBcImNhbGVuZGFyLW1vbnRoX193ZWVrLWRheS1uYW1lXCIsXG4gICAgICAgIGNvbmZpZzogZS5jb25maWcsXG4gICAgICAgIGRheTogdSxcbiAgICAgICAgdGltZTogZS50aW1lXG4gICAgICB9LCBudWxsLCA4LCBbXCJjb25maWdcIiwgXCJkYXlcIiwgXCJ0aW1lXCJdKSkpLCAxMjgpKVxuICAgIF0pLFxuICAgIFQoXCJkaXZcIiwgQmwsIFtcbiAgICAgIChmKCEwKSwgbShMLCBudWxsLCB6KGUubW9udGgsICh1LCBnKSA9PiAoZigpLCBtKFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBnLFxuICAgICAgICBjbGFzczogXCJjYWxlbmRhci1tb250aF9fd2Vla1wiXG4gICAgICB9LCBbXG4gICAgICAgIChmKCEwKSwgbShMLCBudWxsLCB6KHUsIChELCB5KSA9PiB7XG4gICAgICAgICAgdmFyIGs7XG4gICAgICAgICAgcmV0dXJuIGYoKSwgVihvLCB7XG4gICAgICAgICAgICBrZXk6IHksXG4gICAgICAgICAgICBjb25maWc6IGUuY29uZmlnLFxuICAgICAgICAgICAgZGF5OiBELFxuICAgICAgICAgICAgdGltZTogZS50aW1lLFxuICAgICAgICAgICAgXCJpcy1zZWxlY3RlZFwiOiAoKGsgPSBlLnNlbGVjdGVkRGF5KSA9PSBudWxsID8gdm9pZCAwIDogay5kYXRlVGltZVN0cmluZykgPT09IEQuZGF0ZVRpbWVTdHJpbmcsXG4gICAgICAgICAgICBvbkV2ZW50V2FzQ2xpY2tlZDogZS5oYW5kbGVDbGlja09uRXZlbnQsXG4gICAgICAgICAgICBvbkV2ZW50V2FzRHJhZ2dlZDogZS5oYW5kbGVFdmVudFdhc0RyYWdnZWQsXG4gICAgICAgICAgICBvbkRhdGVXYXNDbGlja2VkOiB0WzBdIHx8ICh0WzBdID0gKHcpID0+IGUuJGVtaXQoXCJkYXRlLXdhcy1jbGlja2VkXCIsIHcpKSxcbiAgICAgICAgICAgIG9uRGF5V2FzU2VsZWN0ZWQ6IHRbMV0gfHwgKHRbMV0gPSAodykgPT4gZS5zZWxlY3RlZERheSA9IHcpLFxuICAgICAgICAgICAgb25VcGRhdGVkUGVyaW9kOiB0WzJdIHx8ICh0WzJdID0gKHcpID0+IGUuJGVtaXQoXCJ1cGRhdGVkLXBlcmlvZFwiLCB3KSlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb250aEV2ZW50OiBYKCh7IGV2ZW50RGF0YTogdyB9KSA9PiBbXG4gICAgICAgICAgICAgIFkoZS4kc2xvdHMsIFwibW9udGhFdmVudFwiLCB7IGV2ZW50RGF0YTogdyB9LCB2b2lkIDAsICEwKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBkYXlDZWxsOiBYKCh7IGRheURhdGE6IHcgfSkgPT4gW1xuICAgICAgICAgICAgICBZKGUuJHNsb3RzLCBcImRheUNlbGxcIiwgeyBkYXlEYXRhOiB3IH0sIHZvaWQgMCwgITApXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDJcbiAgICAgICAgICB9LCAxMDMyLCBbXCJjb25maWdcIiwgXCJkYXlcIiwgXCJ0aW1lXCIsIFwiaXMtc2VsZWN0ZWRcIiwgXCJvbkV2ZW50V2FzQ2xpY2tlZFwiLCBcIm9uRXZlbnRXYXNEcmFnZ2VkXCJdKTtcbiAgICAgICAgfSksIDEyOCkpXG4gICAgICBdKSkpLCAxMjgpKVxuICAgIF0pLFxuICAgICgoZCA9IGUuY29uZmlnLm1vbnRoKSA9PSBudWxsID8gdm9pZCAwIDogZC5zaG93RXZlbnRzT25Nb2JpbGVWaWV3KSAhPT0gITEgPyAoZigpLCBtKFwiZGl2XCIsIFhsLCBbXG4gICAgICBlLnNlbGVjdGVkRGF5ID8gKGYoKSwgVihsLCB7XG4gICAgICAgIGtleTogMCxcbiAgICAgICAgY29uZmlnOiBlLmNvbmZpZyxcbiAgICAgICAgdGltZTogZS50aW1lLFxuICAgICAgICBkYXk6IGUuc2VsZWN0ZWREYXksXG4gICAgICAgIG9uRXZlbnRXYXNDbGlja2VkOiBlLmhhbmRsZUNsaWNrT25FdmVudFxuICAgICAgfSwgbnVsbCwgOCwgW1wiY29uZmlnXCIsIFwidGltZVwiLCBcImRheVwiLCBcIm9uRXZlbnRXYXNDbGlja2VkXCJdKSkgOiBTKFwiXCIsICEwKVxuICAgIF0pKSA6IFMoXCJcIiwgITApLFxuICAgICFlLmNvbmZpZy5ldmVudERpYWxvZyB8fCAhZS5jb25maWcuZXZlbnREaWFsb2cuaXNEaXNhYmxlZCA/IChmKCksIFYoYywge1xuICAgICAga2V5OiAxLFxuICAgICAgXCJjYWxlbmRhci1ldmVudC1wcm9wXCI6IGUuc2VsZWN0ZWRFdmVudCxcbiAgICAgIFwiZXZlbnQtZWxlbWVudFwiOiBlLnNlbGVjdGVkRXZlbnRFbGVtZW50LFxuICAgICAgdGltZTogZS50aW1lLFxuICAgICAgY29uZmlnOiBlLmNvbmZpZyxcbiAgICAgIG9uSGlkZTogdFszXSB8fCAodFszXSA9ICh1KSA9PiBlLnNlbGVjdGVkRXZlbnQgPSBudWxsKSxcbiAgICAgIG9uRWRpdEV2ZW50OiB0WzRdIHx8ICh0WzRdID0gKHUpID0+IGUuJGVtaXQoXCJlZGl0LWV2ZW50XCIsIHUpKSxcbiAgICAgIG9uRGVsZXRlRXZlbnQ6IHRbNV0gfHwgKHRbNV0gPSAodSkgPT4gZS4kZW1pdChcImRlbGV0ZS1ldmVudFwiLCB1KSlcbiAgICB9LCB7XG4gICAgICBkZWZhdWx0OiBYKCh1KSA9PiBbXG4gICAgICAgIFkoZS4kc2xvdHMsIFwiZXZlbnREaWFsb2dcIiwge1xuICAgICAgICAgIGV2ZW50RGlhbG9nRGF0YTogdS5ldmVudERpYWxvZ0RhdGEsXG4gICAgICAgICAgY2xvc2VFdmVudERpYWxvZzogdS5jbG9zZUV2ZW50RGlhbG9nXG4gICAgICAgIH0sIHZvaWQgMCwgITApXG4gICAgICBdKSxcbiAgICAgIF86IDNcbiAgICB9LCA4LCBbXCJjYWxlbmRhci1ldmVudC1wcm9wXCIsIFwiZXZlbnQtZWxlbWVudFwiLCBcInRpbWVcIiwgXCJjb25maWdcIl0pKSA6IFMoXCJcIiwgITApXG4gIF0pO1xufVxuY29uc3QgVmwgPSAvKiBAX19QVVJFX18gKi8gaihZbCwgW1tcInJlbmRlclwiLCBVbF0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi0yMDZjMTc3ZVwiXV0pLCBLID0gY2xhc3Mge1xuICBzdGF0aWMgY2hlY2tFdmVudFByb3BlcnRpZXModCkge1xuICAgIHZhciBuLCBhLCByLCBzLCBpLCBvO1xuICAgIHQuaWQgfHwgY29uc29sZS53YXJuKHRoaXMuTUlTU0lOR19JRF9XQVJOSU5HKSwgdC50aXRsZSB8fCBjb25zb2xlLndhcm4odGhpcy5NSVNTSU5HX1RJVExFX1dBUk5JTkcpLCB0LnRpbWUgfHwgY29uc29sZS53YXJuKHRoaXMuTUlTU0lOR19USU1FX1dBUk5JTkcpLCAobiA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQudGltZSkgIT0gbnVsbCAmJiBuLnN0YXJ0IHx8IGNvbnNvbGUud2Fybih0aGlzLk1JU1NJTkdfVElNRV9TVEFSVF9XQVJOSU5HKSwgKGEgPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LnRpbWUpICE9IG51bGwgJiYgYS5lbmQgfHwgY29uc29sZS53YXJuKHRoaXMuTUlTU0lOR19USU1FX0VORF9XQVJOSU5HKSwgKHIgPSB0LnRpbWUpICE9IG51bGwgJiYgci5zdGFydCAmJiAoKHMgPSB0LnRpbWUpICE9IG51bGwgJiYgcy5lbmQpICYmICFJZS50ZXN0KHQudGltZS5zdGFydCkgJiYgIWZ0LnRlc3QodC50aW1lLnN0YXJ0KSAmJiBjb25zb2xlLndhcm4oXG4gICAgICBgJHt0aGlzLlBSRUZJWH0gZXZlbnQgcHJvcGVydHkgJ3RpbWUuc3RhcnQnIGV4cGVjdHMgYSBzdHJpbmcgZm9ybWF0dGVkIGxpa2UgJ1lZWVktTU0tREQgaGg6bW0nLCBvciAnWVlZWS1NTS1ERCcsIHJlY2VpdmVkICR7dC50aW1lLnN0YXJ0fSBcbiR7dGhpcy5TVUZGSVh9YFxuICAgICksIChpID0gdC50aW1lKSAhPSBudWxsICYmIGkuc3RhcnQgJiYgKChvID0gdC50aW1lKSAhPSBudWxsICYmIG8uZW5kKSAmJiAhSWUudGVzdCh0LnRpbWUuZW5kKSAmJiAhZnQudGVzdCh0LnRpbWUuZW5kKSAmJiBjb25zb2xlLndhcm4oXG4gICAgICBgJHt0aGlzLlBSRUZJWH0gZXZlbnQgcHJvcGVydHkgJ3RpbWUuZW5kJyBleHBlY3RzIGEgc3RyaW5nIGZvcm1hdHRlZCBsaWtlICdZWVlZLU1NLUREIGhoOm1tJywgIG9yICdZWVlZLU1NLUREJywgcmVjZWl2ZWQgJHt0LnRpbWUuZW5kfSBcbiR7dGhpcy5TVUZGSVh9YFxuICAgICk7XG4gIH1cbiAgc3RhdGljIGNoZWNrQ29uZmlnKHQpIHtcbiAgICB0LmxvY2FsZSAmJiAhL15bYS16XXsyfS1bQS1aXXsyfSQvLnRlc3QodC5sb2NhbGUpICYmIGNvbnNvbGUud2FybihcbiAgICAgIGAke3RoaXMuUFJFRklYfSBjb25maWcubG9jYWxlIGV4cGVjdHMgYSBzdHJpbmcgb2YgZm9ybWF0IHh4LVhYLCByZWNlaXZlZDogJHt0LmxvY2FsZX1gXG4gICAgKSwgdC5kZWZhdWx0TW9kZSAmJiAhW1wibW9udGhcIiwgXCJ3ZWVrXCIsIFwiZGF5XCJdLnNvbWUoKG4pID0+IG4gPT09IHQuZGVmYXVsdE1vZGUpICYmIGNvbnNvbGUud2FybihcbiAgICAgIGAke3RoaXMuUFJFRklYfSBjb25maWcuZGVmYXVsdE1vZGUgZXhwZWN0cyBlaXRoZXIgb25lIG9mIHRoZSB2YWx1ZXMgXCJkYXlcIiwgXCJ3ZWVrXCIgb3IgXCJtb250aFwiYFxuICAgICk7XG4gIH1cbn07XG5sZXQgYWUgPSBLO1xuRihhZSwgXCJQUkVGSVhcIiwgXCJbUWFsZW5kYXIgd2FybmluZ11cIiksIC8vIHB1YmxpYyBzdGF0aWMgU1VGRklYID0gJ1RoaXMgaXMgYSBkZXZlbG9wbWVudCB3YXJuaW5nLCB3aGljaCB3aWxsIG5ldmVyIGJlIGRpc3BsYXllZCBpbiBwcm9kdWN0aW9uIGVudmlyb25tZW50cydcbkYoYWUsIFwiU1VGRklYXCIsIFwiXCIpLCBGKGFlLCBcIk1JU1NJTkdfSURfV0FSTklOR1wiLCBgJHtLLlBSRUZJWH0gcmVxdWlyZWQgZXZlbnQgcHJvcGVydHkgJ2lkJyBpcyBtaXNzaW5nIFxuJHtLLlNVRkZJWH1gKSwgRihhZSwgXCJNSVNTSU5HX1RJVExFX1dBUk5JTkdcIiwgYCR7Sy5QUkVGSVh9IHJlcXVpcmVkIGV2ZW50IHByb3BlcnR5ICd0aXRsZScgaXMgbWlzc2luZyBcbiR7Sy5TVUZGSVh9YCksIEYoYWUsIFwiTUlTU0lOR19USU1FX1dBUk5JTkdcIiwgYCR7Sy5QUkVGSVh9IHJlcXVpcmVkIGV2ZW50IHByb3BlcnR5ICd0aW1lJyBpcyBtaXNzaW5nIFxuJHtLLlNVRkZJWH1gKSwgRihhZSwgXCJNSVNTSU5HX1RJTUVfU1RBUlRfV0FSTklOR1wiLCBgJHtLLlBSRUZJWH0gcmVxdWlyZWQgZXZlbnQgcHJvcGVydHkgJ3RpbWUuc3RhcnQnIGlzIG1pc3NpbmcgXG4ke0suU1VGRklYfWApLCBGKGFlLCBcIk1JU1NJTkdfVElNRV9FTkRfV0FSTklOR1wiLCBgJHtLLlBSRUZJWH0gcmVxdWlyZWQgZXZlbnQgcHJvcGVydHkgJ3RpbWUuZW5kJyBpcyBtaXNzaW5nIFxuJHtLLlNVRkZJWH1gKTtcbmNvbnN0IGZuID0gSCh7XG4gIG5hbWU6IFwiUWFsZW5kYXJcIixcbiAgY29tcG9uZW50czoge1xuICAgIE1vbnRoOiBWbCxcbiAgICBBcHBIZWFkZXI6IElzLFxuICAgIFdlZWs6IHRsXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgY29uZmlnOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiAoKSA9PiAoe30pXG4gICAgfSxcbiAgICBldmVudHM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogKCkgPT4gW11cbiAgICB9LFxuICAgIHNlbGVjdGVkRGF0ZToge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIGRlZmF1bHQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgfSxcbiAgICBpc0xvYWRpbmc6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiAhMVxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IFtcbiAgICBcImV2ZW50LXdhcy1jbGlja2VkXCIsXG4gICAgXCJldmVudC13YXMtcmVzaXplZFwiLFxuICAgIFwiZXZlbnQtd2FzLWRyYWdnZWRcIixcbiAgICBcInVwZGF0ZWQtcGVyaW9kXCIsXG4gICAgXCJ1cGRhdGVkLW1vZGVcIixcbiAgICBcImVkaXQtZXZlbnRcIixcbiAgICBcImRlbGV0ZS1ldmVudFwiLFxuICAgIFwiaW50ZXJ2YWwtd2FzLWNsaWNrZWRcIixcbiAgICBcImRheS13YXMtY2xpY2tlZFwiLFxuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIHY0LiBkYXktd2FzLWNsaWNrZWQgaXMgZGVwcmVjYXRlZFxuICAgIFwiZGF0ZS13YXMtY2xpY2tlZFwiLFxuICAgIFwiZGF0ZXRpbWUtd2FzLWNsaWNrZWRcIlxuICBdLFxuICBkYXRhKCkge1xuICAgIHZhciBlLCB0LCBuLCBhLCByLCBzLCBpLCBvLCBsLCBjO1xuICAgIHJldHVybiB7XG4gICAgICB3YXNJbml0aWFsaXplZDogMCxcbiAgICAgIHBlcmlvZDoge1xuICAgICAgICBzdGFydDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIGVuZDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5zZWxlY3RlZERhdGVcbiAgICAgIH0sXG4gICAgICBtb2RlOiAoKGUgPSB0aGlzLmNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZGVmYXVsdE1vZGUpIHx8IFwid2Vla1wiLFxuICAgICAgdGltZTogbmV3IHNlKChuID0gKHQgPSB0aGlzLmNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IHQud2VlaykgPT0gbnVsbCA/IHZvaWQgMCA6IG4uc3RhcnRzT24sICgoYSA9IHRoaXMuY29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogYS5sb2NhbGUpIHx8IG51bGwsIHtcbiAgICAgICAgc3RhcnQ6IHRoaXMuc2V0VGltZVBvaW50c0Zyb21EYXlCb3VuZGFyeShcbiAgICAgICAgICAoKHMgPSAociA9IHRoaXMuY29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogci5kYXlCb3VuZGFyaWVzKSA9PSBudWxsID8gdm9pZCAwIDogcy5zdGFydCkgfHwgMFxuICAgICAgICApLFxuICAgICAgICBlbmQ6IHRoaXMuc2V0VGltZVBvaW50c0Zyb21EYXlCb3VuZGFyeShcbiAgICAgICAgICAoKG8gPSAoaSA9IHRoaXMuY29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogaS5kYXlCb3VuZGFyaWVzKSA9PSBudWxsID8gdm9pZCAwIDogby5lbmQpIHx8IDI0XG4gICAgICAgIClcbiAgICAgIH0pLFxuICAgICAgZm9udEZhbWlseTogKChjID0gKGwgPSB0aGlzLmNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IGwuc3R5bGUpID09IG51bGwgPyB2b2lkIDAgOiBjLmZvbnRGYW1pbHkpIHx8IFwiJ1ZlcmRhbmEnLCAnT3BlbiBTYW5zJywgc2VyaWZcIixcbiAgICAgIGV2ZW50UmVuZGVyaW5nS2V5OiAwLFxuICAgICAgLy8gV29ya3Mgb25seSBhcyBhIGR1bW15IHZhbHVlLCBmb3IgcmUtcmVuZGVyaW5nIE1vbnRoLSBhbmQgV2VlayBjb21wb25lbnRzLCB3aGVuIGV2ZW50cy13YXRjaGVyIHRyaWdnZXJzXG4gICAgICBldmVudHNEYXRhUHJvcGVydHk6IHRoaXMuZXZlbnRzLFxuICAgICAgaXNTbWFsbDogITEsXG4gICAgICBFcnJvcnNIZWxwZXI6IGFlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBlbmhhbmNlZENvbmZpZygpIHtcbiAgICAgIHJldHVybiB7IC4uLnRoaXMuY29uZmlnLCBpc1NtYWxsOiB0aGlzLmlzU21hbGwgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZXZlbnRzOiB7XG4gICAgICBkZWVwOiAhMCxcbiAgICAgIGhhbmRsZXIoZSwgdCkge1xuICAgICAgICBKU09OLnN0cmluZ2lmeShlKSAhPT0gSlNPTi5zdHJpbmdpZnkodCkgJiYgKHRoaXMuZXZlbnRzRGF0YVByb3BlcnR5ID0gZSwgdGhpcy5ldmVudFJlbmRlcmluZ0tleSA9IHRoaXMuZXZlbnRSZW5kZXJpbmdLZXkgKyAxKSwgIXRoaXMuY29uZmlnLmlzU2lsZW50ICYmIHRoaXMuZXZlbnRzLmZvckVhY2goKG4pID0+IHRoaXMuRXJyb3JzSGVscGVyLmNoZWNrRXZlbnRQcm9wZXJ0aWVzKG4pKTtcbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGU6ICEwXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIGRlZXA6ICEwLFxuICAgICAgaGFuZGxlcihlKSB7XG4gICAgICAgIHRoaXMuRXJyb3JzSGVscGVyLmNoZWNrQ29uZmlnKGUpO1xuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZTogITBcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zZXRDb25maWdPbk1vdW50KCksIHRoaXMub25DYWxlbmRhclJlc2l6ZSgpLCB0aGlzLnNldFBlcmlvZE9uTW91bnQoKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vbkNhbGVuZGFyUmVzaXplKTtcbiAgfSxcbiAgYmVmb3JlVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uQ2FsZW5kYXJSZXNpemUpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0Q29uZmlnT25Nb3VudCgpIHtcbiAgICAgIHRoaXMud2FzSW5pdGlhbGl6ZWQgPSAxO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogc2V0TW9kZVdlZWsgaXMgdXNlZCBhcyBmbGFnLCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBcIisgc2VlIG1vcmVcIiBmb3IgYSBkYXksIGluIHRoZSBtb250aCB2aWV3XG4gICAgICogKi9cbiAgICBoYW5kbGVVcGRhdGVkUGVyaW9kKGUsIHQgPSAhMSkge1xuICAgICAgdGhpcy4kZW1pdChcInVwZGF0ZWQtcGVyaW9kXCIsIHsgc3RhcnQ6IGUuc3RhcnQsIGVuZDogZS5lbmQgfSksIHRoaXMucGVyaW9kID0gZSwgdCAmJiAodGhpcy5tb2RlID0gXCJkYXlcIik7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhpcy5wZXJpb2QgYWNjb3JkaW5nIHRvIHRoZSBuZXcgbW9kZSwgYW5kIHRoZW4gc2V0IHRoaXMubW9kZSB0byB0aGUgcHJvdmlkZWQgcGF5bG9hZFxuICAgICAqICovXG4gICAgaGFuZGxlQ2hhbmdlTW9kZShlKSB7XG4gICAgICBpZiAoZSA9PT0gXCJkYXlcIiAmJiAodGhpcy5wZXJpb2Quc3RhcnQgPSB0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGUsIHRoaXMucGVyaW9kLmVuZCA9IHRoaXMudGltZS5zZXREYXRlVG9FbmRPZkRheSh0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGUpKSwgZSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMudGltZS5nZXRDYWxlbmRhcldlZWtEYXRlT2JqZWN0cyhcbiAgICAgICAgICB0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGVcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wZXJpb2Quc3RhcnQgPSB0WzBdLCB0aGlzLnBlcmlvZC5lbmQgPSB0aGlzLnRpbWUuc2V0RGF0ZVRvRW5kT2ZEYXkodFs2XSk7XG4gICAgICB9XG4gICAgICBpZiAoZSA9PT0gXCJtb250aFwiKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnRpbWUuZ2V0Q2FsZW5kYXJNb250aFNwbGl0SW5XZWVrcyhcbiAgICAgICAgICB0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICB0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGUuZ2V0TW9udGgoKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnBlcmlvZC5zdGFydCA9IHRbMF1bMF07XG4gICAgICAgIGNvbnN0IG4gPSB0W3QubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMucGVyaW9kLmVuZCA9IHRoaXMudGltZS5zZXREYXRlVG9FbmRPZkRheShcbiAgICAgICAgICBuW24ubGVuZ3RoIC0gMV1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW9kZSA9IGUsIHRoaXMuJGVtaXQoXCJ1cGRhdGVkLW1vZGVcIiwgeyBtb2RlOiBlLCBwZXJpb2Q6IHRoaXMucGVyaW9kIH0pO1xuICAgIH0sXG4gICAgb25DYWxlbmRhclJlc2l6ZSgpIHtcbiAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLXJvb3RcIiksIG4gPSArd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkuZm9udFNpemUuc3BsaXQoXCJwXCIpWzBdLCBhID0gNzAwLCByID0gMTYgLyBuLCBzID0gYSAvIHI7XG4gICAgICB0ICYmICh0aGlzLmlzU21hbGwgPSB0LmNsaWVudFdpZHRoIDwgcywgdGhpcy5pc1NtYWxsICYmICFbXCJkYXlcIiwgXCJtb250aFwiXS5pbmNsdWRlcyh0aGlzLm1vZGUpICYmICh0aGlzLm1vZGUgPSBcImRheVwiKSk7XG4gICAgfSxcbiAgICBzZXRQZXJpb2RPbk1vdW50KCkge1xuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudGltZS5nZXRDYWxlbmRhcldlZWtEYXRlT2JqZWN0cyhcbiAgICAgICAgICB0aGlzLnBlcmlvZC5zZWxlY3RlZERhdGVcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wZXJpb2Quc3RhcnQgPSBlWzBdLCB0aGlzLnBlcmlvZC5lbmQgPSBlWzZdO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09IFwibW9udGhcIikge1xuICAgICAgICBjb25zdCBlID0gdGhpcy50aW1lLmdldENhbGVuZGFyTW9udGhTcGxpdEluV2Vla3MoXG4gICAgICAgICAgdGhpcy5wZXJpb2Quc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgdGhpcy5wZXJpb2Quc2VsZWN0ZWREYXRlLmdldE1vbnRoKClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wZXJpb2Quc3RhcnQgPSBlWzBdWzBdO1xuICAgICAgICBjb25zdCB0ID0gZVtlLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnBlcmlvZC5lbmQgPSB0W3QubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVFdmVudFdhc1VwZGF0ZWQoZSwgdCkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuZXZlbnRzRGF0YVByb3BlcnR5LmZpbHRlcihcbiAgICAgICAgKGEpID0+IGEuaWQgIT09IGUuaWRcbiAgICAgICk7XG4gICAgICB0aGlzLmV2ZW50c0RhdGFQcm9wZXJ0eSA9IFtlLCAuLi5uXSwgdGhpcy4kZW1pdChgZXZlbnQtd2FzLSR7dH1gLCBlKTtcbiAgICB9LFxuICAgIHNldFRpbWVQb2ludHNGcm9tRGF5Qm91bmRhcnkoZSkge1xuICAgICAgcmV0dXJuIHNlLmdldFRpbWVQb2ludHNGcm9tSG91cihlKTtcbiAgICB9LFxuICAgIGhhbmRsZURhdGVXYXNDbGlja2VkKGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoXCJkYXktd2FzLWNsaWNrZWRcIiwgZSksIHRoaXMuJGVtaXQoXCJkYXRlLXdhcy1jbGlja2VkXCIsIGUpO1xuICAgIH0sXG4gICAgZ29Ub1BlcmlvZChlKSB7XG4gICAgICB0aGlzLiRyZWZzLmFwcEhlYWRlci5nb1RvUGVyaW9kKGUpO1xuICAgIH1cbiAgfVxufSksIGlhID0gKCkgPT4ge1xuICBPZSgoZSkgPT4gKHtcbiAgICBcIjUxZDgyODA1XCI6IGUuZm9udEZhbWlseVxuICB9KSk7XG59LCBzYSA9IGZuLnNldHVwO1xuZm4uc2V0dXAgPSBzYSA/IChlLCB0KSA9PiAoaWEoKSwgc2EoZSwgdCkpIDogaWE7XG5jb25zdCB4bCA9IHsgY2xhc3M6IFwiY2FsZW5kYXItcm9vdC13cmFwcGVyXCIgfSwgcWwgPSBbXCJkYXRhLWxhbmdcIl0sIEdsID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcInRvcC1iYXItbG9hZGVyXCJcbn07XG5mdW5jdGlvbiBLbChlLCB0LCBuLCBhLCByLCBzKSB7XG4gIHZhciBjLCBkO1xuICBjb25zdCBpID0gJChcIkFwcEhlYWRlclwiKSwgbyA9ICQoXCJXZWVrXCIpLCBsID0gJChcIk1vbnRoXCIpO1xuICByZXR1cm4gZigpLCBtKFwiZGl2XCIsIHhsLCBbXG4gICAgVChcImRpdlwiLCB7XG4gICAgICBjbGFzczogeChbXCJjYWxlbmRhci1yb290XCIsIHtcbiAgICAgICAgXCJtb2RlLWlzLWRheVwiOiBlLm1vZGUgPT09IFwiZGF5XCIsXG4gICAgICAgIFwibW9kZS1pcy13ZWVrXCI6IGUubW9kZSA9PT0gXCJ3ZWVrXCIsXG4gICAgICAgIFwibW9kZS1pcy1tb250aFwiOiBlLm1vZGUgPT09IFwibW9udGhcIixcbiAgICAgICAgXCJxYWxlbmRhci1pcy1zbWFsbFwiOiBlLmlzU21hbGxcbiAgICAgIH1dKSxcbiAgICAgIFwiZGF0YS1sYW5nXCI6ICgoZCA9IChjID0gZS5jb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBjLmxvY2FsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGQuc3Vic3RyaW5nKDAsIDIpKSB8fCBcImVuXCJcbiAgICB9LCBbXG4gICAgICBJKGlyLCB7IG5hbWU6IFwibG9hZGluZ1wiIH0sIHtcbiAgICAgICAgZGVmYXVsdDogWCgoKSA9PiBbXG4gICAgICAgICAgZS5pc0xvYWRpbmcgPyAoZigpLCBtKFwiZGl2XCIsIEdsKSkgOiBTKFwiXCIsICEwKVxuICAgICAgICBdKSxcbiAgICAgICAgXzogMVxuICAgICAgfSksXG4gICAgICAoZigpLCBWKGksIHtcbiAgICAgICAgcmVmOiBcImFwcEhlYWRlclwiLFxuICAgICAgICBrZXk6IGUud2FzSW5pdGlhbGl6ZWQgKyBlLm1vZGUsXG4gICAgICAgIGNvbmZpZzogZS5jb25maWcsXG4gICAgICAgIG1vZGU6IGUubW9kZSxcbiAgICAgICAgdGltZTogZS50aW1lLFxuICAgICAgICBwZXJpb2Q6IGUucGVyaW9kLFxuICAgICAgICBcImlzLXNtYWxsXCI6IGUuaXNTbWFsbCxcbiAgICAgICAgb25DaGFuZ2VNb2RlOiBlLmhhbmRsZUNoYW5nZU1vZGUsXG4gICAgICAgIG9uVXBkYXRlZFBlcmlvZDogZS5oYW5kbGVVcGRhdGVkUGVyaW9kXG4gICAgICB9LCBudWxsLCA4LCBbXCJjb25maWdcIiwgXCJtb2RlXCIsIFwidGltZVwiLCBcInBlcmlvZFwiLCBcImlzLXNtYWxsXCIsIFwib25DaGFuZ2VNb2RlXCIsIFwib25VcGRhdGVkUGVyaW9kXCJdKSksXG4gICAgICBbXCJ3ZWVrXCIsIFwiZGF5XCJdLmluY2x1ZGVzKGUubW9kZSkgPyAoZigpLCBWKG8sIHtcbiAgICAgICAga2V5OiBlLnBlcmlvZC5zdGFydC5nZXRUaW1lKCkgKyBlLnBlcmlvZC5lbmQuZ2V0VGltZSgpICsgZS5ldmVudFJlbmRlcmluZ0tleSxcbiAgICAgICAgXCJldmVudHMtcHJvcFwiOiBlLmV2ZW50c0RhdGFQcm9wZXJ0eSxcbiAgICAgICAgcGVyaW9kOiBlLnBlcmlvZCxcbiAgICAgICAgY29uZmlnOiBlLmNvbmZpZyxcbiAgICAgICAgXCJtb2RlLXByb3BcIjogZS5tb2RlLFxuICAgICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICAgIG9uRXZlbnRXYXNDbGlja2VkOiB0WzBdIHx8ICh0WzBdID0gKHUpID0+IGUuJGVtaXQoXCJldmVudC13YXMtY2xpY2tlZFwiLCB1KSksXG4gICAgICAgIG9uRXZlbnRXYXNSZXNpemVkOiB0WzFdIHx8ICh0WzFdID0gKHUpID0+IGUuaGFuZGxlRXZlbnRXYXNVcGRhdGVkKHUsIFwicmVzaXplZFwiKSksXG4gICAgICAgIG9uRXZlbnRXYXNEcmFnZ2VkOiB0WzJdIHx8ICh0WzJdID0gKHUpID0+IGUuaGFuZGxlRXZlbnRXYXNVcGRhdGVkKHUsIFwiZHJhZ2dlZFwiKSksXG4gICAgICAgIG9uRWRpdEV2ZW50OiB0WzNdIHx8ICh0WzNdID0gKHUpID0+IGUuJGVtaXQoXCJlZGl0LWV2ZW50XCIsIHUpKSxcbiAgICAgICAgb25EZWxldGVFdmVudDogdFs0XSB8fCAodFs0XSA9ICh1KSA9PiBlLiRlbWl0KFwiZGVsZXRlLWV2ZW50XCIsIHUpKSxcbiAgICAgICAgb25JbnRlcnZhbFdhc0NsaWNrZWQ6IHRbNV0gfHwgKHRbNV0gPSAodSkgPT4gZS4kZW1pdChcImludGVydmFsLXdhcy1jbGlja2VkXCIsIHUpKSxcbiAgICAgICAgb25EYXlXYXNDbGlja2VkOiB0WzZdIHx8ICh0WzZdID0gKHUpID0+IGUuJGVtaXQoXCJkYXktd2FzLWNsaWNrZWRcIiwgdSkpLFxuICAgICAgICBvbkRhdGV0aW1lV2FzQ2xpY2tlZDogdFs3XSB8fCAodFs3XSA9ICh1KSA9PiBlLiRlbWl0KFwiZGF0ZXRpbWUtd2FzLWNsaWNrZWRcIiwgdSkpXG4gICAgICB9LCB7XG4gICAgICAgIHdlZWtEYXlFdmVudDogWCgodSkgPT4gW1xuICAgICAgICAgIFkoZS4kc2xvdHMsIFwid2Vla0RheUV2ZW50XCIsIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YTogdS5ldmVudERhdGFcbiAgICAgICAgICB9KVxuICAgICAgICBdKSxcbiAgICAgICAgZXZlbnREaWFsb2c6IFgoKHUpID0+IFtcbiAgICAgICAgICBZKGUuJHNsb3RzLCBcImV2ZW50RGlhbG9nXCIsIHtcbiAgICAgICAgICAgIGV2ZW50RGlhbG9nRGF0YTogdS5ldmVudERpYWxvZ0RhdGEsXG4gICAgICAgICAgICBjbG9zZUV2ZW50RGlhbG9nOiB1LmNsb3NlRXZlbnREaWFsb2dcbiAgICAgICAgICB9KVxuICAgICAgICBdKSxcbiAgICAgICAgY3VzdG9tQ3VycmVudFRpbWU6IFgoKCkgPT4gW1xuICAgICAgICAgIFkoZS4kc2xvdHMsIFwiY3VzdG9tQ3VycmVudFRpbWVcIilcbiAgICAgICAgXSksXG4gICAgICAgIF86IDNcbiAgICAgIH0sIDgsIFtcImV2ZW50cy1wcm9wXCIsIFwicGVyaW9kXCIsIFwiY29uZmlnXCIsIFwibW9kZS1wcm9wXCIsIFwidGltZVwiXSkpIDogUyhcIlwiLCAhMCksXG4gICAgICBlLm1vZGUgPT09IFwibW9udGhcIiA/IChmKCksIFYobCwge1xuICAgICAgICBrZXk6IGUucGVyaW9kLnN0YXJ0LmdldFRpbWUoKSArIGUucGVyaW9kLmVuZC5nZXRUaW1lKCkgKyBlLmV2ZW50UmVuZGVyaW5nS2V5LFxuICAgICAgICBcImV2ZW50cy1wcm9wXCI6IGUuZXZlbnRzRGF0YVByb3BlcnR5LFxuICAgICAgICB0aW1lOiBlLnRpbWUsXG4gICAgICAgIGNvbmZpZzogZS5lbmhhbmNlZENvbmZpZyxcbiAgICAgICAgcGVyaW9kOiBlLnBlcmlvZCxcbiAgICAgICAgb25FdmVudFdhc0NsaWNrZWQ6IHRbOF0gfHwgKHRbOF0gPSAodSkgPT4gZS4kZW1pdChcImV2ZW50LXdhcy1jbGlja2VkXCIsIHUpKSxcbiAgICAgICAgb25EYXRlV2FzQ2xpY2tlZDogZS5oYW5kbGVEYXRlV2FzQ2xpY2tlZCxcbiAgICAgICAgb25FdmVudFdhc0RyYWdnZWQ6IHRbOV0gfHwgKHRbOV0gPSAodSkgPT4gZS5oYW5kbGVFdmVudFdhc1VwZGF0ZWQodSwgXCJkcmFnZ2VkXCIpKSxcbiAgICAgICAgb25VcGRhdGVkUGVyaW9kOiB0WzEwXSB8fCAodFsxMF0gPSAodSkgPT4gZS5oYW5kbGVVcGRhdGVkUGVyaW9kKHUsICEwKSksXG4gICAgICAgIG9uRWRpdEV2ZW50OiB0WzExXSB8fCAodFsxMV0gPSAodSkgPT4gZS4kZW1pdChcImVkaXQtZXZlbnRcIiwgdSkpLFxuICAgICAgICBvbkRlbGV0ZUV2ZW50OiB0WzEyXSB8fCAodFsxMl0gPSAodSkgPT4gZS4kZW1pdChcImRlbGV0ZS1ldmVudFwiLCB1KSlcbiAgICAgIH0sIHtcbiAgICAgICAgZXZlbnREaWFsb2c6IFgoKHUpID0+IFtcbiAgICAgICAgICBZKGUuJHNsb3RzLCBcImV2ZW50RGlhbG9nXCIsIHtcbiAgICAgICAgICAgIGV2ZW50RGlhbG9nRGF0YTogdS5ldmVudERpYWxvZ0RhdGEsXG4gICAgICAgICAgICBjbG9zZUV2ZW50RGlhbG9nOiB1LmNsb3NlRXZlbnREaWFsb2dcbiAgICAgICAgICB9KVxuICAgICAgICBdKSxcbiAgICAgICAgbW9udGhFdmVudDogWCgodSkgPT4gW1xuICAgICAgICAgIFkoZS4kc2xvdHMsIFwibW9udGhFdmVudFwiLCB7XG4gICAgICAgICAgICBldmVudERhdGE6IHUuZXZlbnREYXRhXG4gICAgICAgICAgfSlcbiAgICAgICAgXSksXG4gICAgICAgIGRheUNlbGw6IFgoKHsgZGF5RGF0YTogdSB9KSA9PiBbXG4gICAgICAgICAgWShlLiRzbG90cywgXCJkYXlDZWxsXCIsIHsgZGF5RGF0YTogdSB9KVxuICAgICAgICBdKSxcbiAgICAgICAgXzogM1xuICAgICAgfSwgOCwgW1wiZXZlbnRzLXByb3BcIiwgXCJ0aW1lXCIsIFwiY29uZmlnXCIsIFwicGVyaW9kXCIsIFwib25EYXRlV2FzQ2xpY2tlZFwiXSkpIDogUyhcIlwiLCAhMClcbiAgICBdLCAxMCwgcWwpXG4gIF0pO1xufVxuY29uc3QgWmwgPSAvKiBAX19QVVJFX18gKi8gaihmbiwgW1tcInJlbmRlclwiLCBLbF1dKTtcbmV4cG9ydCB7XG4gIGtzIGFzIERhdGVQaWNrZXIsXG4gIFpsIGFzIFFhbGVuZGFyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/qalendar/dist/qalendar.es.js\n");

/***/ }),

/***/ "./node_modules/sortablejs/modular/sortable.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/sortablejs/modular/sortable.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MultiDrag\": () => (/* binding */ MultiDragPlugin),\n/* harmony export */   \"Sortable\": () => (/* binding */ Sortable),\n/* harmony export */   \"Swap\": () => (/* binding */ SwapPlugin),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* provided dependency */ var __webpack_provided_window_dot_jQuery = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.14.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = __webpack_provided_window_dot_jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\n       * Selects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be selected\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\n       * Deselects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be deselected\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sortable);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ydGFibGVqcy9tb2R1bGFyL3NvcnRhYmxlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUzs7QUFFbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNB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QUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQzs7QUFFMUM7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyREFBMkQ7O0FBRTNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxtRkFBbUY7QUFDbkY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksY0FBYztBQUMxQjs7O0FBR0E7QUFD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QTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpTUFBaU07O0FBRWpNO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLCtEQUErRDs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQzs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7O0FBR047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTs7O0FBR1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7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RztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIsWUFBWSwwQkFBMEI7QUFDdEM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxhQUFhO0FBQzFCLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QixZQUFZLDRCQUE0QjtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQ7OztBQUdBO0FBQ0EseUVBQXlFLGFBQWE7QUFDdEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUY7QUFDckY7O0FBRUEsdUVBQXVFO0FBQ3ZFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGFBQWE7QUFDeEI7OztBQUdBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdURBQXVEOztBQUV2RDs7QUFFQTtBQUNBLDJFQUEyRTs7QUFFM0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLGdCQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDs7QUFFdEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKLGtDQUFrQztBQUNsQyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsOEJBQThCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPLEdBQUc7O0FBRVY7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7OztBQUdWO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkIsWUFBWSxhQUFhO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUsUUFBUSxFQUFDO0FBQzhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NvcnRhYmxlanMvbW9kdWxhci9zb3J0YWJsZS5lc20uanM/NDExZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiohXG4gKiBTb3J0YWJsZSAxLjE0LjBcbiAqIEBhdXRob3JcdFJ1YmFYYSAgIDx0cmFzaEBydWJheGEub3JnPlxuICogQGF1dGhvclx0b3dlbm0gICAgPG93ZW4yMzM1NUBnbWFpbC5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuXG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSB7XG4gICAgICBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgIGlmIChpICUgMikge1xuICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG5cbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgdmVyc2lvbiA9IFwiMS4xNC4wXCI7XG5cbmZ1bmN0aW9uIHVzZXJBZ2VudChwYXR0ZXJuKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICEhIC8qQF9fUFVSRV9fKi9uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKHBhdHRlcm4pO1xuICB9XG59XG5cbnZhciBJRTExT3JMZXNzID0gdXNlckFnZW50KC8oPzpUcmlkZW50LipydlsgOl0/MTFcXC58bXNpZXxpZW1vYmlsZXxXaW5kb3dzIFBob25lKS9pKTtcbnZhciBFZGdlID0gdXNlckFnZW50KC9FZGdlL2kpO1xudmFyIEZpcmVGb3ggPSB1c2VyQWdlbnQoL2ZpcmVmb3gvaSk7XG52YXIgU2FmYXJpID0gdXNlckFnZW50KC9zYWZhcmkvaSkgJiYgIXVzZXJBZ2VudCgvY2hyb21lL2kpICYmICF1c2VyQWdlbnQoL2FuZHJvaWQvaSk7XG52YXIgSU9TID0gdXNlckFnZW50KC9pUChhZHxvZHxob25lKS9pKTtcbnZhciBDaHJvbWVGb3JBbmRyb2lkID0gdXNlckFnZW50KC9jaHJvbWUvaSkgJiYgdXNlckFnZW50KC9hbmRyb2lkL2kpO1xuXG52YXIgY2FwdHVyZU1vZGUgPSB7XG4gIGNhcHR1cmU6IGZhbHNlLFxuICBwYXNzaXZlOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gb24oZWwsIGV2ZW50LCBmbikge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgIUlFMTFPckxlc3MgJiYgY2FwdHVyZU1vZGUpO1xufVxuXG5mdW5jdGlvbiBvZmYoZWwsIGV2ZW50LCBmbikge1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgIUlFMTFPckxlc3MgJiYgY2FwdHVyZU1vZGUpO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzKFxuLyoqSFRNTEVsZW1lbnQqL1xuZWwsXG4vKipTdHJpbmcqL1xuc2VsZWN0b3IpIHtcbiAgaWYgKCFzZWxlY3RvcikgcmV0dXJuO1xuICBzZWxlY3RvclswXSA9PT0gJz4nICYmIChzZWxlY3RvciA9IHNlbGVjdG9yLnN1YnN0cmluZygxKSk7XG5cbiAgaWYgKGVsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChlbC5tYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBlbC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwubXNNYXRjaGVzU2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGVsLm1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudE9ySG9zdChlbCkge1xuICByZXR1cm4gZWwuaG9zdCAmJiBlbCAhPT0gZG9jdW1lbnQgJiYgZWwuaG9zdC5ub2RlVHlwZSA/IGVsLmhvc3QgOiBlbC5wYXJlbnROb2RlO1xufVxuXG5mdW5jdGlvbiBjbG9zZXN0KFxuLyoqSFRNTEVsZW1lbnQqL1xuZWwsXG4vKipTdHJpbmcqL1xuc2VsZWN0b3IsXG4vKipIVE1MRWxlbWVudCovXG5jdHgsIGluY2x1ZGVDVFgpIHtcbiAgaWYgKGVsKSB7XG4gICAgY3R4ID0gY3R4IHx8IGRvY3VtZW50O1xuXG4gICAgZG8ge1xuICAgICAgaWYgKHNlbGVjdG9yICE9IG51bGwgJiYgKHNlbGVjdG9yWzBdID09PSAnPicgPyBlbC5wYXJlbnROb2RlID09PSBjdHggJiYgbWF0Y2hlcyhlbCwgc2VsZWN0b3IpIDogbWF0Y2hlcyhlbCwgc2VsZWN0b3IpKSB8fCBpbmNsdWRlQ1RYICYmIGVsID09PSBjdHgpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWwgPT09IGN0eCkgYnJlYWs7XG4gICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG4gICAgfSB3aGlsZSAoZWwgPSBnZXRQYXJlbnRPckhvc3QoZWwpKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUl9TUEFDRSA9IC9cXHMrL2c7XG5cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsLCBuYW1lLCBzdGF0ZSkge1xuICBpZiAoZWwgJiYgbmFtZSkge1xuICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsLmNsYXNzTGlzdFtzdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gKCcgJyArIGVsLmNsYXNzTmFtZSArICcgJykucmVwbGFjZShSX1NQQUNFLCAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKTtcbiAgICAgIGVsLmNsYXNzTmFtZSA9IChjbGFzc05hbWUgKyAoc3RhdGUgPyAnICcgKyBuYW1lIDogJycpKS5yZXBsYWNlKFJfU1BBQ0UsICcgJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNzcyhlbCwgcHJvcCwgdmFsKSB7XG4gIHZhciBzdHlsZSA9IGVsICYmIGVsLnN0eWxlO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgdmFsID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgJycpO1xuICAgICAgfSBlbHNlIGlmIChlbC5jdXJyZW50U3R5bGUpIHtcbiAgICAgICAgdmFsID0gZWwuY3VycmVudFN0eWxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcCA9PT0gdm9pZCAwID8gdmFsIDogdmFsW3Byb3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIShwcm9wIGluIHN0eWxlKSAmJiBwcm9wLmluZGV4T2YoJ3dlYmtpdCcpID09PSAtMSkge1xuICAgICAgICBwcm9wID0gJy13ZWJraXQtJyArIHByb3A7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlW3Byb3BdID0gdmFsICsgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gJycgOiAncHgnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF0cml4KGVsLCBzZWxmT25seSkge1xuICB2YXIgYXBwbGllZFRyYW5zZm9ybXMgPSAnJztcblxuICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgIGFwcGxpZWRUcmFuc2Zvcm1zID0gZWw7XG4gIH0gZWxzZSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IGNzcyhlbCwgJ3RyYW5zZm9ybScpO1xuXG4gICAgICBpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICAgIGFwcGxpZWRUcmFuc2Zvcm1zID0gdHJhbnNmb3JtICsgJyAnICsgYXBwbGllZFRyYW5zZm9ybXM7XG4gICAgICB9XG4gICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgICB9IHdoaWxlICghc2VsZk9ubHkgJiYgKGVsID0gZWwucGFyZW50Tm9kZSkpO1xuICB9XG5cbiAgdmFyIG1hdHJpeEZuID0gd2luZG93LkRPTU1hdHJpeCB8fCB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4IHx8IHdpbmRvdy5DU1NNYXRyaXggfHwgd2luZG93Lk1TQ1NTTWF0cml4O1xuICAvKmpzaGludCAtVzA1NiAqL1xuXG4gIHJldHVybiBtYXRyaXhGbiAmJiBuZXcgbWF0cml4Rm4oYXBwbGllZFRyYW5zZm9ybXMpO1xufVxuXG5mdW5jdGlvbiBmaW5kKGN0eCwgdGFnTmFtZSwgaXRlcmF0b3IpIHtcbiAgaWYgKGN0eCkge1xuICAgIHZhciBsaXN0ID0gY3R4LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9IGxpc3QubGVuZ3RoO1xuXG4gICAgaWYgKGl0ZXJhdG9yKSB7XG4gICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICBpdGVyYXRvcihsaXN0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpIHtcbiAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50O1xuXG4gIGlmIChzY3JvbGxpbmdFbGVtZW50KSB7XG4gICAgcmV0dXJuIHNjcm9sbGluZ0VsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBcImJvdW5kaW5nIGNsaWVudCByZWN0XCIgb2YgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsICAgICAgICAgICAgICAgICAgICAgICBUaGUgZWxlbWVudCB3aG9zZSBib3VuZGluZ0NsaWVudFJlY3QgaXMgd2FudGVkXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IHJlbGF0aXZlVG9Db250YWluaW5nQmxvY2sgIFdoZXRoZXIgdGhlIHJlY3Qgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBjb250YWluaW5nIGJsb2NrIG9mIChpbmNsdWRpbmcpIHRoZSBjb250YWluZXJcbiAqIEBwYXJhbSAge1tCb29sZWFuXX0gcmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCAgV2hldGhlciB0aGUgcmVjdCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIHJlbGF0aXZlIHBhcmVudCBvZiAoaW5jbHVkaW5nKSB0aGUgY29udGFpZW5yXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IHVuZG9TY2FsZSAgICAgICAgICAgICAgICAgIFdoZXRoZXIgdGhlIGNvbnRhaW5lcidzIHNjYWxlKCkgc2hvdWxkIGJlIHVuZG9uZVxuICogQHBhcmFtICB7W0hUTUxFbGVtZW50XX0gY29udGFpbmVyICAgICAgICAgICAgICBUaGUgcGFyZW50IHRoZSBlbGVtZW50IHdpbGwgYmUgcGxhY2VkIGluXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBib3VuZGluZ0NsaWVudFJlY3Qgb2YgZWwsIHdpdGggc3BlY2lmaWVkIGFkanVzdG1lbnRzXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRSZWN0KGVsLCByZWxhdGl2ZVRvQ29udGFpbmluZ0Jsb2NrLCByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50LCB1bmRvU2NhbGUsIGNvbnRhaW5lcikge1xuICBpZiAoIWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiBlbCAhPT0gd2luZG93KSByZXR1cm47XG4gIHZhciBlbFJlY3QsIHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCwgaGVpZ2h0LCB3aWR0aDtcblxuICBpZiAoZWwgIT09IHdpbmRvdyAmJiBlbC5wYXJlbnROb2RlICYmIGVsICE9PSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkpIHtcbiAgICBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0b3AgPSBlbFJlY3QudG9wO1xuICAgIGxlZnQgPSBlbFJlY3QubGVmdDtcbiAgICBib3R0b20gPSBlbFJlY3QuYm90dG9tO1xuICAgIHJpZ2h0ID0gZWxSZWN0LnJpZ2h0O1xuICAgIGhlaWdodCA9IGVsUmVjdC5oZWlnaHQ7XG4gICAgd2lkdGggPSBlbFJlY3Qud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gMDtcbiAgICBsZWZ0ID0gMDtcbiAgICBib3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgcmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgfVxuXG4gIGlmICgocmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jayB8fCByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50KSAmJiBlbCAhPT0gd2luZG93KSB7XG4gICAgLy8gQWRqdXN0IGZvciB0cmFuc2xhdGUoKVxuICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBlbC5wYXJlbnROb2RlOyAvLyBzb2x2ZXMgIzExMjMgKHNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM3OTUzODA2LzYwODgzMTIpXG4gICAgLy8gTm90IG5lZWRlZCBvbiA8PSBJRTExXG5cbiAgICBpZiAoIUlFMTFPckxlc3MpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChjc3MoY29udGFpbmVyLCAndHJhbnNmb3JtJykgIT09ICdub25lJyB8fCByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50ICYmIGNzcyhjb250YWluZXIsICdwb3NpdGlvbicpICE9PSAnc3RhdGljJykpIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gU2V0IHJlbGF0aXZlIHRvIGVkZ2VzIG9mIHBhZGRpbmcgYm94IG9mIGNvbnRhaW5lclxuXG4gICAgICAgICAgdG9wIC09IGNvbnRhaW5lclJlY3QudG9wICsgcGFyc2VJbnQoY3NzKGNvbnRhaW5lciwgJ2JvcmRlci10b3Atd2lkdGgnKSk7XG4gICAgICAgICAgbGVmdCAtPSBjb250YWluZXJSZWN0LmxlZnQgKyBwYXJzZUludChjc3MoY29udGFpbmVyLCAnYm9yZGVyLWxlZnQtd2lkdGgnKSk7XG4gICAgICAgICAgYm90dG9tID0gdG9wICsgZWxSZWN0LmhlaWdodDtcbiAgICAgICAgICByaWdodCA9IGxlZnQgKyBlbFJlY3Qud2lkdGg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gICAgICB9IHdoaWxlIChjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHVuZG9TY2FsZSAmJiBlbCAhPT0gd2luZG93KSB7XG4gICAgLy8gQWRqdXN0IGZvciBzY2FsZSgpXG4gICAgdmFyIGVsTWF0cml4ID0gbWF0cml4KGNvbnRhaW5lciB8fCBlbCksXG4gICAgICAgIHNjYWxlWCA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmEsXG4gICAgICAgIHNjYWxlWSA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmQ7XG5cbiAgICBpZiAoZWxNYXRyaXgpIHtcbiAgICAgIHRvcCAvPSBzY2FsZVk7XG4gICAgICBsZWZ0IC89IHNjYWxlWDtcbiAgICAgIHdpZHRoIC89IHNjYWxlWDtcbiAgICAgIGhlaWdodCAvPSBzY2FsZVk7XG4gICAgICBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgICByaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogdG9wLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgYm90dG9tOiBib3R0b20sXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBzaWRlIG9mIGFuIGVsZW1lbnQgaXMgc2Nyb2xsZWQgcGFzdCBhIHNpZGUgb2YgaXRzIHBhcmVudHNcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWwgICAgICAgICAgIFRoZSBlbGVtZW50IHdobydzIHNpZGUgYmVpbmcgc2Nyb2xsZWQgb3V0IG9mIHZpZXcgaXMgaW4gcXVlc3Rpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgZWxTaWRlICAgICAgIFNpZGUgb2YgdGhlIGVsZW1lbnQgaW4gcXVlc3Rpb24gKCd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nKVxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBwYXJlbnRTaWRlICAgU2lkZSBvZiB0aGUgcGFyZW50IGluIHF1ZXN0aW9uICgndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJylcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICAgICAgIFRoZSBwYXJlbnQgc2Nyb2xsIGVsZW1lbnQgdGhhdCB0aGUgZWwncyBzaWRlIGlzIHNjcm9sbGVkIHBhc3QsIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gc3VjaCBlbGVtZW50XG4gKi9cblxuXG5mdW5jdGlvbiBpc1Njcm9sbGVkUGFzdChlbCwgZWxTaWRlLCBwYXJlbnRTaWRlKSB7XG4gIHZhciBwYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbCwgdHJ1ZSksXG4gICAgICBlbFNpZGVWYWwgPSBnZXRSZWN0KGVsKVtlbFNpZGVdO1xuICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIHZhciBwYXJlbnRTaWRlVmFsID0gZ2V0UmVjdChwYXJlbnQpW3BhcmVudFNpZGVdLFxuICAgICAgICB2aXNpYmxlID0gdm9pZCAwO1xuXG4gICAgaWYgKHBhcmVudFNpZGUgPT09ICd0b3AnIHx8IHBhcmVudFNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgdmlzaWJsZSA9IGVsU2lkZVZhbCA+PSBwYXJlbnRTaWRlVmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aXNpYmxlID0gZWxTaWRlVmFsIDw9IHBhcmVudFNpZGVWYWw7XG4gICAgfVxuXG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm4gcGFyZW50O1xuICAgIGlmIChwYXJlbnQgPT09IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkgYnJlYWs7XG4gICAgcGFyZW50ID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQocGFyZW50LCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEdldHMgbnRoIGNoaWxkIG9mIGVsLCBpZ25vcmluZyBoaWRkZW4gY2hpbGRyZW4sIHNvcnRhYmxlJ3MgZWxlbWVudHMgKGRvZXMgbm90IGlnbm9yZSBjbG9uZSBpZiBpdCdzIHZpc2libGUpXG4gKiBhbmQgbm9uLWRyYWdnYWJsZSBlbGVtZW50c1xuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsICAgICAgIFRoZSBwYXJlbnQgZWxlbWVudFxuICogQHBhcmFtICB7TnVtYmVyfSBjaGlsZE51bSAgICAgIFRoZSBpbmRleCBvZiB0aGUgY2hpbGRcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAgICAgICBQYXJlbnQgU29ydGFibGUncyBvcHRpb25zXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICAgICAgICAgVGhlIGNoaWxkIGF0IGluZGV4IGNoaWxkTnVtLCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICovXG5cblxuZnVuY3Rpb24gZ2V0Q2hpbGQoZWwsIGNoaWxkTnVtLCBvcHRpb25zLCBpbmNsdWRlRHJhZ0VsKSB7XG4gIHZhciBjdXJyZW50Q2hpbGQgPSAwLFxuICAgICAgaSA9IDAsXG4gICAgICBjaGlsZHJlbiA9IGVsLmNoaWxkcmVuO1xuXG4gIHdoaWxlIChpIDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgaWYgKGNoaWxkcmVuW2ldLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiBjaGlsZHJlbltpXSAhPT0gU29ydGFibGUuZ2hvc3QgJiYgKGluY2x1ZGVEcmFnRWwgfHwgY2hpbGRyZW5baV0gIT09IFNvcnRhYmxlLmRyYWdnZWQpICYmIGNsb3Nlc3QoY2hpbGRyZW5baV0sIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCwgZmFsc2UpKSB7XG4gICAgICBpZiAoY3VycmVudENoaWxkID09PSBjaGlsZE51bSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW5baV07XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRDaGlsZCsrO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBsYXN0IGNoaWxkIGluIHRoZSBlbCwgaWdub3JpbmcgZ2hvc3RFbCBvciBpbnZpc2libGUgZWxlbWVudHMgKGNsb25lcylcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICBQYXJlbnQgZWxlbWVudFxuICogQHBhcmFtICB7c2VsZWN0b3J9IHNlbGVjdG9yICAgIEFueSBvdGhlciBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBpZ25vcmVkXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICAgICAgICAgVGhlIGxhc3QgY2hpbGQsIGlnbm9yaW5nIGdob3N0RWxcbiAqL1xuXG5cbmZ1bmN0aW9uIGxhc3RDaGlsZChlbCwgc2VsZWN0b3IpIHtcbiAgdmFyIGxhc3QgPSBlbC5sYXN0RWxlbWVudENoaWxkO1xuXG4gIHdoaWxlIChsYXN0ICYmIChsYXN0ID09PSBTb3J0YWJsZS5naG9zdCB8fCBjc3MobGFzdCwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IHNlbGVjdG9yICYmICFtYXRjaGVzKGxhc3QsIHNlbGVjdG9yKSkpIHtcbiAgICBsYXN0ID0gbGFzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIGxhc3QgfHwgbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudCBmb3IgYSBzZWxlY3RlZCBzZXQgb2ZcbiAqIGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcbiAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvclxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cblxuZnVuY3Rpb24gaW5kZXgoZWwsIHNlbGVjdG9yKSB7XG4gIHZhciBpbmRleCA9IDA7XG5cbiAgaWYgKCFlbCB8fCAhZWwucGFyZW50Tm9kZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cblxuICB3aGlsZSAoZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgaWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdURU1QTEFURScgJiYgZWwgIT09IFNvcnRhYmxlLmNsb25lICYmICghc2VsZWN0b3IgfHwgbWF0Y2hlcyhlbCwgc2VsZWN0b3IpKSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjcm9sbCBvZmZzZXQgb2YgdGhlIGdpdmVuIGVsZW1lbnQsIGFkZGVkIHdpdGggYWxsIHRoZSBzY3JvbGwgb2Zmc2V0cyBvZiBwYXJlbnQgZWxlbWVudHMuXG4gKiBUaGUgdmFsdWUgaXMgcmV0dXJuZWQgaW4gcmVhbCBwaXhlbHMuXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICBPZmZzZXRzIGluIHRoZSBmb3JtYXQgb2YgW2xlZnQsIHRvcF1cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGVsKSB7XG4gIHZhciBvZmZzZXRMZWZ0ID0gMCxcbiAgICAgIG9mZnNldFRvcCA9IDAsXG4gICAgICB3aW5TY3JvbGxlciA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblxuICBpZiAoZWwpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgZWxNYXRyaXggPSBtYXRyaXgoZWwpLFxuICAgICAgICAgIHNjYWxlWCA9IGVsTWF0cml4LmEsXG4gICAgICAgICAgc2NhbGVZID0gZWxNYXRyaXguZDtcbiAgICAgIG9mZnNldExlZnQgKz0gZWwuc2Nyb2xsTGVmdCAqIHNjYWxlWDtcbiAgICAgIG9mZnNldFRvcCArPSBlbC5zY3JvbGxUb3AgKiBzY2FsZVk7XG4gICAgfSB3aGlsZSAoZWwgIT09IHdpblNjcm9sbGVyICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcbiAgfVxuXG4gIHJldHVybiBbb2Zmc2V0TGVmdCwgb2Zmc2V0VG9wXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG9iamVjdCB3aXRoaW4gdGhlIGdpdmVuIGFycmF5XG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyICAgQXJyYXkgdGhhdCBtYXkgb3IgbWF5IG5vdCBob2xkIHRoZSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqICBBbiBvYmplY3QgdGhhdCBoYXMgYSBrZXktdmFsdWUgcGFpciB1bmlxdWUgdG8gYW5kIGlkZW50aWNhbCB0byBhIGtleS12YWx1ZSBwYWlyIGluIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gZmluZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgIFRoZSBpbmRleCBvZiB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSwgb3IgLTFcbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4T2ZPYmplY3QoYXJyLCBvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBhcnIpIHtcbiAgICBpZiAoIWFyci5oYXNPd25Qcm9wZXJ0eShpKSkgY29udGludWU7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkgJiYgb2JqW2tleV0gPT09IGFycltpXVtrZXldKSByZXR1cm4gTnVtYmVyKGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIGluY2x1ZGVTZWxmKSB7XG4gIC8vIHNraXAgdG8gd2luZG93XG4gIGlmICghZWwgfHwgIWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgdmFyIGVsZW0gPSBlbDtcbiAgdmFyIGdvdFNlbGYgPSBmYWxzZTtcblxuICBkbyB7XG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBnZXQgZWxlbSBjc3MgaWYgaXQgaXNuJ3QgZXZlbiBvdmVyZmxvd2luZyBpbiB0aGUgZmlyc3QgcGxhY2UgKHBlcmZvcm1hbmNlKVxuICAgIGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB2YXIgZWxlbUNTUyA9IGNzcyhlbGVtKTtcblxuICAgICAgaWYgKGVsZW0uY2xpZW50V2lkdGggPCBlbGVtLnNjcm9sbFdpZHRoICYmIChlbGVtQ1NTLm92ZXJmbG93WCA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ3Njcm9sbCcpIHx8IGVsZW0uY2xpZW50SGVpZ2h0IDwgZWxlbS5zY3JvbGxIZWlnaHQgJiYgKGVsZW1DU1Mub3ZlcmZsb3dZID09ICdhdXRvJyB8fCBlbGVtQ1NTLm92ZXJmbG93WSA9PSAnc2Nyb2xsJykpIHtcbiAgICAgICAgaWYgKCFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBlbGVtID09PSBkb2N1bWVudC5ib2R5KSByZXR1cm4gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICBpZiAoZ290U2VsZiB8fCBpbmNsdWRlU2VsZikgcmV0dXJuIGVsZW07XG4gICAgICAgIGdvdFNlbGYgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgfSB3aGlsZSAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSk7XG5cbiAgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGRzdCwgc3JjKSB7XG4gIGlmIChkc3QgJiYgc3JjKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuZnVuY3Rpb24gaXNSZWN0RXF1YWwocmVjdDEsIHJlY3QyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHJlY3QxLnRvcCkgPT09IE1hdGgucm91bmQocmVjdDIudG9wKSAmJiBNYXRoLnJvdW5kKHJlY3QxLmxlZnQpID09PSBNYXRoLnJvdW5kKHJlY3QyLmxlZnQpICYmIE1hdGgucm91bmQocmVjdDEuaGVpZ2h0KSA9PT0gTWF0aC5yb3VuZChyZWN0Mi5oZWlnaHQpICYmIE1hdGgucm91bmQocmVjdDEud2lkdGgpID09PSBNYXRoLnJvdW5kKHJlY3QyLndpZHRoKTtcbn1cblxudmFyIF90aHJvdHRsZVRpbWVvdXQ7XG5cbmZ1bmN0aW9uIHRocm90dGxlKGNhbGxiYWNrLCBtcykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghX3Rocm90dGxlVGltZW91dCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChfdGhpcywgYXJnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIF90aHJvdHRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3Rocm90dGxlVGltZW91dCA9IHZvaWQgMDtcbiAgICAgIH0sIG1zKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFRocm90dGxlKCkge1xuICBjbGVhclRpbWVvdXQoX3Rocm90dGxlVGltZW91dCk7XG4gIF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEJ5KGVsLCB4LCB5KSB7XG4gIGVsLnNjcm9sbExlZnQgKz0geDtcbiAgZWwuc2Nyb2xsVG9wICs9IHk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKGVsKSB7XG4gIHZhciBQb2x5bWVyID0gd2luZG93LlBvbHltZXI7XG4gIHZhciAkID0gd2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG87XG5cbiAgaWYgKFBvbHltZXIgJiYgUG9seW1lci5kb20pIHtcbiAgICByZXR1cm4gUG9seW1lci5kb20oZWwpLmNsb25lTm9kZSh0cnVlKTtcbiAgfSBlbHNlIGlmICgkKSB7XG4gICAgcmV0dXJuICQoZWwpLmNsb25lKHRydWUpWzBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmVjdChlbCwgcmVjdCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICBjc3MoZWwsICd0b3AnLCByZWN0LnRvcCk7XG4gIGNzcyhlbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuICBjc3MoZWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICBjc3MoZWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG59XG5cbmZ1bmN0aW9uIHVuc2V0UmVjdChlbCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICcnKTtcbiAgY3NzKGVsLCAndG9wJywgJycpO1xuICBjc3MoZWwsICdsZWZ0JywgJycpO1xuICBjc3MoZWwsICd3aWR0aCcsICcnKTtcbiAgY3NzKGVsLCAnaGVpZ2h0JywgJycpO1xufVxuXG52YXIgZXhwYW5kbyA9ICdTb3J0YWJsZScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuZnVuY3Rpb24gQW5pbWF0aW9uU3RhdGVNYW5hZ2VyKCkge1xuICB2YXIgYW5pbWF0aW9uU3RhdGVzID0gW10sXG4gICAgICBhbmltYXRpb25DYWxsYmFja0lkO1xuICByZXR1cm4ge1xuICAgIGNhcHR1cmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gY2FwdHVyZUFuaW1hdGlvblN0YXRlKCkge1xuICAgICAgYW5pbWF0aW9uU3RhdGVzID0gW107XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHJldHVybjtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwodGhpcy5lbC5jaGlsZHJlbik7XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY3NzKGNoaWxkLCAnZGlzcGxheScpID09PSAnbm9uZScgfHwgY2hpbGQgPT09IFNvcnRhYmxlLmdob3N0KSByZXR1cm47XG4gICAgICAgIGFuaW1hdGlvblN0YXRlcy5wdXNoKHtcbiAgICAgICAgICB0YXJnZXQ6IGNoaWxkLFxuICAgICAgICAgIHJlY3Q6IGdldFJlY3QoY2hpbGQpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmcm9tUmVjdCA9IF9vYmplY3RTcHJlYWQyKHt9LCBhbmltYXRpb25TdGF0ZXNbYW5pbWF0aW9uU3RhdGVzLmxlbmd0aCAtIDFdLnJlY3QpOyAvLyBJZiBhbmltYXRpbmc6IGNvbXBlbnNhdGUgZm9yIGN1cnJlbnQgYW5pbWF0aW9uXG5cblxuICAgICAgICBpZiAoY2hpbGQudGhpc0FuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgdmFyIGNoaWxkTWF0cml4ID0gbWF0cml4KGNoaWxkLCB0cnVlKTtcblxuICAgICAgICAgIGlmIChjaGlsZE1hdHJpeCkge1xuICAgICAgICAgICAgZnJvbVJlY3QudG9wIC09IGNoaWxkTWF0cml4LmY7XG4gICAgICAgICAgICBmcm9tUmVjdC5sZWZ0IC09IGNoaWxkTWF0cml4LmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQuZnJvbVJlY3QgPSBmcm9tUmVjdDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYWRkQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIGFkZEFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMucHVzaChzdGF0ZSk7XG4gICAgfSxcbiAgICByZW1vdmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gcmVtb3ZlQW5pbWF0aW9uU3RhdGUodGFyZ2V0KSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMuc3BsaWNlKGluZGV4T2ZPYmplY3QoYW5pbWF0aW9uU3RhdGVzLCB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICB9KSwgMSk7XG4gICAgfSxcbiAgICBhbmltYXRlQWxsOiBmdW5jdGlvbiBhbmltYXRlQWxsKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkNhbGxiYWNrSWQpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhbmltYXRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb25UaW1lID0gMDtcbiAgICAgIGFuaW1hdGlvblN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgdGltZSA9IDAsXG4gICAgICAgICAgICB0YXJnZXQgPSBzdGF0ZS50YXJnZXQsXG4gICAgICAgICAgICBmcm9tUmVjdCA9IHRhcmdldC5mcm9tUmVjdCxcbiAgICAgICAgICAgIHRvUmVjdCA9IGdldFJlY3QodGFyZ2V0KSxcbiAgICAgICAgICAgIHByZXZGcm9tUmVjdCA9IHRhcmdldC5wcmV2RnJvbVJlY3QsXG4gICAgICAgICAgICBwcmV2VG9SZWN0ID0gdGFyZ2V0LnByZXZUb1JlY3QsXG4gICAgICAgICAgICBhbmltYXRpbmdSZWN0ID0gc3RhdGUucmVjdCxcbiAgICAgICAgICAgIHRhcmdldE1hdHJpeCA9IG1hdHJpeCh0YXJnZXQsIHRydWUpO1xuXG4gICAgICAgIGlmICh0YXJnZXRNYXRyaXgpIHtcbiAgICAgICAgICAvLyBDb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgIHRvUmVjdC50b3AgLT0gdGFyZ2V0TWF0cml4LmY7XG4gICAgICAgICAgdG9SZWN0LmxlZnQgLT0gdGFyZ2V0TWF0cml4LmU7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQudG9SZWN0ID0gdG9SZWN0O1xuXG4gICAgICAgIGlmICh0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgLy8gQ291bGQgYWxzbyBjaGVjayBpZiBhbmltYXRpbmdSZWN0IGlzIGJldHdlZW4gZnJvbVJlY3QgYW5kIHRvUmVjdFxuICAgICAgICAgIGlmIChpc1JlY3RFcXVhbChwcmV2RnJvbVJlY3QsIHRvUmVjdCkgJiYgIWlzUmVjdEVxdWFsKGZyb21SZWN0LCB0b1JlY3QpICYmIC8vIE1ha2Ugc3VyZSBhbmltYXRpbmdSZWN0IGlzIG9uIGxpbmUgYmV0d2VlbiB0b1JlY3QgJiBmcm9tUmVjdFxuICAgICAgICAgIChhbmltYXRpbmdSZWN0LnRvcCAtIHRvUmVjdC50b3ApIC8gKGFuaW1hdGluZ1JlY3QubGVmdCAtIHRvUmVjdC5sZWZ0KSA9PT0gKGZyb21SZWN0LnRvcCAtIHRvUmVjdC50b3ApIC8gKGZyb21SZWN0LmxlZnQgLSB0b1JlY3QubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIElmIHJldHVybmluZyB0byBzYW1lIHBsYWNlIGFzIHN0YXJ0ZWQgZnJvbSBhbmltYXRpb24gYW5kIG9uIHNhbWUgYXhpc1xuICAgICAgICAgICAgdGltZSA9IGNhbGN1bGF0ZVJlYWxUaW1lKGFuaW1hdGluZ1JlY3QsIHByZXZGcm9tUmVjdCwgcHJldlRvUmVjdCwgX3RoaXMub3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIGZyb21SZWN0ICE9IHRvUmVjdDogYW5pbWF0ZVxuXG5cbiAgICAgICAgaWYgKCFpc1JlY3RFcXVhbCh0b1JlY3QsIGZyb21SZWN0KSkge1xuICAgICAgICAgIHRhcmdldC5wcmV2RnJvbVJlY3QgPSBmcm9tUmVjdDtcbiAgICAgICAgICB0YXJnZXQucHJldlRvUmVjdCA9IHRvUmVjdDtcblxuICAgICAgICAgIGlmICghdGltZSkge1xuICAgICAgICAgICAgdGltZSA9IF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmFuaW1hdGUodGFyZ2V0LCBhbmltYXRpbmdSZWN0LCB0b1JlY3QsIHRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWUpIHtcbiAgICAgICAgICBhbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIGFuaW1hdGlvblRpbWUgPSBNYXRoLm1heChhbmltYXRpb25UaW1lLCB0aW1lKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGlvblJlc2V0VGltZXIpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpb25SZXNldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0YXJnZXQuYW5pbWF0aW9uVGltZSA9IDA7XG4gICAgICAgICAgICB0YXJnZXQucHJldkZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRhcmdldC5mcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQucHJldlRvUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgICB9LCB0aW1lKTtcbiAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjbGVhclRpbWVvdXQoYW5pbWF0aW9uQ2FsbGJhY2tJZCk7XG5cbiAgICAgIGlmICghYW5pbWF0aW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFja0lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgICAgfSwgYW5pbWF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvblN0YXRlcyA9IFtdO1xuICAgIH0sXG4gICAgYW5pbWF0ZTogZnVuY3Rpb24gYW5pbWF0ZSh0YXJnZXQsIGN1cnJlbnRSZWN0LCB0b1JlY3QsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICAgIHZhciBlbE1hdHJpeCA9IG1hdHJpeCh0aGlzLmVsKSxcbiAgICAgICAgICAgIHNjYWxlWCA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmEsXG4gICAgICAgICAgICBzY2FsZVkgPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5kLFxuICAgICAgICAgICAgdHJhbnNsYXRlWCA9IChjdXJyZW50UmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQpIC8gKHNjYWxlWCB8fCAxKSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSAoY3VycmVudFJlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoc2NhbGVZIHx8IDEpO1xuICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWCA9ICEhdHJhbnNsYXRlWDtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1kgPSAhIXRyYW5zbGF0ZVk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsMCknKTtcbiAgICAgICAgdGhpcy5mb3JSZXBhaW50RHVtbXkgPSByZXBhaW50KHRhcmdldCk7IC8vIHJlcGFpbnRcblxuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICd0cmFuc2Zvcm0gJyArIGR1cmF0aW9uICsgJ21zJyArICh0aGlzLm9wdGlvbnMuZWFzaW5nID8gJyAnICsgdGhpcy5vcHRpb25zLmVhc2luZyA6ICcnKSk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG4gICAgICAgIHR5cGVvZiB0YXJnZXQuYW5pbWF0ZWQgPT09ICdudW1iZXInICYmIGNsZWFyVGltZW91dCh0YXJnZXQuYW5pbWF0ZWQpO1xuICAgICAgICB0YXJnZXQuYW5pbWF0ZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICcnKTtcbiAgICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpbmdYID0gZmFsc2U7XG4gICAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1kgPSBmYWxzZTtcbiAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVwYWludCh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5vZmZzZXRXaWR0aDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlUmVhbFRpbWUoYW5pbWF0aW5nUmVjdCwgZnJvbVJlY3QsIHRvUmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGZyb21SZWN0LnRvcCAtIGFuaW1hdGluZ1JlY3QudG9wLCAyKSArIE1hdGgucG93KGZyb21SZWN0LmxlZnQgLSBhbmltYXRpbmdSZWN0LmxlZnQsIDIpKSAvIE1hdGguc3FydChNYXRoLnBvdyhmcm9tUmVjdC50b3AgLSB0b1JlY3QudG9wLCAyKSArIE1hdGgucG93KGZyb21SZWN0LmxlZnQgLSB0b1JlY3QubGVmdCwgMikpICogb3B0aW9ucy5hbmltYXRpb247XG59XG5cbnZhciBwbHVnaW5zID0gW107XG52YXIgZGVmYXVsdHMgPSB7XG4gIGluaXRpYWxpemVCeURlZmF1bHQ6IHRydWVcbn07XG52YXIgUGx1Z2luTWFuYWdlciA9IHtcbiAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KHBsdWdpbikge1xuICAgIC8vIFNldCBkZWZhdWx0IHN0YXRpYyBwcm9wZXJ0aWVzXG4gICAgZm9yICh2YXIgb3B0aW9uIGluIGRlZmF1bHRzKSB7XG4gICAgICBpZiAoZGVmYXVsdHMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJiAhKG9wdGlvbiBpbiBwbHVnaW4pKSB7XG4gICAgICAgIHBsdWdpbltvcHRpb25dID0gZGVmYXVsdHNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIGlmIChwLnBsdWdpbk5hbWUgPT09IHBsdWdpbi5wbHVnaW5OYW1lKSB7XG4gICAgICAgIHRocm93IFwiU29ydGFibGU6IENhbm5vdCBtb3VudCBwbHVnaW4gXCIuY29uY2F0KHBsdWdpbi5wbHVnaW5OYW1lLCBcIiBtb3JlIHRoYW4gb25jZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgfSxcbiAgcGx1Z2luRXZlbnQ6IGZ1bmN0aW9uIHBsdWdpbkV2ZW50KGV2ZW50TmFtZSwgc29ydGFibGUsIGV2dCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLmV2ZW50Q2FuY2VsZWQgPSBmYWxzZTtcblxuICAgIGV2dC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ldmVudENhbmNlbGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50TmFtZUdsb2JhbCA9IGV2ZW50TmFtZSArICdHbG9iYWwnO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICBpZiAoIXNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSkgcmV0dXJuOyAvLyBGaXJlIGdsb2JhbCBldmVudHMgaWYgaXQgZXhpc3RzIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVHbG9iYWxdKSB7XG4gICAgICAgIHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVHbG9iYWxdKF9vYmplY3RTcHJlYWQyKHtcbiAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGVcbiAgICAgICAgfSwgZXZ0KSk7XG4gICAgICB9IC8vIE9ubHkgZmlyZSBwbHVnaW4gZXZlbnQgaWYgcGx1Z2luIGlzIGVuYWJsZWQgaW4gdGhpcyBzb3J0YWJsZSxcbiAgICAgIC8vIGFuZCBwbHVnaW4gaGFzIGV2ZW50IGRlZmluZWRcblxuXG4gICAgICBpZiAoc29ydGFibGUub3B0aW9uc1twbHVnaW4ucGx1Z2luTmFtZV0gJiYgc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdW2V2ZW50TmFtZV0oX29iamVjdFNwcmVhZDIoe1xuICAgICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZVxuICAgICAgICB9LCBldnQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgaW5pdGlhbGl6ZVBsdWdpbnM6IGZ1bmN0aW9uIGluaXRpYWxpemVQbHVnaW5zKHNvcnRhYmxlLCBlbCwgZGVmYXVsdHMsIG9wdGlvbnMpIHtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgdmFyIHBsdWdpbk5hbWUgPSBwbHVnaW4ucGx1Z2luTmFtZTtcbiAgICAgIGlmICghc29ydGFibGUub3B0aW9uc1twbHVnaW5OYW1lXSAmJiAhcGx1Z2luLmluaXRpYWxpemVCeURlZmF1bHQpIHJldHVybjtcbiAgICAgIHZhciBpbml0aWFsaXplZCA9IG5ldyBwbHVnaW4oc29ydGFibGUsIGVsLCBzb3J0YWJsZS5vcHRpb25zKTtcbiAgICAgIGluaXRpYWxpemVkLnNvcnRhYmxlID0gc29ydGFibGU7XG4gICAgICBpbml0aWFsaXplZC5vcHRpb25zID0gc29ydGFibGUub3B0aW9ucztcbiAgICAgIHNvcnRhYmxlW3BsdWdpbk5hbWVdID0gaW5pdGlhbGl6ZWQ7IC8vIEFkZCBkZWZhdWx0IG9wdGlvbnMgZnJvbSBwbHVnaW5cblxuICAgICAgX2V4dGVuZHMoZGVmYXVsdHMsIGluaXRpYWxpemVkLmRlZmF1bHRzKTtcbiAgICB9KTtcblxuICAgIGZvciAodmFyIG9wdGlvbiBpbiBzb3J0YWJsZS5vcHRpb25zKSB7XG4gICAgICBpZiAoIXNvcnRhYmxlLm9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkgY29udGludWU7XG4gICAgICB2YXIgbW9kaWZpZWQgPSB0aGlzLm1vZGlmeU9wdGlvbihzb3J0YWJsZSwgb3B0aW9uLCBzb3J0YWJsZS5vcHRpb25zW29wdGlvbl0pO1xuXG4gICAgICBpZiAodHlwZW9mIG1vZGlmaWVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3J0YWJsZS5vcHRpb25zW29wdGlvbl0gPSBtb2RpZmllZDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdldEV2ZW50UHJvcGVydGllczogZnVuY3Rpb24gZ2V0RXZlbnRQcm9wZXJ0aWVzKG5hbWUsIHNvcnRhYmxlKSB7XG4gICAgdmFyIGV2ZW50UHJvcGVydGllcyA9IHt9O1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICBpZiAodHlwZW9mIHBsdWdpbi5ldmVudFByb3BlcnRpZXMgIT09ICdmdW5jdGlvbicpIHJldHVybjtcblxuICAgICAgX2V4dGVuZHMoZXZlbnRQcm9wZXJ0aWVzLCBwbHVnaW4uZXZlbnRQcm9wZXJ0aWVzLmNhbGwoc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdLCBuYW1lKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGV2ZW50UHJvcGVydGllcztcbiAgfSxcbiAgbW9kaWZ5T3B0aW9uOiBmdW5jdGlvbiBtb2RpZnlPcHRpb24oc29ydGFibGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG1vZGlmaWVkVmFsdWU7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIC8vIFBsdWdpbiBtdXN0IGV4aXN0IG9uIHRoZSBTb3J0YWJsZVxuICAgICAgaWYgKCFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV0pIHJldHVybjsgLy8gSWYgc3RhdGljIG9wdGlvbiBsaXN0ZW5lciBleGlzdHMgZm9yIHRoaXMgb3B0aW9uLCBjYWxsIGluIHRoZSBjb250ZXh0IG9mIHRoZSBTb3J0YWJsZSdzIGluc3RhbmNlIG9mIHRoaXMgcGx1Z2luXG5cbiAgICAgIGlmIChwbHVnaW4ub3B0aW9uTGlzdGVuZXJzICYmIHR5cGVvZiBwbHVnaW4ub3B0aW9uTGlzdGVuZXJzW25hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1vZGlmaWVkVmFsdWUgPSBwbHVnaW4ub3B0aW9uTGlzdGVuZXJzW25hbWVdLmNhbGwoc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1vZGlmaWVkVmFsdWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoX3JlZikge1xuICB2YXIgc29ydGFibGUgPSBfcmVmLnNvcnRhYmxlLFxuICAgICAgcm9vdEVsID0gX3JlZi5yb290RWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgdGFyZ2V0RWwgPSBfcmVmLnRhcmdldEVsLFxuICAgICAgY2xvbmVFbCA9IF9yZWYuY2xvbmVFbCxcbiAgICAgIHRvRWwgPSBfcmVmLnRvRWwsXG4gICAgICBmcm9tRWwgPSBfcmVmLmZyb21FbCxcbiAgICAgIG9sZEluZGV4ID0gX3JlZi5vbGRJbmRleCxcbiAgICAgIG5ld0luZGV4ID0gX3JlZi5uZXdJbmRleCxcbiAgICAgIG9sZERyYWdnYWJsZUluZGV4ID0gX3JlZi5vbGREcmFnZ2FibGVJbmRleCxcbiAgICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gX3JlZi5uZXdEcmFnZ2FibGVJbmRleCxcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQsXG4gICAgICBwdXRTb3J0YWJsZSA9IF9yZWYucHV0U29ydGFibGUsXG4gICAgICBleHRyYUV2ZW50UHJvcGVydGllcyA9IF9yZWYuZXh0cmFFdmVudFByb3BlcnRpZXM7XG4gIHNvcnRhYmxlID0gc29ydGFibGUgfHwgcm9vdEVsICYmIHJvb3RFbFtleHBhbmRvXTtcbiAgaWYgKCFzb3J0YWJsZSkgcmV0dXJuO1xuICB2YXIgZXZ0LFxuICAgICAgb3B0aW9ucyA9IHNvcnRhYmxlLm9wdGlvbnMsXG4gICAgICBvbk5hbWUgPSAnb24nICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyKDEpOyAvLyBTdXBwb3J0IGZvciBuZXcgQ3VzdG9tRXZlbnQgZmVhdHVyZVxuXG4gIGlmICh3aW5kb3cuQ3VzdG9tRXZlbnQgJiYgIUlFMTFPckxlc3MgJiYgIUVkZ2UpIHtcbiAgICBldnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZXZ0LnRvID0gdG9FbCB8fCByb290RWw7XG4gIGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcbiAgZXZ0Lml0ZW0gPSB0YXJnZXRFbCB8fCByb290RWw7XG4gIGV2dC5jbG9uZSA9IGNsb25lRWw7XG4gIGV2dC5vbGRJbmRleCA9IG9sZEluZGV4O1xuICBldnQubmV3SW5kZXggPSBuZXdJbmRleDtcbiAgZXZ0Lm9sZERyYWdnYWJsZUluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXg7XG4gIGV2dC5uZXdEcmFnZ2FibGVJbmRleCA9IG5ld0RyYWdnYWJsZUluZGV4O1xuICBldnQub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gIGV2dC5wdWxsTW9kZSA9IHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUubGFzdFB1dE1vZGUgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGFsbEV2ZW50UHJvcGVydGllcyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBleHRyYUV2ZW50UHJvcGVydGllcyksIFBsdWdpbk1hbmFnZXIuZ2V0RXZlbnRQcm9wZXJ0aWVzKG5hbWUsIHNvcnRhYmxlKSk7XG5cbiAgZm9yICh2YXIgb3B0aW9uIGluIGFsbEV2ZW50UHJvcGVydGllcykge1xuICAgIGV2dFtvcHRpb25dID0gYWxsRXZlbnRQcm9wZXJ0aWVzW29wdGlvbl07XG4gIH1cblxuICBpZiAocm9vdEVsKSB7XG4gICAgcm9vdEVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zW29uTmFtZV0pIHtcbiAgICBvcHRpb25zW29uTmFtZV0uY2FsbChzb3J0YWJsZSwgZXZ0KTtcbiAgfVxufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiZXZ0XCJdO1xuXG52YXIgcGx1Z2luRXZlbnQgPSBmdW5jdGlvbiBwbHVnaW5FdmVudChldmVudE5hbWUsIHNvcnRhYmxlKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fSxcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBfcmVmLmV2dCxcbiAgICAgIGRhdGEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICBQbHVnaW5NYW5hZ2VyLnBsdWdpbkV2ZW50LmJpbmQoU29ydGFibGUpKGV2ZW50TmFtZSwgc29ydGFibGUsIF9vYmplY3RTcHJlYWQyKHtcbiAgICBkcmFnRWw6IGRyYWdFbCxcbiAgICBwYXJlbnRFbDogcGFyZW50RWwsXG4gICAgZ2hvc3RFbDogZ2hvc3RFbCxcbiAgICByb290RWw6IHJvb3RFbCxcbiAgICBuZXh0RWw6IG5leHRFbCxcbiAgICBsYXN0RG93bkVsOiBsYXN0RG93bkVsLFxuICAgIGNsb25lRWw6IGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW46IGNsb25lSGlkZGVuLFxuICAgIGRyYWdTdGFydGVkOiBtb3ZlZCxcbiAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGUsXG4gICAgYWN0aXZlU29ydGFibGU6IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgIG9sZEluZGV4OiBvbGRJbmRleCxcbiAgICBvbGREcmFnZ2FibGVJbmRleDogb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleCxcbiAgICBoaWRlR2hvc3RGb3JUYXJnZXQ6IF9oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgdW5oaWRlR2hvc3RGb3JUYXJnZXQ6IF91bmhpZGVHaG9zdEZvclRhcmdldCxcbiAgICBjbG9uZU5vd0hpZGRlbjogZnVuY3Rpb24gY2xvbmVOb3dIaWRkZW4oKSB7XG4gICAgICBjbG9uZUhpZGRlbiA9IHRydWU7XG4gICAgfSxcbiAgICBjbG9uZU5vd1Nob3duOiBmdW5jdGlvbiBjbG9uZU5vd1Nob3duKCkge1xuICAgICAgY2xvbmVIaWRkZW4gPSBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3BhdGNoU29ydGFibGVFdmVudDogZnVuY3Rpb24gZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KG5hbWUpIHtcbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIGRhdGEpKTtcbn07XG5cbmZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KGluZm8pIHtcbiAgZGlzcGF0Y2hFdmVudChfb2JqZWN0U3ByZWFkMih7XG4gICAgcHV0U29ydGFibGU6IHB1dFNvcnRhYmxlLFxuICAgIGNsb25lRWw6IGNsb25lRWwsXG4gICAgdGFyZ2V0RWw6IGRyYWdFbCxcbiAgICByb290RWw6IHJvb3RFbCxcbiAgICBvbGRJbmRleDogb2xkSW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXg6IG9sZERyYWdnYWJsZUluZGV4LFxuICAgIG5ld0luZGV4OiBuZXdJbmRleCxcbiAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXhcbiAgfSwgaW5mbykpO1xufVxuXG52YXIgZHJhZ0VsLFxuICAgIHBhcmVudEVsLFxuICAgIGdob3N0RWwsXG4gICAgcm9vdEVsLFxuICAgIG5leHRFbCxcbiAgICBsYXN0RG93bkVsLFxuICAgIGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW4sXG4gICAgb2xkSW5kZXgsXG4gICAgbmV3SW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgYWN0aXZlR3JvdXAsXG4gICAgcHV0U29ydGFibGUsXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlLFxuICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlLFxuICAgIHNvcnRhYmxlcyA9IFtdLFxuICAgIHRhcEV2dCxcbiAgICB0b3VjaEV2dCxcbiAgICBsYXN0RHgsXG4gICAgbGFzdER5LFxuICAgIHRhcERpc3RhbmNlTGVmdCxcbiAgICB0YXBEaXN0YW5jZVRvcCxcbiAgICBtb3ZlZCxcbiAgICBsYXN0VGFyZ2V0LFxuICAgIGxhc3REaXJlY3Rpb24sXG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2UsXG4gICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlLFxuICAgIHRhcmdldE1vdmVEaXN0YW5jZSxcbiAgICAvLyBGb3IgcG9zaXRpb25pbmcgZ2hvc3QgYWJzb2x1dGVseVxuZ2hvc3RSZWxhdGl2ZVBhcmVudCxcbiAgICBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCA9IFtdLFxuICAgIC8vIChsZWZ0LCB0b3ApXG5fc2lsZW50ID0gZmFsc2UsXG4gICAgc2F2ZWRJbnB1dENoZWNrZWQgPSBbXTtcbi8qKiBAY29uc3QgKi9cblxudmFyIGRvY3VtZW50RXhpc3RzID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyxcbiAgICBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSA9IElPUyxcbiAgICBDU1NGbG9hdFByb3BlcnR5ID0gRWRnZSB8fCBJRTExT3JMZXNzID8gJ2Nzc0Zsb2F0JyA6ICdmbG9hdCcsXG4gICAgLy8gVGhpcyB3aWxsIG5vdCBwYXNzIGZvciBJRTksIGJlY2F1c2UgSUU5IERuRCBvbmx5IHdvcmtzIG9uIGFuY2hvcnNcbnN1cHBvcnREcmFnZ2FibGUgPSBkb2N1bWVudEV4aXN0cyAmJiAhQ2hyb21lRm9yQW5kcm9pZCAmJiAhSU9TICYmICdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIHN1cHBvcnRDc3NQb2ludGVyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIWRvY3VtZW50RXhpc3RzKSByZXR1cm47IC8vIGZhbHNlIHdoZW4gPD0gSUUxMVxuXG4gIGlmIChJRTExT3JMZXNzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpO1xuICBlbC5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOmF1dG8nO1xuICByZXR1cm4gZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gJ2F1dG8nO1xufSgpLFxuICAgIF9kZXRlY3REaXJlY3Rpb24gPSBmdW5jdGlvbiBfZGV0ZWN0RGlyZWN0aW9uKGVsLCBvcHRpb25zKSB7XG4gIHZhciBlbENTUyA9IGNzcyhlbCksXG4gICAgICBlbFdpZHRoID0gcGFyc2VJbnQoZWxDU1Mud2lkdGgpIC0gcGFyc2VJbnQoZWxDU1MucGFkZGluZ0xlZnQpIC0gcGFyc2VJbnQoZWxDU1MucGFkZGluZ1JpZ2h0KSAtIHBhcnNlSW50KGVsQ1NTLmJvcmRlckxlZnRXaWR0aCkgLSBwYXJzZUludChlbENTUy5ib3JkZXJSaWdodFdpZHRoKSxcbiAgICAgIGNoaWxkMSA9IGdldENoaWxkKGVsLCAwLCBvcHRpb25zKSxcbiAgICAgIGNoaWxkMiA9IGdldENoaWxkKGVsLCAxLCBvcHRpb25zKSxcbiAgICAgIGZpcnN0Q2hpbGRDU1MgPSBjaGlsZDEgJiYgY3NzKGNoaWxkMSksXG4gICAgICBzZWNvbmRDaGlsZENTUyA9IGNoaWxkMiAmJiBjc3MoY2hpbGQyKSxcbiAgICAgIGZpcnN0Q2hpbGRXaWR0aCA9IGZpcnN0Q2hpbGRDU1MgJiYgcGFyc2VJbnQoZmlyc3RDaGlsZENTUy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KGZpcnN0Q2hpbGRDU1MubWFyZ2luUmlnaHQpICsgZ2V0UmVjdChjaGlsZDEpLndpZHRoLFxuICAgICAgc2Vjb25kQ2hpbGRXaWR0aCA9IHNlY29uZENoaWxkQ1NTICYmIHBhcnNlSW50KHNlY29uZENoaWxkQ1NTLm1hcmdpbkxlZnQpICsgcGFyc2VJbnQoc2Vjb25kQ2hpbGRDU1MubWFyZ2luUmlnaHQpICsgZ2V0UmVjdChjaGlsZDIpLndpZHRoO1xuXG4gIGlmIChlbENTUy5kaXNwbGF5ID09PSAnZmxleCcpIHtcbiAgICByZXR1cm4gZWxDU1MuZmxleERpcmVjdGlvbiA9PT0gJ2NvbHVtbicgfHwgZWxDU1MuZmxleERpcmVjdGlvbiA9PT0gJ2NvbHVtbi1yZXZlcnNlJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICBpZiAoZWxDU1MuZGlzcGxheSA9PT0gJ2dyaWQnKSB7XG4gICAgcmV0dXJuIGVsQ1NTLmdyaWRUZW1wbGF0ZUNvbHVtbnMuc3BsaXQoJyAnKS5sZW5ndGggPD0gMSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICBpZiAoY2hpbGQxICYmIGZpcnN0Q2hpbGRDU1NbXCJmbG9hdFwiXSAmJiBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gIT09ICdub25lJykge1xuICAgIHZhciB0b3VjaGluZ1NpZGVDaGlsZDIgPSBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gPT09ICdsZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgcmV0dXJuIGNoaWxkMiAmJiAoc2Vjb25kQ2hpbGRDU1MuY2xlYXIgPT09ICdib3RoJyB8fCBzZWNvbmRDaGlsZENTUy5jbGVhciA9PT0gdG91Y2hpbmdTaWRlQ2hpbGQyKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICByZXR1cm4gY2hpbGQxICYmIChmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdibG9jaycgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnZmxleCcgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAndGFibGUnIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ2dyaWQnIHx8IGZpcnN0Q2hpbGRXaWR0aCA+PSBlbFdpZHRoICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgfHwgY2hpbGQyICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgJiYgZmlyc3RDaGlsZFdpZHRoICsgc2Vjb25kQ2hpbGRXaWR0aCA+IGVsV2lkdGgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbn0sXG4gICAgX2RyYWdFbEluUm93Q29sdW1uID0gZnVuY3Rpb24gX2RyYWdFbEluUm93Q29sdW1uKGRyYWdSZWN0LCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCkge1xuICB2YXIgZHJhZ0VsUzFPcHAgPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LmxlZnQgOiBkcmFnUmVjdC50b3AsXG4gICAgICBkcmFnRWxTMk9wcCA9IHZlcnRpY2FsID8gZHJhZ1JlY3QucmlnaHQgOiBkcmFnUmVjdC5ib3R0b20sXG4gICAgICBkcmFnRWxPcHBMZW5ndGggPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LndpZHRoIDogZHJhZ1JlY3QuaGVpZ2h0LFxuICAgICAgdGFyZ2V0UzFPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QubGVmdCA6IHRhcmdldFJlY3QudG9wLFxuICAgICAgdGFyZ2V0UzJPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QucmlnaHQgOiB0YXJnZXRSZWN0LmJvdHRvbSxcbiAgICAgIHRhcmdldE9wcExlbmd0aCA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC53aWR0aCA6IHRhcmdldFJlY3QuaGVpZ2h0O1xuICByZXR1cm4gZHJhZ0VsUzFPcHAgPT09IHRhcmdldFMxT3BwIHx8IGRyYWdFbFMyT3BwID09PSB0YXJnZXRTMk9wcCB8fCBkcmFnRWxTMU9wcCArIGRyYWdFbE9wcExlbmd0aCAvIDIgPT09IHRhcmdldFMxT3BwICsgdGFyZ2V0T3BwTGVuZ3RoIC8gMjtcbn0sXG5cbi8qKlxuICogRGV0ZWN0cyBmaXJzdCBuZWFyZXN0IGVtcHR5IHNvcnRhYmxlIHRvIFggYW5kIFkgcG9zaXRpb24gdXNpbmcgZW1wdHlJbnNlcnRUaHJlc2hvbGQuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHggICAgICBYIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICAgICBZIHBvc2l0aW9uXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICBFbGVtZW50IG9mIHRoZSBmaXJzdCBmb3VuZCBuZWFyZXN0IFNvcnRhYmxlXG4gKi9cbl9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSA9IGZ1bmN0aW9uIF9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSh4LCB5KSB7XG4gIHZhciByZXQ7XG4gIHNvcnRhYmxlcy5zb21lKGZ1bmN0aW9uIChzb3J0YWJsZSkge1xuICAgIHZhciB0aHJlc2hvbGQgPSBzb3J0YWJsZVtleHBhbmRvXS5vcHRpb25zLmVtcHR5SW5zZXJ0VGhyZXNob2xkO1xuICAgIGlmICghdGhyZXNob2xkIHx8IGxhc3RDaGlsZChzb3J0YWJsZSkpIHJldHVybjtcbiAgICB2YXIgcmVjdCA9IGdldFJlY3Qoc29ydGFibGUpLFxuICAgICAgICBpbnNpZGVIb3Jpem9udGFsbHkgPSB4ID49IHJlY3QubGVmdCAtIHRocmVzaG9sZCAmJiB4IDw9IHJlY3QucmlnaHQgKyB0aHJlc2hvbGQsXG4gICAgICAgIGluc2lkZVZlcnRpY2FsbHkgPSB5ID49IHJlY3QudG9wIC0gdGhyZXNob2xkICYmIHkgPD0gcmVjdC5ib3R0b20gKyB0aHJlc2hvbGQ7XG5cbiAgICBpZiAoaW5zaWRlSG9yaXpvbnRhbGx5ICYmIGluc2lkZVZlcnRpY2FsbHkpIHtcbiAgICAgIHJldHVybiByZXQgPSBzb3J0YWJsZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufSxcbiAgICBfcHJlcGFyZUdyb3VwID0gZnVuY3Rpb24gX3ByZXBhcmVHcm91cChvcHRpb25zKSB7XG4gIGZ1bmN0aW9uIHRvRm4odmFsdWUsIHB1bGwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRvLCBmcm9tLCBkcmFnRWwsIGV2dCkge1xuICAgICAgdmFyIHNhbWVHcm91cCA9IHRvLm9wdGlvbnMuZ3JvdXAubmFtZSAmJiBmcm9tLm9wdGlvbnMuZ3JvdXAubmFtZSAmJiB0by5vcHRpb25zLmdyb3VwLm5hbWUgPT09IGZyb20ub3B0aW9ucy5ncm91cC5uYW1lO1xuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAocHVsbCB8fCBzYW1lR3JvdXApKSB7XG4gICAgICAgIC8vIERlZmF1bHQgcHVsbCB2YWx1ZVxuICAgICAgICAvLyBEZWZhdWx0IHB1bGwgYW5kIHB1dCB2YWx1ZSBpZiBzYW1lIGdyb3VwXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHB1bGwgJiYgdmFsdWUgPT09ICdjbG9uZScpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRvRm4odmFsdWUodG8sIGZyb20sIGRyYWdFbCwgZXZ0KSwgcHVsbCkodG8sIGZyb20sIGRyYWdFbCwgZXZ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvdGhlckdyb3VwID0gKHB1bGwgPyB0byA6IGZyb20pLm9wdGlvbnMuZ3JvdXAubmFtZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgPT09IG90aGVyR3JvdXAgfHwgdmFsdWUuam9pbiAmJiB2YWx1ZS5pbmRleE9mKG90aGVyR3JvdXApID4gLTE7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBncm91cCA9IHt9O1xuICB2YXIgb3JpZ2luYWxHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cbiAgaWYgKCFvcmlnaW5hbEdyb3VwIHx8IF90eXBlb2Yob3JpZ2luYWxHcm91cCkgIT0gJ29iamVjdCcpIHtcbiAgICBvcmlnaW5hbEdyb3VwID0ge1xuICAgICAgbmFtZTogb3JpZ2luYWxHcm91cFxuICAgIH07XG4gIH1cblxuICBncm91cC5uYW1lID0gb3JpZ2luYWxHcm91cC5uYW1lO1xuICBncm91cC5jaGVja1B1bGwgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHVsbCwgdHJ1ZSk7XG4gIGdyb3VwLmNoZWNrUHV0ID0gdG9GbihvcmlnaW5hbEdyb3VwLnB1dCk7XG4gIGdyb3VwLnJldmVydENsb25lID0gb3JpZ2luYWxHcm91cC5yZXZlcnRDbG9uZTtcbiAgb3B0aW9ucy5ncm91cCA9IGdyb3VwO1xufSxcbiAgICBfaGlkZUdob3N0Rm9yVGFyZ2V0ID0gZnVuY3Rpb24gX2hpZGVHaG9zdEZvclRhcmdldCgpIHtcbiAgaWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyAmJiBnaG9zdEVsKSB7XG4gICAgY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfVxufSxcbiAgICBfdW5oaWRlR2hvc3RGb3JUYXJnZXQgPSBmdW5jdGlvbiBfdW5oaWRlR2hvc3RGb3JUYXJnZXQoKSB7XG4gIGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMgJiYgZ2hvc3RFbCkge1xuICAgIGNzcyhnaG9zdEVsLCAnZGlzcGxheScsICcnKTtcbiAgfVxufTsgLy8gIzExODQgZml4IC0gUHJldmVudCBjbGljayBldmVudCBvbiBmYWxsYmFjayBpZiBkcmFnZ2VkIGJ1dCBpdGVtIG5vdCBjaGFuZ2VkIHBvc2l0aW9uXG5cblxuaWYgKGRvY3VtZW50RXhpc3RzKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmIChpZ25vcmVOZXh0Q2xpY2spIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbiAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICYmIGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG59XG5cbnZhciBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCA9IGZ1bmN0aW9uIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KGV2dCkge1xuICBpZiAoZHJhZ0VsKSB7XG4gICAgZXZ0ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dDtcblxuICAgIHZhciBuZWFyZXN0ID0gX2RldGVjdE5lYXJlc3RFbXB0eVNvcnRhYmxlKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG5cbiAgICBpZiAobmVhcmVzdCkge1xuICAgICAgLy8gQ3JlYXRlIGltaXRhdGlvbiBldmVudFxuICAgICAgdmFyIGV2ZW50ID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgaW4gZXZ0KSB7XG4gICAgICAgIGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICBldmVudFtpXSA9IGV2dFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBldmVudC50YXJnZXQgPSBldmVudC5yb290RWwgPSBuZWFyZXN0O1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgPSB2b2lkIDA7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSB2b2lkIDA7XG5cbiAgICAgIG5lYXJlc3RbZXhwYW5kb10uX29uRHJhZ092ZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIF9jaGVja091dHNpZGVUYXJnZXRFbCA9IGZ1bmN0aW9uIF9jaGVja091dHNpZGVUYXJnZXRFbChldnQpIHtcbiAgaWYgKGRyYWdFbCkge1xuICAgIGRyYWdFbC5wYXJlbnROb2RlW2V4cGFuZG9dLl9pc091dHNpZGVUaGlzRWwoZXZ0LnRhcmdldCk7XG4gIH1cbn07XG4vKipcbiAqIEBjbGFzcyAgU29ydGFibGVcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWxcbiAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG4gKi9cblxuXG5mdW5jdGlvbiBTb3J0YWJsZShlbCwgb3B0aW9ucykge1xuICBpZiAoIShlbCAmJiBlbC5ub2RlVHlwZSAmJiBlbC5ub2RlVHlwZSA9PT0gMSkpIHtcbiAgICB0aHJvdyBcIlNvcnRhYmxlOiBgZWxgIG11c3QgYmUgYW4gSFRNTEVsZW1lbnQsIG5vdCBcIi5jb25jYXQoe30udG9TdHJpbmcuY2FsbChlbCkpO1xuICB9XG5cbiAgdGhpcy5lbCA9IGVsOyAvLyByb290IGVsZW1lbnRcblxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZHMoe30sIG9wdGlvbnMpOyAvLyBFeHBvcnQgaW5zdGFuY2VcblxuICBlbFtleHBhbmRvXSA9IHRoaXM7XG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBncm91cDogbnVsbCxcbiAgICBzb3J0OiB0cnVlLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBzdG9yZTogbnVsbCxcbiAgICBoYW5kbGU6IG51bGwsXG4gICAgZHJhZ2dhYmxlOiAvXlt1b11sJC9pLnRlc3QoZWwubm9kZU5hbWUpID8gJz5saScgOiAnPionLFxuICAgIHN3YXBUaHJlc2hvbGQ6IDEsXG4gICAgLy8gcGVyY2VudGFnZTsgMCA8PSB4IDw9IDFcbiAgICBpbnZlcnRTd2FwOiBmYWxzZSxcbiAgICAvLyBpbnZlcnQgYWx3YXlzXG4gICAgaW52ZXJ0ZWRTd2FwVGhyZXNob2xkOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNhbWUgYXMgc3dhcFRocmVzaG9sZCBpZiBkZWZhdWx0XG4gICAgcmVtb3ZlQ2xvbmVPbkhpZGU6IHRydWUsXG4gICAgZGlyZWN0aW9uOiBmdW5jdGlvbiBkaXJlY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2RldGVjdERpcmVjdGlvbihlbCwgdGhpcy5vcHRpb25zKTtcbiAgICB9LFxuICAgIGdob3N0Q2xhc3M6ICdzb3J0YWJsZS1naG9zdCcsXG4gICAgY2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuICAgIGRyYWdDbGFzczogJ3NvcnRhYmxlLWRyYWcnLFxuICAgIGlnbm9yZTogJ2EsIGltZycsXG4gICAgZmlsdGVyOiBudWxsLFxuICAgIHByZXZlbnRPbkZpbHRlcjogdHJ1ZSxcbiAgICBhbmltYXRpb246IDAsXG4gICAgZWFzaW5nOiBudWxsLFxuICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZHJhZ0VsLnRleHRDb250ZW50KTtcbiAgICB9LFxuICAgIGRyb3BCdWJibGU6IGZhbHNlLFxuICAgIGRyYWdvdmVyQnViYmxlOiBmYWxzZSxcbiAgICBkYXRhSWRBdHRyOiAnZGF0YS1pZCcsXG4gICAgZGVsYXk6IDAsXG4gICAgZGVsYXlPblRvdWNoT25seTogZmFsc2UsXG4gICAgdG91Y2hTdGFydFRocmVzaG9sZDogKE51bWJlci5wYXJzZUludCA/IE51bWJlciA6IHdpbmRvdykucGFyc2VJbnQod2luZG93LmRldmljZVBpeGVsUmF0aW8sIDEwKSB8fCAxLFxuICAgIGZvcmNlRmFsbGJhY2s6IGZhbHNlLFxuICAgIGZhbGxiYWNrQ2xhc3M6ICdzb3J0YWJsZS1mYWxsYmFjaycsXG4gICAgZmFsbGJhY2tPbkJvZHk6IGZhbHNlLFxuICAgIGZhbGxiYWNrVG9sZXJhbmNlOiAwLFxuICAgIGZhbGxiYWNrT2Zmc2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgc3VwcG9ydFBvaW50ZXI6IFNvcnRhYmxlLnN1cHBvcnRQb2ludGVyICE9PSBmYWxzZSAmJiAnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3cgJiYgIVNhZmFyaSxcbiAgICBlbXB0eUluc2VydFRocmVzaG9sZDogNVxuICB9O1xuICBQbHVnaW5NYW5hZ2VyLmluaXRpYWxpemVQbHVnaW5zKHRoaXMsIGVsLCBkZWZhdWx0cyk7IC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcblxuICBmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG4gICAgIShuYW1lIGluIG9wdGlvbnMpICYmIChvcHRpb25zW25hbWVdID0gZGVmYXVsdHNbbmFtZV0pO1xuICB9XG5cbiAgX3ByZXBhcmVHcm91cChvcHRpb25zKTsgLy8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG5cblxuICBmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG4gICAgaWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfSAvLyBTZXR1cCBkcmFnIG1vZGVcblxuXG4gIHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG4gIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgIC8vIFRvdWNoIHN0YXJ0IHRocmVzaG9sZCBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBuYXRpdmUgZHJhZ3N0YXJ0IHRocmVzaG9sZFxuICAgIHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gMTtcbiAgfSAvLyBCaW5kIGV2ZW50c1xuXG5cbiAgaWYgKG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICBvbihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gIH0gZWxzZSB7XG4gICAgb24oZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICBvbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgfVxuXG4gIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgIG9uKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcbiAgICBvbihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuICB9XG5cbiAgc29ydGFibGVzLnB1c2godGhpcy5lbCk7IC8vIFJlc3RvcmUgc29ydGluZ1xuXG4gIG9wdGlvbnMuc3RvcmUgJiYgb3B0aW9ucy5zdG9yZS5nZXQgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpIHx8IFtdKTsgLy8gQWRkIGFuaW1hdGlvbiBzdGF0ZSBtYW5hZ2VyXG5cbiAgX2V4dGVuZHModGhpcywgQW5pbWF0aW9uU3RhdGVNYW5hZ2VyKCkpO1xufVxuXG5Tb3J0YWJsZS5wcm90b3R5cGUgPVxuLyoqIEBsZW5kcyBTb3J0YWJsZS5wcm90b3R5cGUgKi9cbntcbiAgY29uc3RydWN0b3I6IFNvcnRhYmxlLFxuICBfaXNPdXRzaWRlVGhpc0VsOiBmdW5jdGlvbiBfaXNPdXRzaWRlVGhpc0VsKHRhcmdldCkge1xuICAgIGlmICghdGhpcy5lbC5jb250YWlucyh0YXJnZXQpICYmIHRhcmdldCAhPT0gdGhpcy5lbCkge1xuICAgICAgbGFzdFRhcmdldCA9IG51bGw7XG4gICAgfVxuICB9LFxuICBfZ2V0RGlyZWN0aW9uOiBmdW5jdGlvbiBfZ2V0RGlyZWN0aW9uKGV2dCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnZnVuY3Rpb24nID8gdGhpcy5vcHRpb25zLmRpcmVjdGlvbi5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCBkcmFnRWwpIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgfSxcbiAgX29uVGFwU3RhcnQ6IGZ1bmN0aW9uIF9vblRhcFN0YXJ0KFxuICAvKiogRXZlbnR8VG91Y2hFdmVudCAqL1xuICBldnQpIHtcbiAgICBpZiAoIWV2dC5jYW5jZWxhYmxlKSByZXR1cm47XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBlbCA9IHRoaXMuZWwsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHByZXZlbnRPbkZpbHRlciA9IG9wdGlvbnMucHJldmVudE9uRmlsdGVyLFxuICAgICAgICB0eXBlID0gZXZ0LnR5cGUsXG4gICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgJiYgZXZ0LnRvdWNoZXNbMF0gfHwgZXZ0LnBvaW50ZXJUeXBlICYmIGV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyAmJiBldnQsXG4gICAgICAgIHRhcmdldCA9ICh0b3VjaCB8fCBldnQpLnRhcmdldCxcbiAgICAgICAgb3JpZ2luYWxUYXJnZXQgPSBldnQudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgKGV2dC5wYXRoICYmIGV2dC5wYXRoWzBdIHx8IGV2dC5jb21wb3NlZFBhdGggJiYgZXZ0LmNvbXBvc2VkUGF0aCgpWzBdKSB8fCB0YXJnZXQsXG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuXG4gICAgX3NhdmVJbnB1dENoZWNrZWRTdGF0ZShlbCk7IC8vIERvbid0IHRyaWdnZXIgc3RhcnQgZXZlbnQgd2hlbiBhbiBlbGVtZW50IGlzIGJlZW4gZHJhZ2dlZCwgb3RoZXJ3aXNlIHRoZSBldnQub2xkaW5kZXggYWx3YXlzIHdyb25nIHdoZW4gc2V0IG9wdGlvbi5ncm91cC5cblxuXG4gICAgaWYgKGRyYWdFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgvbW91c2Vkb3dufHBvaW50ZXJkb3duLy50ZXN0KHR5cGUpICYmIGV2dC5idXR0b24gIT09IDAgfHwgb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuOyAvLyBvbmx5IGxlZnQgYnV0dG9uIGFuZCBlbmFibGVkXG4gICAgfSAvLyBjYW5jZWwgZG5kIGlmIG9yaWdpbmFsIHRhcmdldCBpcyBjb250ZW50IGVkaXRhYmxlXG5cblxuICAgIGlmIChvcmlnaW5hbFRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gU2FmYXJpIGlnbm9yZXMgZnVydGhlciBldmVudCBoYW5kbGluZyBhZnRlciBtb3VzZWRvd25cblxuXG4gICAgaWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSAmJiBTYWZhcmkgJiYgdGFyZ2V0ICYmIHRhcmdldC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdTRUxFQ1QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGFyZ2V0ID0gY2xvc2VzdCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCwgZmFsc2UpO1xuXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuYW5pbWF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobGFzdERvd25FbCA9PT0gdGFyZ2V0KSB7XG4gICAgICAvLyBJZ25vcmluZyBkdXBsaWNhdGUgYGRvd25gXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblxuXG4gICAgb2xkSW5kZXggPSBpbmRleCh0YXJnZXQpO1xuICAgIG9sZERyYWdnYWJsZUluZGV4ID0gaW5kZXgodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSk7IC8vIENoZWNrIGZpbHRlclxuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChmaWx0ZXIuY2FsbCh0aGlzLCBldnQsIHRhcmdldCwgdGhpcykpIHtcbiAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgICByb290RWw6IG9yaWdpbmFsVGFyZ2V0LFxuICAgICAgICAgIG5hbWU6ICdmaWx0ZXInLFxuICAgICAgICAgIHRhcmdldEVsOiB0YXJnZXQsXG4gICAgICAgICAgdG9FbDogZWwsXG4gICAgICAgICAgZnJvbUVsOiBlbFxuICAgICAgICB9KTtcblxuICAgICAgICBwbHVnaW5FdmVudCgnZmlsdGVyJywgX3RoaXMsIHtcbiAgICAgICAgICBldnQ6IGV2dFxuICAgICAgICB9KTtcbiAgICAgICAgcHJldmVudE9uRmlsdGVyICYmIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47IC8vIGNhbmNlbCBkbmRcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpbHRlcikge1xuICAgICAgZmlsdGVyID0gZmlsdGVyLnNwbGl0KCcsJykuc29tZShmdW5jdGlvbiAoY3JpdGVyaWEpIHtcbiAgICAgICAgY3JpdGVyaWEgPSBjbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBjcml0ZXJpYS50cmltKCksIGVsLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKGNyaXRlcmlhKSB7XG4gICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgc29ydGFibGU6IF90aGlzLFxuICAgICAgICAgICAgcm9vdEVsOiBjcml0ZXJpYSxcbiAgICAgICAgICAgIG5hbWU6ICdmaWx0ZXInLFxuICAgICAgICAgICAgdGFyZ2V0RWw6IHRhcmdldCxcbiAgICAgICAgICAgIGZyb21FbDogZWwsXG4gICAgICAgICAgICB0b0VsOiBlbFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcGx1Z2luRXZlbnQoJ2ZpbHRlcicsIF90aGlzLCB7XG4gICAgICAgICAgICBldnQ6IGV2dFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICBwcmV2ZW50T25GaWx0ZXIgJiYgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjsgLy8gY2FuY2VsIGRuZFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhbmRsZSAmJiAhY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgb3B0aW9ucy5oYW5kbGUsIGVsLCBmYWxzZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFByZXBhcmUgYGRyYWdzdGFydGBcblxuXG4gICAgdGhpcy5fcHJlcGFyZURyYWdTdGFydChldnQsIHRvdWNoLCB0YXJnZXQpO1xuICB9LFxuICBfcHJlcGFyZURyYWdTdGFydDogZnVuY3Rpb24gX3ByZXBhcmVEcmFnU3RhcnQoXG4gIC8qKiBFdmVudCAqL1xuICBldnQsXG4gIC8qKiBUb3VjaCAqL1xuICB0b3VjaCxcbiAgLyoqIEhUTUxFbGVtZW50ICovXG4gIHRhcmdldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGVsID0gX3RoaXMuZWwsXG4gICAgICAgIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zLFxuICAgICAgICBvd25lckRvY3VtZW50ID0gZWwub3duZXJEb2N1bWVudCxcbiAgICAgICAgZHJhZ1N0YXJ0Rm47XG5cbiAgICBpZiAodGFyZ2V0ICYmICFkcmFnRWwgJiYgdGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSB7XG4gICAgICB2YXIgZHJhZ1JlY3QgPSBnZXRSZWN0KHRhcmdldCk7XG4gICAgICByb290RWwgPSBlbDtcbiAgICAgIGRyYWdFbCA9IHRhcmdldDtcbiAgICAgIHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7XG4gICAgICBuZXh0RWwgPSBkcmFnRWwubmV4dFNpYmxpbmc7XG4gICAgICBsYXN0RG93bkVsID0gdGFyZ2V0O1xuICAgICAgYWN0aXZlR3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuICAgICAgU29ydGFibGUuZHJhZ2dlZCA9IGRyYWdFbDtcbiAgICAgIHRhcEV2dCA9IHtcbiAgICAgICAgdGFyZ2V0OiBkcmFnRWwsXG4gICAgICAgIGNsaWVudFg6ICh0b3VjaCB8fCBldnQpLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6ICh0b3VjaCB8fCBldnQpLmNsaWVudFlcbiAgICAgIH07XG4gICAgICB0YXBEaXN0YW5jZUxlZnQgPSB0YXBFdnQuY2xpZW50WCAtIGRyYWdSZWN0LmxlZnQ7XG4gICAgICB0YXBEaXN0YW5jZVRvcCA9IHRhcEV2dC5jbGllbnRZIC0gZHJhZ1JlY3QudG9wO1xuICAgICAgdGhpcy5fbGFzdFggPSAodG91Y2ggfHwgZXZ0KS5jbGllbnRYO1xuICAgICAgdGhpcy5fbGFzdFkgPSAodG91Y2ggfHwgZXZ0KS5jbGllbnRZO1xuICAgICAgZHJhZ0VsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJ2FsbCc7XG5cbiAgICAgIGRyYWdTdGFydEZuID0gZnVuY3Rpb24gZHJhZ1N0YXJ0Rm4oKSB7XG4gICAgICAgIHBsdWdpbkV2ZW50KCdkZWxheUVuZGVkJywgX3RoaXMsIHtcbiAgICAgICAgICBldnQ6IGV2dFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgICAgIF90aGlzLl9vbkRyb3AoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG4gICAgICAgIC8vIHdlIGNhbiByZS1lbmFibGUgdGhlIGV2ZW50czogdG91Y2htb3ZlL21vdXNlbW92ZVxuXG5cbiAgICAgICAgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuXG4gICAgICAgIGlmICghRmlyZUZveCAmJiBfdGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgICBkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBCaW5kIHRoZSBldmVudHM6IGRyYWdzdGFydC9kcmFnZW5kXG5cblxuICAgICAgICBfdGhpcy5fdHJpZ2dlckRyYWdTdGFydChldnQsIHRvdWNoKTsgLy8gRHJhZyBzdGFydCBldmVudFxuXG5cbiAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgICBuYW1lOiAnY2hvb3NlJyxcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgfSk7IC8vIENob3NlbiBpdGVtXG5cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuICAgICAgfTsgLy8gRGlzYWJsZSBcImRyYWdnYWJsZVwiXG5cblxuICAgICAgb3B0aW9ucy5pZ25vcmUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuICAgICAgICBmaW5kKGRyYWdFbCwgY3JpdGVyaWEudHJpbSgpLCBfZGlzYWJsZURyYWdnYWJsZSk7XG4gICAgICB9KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdkcmFnb3ZlcicsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7IC8vIE1ha2UgZHJhZ0VsIGRyYWdnYWJsZSAobXVzdCBiZSBiZWZvcmUgZGVsYXkgZm9yIEZpcmVGb3gpXG5cbiAgICAgIGlmIChGaXJlRm94ICYmIHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gNDtcbiAgICAgICAgZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHBsdWdpbkV2ZW50KCdkZWxheVN0YXJ0JywgdGhpcywge1xuICAgICAgICBldnQ6IGV2dFxuICAgICAgfSk7IC8vIERlbGF5IGlzIGltcG9zc2libGUgZm9yIG5hdGl2ZSBEbkQgaW4gRWRnZSBvciBJRVxuXG4gICAgICBpZiAob3B0aW9ucy5kZWxheSAmJiAoIW9wdGlvbnMuZGVsYXlPblRvdWNoT25seSB8fCB0b3VjaCkgJiYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSB8fCAhKEVkZ2UgfHwgSUUxMU9yTGVzcykpKSB7XG4gICAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gSWYgdGhlIHVzZXIgbW92ZXMgdGhlIHBvaW50ZXIgb3IgbGV0IGdvIHRoZSBjbGljayBvciB0b3VjaFxuICAgICAgICAvLyBiZWZvcmUgdGhlIGRlbGF5IGhhcyBiZWVuIHJlYWNoZWQ6XG4gICAgICAgIC8vIGRpc2FibGUgdGhlIGRlbGF5ZWQgZHJhZ1xuXG5cbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgb3B0aW9ucy5zdXBwb3J0UG9pbnRlciAmJiBvbihvd25lckRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgX3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmFnU3RhcnRGbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcjogZnVuY3Rpb24gX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcihcbiAgLyoqIFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50ICoqL1xuICBlKSB7XG4gICAgdmFyIHRvdWNoID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcblxuICAgIGlmIChNYXRoLm1heChNYXRoLmFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBNYXRoLmFicyh0b3VjaC5jbGllbnRZIC0gdGhpcy5fbGFzdFkpKSA+PSBNYXRoLmZsb29yKHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkIC8gKHRoaXMubmF0aXZlRHJhZ2dhYmxlICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKCk7XG4gICAgfVxuICB9LFxuICBfZGlzYWJsZURlbGF5ZWREcmFnOiBmdW5jdGlvbiBfZGlzYWJsZURlbGF5ZWREcmFnKCkge1xuICAgIGRyYWdFbCAmJiBfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cbiAgICB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKTtcbiAgfSxcbiAgX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50czogZnVuY3Rpb24gX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gIH0sXG4gIF90cmlnZ2VyRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfdHJpZ2dlckRyYWdTdGFydChcbiAgLyoqIEV2ZW50ICovXG4gIGV2dCxcbiAgLyoqIFRvdWNoICovXG4gIHRvdWNoKSB7XG4gICAgdG91Y2ggPSB0b3VjaCB8fCBldnQucG9pbnRlclR5cGUgPT0gJ3RvdWNoJyAmJiBldnQ7XG5cbiAgICBpZiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlIHx8IHRvdWNoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRvdWNoKSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcbiAgICAgIG9uKHJvb3RFbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgICAvLyBUaW1lb3V0IG5lY2Nlc3NhcnkgZm9yIElFOVxuICAgICAgICBfbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHt9XG4gIH0sXG4gIF9kcmFnU3RhcnRlZDogZnVuY3Rpb24gX2RyYWdTdGFydGVkKGZhbGxiYWNrLCBldnQpIHtcblxuICAgIGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIGlmIChyb290RWwgJiYgZHJhZ0VsKSB7XG4gICAgICBwbHVnaW5FdmVudCgnZHJhZ1N0YXJ0ZWQnLCB0aGlzLCB7XG4gICAgICAgIGV2dDogZXZ0XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAnZHJhZ292ZXInLCBfY2hlY2tPdXRzaWRlVGFyZ2V0RWwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsgLy8gQXBwbHkgZWZmZWN0XG5cbiAgICAgICFmYWxsYmFjayAmJiB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCBmYWxzZSk7XG4gICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZ2hvc3RDbGFzcywgdHJ1ZSk7XG4gICAgICBTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuICAgICAgZmFsbGJhY2sgJiYgdGhpcy5fYXBwZW5kR2hvc3QoKTsgLy8gRHJhZyBzdGFydCBldmVudFxuXG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICBuYW1lOiAnc3RhcnQnLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9udWxsaW5nKCk7XG4gICAgfVxuICB9LFxuICBfZW11bGF0ZURyYWdPdmVyOiBmdW5jdGlvbiBfZW11bGF0ZURyYWdPdmVyKCkge1xuICAgIGlmICh0b3VjaEV2dCkge1xuICAgICAgdGhpcy5fbGFzdFggPSB0b3VjaEV2dC5jbGllbnRYO1xuICAgICAgdGhpcy5fbGFzdFkgPSB0b3VjaEV2dC5jbGllbnRZO1xuXG4gICAgICBfaGlkZUdob3N0Rm9yVGFyZ2V0KCk7XG5cbiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoRXZ0LmNsaWVudFgsIHRvdWNoRXZ0LmNsaWVudFkpO1xuICAgICAgdmFyIHBhcmVudCA9IHRhcmdldDtcblxuICAgICAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQuc2hhZG93Um9vdCkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQuc2hhZG93Um9vdC5lbGVtZW50RnJvbVBvaW50KHRvdWNoRXZ0LmNsaWVudFgsIHRvdWNoRXZ0LmNsaWVudFkpO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBwYXJlbnQpIGJyZWFrO1xuICAgICAgICBwYXJlbnQgPSB0YXJnZXQ7XG4gICAgICB9XG5cbiAgICAgIGRyYWdFbC5wYXJlbnROb2RlW2V4cGFuZG9dLl9pc091dHNpZGVUaGlzRWwodGFyZ2V0KTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKHBhcmVudFtleHBhbmRvXSkge1xuICAgICAgICAgICAgdmFyIGluc2VydGVkID0gdm9pZCAwO1xuICAgICAgICAgICAgaW5zZXJ0ZWQgPSBwYXJlbnRbZXhwYW5kb10uX29uRHJhZ092ZXIoe1xuICAgICAgICAgICAgICBjbGllbnRYOiB0b3VjaEV2dC5jbGllbnRYLFxuICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaEV2dC5jbGllbnRZLFxuICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgcm9vdEVsOiBwYXJlbnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaW5zZXJ0ZWQgJiYgIXRoaXMub3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0YXJnZXQgPSBwYXJlbnQ7IC8vIHN0b3JlIGxhc3QgZWxlbWVudFxuICAgICAgICB9XG4gICAgICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cbiAgICAgICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKTtcbiAgICAgIH1cblxuICAgICAgX3VuaGlkZUdob3N0Rm9yVGFyZ2V0KCk7XG4gICAgfVxuICB9LFxuICBfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uIF9vblRvdWNoTW92ZShcbiAgLyoqVG91Y2hFdmVudCovXG4gIGV2dCkge1xuICAgIGlmICh0YXBFdnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGZhbGxiYWNrVG9sZXJhbmNlID0gb3B0aW9ucy5mYWxsYmFja1RvbGVyYW5jZSxcbiAgICAgICAgICBmYWxsYmFja09mZnNldCA9IG9wdGlvbnMuZmFsbGJhY2tPZmZzZXQsXG4gICAgICAgICAgdG91Y2ggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0LFxuICAgICAgICAgIGdob3N0TWF0cml4ID0gZ2hvc3RFbCAmJiBtYXRyaXgoZ2hvc3RFbCwgdHJ1ZSksXG4gICAgICAgICAgc2NhbGVYID0gZ2hvc3RFbCAmJiBnaG9zdE1hdHJpeCAmJiBnaG9zdE1hdHJpeC5hLFxuICAgICAgICAgIHNjYWxlWSA9IGdob3N0RWwgJiYgZ2hvc3RNYXRyaXggJiYgZ2hvc3RNYXRyaXguZCxcbiAgICAgICAgICByZWxhdGl2ZVNjcm9sbE9mZnNldCA9IFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ICYmIGdob3N0UmVsYXRpdmVQYXJlbnQgJiYgZ2V0UmVsYXRpdmVTY3JvbGxPZmZzZXQoZ2hvc3RSZWxhdGl2ZVBhcmVudCksXG4gICAgICAgICAgZHggPSAodG91Y2guY2xpZW50WCAtIHRhcEV2dC5jbGllbnRYICsgZmFsbGJhY2tPZmZzZXQueCkgLyAoc2NhbGVYIHx8IDEpICsgKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID8gcmVsYXRpdmVTY3JvbGxPZmZzZXRbMF0gLSBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbFswXSA6IDApIC8gKHNjYWxlWCB8fCAxKSxcbiAgICAgICAgICBkeSA9ICh0b3VjaC5jbGllbnRZIC0gdGFwRXZ0LmNsaWVudFkgKyBmYWxsYmFja09mZnNldC55KSAvIChzY2FsZVkgfHwgMSkgKyAocmVsYXRpdmVTY3JvbGxPZmZzZXQgPyByZWxhdGl2ZVNjcm9sbE9mZnNldFsxXSAtIGdob3N0UmVsYXRpdmVQYXJlbnRJbml0aWFsU2Nyb2xsWzFdIDogMCkgLyAoc2NhbGVZIHx8IDEpOyAvLyBvbmx5IHNldCB0aGUgc3RhdHVzIHRvIGRyYWdnaW5nLCB3aGVuIHdlIGFyZSBhY3R1YWxseSBkcmFnZ2luZ1xuXG4gICAgICBpZiAoIVNvcnRhYmxlLmFjdGl2ZSAmJiAhYXdhaXRpbmdEcmFnU3RhcnRlZCkge1xuICAgICAgICBpZiAoZmFsbGJhY2tUb2xlcmFuY2UgJiYgTWF0aC5tYXgoTWF0aC5hYnModG91Y2guY2xpZW50WCAtIHRoaXMuX2xhc3RYKSwgTWF0aC5hYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPCBmYWxsYmFja1RvbGVyYW5jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0KGV2dCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnaG9zdEVsKSB7XG4gICAgICAgIGlmIChnaG9zdE1hdHJpeCkge1xuICAgICAgICAgIGdob3N0TWF0cml4LmUgKz0gZHggLSAobGFzdER4IHx8IDApO1xuICAgICAgICAgIGdob3N0TWF0cml4LmYgKz0gZHkgLSAobGFzdER5IHx8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdob3N0TWF0cml4ID0ge1xuICAgICAgICAgICAgYTogMSxcbiAgICAgICAgICAgIGI6IDAsXG4gICAgICAgICAgICBjOiAwLFxuICAgICAgICAgICAgZDogMSxcbiAgICAgICAgICAgIGU6IGR4LFxuICAgICAgICAgICAgZjogZHlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNzc01hdHJpeCA9IFwibWF0cml4KFwiLmNvbmNhdChnaG9zdE1hdHJpeC5hLCBcIixcIikuY29uY2F0KGdob3N0TWF0cml4LmIsIFwiLFwiKS5jb25jYXQoZ2hvc3RNYXRyaXguYywgXCIsXCIpLmNvbmNhdChnaG9zdE1hdHJpeC5kLCBcIixcIikuY29uY2F0KGdob3N0TWF0cml4LmUsIFwiLFwiKS5jb25jYXQoZ2hvc3RNYXRyaXguZiwgXCIpXCIpO1xuICAgICAgICBjc3MoZ2hvc3RFbCwgJ3dlYmtpdFRyYW5zZm9ybScsIGNzc01hdHJpeCk7XG4gICAgICAgIGNzcyhnaG9zdEVsLCAnbW96VHJhbnNmb3JtJywgY3NzTWF0cml4KTtcbiAgICAgICAgY3NzKGdob3N0RWwsICdtc1RyYW5zZm9ybScsIGNzc01hdHJpeCk7XG4gICAgICAgIGNzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgY3NzTWF0cml4KTtcbiAgICAgICAgbGFzdER4ID0gZHg7XG4gICAgICAgIGxhc3REeSA9IGR5O1xuICAgICAgICB0b3VjaEV2dCA9IHRvdWNoO1xuICAgICAgfVxuXG4gICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sXG4gIF9hcHBlbmRHaG9zdDogZnVuY3Rpb24gX2FwcGVuZEdob3N0KCkge1xuICAgIC8vIEJ1ZyBpZiB1c2luZyBzY2FsZSgpOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjM3MDU4XG4gICAgLy8gTm90IGJlaW5nIGFkanVzdGVkIGZvclxuICAgIGlmICghZ2hvc3RFbCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMub3B0aW9ucy5mYWxsYmFja09uQm9keSA/IGRvY3VtZW50LmJvZHkgOiByb290RWwsXG4gICAgICAgICAgcmVjdCA9IGdldFJlY3QoZHJhZ0VsLCB0cnVlLCBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSwgdHJ1ZSwgY29udGFpbmVyKSxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBQb3NpdGlvbiBhYnNvbHV0ZWx5XG5cbiAgICAgIGlmIChQb3NpdGlvbkdob3N0QWJzb2x1dGVseSkge1xuICAgICAgICAvLyBHZXQgcmVsYXRpdmVseSBwb3NpdGlvbmVkIHBhcmVudFxuICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gY29udGFpbmVyO1xuXG4gICAgICAgIHdoaWxlIChjc3MoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnICYmIGNzcyhnaG9zdFJlbGF0aXZlUGFyZW50LCAndHJhbnNmb3JtJykgPT09ICdub25lJyAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudCkge1xuICAgICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBnaG9zdFJlbGF0aXZlUGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoZ2hvc3RSZWxhdGl2ZVBhcmVudCA9PT0gZG9jdW1lbnQpIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gICAgICAgICAgcmVjdC50b3AgKz0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgcmVjdC5sZWZ0ICs9IGdob3N0UmVsYXRpdmVQYXJlbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGwgPSBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChnaG9zdFJlbGF0aXZlUGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgZ2hvc3RFbCA9IGRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnYm94LXNpemluZycsICdib3JkZXItYm94Jyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ21hcmdpbicsIDApO1xuICAgICAgY3NzKGdob3N0RWwsICd0b3AnLCByZWN0LnRvcCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuICAgICAgY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICAgICAgY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ29wYWNpdHknLCAnMC44Jyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgUG9zaXRpb25HaG9zdEFic29sdXRlbHkgPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3pJbmRleCcsICcxMDAwMDAnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAncG9pbnRlckV2ZW50cycsICdub25lJyk7XG4gICAgICBTb3J0YWJsZS5naG9zdCA9IGdob3N0RWw7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZ2hvc3RFbCk7IC8vIFNldCB0cmFuc2Zvcm0tb3JpZ2luXG5cbiAgICAgIGNzcyhnaG9zdEVsLCAndHJhbnNmb3JtLW9yaWdpbicsIHRhcERpc3RhbmNlTGVmdCAvIHBhcnNlSW50KGdob3N0RWwuc3R5bGUud2lkdGgpICogMTAwICsgJyUgJyArIHRhcERpc3RhbmNlVG9wIC8gcGFyc2VJbnQoZ2hvc3RFbC5zdHlsZS5oZWlnaHQpICogMTAwICsgJyUnKTtcbiAgICB9XG4gIH0sXG4gIF9vbkRyYWdTdGFydDogZnVuY3Rpb24gX29uRHJhZ1N0YXJ0KFxuICAvKipFdmVudCovXG4gIGV2dCxcbiAgLyoqYm9vbGVhbiovXG4gIGZhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBkYXRhVHJhbnNmZXIgPSBldnQuZGF0YVRyYW5zZmVyO1xuICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICBwbHVnaW5FdmVudCgnZHJhZ1N0YXJ0JywgdGhpcywge1xuICAgICAgZXZ0OiBldnRcbiAgICB9KTtcblxuICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICB0aGlzLl9vbkRyb3AoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBsdWdpbkV2ZW50KCdzZXR1cENsb25lJywgdGhpcyk7XG5cbiAgICBpZiAoIVNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgIGNsb25lRWwgPSBjbG9uZShkcmFnRWwpO1xuICAgICAgY2xvbmVFbC5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgIGNsb25lRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnJztcblxuICAgICAgdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgIHRvZ2dsZUNsYXNzKGNsb25lRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuICAgICAgU29ydGFibGUuY2xvbmUgPSBjbG9uZUVsO1xuICAgIH0gLy8gIzExNDM6IElGcmFtZSBzdXBwb3J0IHdvcmthcm91bmRcblxuXG4gICAgX3RoaXMuY2xvbmVJZCA9IF9uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBwbHVnaW5FdmVudCgnY2xvbmUnLCBfdGhpcyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuO1xuXG4gICAgICBpZiAoIV90aGlzLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUpIHtcbiAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IF90aGlzLFxuICAgICAgICBuYW1lOiAnY2xvbmUnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAhZmFsbGJhY2sgJiYgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7IC8vIFNldCBwcm9wZXIgZHJvcCBldmVudHNcblxuICAgIGlmIChmYWxsYmFjaykge1xuICAgICAgaWdub3JlTmV4dENsaWNrID0gdHJ1ZTtcbiAgICAgIF90aGlzLl9sb29wSWQgPSBzZXRJbnRlcnZhbChfdGhpcy5fZW11bGF0ZURyYWdPdmVyLCA1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVuZG8gd2hhdCB3YXMgc2V0IGluIF9wcmVwYXJlRHJhZ1N0YXJ0IGJlZm9yZSBkcmFnIHN0YXJ0ZWRcbiAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApO1xuXG4gICAgICBpZiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIGRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgICBvcHRpb25zLnNldERhdGEgJiYgb3B0aW9ucy5zZXREYXRhLmNhbGwoX3RoaXMsIGRhdGFUcmFuc2ZlciwgZHJhZ0VsKTtcbiAgICAgIH1cblxuICAgICAgb24oZG9jdW1lbnQsICdkcm9wJywgX3RoaXMpOyAvLyAjMTI3NiBmaXg6XG5cbiAgICAgIGNzcyhkcmFnRWwsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWigwKScpO1xuICAgIH1cblxuICAgIGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgIF90aGlzLl9kcmFnU3RhcnRJZCA9IF9uZXh0VGljayhfdGhpcy5fZHJhZ1N0YXJ0ZWQuYmluZChfdGhpcywgZmFsbGJhY2ssIGV2dCkpO1xuICAgIG9uKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCBfdGhpcyk7XG4gICAgbW92ZWQgPSB0cnVlO1xuXG4gICAgaWYgKFNhZmFyaSkge1xuICAgICAgY3NzKGRvY3VtZW50LmJvZHksICd1c2VyLXNlbGVjdCcsICdub25lJyk7XG4gICAgfVxuICB9LFxuICAvLyBSZXR1cm5zIHRydWUgLSBpZiBubyBmdXJ0aGVyIGFjdGlvbiBpcyBuZWVkZWQgKGVpdGhlciBpbnNlcnRlZCBvciBhbm90aGVyIGNvbmRpdGlvbilcbiAgX29uRHJhZ092ZXI6IGZ1bmN0aW9uIF9vbkRyYWdPdmVyKFxuICAvKipFdmVudCovXG4gIGV2dCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWwsXG4gICAgICAgIHRhcmdldCA9IGV2dC50YXJnZXQsXG4gICAgICAgIGRyYWdSZWN0LFxuICAgICAgICB0YXJnZXRSZWN0LFxuICAgICAgICByZXZlcnQsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGdyb3VwID0gb3B0aW9ucy5ncm91cCxcbiAgICAgICAgYWN0aXZlU29ydGFibGUgPSBTb3J0YWJsZS5hY3RpdmUsXG4gICAgICAgIGlzT3duZXIgPSBhY3RpdmVHcm91cCA9PT0gZ3JvdXAsXG4gICAgICAgIGNhblNvcnQgPSBvcHRpb25zLnNvcnQsXG4gICAgICAgIGZyb21Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IGFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICBjb21wbGV0ZWRGaXJlZCA9IGZhbHNlO1xuXG4gICAgaWYgKF9zaWxlbnQpIHJldHVybjtcblxuICAgIGZ1bmN0aW9uIGRyYWdPdmVyRXZlbnQobmFtZSwgZXh0cmEpIHtcbiAgICAgIHBsdWdpbkV2ZW50KG5hbWUsIF90aGlzLCBfb2JqZWN0U3ByZWFkMih7XG4gICAgICAgIGV2dDogZXZ0LFxuICAgICAgICBpc093bmVyOiBpc093bmVyLFxuICAgICAgICBheGlzOiB2ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgIHJldmVydDogcmV2ZXJ0LFxuICAgICAgICBkcmFnUmVjdDogZHJhZ1JlY3QsXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QsXG4gICAgICAgIGNhblNvcnQ6IGNhblNvcnQsXG4gICAgICAgIGZyb21Tb3J0YWJsZTogZnJvbVNvcnRhYmxlLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWQsXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gb25Nb3ZlKHRhcmdldCwgYWZ0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIGdldFJlY3QodGFyZ2V0KSwgZXZ0LCBhZnRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZWQ6IGNoYW5nZWRcbiAgICAgIH0sIGV4dHJhKSk7XG4gICAgfSAvLyBDYXB0dXJlIGFuaW1hdGlvbiBzdGF0ZVxuXG5cbiAgICBmdW5jdGlvbiBjYXB0dXJlKCkge1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlJyk7XG5cbiAgICAgIF90aGlzLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgICBpZiAoX3RoaXMgIT09IGZyb21Tb3J0YWJsZSkge1xuICAgICAgICBmcm9tU29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBSZXR1cm4gaW52b2NhdGlvbiB3aGVuIGRyYWdFbCBpcyBpbnNlcnRlZCAob3IgY29tcGxldGVkKVxuXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZWQoaW5zZXJ0aW9uKSB7XG4gICAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlckNvbXBsZXRlZCcsIHtcbiAgICAgICAgaW5zZXJ0aW9uOiBpbnNlcnRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaW5zZXJ0aW9uKSB7XG4gICAgICAgIC8vIENsb25lcyBtdXN0IGJlIGhpZGRlbiBiZWZvcmUgZm9sZGluZyBhbmltYXRpb24gdG8gY2FwdHVyZSBkcmFnUmVjdEFic29sdXRlIHByb3Blcmx5XG4gICAgICAgIGlmIChpc093bmVyKSB7XG4gICAgICAgICAgYWN0aXZlU29ydGFibGUuX2hpZGVDbG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgICAvLyBTZXQgZ2hvc3QgY2xhc3MgdG8gbmV3IHNvcnRhYmxlJ3MgZ2hvc3QgY2xhc3NcbiAgICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzIDogYWN0aXZlU29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHB1dFNvcnRhYmxlICE9PSBfdGhpcyAmJiBfdGhpcyAhPT0gU29ydGFibGUuYWN0aXZlKSB7XG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfdGhpcztcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcyA9PT0gU29ydGFibGUuYWN0aXZlICYmIHB1dFNvcnRhYmxlKSB7XG4gICAgICAgICAgcHV0U29ydGFibGUgPSBudWxsO1xuICAgICAgICB9IC8vIEFuaW1hdGlvblxuXG5cbiAgICAgICAgaWYgKGZyb21Tb3J0YWJsZSA9PT0gX3RoaXMpIHtcbiAgICAgICAgICBfdGhpcy5faWdub3JlV2hpbGVBbmltYXRpbmcgPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5hbmltYXRlQWxsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlJyk7XG4gICAgICAgICAgX3RoaXMuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgICBmcm9tU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICAgIGZyb21Tb3J0YWJsZS5faWdub3JlV2hpbGVBbmltYXRpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IC8vIE51bGwgbGFzdFRhcmdldCBpZiBpdCBpcyBub3QgaW5zaWRlIGEgcHJldmlvdXNseSBzd2FwcGVkIGVsZW1lbnRcblxuXG4gICAgICBpZiAodGFyZ2V0ID09PSBkcmFnRWwgJiYgIWRyYWdFbC5hbmltYXRlZCB8fCB0YXJnZXQgPT09IGVsICYmICF0YXJnZXQuYW5pbWF0ZWQpIHtcbiAgICAgICAgbGFzdFRhcmdldCA9IG51bGw7XG4gICAgICB9IC8vIG5vIGJ1YmJsaW5nIGFuZCBub3QgZmFsbGJhY2tcblxuXG4gICAgICBpZiAoIW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgIWV2dC5yb290RWwgJiYgdGFyZ2V0ICE9PSBkb2N1bWVudCkge1xuICAgICAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKGV2dC50YXJnZXQpOyAvLyBEbyBub3QgZGV0ZWN0IGZvciBlbXB0eSBpbnNlcnQgaWYgYWxyZWFkeSBpbnNlcnRlZFxuXG5cbiAgICAgICAgIWluc2VydGlvbiAmJiBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudChldnQpO1xuICAgICAgfVxuXG4gICAgICAhb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBjb21wbGV0ZWRGaXJlZCA9IHRydWU7XG4gICAgfSAvLyBDYWxsIHdoZW4gZHJhZ0VsIGhhcyBiZWVuIGluc2VydGVkXG5cblxuICAgIGZ1bmN0aW9uIGNoYW5nZWQoKSB7XG4gICAgICBuZXdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG4gICAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgbmFtZTogJ2NoYW5nZScsXG4gICAgICAgIHRvRWw6IGVsLFxuICAgICAgICBuZXdJbmRleDogbmV3SW5kZXgsXG4gICAgICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleCxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXZ0LnByZXZlbnREZWZhdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHRhcmdldCA9IGNsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIHRydWUpO1xuICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyJyk7XG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybiBjb21wbGV0ZWRGaXJlZDtcblxuICAgIGlmIChkcmFnRWwuY29udGFpbnMoZXZ0LnRhcmdldCkgfHwgdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldC5hbmltYXRpbmdYICYmIHRhcmdldC5hbmltYXRpbmdZIHx8IF90aGlzLl9pZ25vcmVXaGlsZUFuaW1hdGluZyA9PT0gdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcblxuICAgIGlmIChhY3RpdmVTb3J0YWJsZSAmJiAhb3B0aW9ucy5kaXNhYmxlZCAmJiAoaXNPd25lciA/IGNhblNvcnQgfHwgKHJldmVydCA9IHBhcmVudEVsICE9PSByb290RWwpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3RcbiAgICA6IHB1dFNvcnRhYmxlID09PSB0aGlzIHx8ICh0aGlzLmxhc3RQdXRNb2RlID0gYWN0aXZlR3JvdXAuY2hlY2tQdWxsKHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpICYmIGdyb3VwLmNoZWNrUHV0KHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpKSB7XG4gICAgICB2ZXJ0aWNhbCA9IHRoaXMuX2dldERpcmVjdGlvbihldnQsIHRhcmdldCkgPT09ICd2ZXJ0aWNhbCc7XG4gICAgICBkcmFnUmVjdCA9IGdldFJlY3QoZHJhZ0VsKTtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyVmFsaWQnKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICAgIGlmIChyZXZlcnQpIHtcbiAgICAgICAgcGFyZW50RWwgPSByb290RWw7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICBjYXB0dXJlKCk7XG5cbiAgICAgICAgdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgICAgZHJhZ092ZXJFdmVudCgncmV2ZXJ0Jyk7XG5cbiAgICAgICAgaWYgKCFTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgaWYgKG5leHRFbCkge1xuICAgICAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRFbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbExhc3RDaGlsZCA9IGxhc3RDaGlsZChlbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICBpZiAoIWVsTGFzdENoaWxkIHx8IF9naG9zdElzTGFzdChldnQsIHZlcnRpY2FsLCB0aGlzKSAmJiAhZWxMYXN0Q2hpbGQuYW5pbWF0ZWQpIHtcbiAgICAgICAgLy8gSW5zZXJ0IHRvIGVuZCBvZiBsaXN0XG4gICAgICAgIC8vIElmIGFscmVhZHkgYXQgZW5kIG9mIGxpc3Q6IERvIG5vdCBpbnNlcnRcbiAgICAgICAgaWYgKGVsTGFzdENoaWxkID09PSBkcmFnRWwpIHtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgfSAvLyBpZiB0aGVyZSBpcyBhIGxhc3QgZWxlbWVudCwgaXQgaXMgdGhlIHRhcmdldFxuXG5cbiAgICAgICAgaWYgKGVsTGFzdENoaWxkICYmIGVsID09PSBldnQudGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZWxMYXN0Q2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCAhIXRhcmdldCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgcGFyZW50RWwgPSBlbDsgLy8gYWN0dWFsaXphdGlvblxuXG4gICAgICAgICAgY2hhbmdlZCgpO1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZWxMYXN0Q2hpbGQgJiYgX2dob3N0SXNGaXJzdChldnQsIHZlcnRpY2FsLCB0aGlzKSkge1xuICAgICAgICAvLyBJbnNlcnQgdG8gc3RhcnQgb2YgbGlzdFxuICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IGdldENoaWxkKGVsLCAwLCBvcHRpb25zLCB0cnVlKTtcblxuICAgICAgICBpZiAoZmlyc3RDaGlsZCA9PT0gZHJhZ0VsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQgPSBmaXJzdENoaWxkO1xuICAgICAgICB0YXJnZXRSZWN0ID0gZ2V0UmVjdCh0YXJnZXQpO1xuXG4gICAgICAgIGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCBmYWxzZSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuICAgICAgICAgIGVsLmluc2VydEJlZm9yZShkcmFnRWwsIGZpcnN0Q2hpbGQpO1xuICAgICAgICAgIHBhcmVudEVsID0gZWw7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICAgIGNoYW5nZWQoKTtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldC5wYXJlbnROb2RlID09PSBlbCkge1xuICAgICAgICB0YXJnZXRSZWN0ID0gZ2V0UmVjdCh0YXJnZXQpO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gMCxcbiAgICAgICAgICAgIHRhcmdldEJlZm9yZUZpcnN0U3dhcCxcbiAgICAgICAgICAgIGRpZmZlcmVudExldmVsID0gZHJhZ0VsLnBhcmVudE5vZGUgIT09IGVsLFxuICAgICAgICAgICAgZGlmZmVyZW50Um93Q29sID0gIV9kcmFnRWxJblJvd0NvbHVtbihkcmFnRWwuYW5pbWF0ZWQgJiYgZHJhZ0VsLnRvUmVjdCB8fCBkcmFnUmVjdCwgdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldC50b1JlY3QgfHwgdGFyZ2V0UmVjdCwgdmVydGljYWwpLFxuICAgICAgICAgICAgc2lkZTEgPSB2ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnLFxuICAgICAgICAgICAgc2Nyb2xsZWRQYXN0VG9wID0gaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCAndG9wJywgJ3RvcCcpIHx8IGlzU2Nyb2xsZWRQYXN0KGRyYWdFbCwgJ3RvcCcsICd0b3AnKSxcbiAgICAgICAgICAgIHNjcm9sbEJlZm9yZSA9IHNjcm9sbGVkUGFzdFRvcCA/IHNjcm9sbGVkUGFzdFRvcC5zY3JvbGxUb3AgOiB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGxhc3RUYXJnZXQgIT09IHRhcmdldCkge1xuICAgICAgICAgIHRhcmdldEJlZm9yZUZpcnN0U3dhcCA9IHRhcmdldFJlY3Rbc2lkZTFdO1xuICAgICAgICAgIHBhc3RGaXJzdEludmVydFRocmVzaCA9IGZhbHNlO1xuICAgICAgICAgIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQgPSAhZGlmZmVyZW50Um93Q29sICYmIG9wdGlvbnMuaW52ZXJ0U3dhcCB8fCBkaWZmZXJlbnRMZXZlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdGlvbiA9IF9nZXRTd2FwRGlyZWN0aW9uKGV2dCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCwgZGlmZmVyZW50Um93Q29sID8gMSA6IG9wdGlvbnMuc3dhcFRocmVzaG9sZCwgb3B0aW9ucy5pbnZlcnRlZFN3YXBUaHJlc2hvbGQgPT0gbnVsbCA/IG9wdGlvbnMuc3dhcFRocmVzaG9sZCA6IG9wdGlvbnMuaW52ZXJ0ZWRTd2FwVGhyZXNob2xkLCBpc0NpcmN1bXN0YW50aWFsSW52ZXJ0LCBsYXN0VGFyZ2V0ID09PSB0YXJnZXQpO1xuICAgICAgICB2YXIgc2libGluZztcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSAwKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGJlc2lkZSBkcmFnRWwgaW4gcmVzcGVjdGl2ZSBkaXJlY3Rpb24gKGlnbm9yaW5nIGhpZGRlbiBlbGVtZW50cylcbiAgICAgICAgICB2YXIgZHJhZ0luZGV4ID0gaW5kZXgoZHJhZ0VsKTtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGRyYWdJbmRleCAtPSBkaXJlY3Rpb247XG4gICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50RWwuY2hpbGRyZW5bZHJhZ0luZGV4XTtcbiAgICAgICAgICB9IHdoaWxlIChzaWJsaW5nICYmIChjc3Moc2libGluZywgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IHNpYmxpbmcgPT09IGdob3N0RWwpKTtcbiAgICAgICAgfSAvLyBJZiBkcmFnRWwgaXMgYWxyZWFkeSBiZXNpZGUgdGFyZ2V0OiBEbyBub3QgaW5zZXJ0XG5cblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAwIHx8IHNpYmxpbmcgPT09IHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgbGFzdERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZyxcbiAgICAgICAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgICAgIGFmdGVyID0gZGlyZWN0aW9uID09PSAxO1xuXG4gICAgICAgIHZhciBtb3ZlVmVjdG9yID0gX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIHRhcmdldFJlY3QsIGV2dCwgYWZ0ZXIpO1xuXG4gICAgICAgIGlmIChtb3ZlVmVjdG9yICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChtb3ZlVmVjdG9yID09PSAxIHx8IG1vdmVWZWN0b3IgPT09IC0xKSB7XG4gICAgICAgICAgICBhZnRlciA9IG1vdmVWZWN0b3IgPT09IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3NpbGVudCA9IHRydWU7XG4gICAgICAgICAgc2V0VGltZW91dChfdW5zaWxlbnQsIDMwKTtcbiAgICAgICAgICBjYXB0dXJlKCk7XG5cbiAgICAgICAgICBpZiAoYWZ0ZXIgJiYgIW5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBhZnRlciA/IG5leHRTaWJsaW5nIDogdGFyZ2V0KTtcbiAgICAgICAgICB9IC8vIFVuZG8gY2hyb21lJ3Mgc2Nyb2xsIGFkanVzdG1lbnQgKGhhcyBubyBlZmZlY3Qgb24gb3RoZXIgYnJvd3NlcnMpXG5cblxuICAgICAgICAgIGlmIChzY3JvbGxlZFBhc3RUb3ApIHtcbiAgICAgICAgICAgIHNjcm9sbEJ5KHNjcm9sbGVkUGFzdFRvcCwgMCwgc2Nyb2xsQmVmb3JlIC0gc2Nyb2xsZWRQYXN0VG9wLnNjcm9sbFRvcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTsgLy8gYWN0dWFsaXphdGlvblxuICAgICAgICAgIC8vIG11c3QgYmUgZG9uZSBiZWZvcmUgYW5pbWF0aW9uXG5cbiAgICAgICAgICBpZiAodGFyZ2V0QmVmb3JlRmlyc3RTd2FwICE9PSB1bmRlZmluZWQgJiYgIWlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQpIHtcbiAgICAgICAgICAgIHRhcmdldE1vdmVEaXN0YW5jZSA9IE1hdGguYWJzKHRhcmdldEJlZm9yZUZpcnN0U3dhcCAtIGdldFJlY3QodGFyZ2V0KVtzaWRlMV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5nZWQoKTtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbC5jb250YWlucyhkcmFnRWwpKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX2lnbm9yZVdoaWxlQW5pbWF0aW5nOiBudWxsLFxuICBfb2ZmTW92ZUV2ZW50czogZnVuY3Rpb24gX29mZk1vdmVFdmVudHMoKSB7XG4gICAgb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgIG9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICBvZmYoZG9jdW1lbnQsICdkcmFnb3ZlcicsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICB9LFxuICBfb2ZmVXBFdmVudHM6IGZ1bmN0aW9uIF9vZmZVcEV2ZW50cygpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAncG9pbnRlcnVwJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYoZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIHRoaXMpO1xuICB9LFxuICBfb25Ecm9wOiBmdW5jdGlvbiBfb25Ecm9wKFxuICAvKipFdmVudCovXG4gIGV2dCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWwsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXG4gICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG4gICAgcGx1Z2luRXZlbnQoJ2Ryb3AnLCB0aGlzLCB7XG4gICAgICBldnQ6IGV2dFxuICAgIH0pO1xuICAgIHBhcmVudEVsID0gZHJhZ0VsICYmIGRyYWdFbC5wYXJlbnROb2RlOyAvLyBHZXQgYWdhaW4gYWZ0ZXIgcGx1Z2luIGV2ZW50XG5cbiAgICBuZXdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG4gICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICB0aGlzLl9udWxsaW5nKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdGluZ0RyYWdTdGFydGVkID0gZmFsc2U7XG4gICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlO1xuICAgIHBhc3RGaXJzdEludmVydFRocmVzaCA9IGZhbHNlO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fbG9vcElkKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXG4gICAgX2NhbmNlbE5leHRUaWNrKHRoaXMuY2xvbmVJZCk7XG5cbiAgICBfY2FuY2VsTmV4dFRpY2sodGhpcy5fZHJhZ1N0YXJ0SWQpOyAvLyBVbmJpbmQgZXZlbnRzXG5cblxuICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgb2ZmKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuICAgICAgb2ZmKGVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuICAgIH1cblxuICAgIHRoaXMuX29mZk1vdmVFdmVudHMoKTtcblxuICAgIHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cbiAgICBpZiAoU2FmYXJpKSB7XG4gICAgICBjc3MoZG9jdW1lbnQuYm9keSwgJ3VzZXItc2VsZWN0JywgJycpO1xuICAgIH1cblxuICAgIGNzcyhkcmFnRWwsICd0cmFuc2Zvcm0nLCAnJyk7XG5cbiAgICBpZiAoZXZ0KSB7XG4gICAgICBpZiAobW92ZWQpIHtcbiAgICAgICAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBnaG9zdEVsICYmIGdob3N0RWwucGFyZW50Tm9kZSAmJiBnaG9zdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2hvc3RFbCk7XG5cbiAgICAgIGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlICE9PSAnY2xvbmUnKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjbG9uZShzKVxuICAgICAgICBjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkcmFnRWwpIHtcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9kaXNhYmxlRHJhZ2dhYmxlKGRyYWdFbCk7XG5cbiAgICAgICAgZHJhZ0VsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7IC8vIFJlbW92ZSBjbGFzc2VzXG4gICAgICAgIC8vIGdob3N0Q2xhc3MgaXMgYWRkZWQgaW4gZHJhZ1N0YXJ0ZWRcblxuICAgICAgICBpZiAobW92ZWQgJiYgIWF3YWl0aW5nRHJhZ1N0YXJ0ZWQpIHtcbiAgICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzIDogdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7IC8vIERyYWcgc3RvcCBldmVudFxuXG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICBuYW1lOiAndW5jaG9vc2UnLFxuICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgIG5ld0luZGV4OiBudWxsLFxuICAgICAgICAgIG5ld0RyYWdnYWJsZUluZGV4OiBudWxsLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocm9vdEVsICE9PSBwYXJlbnRFbCkge1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBBZGQgZXZlbnRcbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgcm9vdEVsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgbmFtZTogJ2FkZCcsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBmcm9tRWw6IHJvb3RFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTsgLy8gUmVtb3ZlIGV2ZW50XG5cblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgbmFtZTogJ3JlbW92ZScsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgIH0pOyAvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG5cblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICByb290RWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBuYW1lOiAnc29ydCcsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBmcm9tRWw6IHJvb3RFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5zYXZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ICE9PSBvbGRJbmRleCkge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgLy8gZHJhZyAmIGRyb3Agd2l0aGluIHRoZSBzYW1lIGxpc3RcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICAgIG5hbWU6ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU29ydGFibGUuYWN0aXZlKSB7XG4gICAgICAgICAgLyoganNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBuZXdJbmRleCA9IG9sZEluZGV4O1xuICAgICAgICAgICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgIG5hbWU6ICdlbmQnLFxuICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICB9KTsgLy8gU2F2ZSBzb3J0aW5nXG5cblxuICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbnVsbGluZygpO1xuICB9LFxuICBfbnVsbGluZzogZnVuY3Rpb24gX251bGxpbmcoKSB7XG4gICAgcGx1Z2luRXZlbnQoJ251bGxpbmcnLCB0aGlzKTtcbiAgICByb290RWwgPSBkcmFnRWwgPSBwYXJlbnRFbCA9IGdob3N0RWwgPSBuZXh0RWwgPSBjbG9uZUVsID0gbGFzdERvd25FbCA9IGNsb25lSGlkZGVuID0gdGFwRXZ0ID0gdG91Y2hFdnQgPSBtb3ZlZCA9IG5ld0luZGV4ID0gbmV3RHJhZ2dhYmxlSW5kZXggPSBvbGRJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4ID0gbGFzdFRhcmdldCA9IGxhc3REaXJlY3Rpb24gPSBwdXRTb3J0YWJsZSA9IGFjdGl2ZUdyb3VwID0gU29ydGFibGUuZHJhZ2dlZCA9IFNvcnRhYmxlLmdob3N0ID0gU29ydGFibGUuY2xvbmUgPSBTb3J0YWJsZS5hY3RpdmUgPSBudWxsO1xuICAgIHNhdmVkSW5wdXRDaGVja2VkLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICBlbC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBzYXZlZElucHV0Q2hlY2tlZC5sZW5ndGggPSBsYXN0RHggPSBsYXN0RHkgPSAwO1xuICB9LFxuICBoYW5kbGVFdmVudDogZnVuY3Rpb24gaGFuZGxlRXZlbnQoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgc3dpdGNoIChldnQudHlwZSkge1xuICAgICAgY2FzZSAnZHJvcCc6XG4gICAgICBjYXNlICdkcmFnZW5kJzpcbiAgICAgICAgdGhpcy5fb25Ecm9wKGV2dCk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RyYWdlbnRlcic6XG4gICAgICBjYXNlICdkcmFnb3Zlcic6XG4gICAgICAgIGlmIChkcmFnRWwpIHtcbiAgICAgICAgICB0aGlzLl9vbkRyYWdPdmVyKGV2dCk7XG5cbiAgICAgICAgICBfZ2xvYmFsRHJhZ092ZXIoZXZ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxlY3RzdGFydCc6XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIGl0ZW0gaW50byBhbiBhcnJheSBvZiBzdHJpbmcuXG4gICAqIEByZXR1cm5zIHtTdHJpbmdbXX1cbiAgICovXG4gIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgdmFyIG9yZGVyID0gW10sXG4gICAgICAgIGVsLFxuICAgICAgICBjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW4sXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGVsID0gY2hpbGRyZW5baV07XG5cbiAgICAgIGlmIChjbG9zZXN0KGVsLCBvcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpKSB7XG4gICAgICAgIG9yZGVyLnB1c2goZWwuZ2V0QXR0cmlidXRlKG9wdGlvbnMuZGF0YUlkQXR0cikgfHwgX2dlbmVyYXRlSWQoZWwpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNvcnRzIHRoZSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGFycmF5LlxuICAgKiBAcGFyYW0gIHtTdHJpbmdbXX0gIG9yZGVyICBvcmRlciBvZiB0aGUgaXRlbXNcbiAgICovXG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQob3JkZXIsIHVzZUFuaW1hdGlvbikge1xuICAgIHZhciBpdGVtcyA9IHt9LFxuICAgICAgICByb290RWwgPSB0aGlzLmVsO1xuICAgIHRoaXMudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpKSB7XG4gICAgICB2YXIgZWwgPSByb290RWwuY2hpbGRyZW5baV07XG5cbiAgICAgIGlmIChjbG9zZXN0KGVsLCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCByb290RWwsIGZhbHNlKSkge1xuICAgICAgICBpdGVtc1tpZF0gPSBlbDtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgICB1c2VBbmltYXRpb24gJiYgdGhpcy5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICBvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgaWYgKGl0ZW1zW2lkXSkge1xuICAgICAgICByb290RWwucmVtb3ZlQ2hpbGQoaXRlbXNbaWRdKTtcbiAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGl0ZW1zW2lkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlQW5pbWF0aW9uICYmIHRoaXMuYW5pbWF0ZUFsbCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50IHNvcnRpbmdcbiAgICovXG4gIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgdmFyIHN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlO1xuICAgIHN0b3JlICYmIHN0b3JlLnNldCAmJiBzdG9yZS5zZXQodGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldCwgZ2V0IHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IgYnkgdGVzdGluZyB0aGUgZWxlbWVudCBpdHNlbGYgYW5kIHRyYXZlcnNpbmcgdXAgdGhyb3VnaCBpdHMgYW5jZXN0b3JzIGluIHRoZSBET00gdHJlZS5cbiAgICogQHBhcmFtICAge0hUTUxFbGVtZW50fSAgZWxcbiAgICogQHBhcmFtICAge1N0cmluZ30gICAgICAgW3NlbGVjdG9yXSAgZGVmYXVsdDogYG9wdGlvbnMuZHJhZ2dhYmxlYFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGNsb3Nlc3Q6IGZ1bmN0aW9uIGNsb3Nlc3QkMShlbCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gY2xvc2VzdChlbCwgc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQvZ2V0IG9wdGlvblxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBvcHRpb246IGZ1bmN0aW9uIG9wdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBvcHRpb25zW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbW9kaWZpZWRWYWx1ZSA9IFBsdWdpbk1hbmFnZXIubW9kaWZ5T3B0aW9uKHRoaXMsIG5hbWUsIHZhbHVlKTtcblxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllZFZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zW25hbWVdID0gbW9kaWZpZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWUgPT09ICdncm91cCcpIHtcbiAgICAgICAgX3ByZXBhcmVHcm91cChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlc3Ryb3lcbiAgICovXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgcGx1Z2luRXZlbnQoJ2Rlc3Ryb3knLCB0aGlzKTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIGVsW2V4cGFuZG9dID0gbnVsbDtcbiAgICBvZmYoZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICBvZmYoZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb2ZmKGVsLCAncG9pbnRlcmRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcbiAgICAgIG9mZihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuICAgIH0gLy8gUmVtb3ZlIGRyYWdnYWJsZSBhdHRyaWJ1dGVzXG5cblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RyYWdnYWJsZScpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKTtcblxuICAgIHNvcnRhYmxlcy5zcGxpY2Uoc29ydGFibGVzLmluZGV4T2YodGhpcy5lbCksIDEpO1xuICAgIHRoaXMuZWwgPSBlbCA9IG51bGw7XG4gIH0sXG4gIF9oaWRlQ2xvbmU6IGZ1bmN0aW9uIF9oaWRlQ2xvbmUoKSB7XG4gICAgaWYgKCFjbG9uZUhpZGRlbikge1xuICAgICAgcGx1Z2luRXZlbnQoJ2hpZGVDbG9uZScsIHRoaXMpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybjtcbiAgICAgIGNzcyhjbG9uZUVsLCAnZGlzcGxheScsICdub25lJyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUgJiYgY2xvbmVFbC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNsb25lRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZUVsKTtcbiAgICAgIH1cblxuICAgICAgY2xvbmVIaWRkZW4gPSB0cnVlO1xuICAgIH1cbiAgfSxcbiAgX3Nob3dDbG9uZTogZnVuY3Rpb24gX3Nob3dDbG9uZShwdXRTb3J0YWJsZSkge1xuICAgIGlmIChwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSAhPT0gJ2Nsb25lJykge1xuICAgICAgdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2xvbmVIaWRkZW4pIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdzaG93Q2xvbmUnLCB0aGlzKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm47IC8vIHNob3cgY2xvbmUgYXQgZHJhZ0VsIG9yIG9yaWdpbmFsIHBvc2l0aW9uXG5cbiAgICAgIGlmIChkcmFnRWwucGFyZW50Tm9kZSA9PSByb290RWwgJiYgIXRoaXMub3B0aW9ucy5ncm91cC5yZXZlcnRDbG9uZSkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICB9IGVsc2UgaWYgKG5leHRFbCkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIG5leHRFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290RWwuYXBwZW5kQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlKGRyYWdFbCwgY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGNzcyhjbG9uZUVsLCAnZGlzcGxheScsICcnKTtcbiAgICAgIGNsb25lSGlkZGVuID0gZmFsc2U7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBfZ2xvYmFsRHJhZ092ZXIoXG4vKipFdmVudCovXG5ldnQpIHtcbiAgaWYgKGV2dC5kYXRhVHJhbnNmZXIpIHtcbiAgICBldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gIH1cblxuICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gX29uTW92ZShmcm9tRWwsIHRvRWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldEVsLCB0YXJnZXRSZWN0LCBvcmlnaW5hbEV2ZW50LCB3aWxsSW5zZXJ0QWZ0ZXIpIHtcbiAgdmFyIGV2dCxcbiAgICAgIHNvcnRhYmxlID0gZnJvbUVsW2V4cGFuZG9dLFxuICAgICAgb25Nb3ZlRm4gPSBzb3J0YWJsZS5vcHRpb25zLm9uTW92ZSxcbiAgICAgIHJldFZhbDsgLy8gU3VwcG9ydCBmb3IgbmV3IEN1c3RvbUV2ZW50IGZlYXR1cmVcblxuICBpZiAod2luZG93LkN1c3RvbUV2ZW50ICYmICFJRTExT3JMZXNzICYmICFFZGdlKSB7XG4gICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdtb3ZlJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldnQuaW5pdEV2ZW50KCdtb3ZlJywgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBldnQudG8gPSB0b0VsO1xuICBldnQuZnJvbSA9IGZyb21FbDtcbiAgZXZ0LmRyYWdnZWQgPSBkcmFnRWw7XG4gIGV2dC5kcmFnZ2VkUmVjdCA9IGRyYWdSZWN0O1xuICBldnQucmVsYXRlZCA9IHRhcmdldEVsIHx8IHRvRWw7XG4gIGV2dC5yZWxhdGVkUmVjdCA9IHRhcmdldFJlY3QgfHwgZ2V0UmVjdCh0b0VsKTtcbiAgZXZ0LndpbGxJbnNlcnRBZnRlciA9IHdpbGxJbnNlcnRBZnRlcjtcbiAgZXZ0Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICBmcm9tRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG4gIGlmIChvbk1vdmVGbikge1xuICAgIHJldFZhbCA9IG9uTW92ZUZuLmNhbGwoc29ydGFibGUsIGV2dCwgb3JpZ2luYWxFdmVudCk7XG4gIH1cblxuICByZXR1cm4gcmV0VmFsO1xufVxuXG5mdW5jdGlvbiBfZGlzYWJsZURyYWdnYWJsZShlbCkge1xuICBlbC5kcmFnZ2FibGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gX3Vuc2lsZW50KCkge1xuICBfc2lsZW50ID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIF9naG9zdElzRmlyc3QoZXZ0LCB2ZXJ0aWNhbCwgc29ydGFibGUpIHtcbiAgdmFyIHJlY3QgPSBnZXRSZWN0KGdldENoaWxkKHNvcnRhYmxlLmVsLCAwLCBzb3J0YWJsZS5vcHRpb25zLCB0cnVlKSk7XG4gIHZhciBzcGFjZXIgPSAxMDtcbiAgcmV0dXJuIHZlcnRpY2FsID8gZXZ0LmNsaWVudFggPCByZWN0LmxlZnQgLSBzcGFjZXIgfHwgZXZ0LmNsaWVudFkgPCByZWN0LnRvcCAmJiBldnQuY2xpZW50WCA8IHJlY3QucmlnaHQgOiBldnQuY2xpZW50WSA8IHJlY3QudG9wIC0gc3BhY2VyIHx8IGV2dC5jbGllbnRZIDwgcmVjdC5ib3R0b20gJiYgZXZ0LmNsaWVudFggPCByZWN0LmxlZnQ7XG59XG5cbmZ1bmN0aW9uIF9naG9zdElzTGFzdChldnQsIHZlcnRpY2FsLCBzb3J0YWJsZSkge1xuICB2YXIgcmVjdCA9IGdldFJlY3QobGFzdENoaWxkKHNvcnRhYmxlLmVsLCBzb3J0YWJsZS5vcHRpb25zLmRyYWdnYWJsZSkpO1xuICB2YXIgc3BhY2VyID0gMTA7XG4gIHJldHVybiB2ZXJ0aWNhbCA/IGV2dC5jbGllbnRYID4gcmVjdC5yaWdodCArIHNwYWNlciB8fCBldnQuY2xpZW50WCA8PSByZWN0LnJpZ2h0ICYmIGV2dC5jbGllbnRZID4gcmVjdC5ib3R0b20gJiYgZXZ0LmNsaWVudFggPj0gcmVjdC5sZWZ0IDogZXZ0LmNsaWVudFggPiByZWN0LnJpZ2h0ICYmIGV2dC5jbGllbnRZID4gcmVjdC50b3AgfHwgZXZ0LmNsaWVudFggPD0gcmVjdC5yaWdodCAmJiBldnQuY2xpZW50WSA+IHJlY3QuYm90dG9tICsgc3BhY2VyO1xufVxuXG5mdW5jdGlvbiBfZ2V0U3dhcERpcmVjdGlvbihldnQsIHRhcmdldCwgdGFyZ2V0UmVjdCwgdmVydGljYWwsIHN3YXBUaHJlc2hvbGQsIGludmVydGVkU3dhcFRocmVzaG9sZCwgaW52ZXJ0U3dhcCwgaXNMYXN0VGFyZ2V0KSB7XG4gIHZhciBtb3VzZU9uQXhpcyA9IHZlcnRpY2FsID8gZXZ0LmNsaWVudFkgOiBldnQuY2xpZW50WCxcbiAgICAgIHRhcmdldExlbmd0aCA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC5oZWlnaHQgOiB0YXJnZXRSZWN0LndpZHRoLFxuICAgICAgdGFyZ2V0UzEgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QudG9wIDogdGFyZ2V0UmVjdC5sZWZ0LFxuICAgICAgdGFyZ2V0UzIgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QuYm90dG9tIDogdGFyZ2V0UmVjdC5yaWdodCxcbiAgICAgIGludmVydCA9IGZhbHNlO1xuXG4gIGlmICghaW52ZXJ0U3dhcCkge1xuICAgIC8vIE5ldmVyIGludmVydCBvciBjcmVhdGUgZHJhZ0VsIHNoYWRvdyB3aGVuIHRhcmdldCBtb3ZlbWVuZXQgY2F1c2VzIG1vdXNlIHRvIG1vdmUgcGFzdCB0aGUgZW5kIG9mIHJlZ3VsYXIgc3dhcFRocmVzaG9sZFxuICAgIGlmIChpc0xhc3RUYXJnZXQgJiYgdGFyZ2V0TW92ZURpc3RhbmNlIDwgdGFyZ2V0TGVuZ3RoICogc3dhcFRocmVzaG9sZCkge1xuICAgICAgLy8gbXVsdGlwbGllZCBvbmx5IGJ5IHN3YXBUaHJlc2hvbGQgYmVjYXVzZSBtb3VzZSB3aWxsIGFscmVhZHkgYmUgaW5zaWRlIHRhcmdldCBieSAoMSAtIHRocmVzaG9sZCkgKiB0YXJnZXRMZW5ndGggLyAyXG4gICAgICAvLyBjaGVjayBpZiBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQgb24gc2lkZSBvcHBvc2l0ZSBvZiBsYXN0RGlyZWN0aW9uXG4gICAgICBpZiAoIXBhc3RGaXJzdEludmVydFRocmVzaCAmJiAobGFzdERpcmVjdGlvbiA9PT0gMSA/IG1vdXNlT25BeGlzID4gdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyIDogbW91c2VPbkF4aXMgPCB0YXJnZXRTMiAtIHRhcmdldExlbmd0aCAqIGludmVydGVkU3dhcFRocmVzaG9sZCAvIDIpKSB7XG4gICAgICAgIC8vIHBhc3QgZmlyc3QgaW52ZXJ0IHRocmVzaG9sZCwgZG8gbm90IHJlc3RyaWN0IGludmVydGVkIHRocmVzaG9sZCB0byBkcmFnRWwgc2hhZG93XG4gICAgICAgIHBhc3RGaXJzdEludmVydFRocmVzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFzdEZpcnN0SW52ZXJ0VGhyZXNoKSB7XG4gICAgICAgIC8vIGRyYWdFbCBzaGFkb3cgKHRhcmdldCBtb3ZlIGRpc3RhbmNlIHNoYWRvdylcbiAgICAgICAgaWYgKGxhc3REaXJlY3Rpb24gPT09IDEgPyBtb3VzZU9uQXhpcyA8IHRhcmdldFMxICsgdGFyZ2V0TW92ZURpc3RhbmNlIC8vIG92ZXIgZHJhZ0VsIHNoYWRvd1xuICAgICAgICA6IG1vdXNlT25BeGlzID4gdGFyZ2V0UzIgLSB0YXJnZXRNb3ZlRGlzdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gLWxhc3REaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmVydCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXJcbiAgICAgIGlmIChtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogKDEgLSBzd2FwVGhyZXNob2xkKSAvIDIgJiYgbW91c2VPbkF4aXMgPCB0YXJnZXRTMiAtIHRhcmdldExlbmd0aCAqICgxIC0gc3dhcFRocmVzaG9sZCkgLyAyKSB7XG4gICAgICAgIHJldHVybiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW52ZXJ0ID0gaW52ZXJ0IHx8IGludmVydFN3YXA7XG5cbiAgaWYgKGludmVydCkge1xuICAgIC8vIEludmVydCBvZiByZWd1bGFyXG4gICAgaWYgKG1vdXNlT25BeGlzIDwgdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyIHx8IG1vdXNlT25BeGlzID4gdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyKSB7XG4gICAgICByZXR1cm4gbW91c2VPbkF4aXMgPiB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAvIDIgPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG4vKipcbiAqIEdldHMgdGhlIGRpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkIHJlbGF0aXZlIHRvIHRhcmdldCBpbiBvcmRlciB0byBtYWtlIGl0XG4gKiBzZWVtIHRoYXQgZHJhZ0VsIGhhcyBiZWVuIFwiaW5zZXJ0ZWRcIiBpbnRvIHRoYXQgZWxlbWVudCdzIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gdGFyZ2V0ICAgICAgIFRoZSB0YXJnZXQgd2hvc2UgcG9zaXRpb24gZHJhZ0VsIGlzIGJlaW5nIGluc2VydGVkIGF0XG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgICAgICAgIERpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkXG4gKi9cblxuXG5mdW5jdGlvbiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCkge1xuICBpZiAoaW5kZXgoZHJhZ0VsKSA8IGluZGV4KHRhcmdldCkpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgaWRcbiAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gZWxcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX2dlbmVyYXRlSWQoZWwpIHtcbiAgdmFyIHN0ciA9IGVsLnRhZ05hbWUgKyBlbC5jbGFzc05hbWUgKyBlbC5zcmMgKyBlbC5ocmVmICsgZWwudGV4dENvbnRlbnQsXG4gICAgICBpID0gc3RyLmxlbmd0aCxcbiAgICAgIHN1bSA9IDA7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHN1bSArPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgfVxuXG4gIHJldHVybiBzdW0udG9TdHJpbmcoMzYpO1xufVxuXG5mdW5jdGlvbiBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKHJvb3QpIHtcbiAgc2F2ZWRJbnB1dENoZWNrZWQubGVuZ3RoID0gMDtcbiAgdmFyIGlucHV0cyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XG4gIHZhciBpZHggPSBpbnB1dHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpZHgtLSkge1xuICAgIHZhciBlbCA9IGlucHV0c1tpZHhdO1xuICAgIGVsLmNoZWNrZWQgJiYgc2F2ZWRJbnB1dENoZWNrZWQucHVzaChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX25leHRUaWNrKGZuKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZuLCAwKTtcbn1cblxuZnVuY3Rpb24gX2NhbmNlbE5leHRUaWNrKGlkKSB7XG4gIHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xufSAvLyBGaXhlZCAjOTczOlxuXG5cbmlmIChkb2N1bWVudEV4aXN0cykge1xuICBvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAoKFNvcnRhYmxlLmFjdGl2ZSB8fCBhd2FpdGluZ0RyYWdTdGFydGVkKSAmJiBldnQuY2FuY2VsYWJsZSkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0gLy8gRXhwb3J0IHV0aWxzXG5cblxuU29ydGFibGUudXRpbHMgPSB7XG4gIG9uOiBvbixcbiAgb2ZmOiBvZmYsXG4gIGNzczogY3NzLFxuICBmaW5kOiBmaW5kLFxuICBpczogZnVuY3Rpb24gaXMoZWwsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuICEhY2xvc2VzdChlbCwgc2VsZWN0b3IsIGVsLCBmYWxzZSk7XG4gIH0sXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0aHJvdHRsZTogdGhyb3R0bGUsXG4gIGNsb3Nlc3Q6IGNsb3Nlc3QsXG4gIHRvZ2dsZUNsYXNzOiB0b2dnbGVDbGFzcyxcbiAgY2xvbmU6IGNsb25lLFxuICBpbmRleDogaW5kZXgsXG4gIG5leHRUaWNrOiBfbmV4dFRpY2ssXG4gIGNhbmNlbE5leHRUaWNrOiBfY2FuY2VsTmV4dFRpY2ssXG4gIGRldGVjdERpcmVjdGlvbjogX2RldGVjdERpcmVjdGlvbixcbiAgZ2V0Q2hpbGQ6IGdldENoaWxkXG59O1xuLyoqXG4gKiBHZXQgdGhlIFNvcnRhYmxlIGluc3RhbmNlIG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50XG4gKiBAcmV0dXJuIHtTb3J0YWJsZXx1bmRlZmluZWR9ICAgICAgICAgVGhlIGluc3RhbmNlIG9mIFNvcnRhYmxlXG4gKi9cblxuU29ydGFibGUuZ2V0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnRbZXhwYW5kb107XG59O1xuLyoqXG4gKiBNb3VudCBhIHBsdWdpbiB0byBTb3J0YWJsZVxuICogQHBhcmFtICB7Li4uU29ydGFibGVQbHVnaW58U29ydGFibGVQbHVnaW5bXX0gcGx1Z2lucyAgICAgICBQbHVnaW5zIGJlaW5nIG1vdW50ZWRcbiAqL1xuXG5cblNvcnRhYmxlLm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGx1Z2lucyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBwbHVnaW5zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHBsdWdpbnNbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSBwbHVnaW5zID0gcGx1Z2luc1swXTtcbiAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICBpZiAoIXBsdWdpbi5wcm90b3R5cGUgfHwgIXBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IFwiU29ydGFibGU6IE1vdW50ZWQgcGx1Z2luIG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgbm90IFwiLmNvbmNhdCh7fS50b1N0cmluZy5jYWxsKHBsdWdpbikpO1xuICAgIH1cblxuICAgIGlmIChwbHVnaW4udXRpbHMpIFNvcnRhYmxlLnV0aWxzID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIFNvcnRhYmxlLnV0aWxzKSwgcGx1Z2luLnV0aWxzKTtcbiAgICBQbHVnaW5NYW5hZ2VyLm1vdW50KHBsdWdpbik7XG4gIH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIHNvcnRhYmxlIGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuICovXG5cblxuU29ydGFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgU29ydGFibGUoZWwsIG9wdGlvbnMpO1xufTsgLy8gRXhwb3J0XG5cblxuU29ydGFibGUudmVyc2lvbiA9IHZlcnNpb247XG5cbnZhciBhdXRvU2Nyb2xscyA9IFtdLFxuICAgIHNjcm9sbEVsLFxuICAgIHNjcm9sbFJvb3RFbCxcbiAgICBzY3JvbGxpbmcgPSBmYWxzZSxcbiAgICBsYXN0QXV0b1Njcm9sbFgsXG4gICAgbGFzdEF1dG9TY3JvbGxZLFxuICAgIHRvdWNoRXZ0JDEsXG4gICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWw7XG5cbmZ1bmN0aW9uIEF1dG9TY3JvbGxQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIEF1dG9TY3JvbGwoKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgIHNjcm9sbDogdHJ1ZSxcbiAgICAgIGZvcmNlQXV0b1Njcm9sbEZhbGxiYWNrOiBmYWxzZSxcbiAgICAgIHNjcm9sbFNlbnNpdGl2aXR5OiAzMCxcbiAgICAgIHNjcm9sbFNwZWVkOiAxMCxcbiAgICAgIGJ1YmJsZVNjcm9sbDogdHJ1ZVxuICAgIH07IC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXG4gICAgZm9yICh2YXIgZm4gaW4gdGhpcykge1xuICAgICAgaWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQXV0b1Njcm9sbC5wcm90b3R5cGUgPSB7XG4gICAgZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIGRyYWdTdGFydGVkKF9yZWYpIHtcbiAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50O1xuXG4gICAgICBpZiAodGhpcy5zb3J0YWJsZS5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgICAgICAgIG9uKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsRXZlbnQudG91Y2hlcykge1xuICAgICAgICAgIG9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQ29tcGxldGVkOiBmdW5jdGlvbiBkcmFnT3ZlckNvbXBsZXRlZChfcmVmMikge1xuICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmMi5vcmlnaW5hbEV2ZW50O1xuXG4gICAgICAvLyBGb3Igd2hlbiBidWJibGluZyBpcyBjYW5jZWxlZCBhbmQgdXNpbmcgZmFsbGJhY2sgKGZhbGxiYWNrICd0b3VjaG1vdmUnIGFsd2F5cyByZWFjaGVkKVxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ092ZXJCdWJibGUgJiYgIW9yaWdpbmFsRXZlbnQucm9vdEVsKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwob3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKCkge1xuICAgICAgaWYgKHRoaXMuc29ydGFibGUubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ2RyYWdvdmVyJywgdGhpcy5faGFuZGxlQXV0b1Njcm9sbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyUG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwoKTtcbiAgICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICAgIGNhbmNlbFRocm90dGxlKCk7XG4gICAgfSxcbiAgICBudWxsaW5nOiBmdW5jdGlvbiBudWxsaW5nKCkge1xuICAgICAgdG91Y2hFdnQkMSA9IHNjcm9sbFJvb3RFbCA9IHNjcm9sbEVsID0gc2Nyb2xsaW5nID0gcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgPSBsYXN0QXV0b1Njcm9sbFggPSBsYXN0QXV0b1Njcm9sbFkgPSBudWxsO1xuICAgICAgYXV0b1Njcm9sbHMubGVuZ3RoID0gMDtcbiAgICB9LFxuICAgIF9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGw6IGZ1bmN0aW9uIF9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwoZXZ0KSB7XG4gICAgICB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKGV2dCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBfaGFuZGxlQXV0b1Njcm9sbDogZnVuY3Rpb24gX2hhbmRsZUF1dG9TY3JvbGwoZXZ0LCBmYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHggPSAoZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCkuY2xpZW50WCxcbiAgICAgICAgICB5ID0gKGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQpLmNsaWVudFksXG4gICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgICB0b3VjaEV2dCQxID0gZXZ0OyAvLyBJRSBkb2VzIG5vdCBzZWVtIHRvIGhhdmUgbmF0aXZlIGF1dG9zY3JvbGwsXG4gICAgICAvLyBFZGdlJ3MgYXV0b3Njcm9sbCBzZWVtcyB0b28gY29uZGl0aW9uYWwsXG4gICAgICAvLyBNQUNPUyBTYWZhcmkgZG9lcyBub3QgaGF2ZSBhdXRvc2Nyb2xsLFxuICAgICAgLy8gRmlyZWZveCBhbmQgQ2hyb21lIGFyZSBnb29kXG5cbiAgICAgIGlmIChmYWxsYmFjayB8fCB0aGlzLm9wdGlvbnMuZm9yY2VBdXRvU2Nyb2xsRmFsbGJhY2sgfHwgRWRnZSB8fCBJRTExT3JMZXNzIHx8IFNhZmFyaSkge1xuICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgdGhpcy5vcHRpb25zLCBlbGVtLCBmYWxsYmFjayk7IC8vIExpc3RlbmVyIGZvciBwb2ludGVyIGVsZW1lbnQgY2hhbmdlXG5cbiAgICAgICAgdmFyIG9nRWxlbVNjcm9sbGVyID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWxlbSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHNjcm9sbGluZyAmJiAoIXBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsIHx8IHggIT09IGxhc3RBdXRvU2Nyb2xsWCB8fCB5ICE9PSBsYXN0QXV0b1Njcm9sbFkpKSB7XG4gICAgICAgICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgJiYgY2xlYXJQb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCgpOyAvLyBEZXRlY3QgZm9yIHBvaW50ZXIgZWxlbSBjaGFuZ2UsIGVtdWxhdGluZyBuYXRpdmUgRG5EIGJlaGF2aW91clxuXG4gICAgICAgICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3RWxlbSA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSksIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAobmV3RWxlbSAhPT0gb2dFbGVtU2Nyb2xsZXIpIHtcbiAgICAgICAgICAgICAgb2dFbGVtU2Nyb2xsZXIgPSBuZXdFbGVtO1xuICAgICAgICAgICAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF1dG9TY3JvbGwoZXZ0LCBfdGhpcy5vcHRpb25zLCBuZXdFbGVtLCBmYWxsYmFjayk7XG4gICAgICAgICAgfSwgMTApO1xuICAgICAgICAgIGxhc3RBdXRvU2Nyb2xsWCA9IHg7XG4gICAgICAgICAgbGFzdEF1dG9TY3JvbGxZID0geTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgRG5EIGlzIGVuYWJsZWQgKGFuZCBicm93c2VyIGhhcyBnb29kIGF1dG9zY3JvbGxpbmcpLCBmaXJzdCBhdXRvc2Nyb2xsIHdpbGwgYWxyZWFkeSBzY3JvbGwsIHNvIGdldCBwYXJlbnQgYXV0b3Njcm9sbCBvZiBmaXJzdCBhdXRvc2Nyb2xsXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmJ1YmJsZVNjcm9sbCB8fCBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCB0cnVlKSA9PT0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSB7XG4gICAgICAgICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9TY3JvbGwoZXZ0LCB0aGlzLm9wdGlvbnMsIGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIGZhbHNlKSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzKEF1dG9TY3JvbGwsIHtcbiAgICBwbHVnaW5OYW1lOiAnc2Nyb2xsJyxcbiAgICBpbml0aWFsaXplQnlEZWZhdWx0OiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckF1dG9TY3JvbGxzKCkge1xuICBhdXRvU2Nyb2xscy5mb3JFYWNoKGZ1bmN0aW9uIChhdXRvU2Nyb2xsKSB7XG4gICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG4gIH0pO1xuICBhdXRvU2Nyb2xscyA9IFtdO1xufVxuXG5mdW5jdGlvbiBjbGVhclBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKCkge1xuICBjbGVhckludGVydmFsKHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKTtcbn1cblxudmFyIGF1dG9TY3JvbGwgPSB0aHJvdHRsZShmdW5jdGlvbiAoZXZ0LCBvcHRpb25zLCByb290RWwsIGlzRmFsbGJhY2spIHtcbiAgLy8gQnVnOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjFcbiAgaWYgKCFvcHRpb25zLnNjcm9sbCkgcmV0dXJuO1xuICB2YXIgeCA9IChldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0KS5jbGllbnRYLFxuICAgICAgeSA9IChldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0KS5jbGllbnRZLFxuICAgICAgc2VucyA9IG9wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHksXG4gICAgICBzcGVlZCA9IG9wdGlvbnMuc2Nyb2xsU3BlZWQsXG4gICAgICB3aW5TY3JvbGxlciA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgdmFyIHNjcm9sbFRoaXNJbnN0YW5jZSA9IGZhbHNlLFxuICAgICAgc2Nyb2xsQ3VzdG9tRm47IC8vIE5ldyBzY3JvbGwgcm9vdCwgc2V0IHNjcm9sbEVsXG5cbiAgaWYgKHNjcm9sbFJvb3RFbCAhPT0gcm9vdEVsKSB7XG4gICAgc2Nyb2xsUm9vdEVsID0gcm9vdEVsO1xuICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICBzY3JvbGxFbCA9IG9wdGlvbnMuc2Nyb2xsO1xuICAgIHNjcm9sbEN1c3RvbUZuID0gb3B0aW9ucy5zY3JvbGxGbjtcblxuICAgIGlmIChzY3JvbGxFbCA9PT0gdHJ1ZSkge1xuICAgICAgc2Nyb2xsRWwgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChyb290RWwsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsYXllcnNPdXQgPSAwO1xuICB2YXIgY3VycmVudFBhcmVudCA9IHNjcm9sbEVsO1xuXG4gIGRvIHtcbiAgICB2YXIgZWwgPSBjdXJyZW50UGFyZW50LFxuICAgICAgICByZWN0ID0gZ2V0UmVjdChlbCksXG4gICAgICAgIHRvcCA9IHJlY3QudG9wLFxuICAgICAgICBib3R0b20gPSByZWN0LmJvdHRvbSxcbiAgICAgICAgbGVmdCA9IHJlY3QubGVmdCxcbiAgICAgICAgcmlnaHQgPSByZWN0LnJpZ2h0LFxuICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IHJlY3QuaGVpZ2h0LFxuICAgICAgICBjYW5TY3JvbGxYID0gdm9pZCAwLFxuICAgICAgICBjYW5TY3JvbGxZID0gdm9pZCAwLFxuICAgICAgICBzY3JvbGxXaWR0aCA9IGVsLnNjcm9sbFdpZHRoLFxuICAgICAgICBzY3JvbGxIZWlnaHQgPSBlbC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIGVsQ1NTID0gY3NzKGVsKSxcbiAgICAgICAgc2Nyb2xsUG9zWCA9IGVsLnNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFBvc1kgPSBlbC5zY3JvbGxUb3A7XG5cbiAgICBpZiAoZWwgPT09IHdpblNjcm9sbGVyKSB7XG4gICAgICBjYW5TY3JvbGxYID0gd2lkdGggPCBzY3JvbGxXaWR0aCAmJiAoZWxDU1Mub3ZlcmZsb3dYID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dYID09PSAnc2Nyb2xsJyB8fCBlbENTUy5vdmVyZmxvd1ggPT09ICd2aXNpYmxlJyk7XG4gICAgICBjYW5TY3JvbGxZID0gaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICYmIChlbENTUy5vdmVyZmxvd1kgPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1kgPT09ICdzY3JvbGwnIHx8IGVsQ1NTLm92ZXJmbG93WSA9PT0gJ3Zpc2libGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuU2Nyb2xsWCA9IHdpZHRoIDwgc2Nyb2xsV2lkdGggJiYgKGVsQ1NTLm92ZXJmbG93WCA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WCA9PT0gJ3Njcm9sbCcpO1xuICAgICAgY2FuU2Nyb2xsWSA9IGhlaWdodCA8IHNjcm9sbEhlaWdodCAmJiAoZWxDU1Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dZID09PSAnc2Nyb2xsJyk7XG4gICAgfVxuXG4gICAgdmFyIHZ4ID0gY2FuU2Nyb2xsWCAmJiAoTWF0aC5hYnMocmlnaHQgLSB4KSA8PSBzZW5zICYmIHNjcm9sbFBvc1ggKyB3aWR0aCA8IHNjcm9sbFdpZHRoKSAtIChNYXRoLmFicyhsZWZ0IC0geCkgPD0gc2VucyAmJiAhIXNjcm9sbFBvc1gpO1xuICAgIHZhciB2eSA9IGNhblNjcm9sbFkgJiYgKE1hdGguYWJzKGJvdHRvbSAtIHkpIDw9IHNlbnMgJiYgc2Nyb2xsUG9zWSArIGhlaWdodCA8IHNjcm9sbEhlaWdodCkgLSAoTWF0aC5hYnModG9wIC0geSkgPD0gc2VucyAmJiAhIXNjcm9sbFBvc1kpO1xuXG4gICAgaWYgKCFhdXRvU2Nyb2xsc1tsYXllcnNPdXRdKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsYXllcnNPdXQ7IGkrKykge1xuICAgICAgICBpZiAoIWF1dG9TY3JvbGxzW2ldKSB7XG4gICAgICAgICAgYXV0b1Njcm9sbHNbaV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ4ICE9IHZ4IHx8IGF1dG9TY3JvbGxzW2xheWVyc091dF0udnkgIT0gdnkgfHwgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5lbCAhPT0gZWwpIHtcbiAgICAgIGF1dG9TY3JvbGxzW2xheWVyc091dF0uZWwgPSBlbDtcbiAgICAgIGF1dG9TY3JvbGxzW2xheWVyc091dF0udnggPSB2eDtcbiAgICAgIGF1dG9TY3JvbGxzW2xheWVyc091dF0udnkgPSB2eTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5waWQpO1xuXG4gICAgICBpZiAodnggIT0gMCB8fCB2eSAhPSAwKSB7XG4gICAgICAgIHNjcm9sbFRoaXNJbnN0YW5jZSA9IHRydWU7XG4gICAgICAgIC8qIGpzaGludCBsb29wZnVuYzp0cnVlICovXG5cbiAgICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5waWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gZW11bGF0ZSBkcmFnIG92ZXIgZHVyaW5nIGF1dG9zY3JvbGwgKGZhbGxiYWNrKSwgZW11bGF0aW5nIG5hdGl2ZSBEbkQgYmVoYXZpb3VyXG4gICAgICAgICAgaWYgKGlzRmFsbGJhY2sgJiYgdGhpcy5sYXllciA9PT0gMCkge1xuICAgICAgICAgICAgU29ydGFibGUuYWN0aXZlLl9vblRvdWNoTW92ZSh0b3VjaEV2dCQxKTsgLy8gVG8gbW92ZSBnaG9zdCBpZiBpdCBpcyBwb3NpdGlvbmVkIGFic29sdXRlbHlcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXRZID0gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnkgPyBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eSAqIHNwZWVkIDogMDtcbiAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0WCA9IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ4ID8gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnggKiBzcGVlZCA6IDA7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNjcm9sbEN1c3RvbUZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsQ3VzdG9tRm4uY2FsbChTb3J0YWJsZS5kcmFnZ2VkLnBhcmVudE5vZGVbZXhwYW5kb10sIHNjcm9sbE9mZnNldFgsIHNjcm9sbE9mZnNldFksIGV2dCwgdG91Y2hFdnQkMSwgYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0uZWwpICE9PSAnY29udGludWUnKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzY3JvbGxCeShhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS5lbCwgc2Nyb2xsT2Zmc2V0WCwgc2Nyb2xsT2Zmc2V0WSk7XG4gICAgICAgIH0uYmluZCh7XG4gICAgICAgICAgbGF5ZXI6IGxheWVyc091dFxuICAgICAgICB9KSwgMjQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxheWVyc091dCsrO1xuICB9IHdoaWxlIChvcHRpb25zLmJ1YmJsZVNjcm9sbCAmJiBjdXJyZW50UGFyZW50ICE9PSB3aW5TY3JvbGxlciAmJiAoY3VycmVudFBhcmVudCA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGN1cnJlbnRQYXJlbnQsIGZhbHNlKSkpO1xuXG4gIHNjcm9sbGluZyA9IHNjcm9sbFRoaXNJbnN0YW5jZTsgLy8gaW4gY2FzZSBhbm90aGVyIGZ1bmN0aW9uIGNhdGNoZXMgc2Nyb2xsaW5nIGFzIGZhbHNlIGluIGJldHdlZW4gd2hlbiBpdCBpcyBub3Rcbn0sIDMwKTtcblxudmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKF9yZWYpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQsXG4gICAgICBwdXRTb3J0YWJsZSA9IF9yZWYucHV0U29ydGFibGUsXG4gICAgICBkcmFnRWwgPSBfcmVmLmRyYWdFbCxcbiAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZi5hY3RpdmVTb3J0YWJsZSxcbiAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCA9IF9yZWYuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50LFxuICAgICAgaGlkZUdob3N0Rm9yVGFyZ2V0ID0gX3JlZi5oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgICB1bmhpZGVHaG9zdEZvclRhcmdldCA9IF9yZWYudW5oaWRlR2hvc3RGb3JUYXJnZXQ7XG4gIGlmICghb3JpZ2luYWxFdmVudCkgcmV0dXJuO1xuICB2YXIgdG9Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IGFjdGl2ZVNvcnRhYmxlO1xuICBoaWRlR2hvc3RGb3JUYXJnZXQoKTtcbiAgdmFyIHRvdWNoID0gb3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyAmJiBvcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA/IG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBvcmlnaW5hbEV2ZW50O1xuICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgdW5oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblxuICBpZiAodG9Tb3J0YWJsZSAmJiAhdG9Tb3J0YWJsZS5lbC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCdzcGlsbCcpO1xuICAgIHRoaXMub25TcGlsbCh7XG4gICAgICBkcmFnRWw6IGRyYWdFbCxcbiAgICAgIHB1dFNvcnRhYmxlOiBwdXRTb3J0YWJsZVxuICAgIH0pO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZXZlcnQoKSB7fVxuXG5SZXZlcnQucHJvdG90eXBlID0ge1xuICBzdGFydEluZGV4OiBudWxsLFxuICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChfcmVmMikge1xuICAgIHZhciBvbGREcmFnZ2FibGVJbmRleCA9IF9yZWYyLm9sZERyYWdnYWJsZUluZGV4O1xuICAgIHRoaXMuc3RhcnRJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4O1xuICB9LFxuICBvblNwaWxsOiBmdW5jdGlvbiBvblNwaWxsKF9yZWYzKSB7XG4gICAgdmFyIGRyYWdFbCA9IF9yZWYzLmRyYWdFbCxcbiAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMy5wdXRTb3J0YWJsZTtcbiAgICB0aGlzLnNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgaWYgKHB1dFNvcnRhYmxlKSB7XG4gICAgICBwdXRTb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dFNpYmxpbmcgPSBnZXRDaGlsZCh0aGlzLnNvcnRhYmxlLmVsLCB0aGlzLnN0YXJ0SW5kZXgsIHRoaXMub3B0aW9ucyk7XG5cbiAgICBpZiAobmV4dFNpYmxpbmcpIHtcbiAgICAgIHRoaXMuc29ydGFibGUuZWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgbmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvcnRhYmxlLmVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5zb3J0YWJsZS5hbmltYXRlQWxsKCk7XG5cbiAgICBpZiAocHV0U29ydGFibGUpIHtcbiAgICAgIHB1dFNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICB9XG4gIH0sXG4gIGRyb3A6IGRyb3Bcbn07XG5cbl9leHRlbmRzKFJldmVydCwge1xuICBwbHVnaW5OYW1lOiAncmV2ZXJ0T25TcGlsbCdcbn0pO1xuXG5mdW5jdGlvbiBSZW1vdmUoKSB7fVxuXG5SZW1vdmUucHJvdG90eXBlID0ge1xuICBvblNwaWxsOiBmdW5jdGlvbiBvblNwaWxsKF9yZWY0KSB7XG4gICAgdmFyIGRyYWdFbCA9IF9yZWY0LmRyYWdFbCxcbiAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmNC5wdXRTb3J0YWJsZTtcbiAgICB2YXIgcGFyZW50U29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgIHBhcmVudFNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgIGRyYWdFbC5wYXJlbnROb2RlICYmIGRyYWdFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRyYWdFbCk7XG4gICAgcGFyZW50U29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICB9LFxuICBkcm9wOiBkcm9wXG59O1xuXG5fZXh0ZW5kcyhSZW1vdmUsIHtcbiAgcGx1Z2luTmFtZTogJ3JlbW92ZU9uU3BpbGwnXG59KTtcblxudmFyIGxhc3RTd2FwRWw7XG5cbmZ1bmN0aW9uIFN3YXBQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIFN3YXAoKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgIHN3YXBDbGFzczogJ3NvcnRhYmxlLXN3YXAtaGlnaGxpZ2h0J1xuICAgIH07XG4gIH1cblxuICBTd2FwLnByb3RvdHlwZSA9IHtcbiAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChfcmVmKSB7XG4gICAgICB2YXIgZHJhZ0VsID0gX3JlZi5kcmFnRWw7XG4gICAgICBsYXN0U3dhcEVsID0gZHJhZ0VsO1xuICAgIH0sXG4gICAgZHJhZ092ZXJWYWxpZDogZnVuY3Rpb24gZHJhZ092ZXJWYWxpZChfcmVmMikge1xuICAgICAgdmFyIGNvbXBsZXRlZCA9IF9yZWYyLmNvbXBsZXRlZCxcbiAgICAgICAgICB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICAgICAgb25Nb3ZlID0gX3JlZjIub25Nb3ZlLFxuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjIuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgY2hhbmdlZCA9IF9yZWYyLmNoYW5nZWQsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjIuY2FuY2VsO1xuICAgICAgaWYgKCFhY3RpdmVTb3J0YWJsZS5vcHRpb25zLnN3YXApIHJldHVybjtcbiAgICAgIHZhciBlbCA9IHRoaXMuc29ydGFibGUuZWwsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IGVsKSB7XG4gICAgICAgIHZhciBwcmV2U3dhcEVsID0gbGFzdFN3YXBFbDtcblxuICAgICAgICBpZiAob25Nb3ZlKHRhcmdldCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3ModGFyZ2V0LCBvcHRpb25zLnN3YXBDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgbGFzdFN3YXBFbCA9IHRhcmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0U3dhcEVsID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmV2U3dhcEVsICYmIHByZXZTd2FwRWwgIT09IGxhc3RTd2FwRWwpIHtcbiAgICAgICAgICB0b2dnbGVDbGFzcyhwcmV2U3dhcEVsLCBvcHRpb25zLnN3YXBDbGFzcywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoYW5nZWQoKTtcbiAgICAgIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgZHJvcDogZnVuY3Rpb24gZHJvcChfcmVmMykge1xuICAgICAgdmFyIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjMuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMy5wdXRTb3J0YWJsZSxcbiAgICAgICAgICBkcmFnRWwgPSBfcmVmMy5kcmFnRWw7XG4gICAgICB2YXIgdG9Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IHRoaXMuc29ydGFibGU7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIGxhc3RTd2FwRWwgJiYgdG9nZ2xlQ2xhc3MobGFzdFN3YXBFbCwgb3B0aW9ucy5zd2FwQ2xhc3MsIGZhbHNlKTtcblxuICAgICAgaWYgKGxhc3RTd2FwRWwgJiYgKG9wdGlvbnMuc3dhcCB8fCBwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5vcHRpb25zLnN3YXApKSB7XG4gICAgICAgIGlmIChkcmFnRWwgIT09IGxhc3RTd2FwRWwpIHtcbiAgICAgICAgICB0b1NvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIGlmICh0b1NvcnRhYmxlICE9PSBhY3RpdmVTb3J0YWJsZSkgYWN0aXZlU29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgICAgc3dhcE5vZGVzKGRyYWdFbCwgbGFzdFN3YXBFbCk7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgICAgaWYgKHRvU29ydGFibGUgIT09IGFjdGl2ZVNvcnRhYmxlKSBhY3RpdmVTb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG51bGxpbmc6IGZ1bmN0aW9uIG51bGxpbmcoKSB7XG4gICAgICBsYXN0U3dhcEVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcyhTd2FwLCB7XG4gICAgcGx1Z2luTmFtZTogJ3N3YXAnLFxuICAgIGV2ZW50UHJvcGVydGllczogZnVuY3Rpb24gZXZlbnRQcm9wZXJ0aWVzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3dhcEl0ZW06IGxhc3RTd2FwRWxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICB2YXIgcDEgPSBuMS5wYXJlbnROb2RlLFxuICAgICAgcDIgPSBuMi5wYXJlbnROb2RlLFxuICAgICAgaTEsXG4gICAgICBpMjtcbiAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuICBpMSA9IGluZGV4KG4xKTtcbiAgaTIgPSBpbmRleChuMik7XG5cbiAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgaTIrKztcbiAgfVxuXG4gIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xufVxuXG52YXIgbXVsdGlEcmFnRWxlbWVudHMgPSBbXSxcbiAgICBtdWx0aURyYWdDbG9uZXMgPSBbXSxcbiAgICBsYXN0TXVsdGlEcmFnU2VsZWN0LFxuICAgIC8vIGZvciBzZWxlY3Rpb24gd2l0aCBtb2RpZmllciBrZXkgZG93biAoU0hJRlQpXG5tdWx0aURyYWdTb3J0YWJsZSxcbiAgICBpbml0aWFsRm9sZGluZyA9IGZhbHNlLFxuICAgIC8vIEluaXRpYWwgbXVsdGktZHJhZyBmb2xkIHdoZW4gZHJhZyBzdGFydGVkXG5mb2xkaW5nID0gZmFsc2UsXG4gICAgLy8gRm9sZGluZyBhbnkgb3RoZXIgdGltZVxuZHJhZ1N0YXJ0ZWQgPSBmYWxzZSxcbiAgICBkcmFnRWwkMSxcbiAgICBjbG9uZXNGcm9tUmVjdCxcbiAgICBjbG9uZXNIaWRkZW47XG5cbmZ1bmN0aW9uIE11bHRpRHJhZ1BsdWdpbigpIHtcbiAgZnVuY3Rpb24gTXVsdGlEcmFnKHNvcnRhYmxlKSB7XG4gICAgLy8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG4gICAgZm9yICh2YXIgZm4gaW4gdGhpcykge1xuICAgICAgaWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNvcnRhYmxlLm9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICAgIG9uKGRvY3VtZW50LCAncG9pbnRlcnVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgIH1cblxuICAgIG9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2NoZWNrS2V5RG93bik7XG4gICAgb24oZG9jdW1lbnQsICdrZXl1cCcsIHRoaXMuX2NoZWNrS2V5VXApO1xuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBzZWxlY3RlZENsYXNzOiAnc29ydGFibGUtc2VsZWN0ZWQnLFxuICAgICAgbXVsdGlEcmFnS2V5OiBudWxsLFxuICAgICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YShkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuICAgICAgICB2YXIgZGF0YSA9ICcnO1xuXG4gICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggJiYgbXVsdGlEcmFnU29ydGFibGUgPT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCwgaSkge1xuICAgICAgICAgICAgZGF0YSArPSAoIWkgPyAnJyA6ICcsICcpICsgbXVsdGlEcmFnRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gZHJhZ0VsLnRleHRDb250ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YVRyYW5zZmVyLnNldERhdGEoJ1RleHQnLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgTXVsdGlEcmFnLnByb3RvdHlwZSA9IHtcbiAgICBtdWx0aURyYWdLZXlEb3duOiBmYWxzZSxcbiAgICBpc011bHRpRHJhZzogZmFsc2UsXG4gICAgZGVsYXlTdGFydEdsb2JhbDogZnVuY3Rpb24gZGVsYXlTdGFydEdsb2JhbChfcmVmKSB7XG4gICAgICB2YXIgZHJhZ2dlZCA9IF9yZWYuZHJhZ0VsO1xuICAgICAgZHJhZ0VsJDEgPSBkcmFnZ2VkO1xuICAgIH0sXG4gICAgZGVsYXlFbmRlZDogZnVuY3Rpb24gZGVsYXlFbmRlZCgpIHtcbiAgICAgIHRoaXMuaXNNdWx0aURyYWcgPSB+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihkcmFnRWwkMSk7XG4gICAgfSxcbiAgICBzZXR1cENsb25lOiBmdW5jdGlvbiBzZXR1cENsb25lKF9yZWYyKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMi5zb3J0YWJsZSxcbiAgICAgICAgICBjYW5jZWwgPSBfcmVmMi5jYW5jZWw7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtdWx0aURyYWdDbG9uZXMucHVzaChjbG9uZShtdWx0aURyYWdFbGVtZW50c1tpXSkpO1xuICAgICAgICBtdWx0aURyYWdDbG9uZXNbaV0uc29ydGFibGVJbmRleCA9IG11bHRpRHJhZ0VsZW1lbnRzW2ldLnNvcnRhYmxlSW5kZXg7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tpXS5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW2ldLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7XG4gICAgICAgIHRvZ2dsZUNsYXNzKG11bHRpRHJhZ0Nsb25lc1tpXSwgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHNbaV0gPT09IGRyYWdFbCQxICYmIHRvZ2dsZUNsYXNzKG11bHRpRHJhZ0Nsb25lc1tpXSwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgY2FuY2VsKCk7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24gY2xvbmUoX3JlZjMpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWYzLnNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWYzLnJvb3RFbCxcbiAgICAgICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmMy5kaXNwYXRjaFNvcnRhYmxlRXZlbnQsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjMuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlKSB7XG4gICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggJiYgbXVsdGlEcmFnU29ydGFibGUgPT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgaW5zZXJ0TXVsdGlEcmFnQ2xvbmVzKHRydWUsIHJvb3RFbCk7XG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCdjbG9uZScpO1xuICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93Q2xvbmU6IGZ1bmN0aW9uIHNob3dDbG9uZShfcmVmNCkge1xuICAgICAgdmFyIGNsb25lTm93U2hvd24gPSBfcmVmNC5jbG9uZU5vd1Nob3duLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWY0LnJvb3RFbCxcbiAgICAgICAgICBjYW5jZWwgPSBfcmVmNC5jYW5jZWw7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcbiAgICAgIGluc2VydE11bHRpRHJhZ0Nsb25lcyhmYWxzZSwgcm9vdEVsKTtcbiAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICBjc3MoY2xvbmUsICdkaXNwbGF5JywgJycpO1xuICAgICAgfSk7XG4gICAgICBjbG9uZU5vd1Nob3duKCk7XG4gICAgICBjbG9uZXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgaGlkZUNsb25lOiBmdW5jdGlvbiBoaWRlQ2xvbmUoX3JlZjUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWY1LnNvcnRhYmxlLFxuICAgICAgICAgIGNsb25lTm93SGlkZGVuID0gX3JlZjUuY2xvbmVOb3dIaWRkZW4sXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjUuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG4gICAgICBtdWx0aURyYWdDbG9uZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgY3NzKGNsb25lLCAnZGlzcGxheScsICdub25lJyk7XG5cbiAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUgJiYgY2xvbmUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGNsb25lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNsb25lTm93SGlkZGVuKCk7XG4gICAgICBjbG9uZXNIaWRkZW4gPSB0cnVlO1xuICAgICAgY2FuY2VsKCk7XG4gICAgfSxcbiAgICBkcmFnU3RhcnRHbG9iYWw6IGZ1bmN0aW9uIGRyYWdTdGFydEdsb2JhbChfcmVmNikge1xuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjYuc29ydGFibGU7XG5cbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZyAmJiBtdWx0aURyYWdTb3J0YWJsZSkge1xuICAgICAgICBtdWx0aURyYWdTb3J0YWJsZS5tdWx0aURyYWcuX2Rlc2VsZWN0TXVsdGlEcmFnKCk7XG4gICAgICB9XG5cbiAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4ID0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICB9KTsgLy8gU29ydCBtdWx0aS1kcmFnIGVsZW1lbnRzXG5cbiAgICAgIG11bHRpRHJhZ0VsZW1lbnRzID0gbXVsdGlEcmFnRWxlbWVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5zb3J0YWJsZUluZGV4IC0gYi5zb3J0YWJsZUluZGV4O1xuICAgICAgfSk7XG4gICAgICBkcmFnU3RhcnRlZCA9IHRydWU7XG4gICAgfSxcbiAgICBkcmFnU3RhcnRlZDogZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQoX3JlZjcpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNy5zb3J0YWJsZTtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNvcnQpIHtcbiAgICAgICAgLy8gQ2FwdHVyZSByZWN0cyxcbiAgICAgICAgLy8gaGlkZSBtdWx0aSBkcmFnIGVsZW1lbnRzIChieSBwb3NpdGlvbmluZyB0aGVtIGFic29sdXRlKSxcbiAgICAgICAgLy8gc2V0IG11bHRpIGRyYWcgZWxlbWVudHMgcmVjdHMgdG8gZHJhZ1JlY3QsXG4gICAgICAgIC8vIHNob3cgbXVsdGkgZHJhZyBlbGVtZW50cyxcbiAgICAgICAgLy8gYW5pbWF0ZSB0byByZWN0cyxcbiAgICAgICAgLy8gdW5zZXQgcmVjdHMgJiByZW1vdmUgZnJvbSBET01cbiAgICAgICAgc29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudCA9PT0gZHJhZ0VsJDEpIHJldHVybjtcbiAgICAgICAgICAgIGNzcyhtdWx0aURyYWdFbGVtZW50LCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgZHJhZ1JlY3QgPSBnZXRSZWN0KGRyYWdFbCQxLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgICAgICAgICBzZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQsIGRyYWdSZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBpbml0aWFsRm9sZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc29ydGFibGUuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgdW5zZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIFJlbW92ZSBhbGwgYXV4aWxpYXJ5IG11bHRpZHJhZyBpdGVtcyBmcm9tIGVsLCBpZiBzb3J0aW5nIGVuYWJsZWRcblxuXG4gICAgICAgIGlmIChfdGhpczIub3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBkcmFnT3ZlcjogZnVuY3Rpb24gZHJhZ092ZXIoX3JlZjgpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBfcmVmOC50YXJnZXQsXG4gICAgICAgICAgY29tcGxldGVkID0gX3JlZjguY29tcGxldGVkLFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWY4LmNhbmNlbDtcblxuICAgICAgaWYgKGZvbGRpbmcgJiYgfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YodGFyZ2V0KSkge1xuICAgICAgICBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldmVydDogZnVuY3Rpb24gcmV2ZXJ0KF9yZWY5KSB7XG4gICAgICB2YXIgZnJvbVNvcnRhYmxlID0gX3JlZjkuZnJvbVNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWY5LnJvb3RFbCxcbiAgICAgICAgICBzb3J0YWJsZSA9IF9yZWY5LnNvcnRhYmxlLFxuICAgICAgICAgIGRyYWdSZWN0ID0gX3JlZjkuZHJhZ1JlY3Q7XG5cbiAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIFNldHVwIHVuZm9sZCBhbmltYXRpb25cbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgIHNvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgIHRhcmdldDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICAgIHJlY3Q6IGZvbGRpbmcgPyBnZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpIDogZHJhZ1JlY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICAgIGZyb21Tb3J0YWJsZS5yZW1vdmVBbmltYXRpb25TdGF0ZShtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5zZXJ0TXVsdGlEcmFnRWxlbWVudHMoIXRoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSwgcm9vdEVsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQ29tcGxldGVkOiBmdW5jdGlvbiBkcmFnT3ZlckNvbXBsZXRlZChfcmVmMTApIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWYxMC5zb3J0YWJsZSxcbiAgICAgICAgICBpc093bmVyID0gX3JlZjEwLmlzT3duZXIsXG4gICAgICAgICAgaW5zZXJ0aW9uID0gX3JlZjEwLmluc2VydGlvbixcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYxMC5hY3RpdmVTb3J0YWJsZSxcbiAgICAgICAgICBwYXJlbnRFbCA9IF9yZWYxMC5wYXJlbnRFbCxcbiAgICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWYxMC5wdXRTb3J0YWJsZTtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICBpZiAoaW5zZXJ0aW9uKSB7XG4gICAgICAgIC8vIENsb25lcyBtdXN0IGJlIGhpZGRlbiBiZWZvcmUgZm9sZGluZyBhbmltYXRpb24gdG8gY2FwdHVyZSBkcmFnUmVjdEFic29sdXRlIHByb3Blcmx5XG4gICAgICAgIGlmIChpc093bmVyKSB7XG4gICAgICAgICAgYWN0aXZlU29ydGFibGUuX2hpZGVDbG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZTsgLy8gSWYgbGVhdmluZyBzb3J0OmZhbHNlIHJvb3QsIG9yIGFscmVhZHkgZm9sZGluZyAtIEZvbGQgdG8gbmV3IGxvY2F0aW9uXG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uICYmIG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aCA+IDEgJiYgKGZvbGRpbmcgfHwgIWlzT3duZXIgJiYgIWFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuc29ydCAmJiAhcHV0U29ydGFibGUpKSB7XG4gICAgICAgICAgLy8gRm9sZDogU2V0IGFsbCBtdWx0aSBkcmFnIGVsZW1lbnRzJ3MgcmVjdHMgdG8gZHJhZ0VsJ3MgcmVjdCB3aGVuIG11bHRpLWRyYWcgZWxlbWVudHMgYXJlIGludmlzaWJsZVxuICAgICAgICAgIHZhciBkcmFnUmVjdEFic29sdXRlID0gZ2V0UmVjdChkcmFnRWwkMSwgZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50ID09PSBkcmFnRWwkMSkgcmV0dXJuO1xuICAgICAgICAgICAgc2V0UmVjdChtdWx0aURyYWdFbGVtZW50LCBkcmFnUmVjdEFic29sdXRlKTsgLy8gTW92ZSBlbGVtZW50KHMpIHRvIGVuZCBvZiBwYXJlbnRFbCBzbyB0aGF0IGl0IGRvZXMgbm90IGludGVyZmVyZSB3aXRoIG11bHRpLWRyYWcgY2xvbmVzIGluc2VydGlvbiBpZiB0aGV5IGFyZSBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gd2hpbGUgZm9sZGluZywgYW5kIHNvIHRoYXQgd2UgY2FuIGNhcHR1cmUgdGhlbSBhZ2FpbiBiZWNhdXNlIG9sZCBzb3J0YWJsZSB3aWxsIG5vIGxvbmdlciBiZSBmcm9tU29ydGFibGVcblxuICAgICAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9sZGluZyA9IHRydWU7XG4gICAgICAgIH0gLy8gQ2xvbmVzIG11c3QgYmUgc2hvd24gKGFuZCBjaGVjayB0byByZW1vdmUgbXVsdGkgZHJhZ3MpIGFmdGVyIGZvbGRpbmcgd2hlbiBpbnRlcmZlcmluZyBtdWx0aURyYWdFbGVtZW50cyBhcmUgbW92ZWQgb3V0XG5cblxuICAgICAgICBpZiAoIWlzT3duZXIpIHtcbiAgICAgICAgICAvLyBPbmx5IHJlbW92ZSBpZiBub3QgZm9sZGluZyAoZm9sZGluZyB3aWxsIHJlbW92ZSB0aGVtIGFueXdheXMpXG4gICAgICAgICAgaWYgKCFmb2xkaW5nKSB7XG4gICAgICAgICAgICByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVzSGlkZGVuQmVmb3JlID0gY2xvbmVzSGlkZGVuO1xuXG4gICAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5fc2hvd0Nsb25lKHNvcnRhYmxlKTsgLy8gVW5mb2xkIGFuaW1hdGlvbiBmb3IgY2xvbmVzIGlmIHNob3dpbmcgZnJvbSBoaWRkZW5cblxuXG4gICAgICAgICAgICBpZiAoYWN0aXZlU29ydGFibGUub3B0aW9ucy5hbmltYXRpb24gJiYgIWNsb25lc0hpZGRlbiAmJiBjbG9uZXNIaWRkZW5CZWZvcmUpIHtcbiAgICAgICAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlU29ydGFibGUuYWRkQW5pbWF0aW9uU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjbG9uZSxcbiAgICAgICAgICAgICAgICAgIHJlY3Q6IGNsb25lc0Zyb21SZWN0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2xvbmUuZnJvbVJlY3QgPSBjbG9uZXNGcm9tUmVjdDtcbiAgICAgICAgICAgICAgICBjbG9uZS50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlU29ydGFibGUuX3Nob3dDbG9uZShzb3J0YWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckFuaW1hdGlvbkNhcHR1cmU6IGZ1bmN0aW9uIGRyYWdPdmVyQW5pbWF0aW9uQ2FwdHVyZShfcmVmMTEpIHtcbiAgICAgIHZhciBkcmFnUmVjdCA9IF9yZWYxMS5kcmFnUmVjdCxcbiAgICAgICAgICBpc093bmVyID0gX3JlZjExLmlzT3duZXIsXG4gICAgICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmMTEuYWN0aXZlU29ydGFibGU7XG4gICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aXZlU29ydGFibGUub3B0aW9ucy5hbmltYXRpb24gJiYgIWlzT3duZXIgJiYgYWN0aXZlU29ydGFibGUubXVsdGlEcmFnLmlzTXVsdGlEcmFnKSB7XG4gICAgICAgIGNsb25lc0Zyb21SZWN0ID0gX2V4dGVuZHMoe30sIGRyYWdSZWN0KTtcbiAgICAgICAgdmFyIGRyYWdNYXRyaXggPSBtYXRyaXgoZHJhZ0VsJDEsIHRydWUpO1xuICAgICAgICBjbG9uZXNGcm9tUmVjdC50b3AgLT0gZHJhZ01hdHJpeC5mO1xuICAgICAgICBjbG9uZXNGcm9tUmVjdC5sZWZ0IC09IGRyYWdNYXRyaXguZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQW5pbWF0aW9uQ29tcGxldGU6IGZ1bmN0aW9uIGRyYWdPdmVyQW5pbWF0aW9uQ29tcGxldGUoKSB7XG4gICAgICBpZiAoZm9sZGluZykge1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7XG4gICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKF9yZWYxMikge1xuICAgICAgdmFyIGV2dCA9IF9yZWYxMi5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWYxMi5yb290RWwsXG4gICAgICAgICAgcGFyZW50RWwgPSBfcmVmMTIucGFyZW50RWwsXG4gICAgICAgICAgc29ydGFibGUgPSBfcmVmMTIuc29ydGFibGUsXG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZjEyLmRpc3BhdGNoU29ydGFibGVFdmVudCxcbiAgICAgICAgICBvbGRJbmRleCA9IF9yZWYxMi5vbGRJbmRleCxcbiAgICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWYxMi5wdXRTb3J0YWJsZTtcbiAgICAgIHZhciB0b1NvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgdGhpcy5zb3J0YWJsZTtcbiAgICAgIGlmICghZXZ0KSByZXR1cm47XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjaGlsZHJlbiA9IHBhcmVudEVsLmNoaWxkcmVuOyAvLyBNdWx0aS1kcmFnIHNlbGVjdGlvblxuXG4gICAgICBpZiAoIWRyYWdTdGFydGVkKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm11bHRpRHJhZ0tleSAmJiAhdGhpcy5tdWx0aURyYWdLZXlEb3duKSB7XG4gICAgICAgICAgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCQxLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsICF+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihkcmFnRWwkMSkpO1xuXG4gICAgICAgIGlmICghfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChkcmFnRWwkMSk7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgdGFyZ2V0RWw6IGRyYWdFbCQxLFxuICAgICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICAgIH0pOyAvLyBNb2RpZmllciBhY3RpdmF0ZWQsIHNlbGVjdCBmcm9tIGxhc3QgdG8gZHJhZ0VsXG5cbiAgICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5ICYmIGxhc3RNdWx0aURyYWdTZWxlY3QgJiYgc29ydGFibGUuZWwuY29udGFpbnMobGFzdE11bHRpRHJhZ1NlbGVjdCkpIHtcbiAgICAgICAgICAgIHZhciBsYXN0SW5kZXggPSBpbmRleChsYXN0TXVsdGlEcmFnU2VsZWN0KSxcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSBpbmRleChkcmFnRWwkMSk7XG5cbiAgICAgICAgICAgIGlmICh+bGFzdEluZGV4ICYmIH5jdXJyZW50SW5kZXggJiYgbGFzdEluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgLy8gTXVzdCBpbmNsdWRlIGxhc3RNdWx0aURyYWdTZWxlY3QgKHNlbGVjdCBpdCksIGluIGNhc2UgbW9kaWZpZWQgc2VsZWN0aW9uIGZyb20gbm8gc2VsZWN0aW9uXG4gICAgICAgICAgICAgIC8vIChidXQgcHJldmlvdXMgc2VsZWN0aW9uIGV4aXN0ZWQpXG4gICAgICAgICAgICAgIHZhciBuLCBpO1xuXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgIG4gPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgICAgICBuID0gbGFzdEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKH5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGNoaWxkcmVuW2ldKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3MoY2hpbGRyZW5baV0sIG9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0RWw6IGNoaWxkcmVuW2ldLFxuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RNdWx0aURyYWdTZWxlY3QgPSBkcmFnRWwkMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHRvU29ydGFibGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuc3BsaWNlKG11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpLCAxKTtcbiAgICAgICAgICBsYXN0TXVsdGlEcmFnU2VsZWN0ID0gbnVsbDtcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZSxcbiAgICAgICAgICAgIHJvb3RFbDogcm9vdEVsLFxuICAgICAgICAgICAgbmFtZTogJ2Rlc2VsZWN0JyxcbiAgICAgICAgICAgIHRhcmdldEVsOiBkcmFnRWwkMSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBNdWx0aS1kcmFnIGRyb3BcblxuXG4gICAgICBpZiAoZHJhZ1N0YXJ0ZWQgJiYgdGhpcy5pc011bHRpRHJhZykge1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7IC8vIERvIG5vdCBcInVuZm9sZFwiIGFmdGVyIGFyb3VuZCBkcmFnRWwgaWYgcmV2ZXJ0ZWRcblxuICAgICAgICBpZiAoKHBhcmVudEVsW2V4cGFuZG9dLm9wdGlvbnMuc29ydCB8fCBwYXJlbnRFbCAhPT0gcm9vdEVsKSAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSksXG4gICAgICAgICAgICAgIG11bHRpRHJhZ0luZGV4ID0gaW5kZXgoZHJhZ0VsJDEsICc6bm90KC4nICsgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgKyAnKScpO1xuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcgJiYgb3B0aW9ucy5hbmltYXRpb24pIGRyYWdFbCQxLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBkcmFnRWwkMS5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgIT09IGRyYWdFbCQxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGZvbGRpbmcgPyBnZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpIDogZHJhZ1JlY3Q7XG4gICAgICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50LmZyb21SZWN0ID0gcmVjdDsgLy8gUHJlcGFyZSB1bmZvbGQgYW5pbWF0aW9uXG5cbiAgICAgICAgICAgICAgICAgIHRvU29ydGFibGUuYWRkQW5pbWF0aW9uU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IHJlY3RcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IC8vIE11bHRpIGRyYWcgZWxlbWVudHMgYXJlIG5vdCBuZWNlc3NhcmlseSByZW1vdmVkIGZyb20gdGhlIERPTSBvbiBkcm9wLCBzbyB0byByZWluc2VydFxuICAgICAgICAgICAgLy8gcHJvcGVybHkgdGhleSBtdXN0IGFsbCBiZSByZW1vdmVkXG5cblxuICAgICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW211bHRpRHJhZ0luZGV4XSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCBjaGlsZHJlblttdWx0aURyYWdJbmRleF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbXVsdGlEcmFnSW5kZXgrKztcbiAgICAgICAgICAgIH0pOyAvLyBJZiBpbml0aWFsIGZvbGRpbmcgaXMgZG9uZSwgdGhlIGVsZW1lbnRzIG1heSBoYXZlIGNoYW5nZWQgcG9zaXRpb24gYmVjYXVzZSB0aGV5IGFyZSBub3dcbiAgICAgICAgICAgIC8vIHVuZm9sZGluZyBhcm91bmQgZHJhZ0VsLCBldmVuIHRob3VnaCBkcmFnRWwgbWF5IG5vdCBoYXZlIGhpcyBpbmRleCBjaGFuZ2VkLCBzbyB1cGRhdGUgZXZlbnRcbiAgICAgICAgICAgIC8vIG11c3QgYmUgZmlyZWQgaGVyZSBhcyBTb3J0YWJsZSB3aWxsIG5vdC5cblxuICAgICAgICAgICAgaWYgKG9sZEluZGV4ID09PSBpbmRleChkcmFnRWwkMSkpIHtcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCAhPT0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCd1cGRhdGUnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gTXVzdCBiZSBkb25lIGFmdGVyIGNhcHR1cmluZyBpbmRpdmlkdWFsIHJlY3RzIChzY3JvbGwgYmFyKVxuXG5cbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHRvU29ydGFibGU7XG4gICAgICB9IC8vIFJlbW92ZSBjbG9uZXMgaWYgbmVjZXNzYXJ5XG5cblxuICAgICAgaWYgKHJvb3RFbCA9PT0gcGFyZW50RWwgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgY2xvbmUucGFyZW50Tm9kZSAmJiBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nR2xvYmFsOiBmdW5jdGlvbiBudWxsaW5nR2xvYmFsKCkge1xuICAgICAgdGhpcy5pc011bHRpRHJhZyA9IGRyYWdTdGFydGVkID0gZmFsc2U7XG4gICAgICBtdWx0aURyYWdDbG9uZXMubGVuZ3RoID0gMDtcbiAgICB9LFxuICAgIGRlc3Ryb3lHbG9iYWw6IGZ1bmN0aW9uIGRlc3Ryb3lHbG9iYWwoKSB7XG4gICAgICB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuXG4gICAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fY2hlY2tLZXlEb3duKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5fY2hlY2tLZXlVcCk7XG4gICAgfSxcbiAgICBfZGVzZWxlY3RNdWx0aURyYWc6IGZ1bmN0aW9uIF9kZXNlbGVjdE11bHRpRHJhZyhldnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZHJhZ1N0YXJ0ZWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZHJhZ1N0YXJ0ZWQpIHJldHVybjsgLy8gT25seSBkZXNlbGVjdCBpZiBzZWxlY3Rpb24gaXMgaW4gdGhpcyBzb3J0YWJsZVxuXG4gICAgICBpZiAobXVsdGlEcmFnU29ydGFibGUgIT09IHRoaXMuc29ydGFibGUpIHJldHVybjsgLy8gT25seSBkZXNlbGVjdCBpZiB0YXJnZXQgaXMgbm90IGl0ZW0gaW4gdGhpcyBzb3J0YWJsZVxuXG4gICAgICBpZiAoZXZ0ICYmIGNsb3Nlc3QoZXZ0LnRhcmdldCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5zb3J0YWJsZS5lbCwgZmFsc2UpKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgbGVmdCBjbGlja1xuXG4gICAgICBpZiAoZXZ0ICYmIGV2dC5idXR0b24gIT09IDApIHJldHVybjtcblxuICAgICAgd2hpbGUgKG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZWwgPSBtdWx0aURyYWdFbGVtZW50c1swXTtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWwsIHRoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNoaWZ0KCk7XG4gICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLnNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbDogdGhpcy5zb3J0YWJsZS5lbCxcbiAgICAgICAgICBuYW1lOiAnZGVzZWxlY3QnLFxuICAgICAgICAgIHRhcmdldEVsOiBlbCxcbiAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NoZWNrS2V5RG93bjogZnVuY3Rpb24gX2NoZWNrS2V5RG93bihldnQpIHtcbiAgICAgIGlmIChldnQua2V5ID09PSB0aGlzLm9wdGlvbnMubXVsdGlEcmFnS2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGlEcmFnS2V5RG93biA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBfY2hlY2tLZXlVcDogZnVuY3Rpb24gX2NoZWNrS2V5VXAoZXZ0KSB7XG4gICAgICBpZiAoZXZ0LmtleSA9PT0gdGhpcy5vcHRpb25zLm11bHRpRHJhZ0tleSkge1xuICAgICAgICB0aGlzLm11bHRpRHJhZ0tleURvd24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcyhNdWx0aURyYWcsIHtcbiAgICAvLyBTdGF0aWMgbWV0aG9kcyAmIHByb3BlcnRpZXNcbiAgICBwbHVnaW5OYW1lOiAnbXVsdGlEcmFnJyxcbiAgICB1dGlsczoge1xuICAgICAgLyoqXG4gICAgICAgKiBTZWxlY3RzIHRoZSBwcm92aWRlZCBtdWx0aS1kcmFnIGl0ZW1cbiAgICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICBUaGUgZWxlbWVudCB0byBiZSBzZWxlY3RlZFxuICAgICAgICovXG4gICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChlbCkge1xuICAgICAgICB2YXIgc29ydGFibGUgPSBlbC5wYXJlbnROb2RlW2V4cGFuZG9dO1xuICAgICAgICBpZiAoIXNvcnRhYmxlIHx8ICFzb3J0YWJsZS5vcHRpb25zLm11bHRpRHJhZyB8fCB+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihlbCkpIHJldHVybjtcblxuICAgICAgICBpZiAobXVsdGlEcmFnU29ydGFibGUgJiYgbXVsdGlEcmFnU29ydGFibGUgIT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUubXVsdGlEcmFnLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSBzb3J0YWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsLCBzb3J0YWJsZS5vcHRpb25zLnNlbGVjdGVkQ2xhc3MsIHRydWUpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5wdXNoKGVsKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzZWxlY3RzIHRoZSBwcm92aWRlZCBtdWx0aS1kcmFnIGl0ZW1cbiAgICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICBUaGUgZWxlbWVudCB0byBiZSBkZXNlbGVjdGVkXG4gICAgICAgKi9cbiAgICAgIGRlc2VsZWN0OiBmdW5jdGlvbiBkZXNlbGVjdChlbCkge1xuICAgICAgICB2YXIgc29ydGFibGUgPSBlbC5wYXJlbnROb2RlW2V4cGFuZG9dLFxuICAgICAgICAgICAgaW5kZXggPSBtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGVsKTtcbiAgICAgICAgaWYgKCFzb3J0YWJsZSB8fCAhc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWcgfHwgIX5pbmRleCkgcmV0dXJuO1xuICAgICAgICB0b2dnbGVDbGFzcyhlbCwgc29ydGFibGUub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgb2xkSW5kaWNpZXMgPSBbXSxcbiAgICAgICAgICBuZXdJbmRpY2llcyA9IFtdO1xuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICBvbGRJbmRpY2llcy5wdXNoKHtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50OiBtdWx0aURyYWdFbGVtZW50LFxuICAgICAgICAgIGluZGV4OiBtdWx0aURyYWdFbGVtZW50LnNvcnRhYmxlSW5kZXhcbiAgICAgICAgfSk7IC8vIG11bHRpRHJhZ0VsZW1lbnRzIHdpbGwgYWxyZWFkeSBiZSBzb3J0ZWQgaWYgZm9sZGluZ1xuXG4gICAgICAgIHZhciBuZXdJbmRleDtcblxuICAgICAgICBpZiAoZm9sZGluZyAmJiBtdWx0aURyYWdFbGVtZW50ICE9PSBkcmFnRWwkMSkge1xuICAgICAgICAgIG5ld0luZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZGluZykge1xuICAgICAgICAgIG5ld0luZGV4ID0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCwgJzpub3QoLicgKyBfdGhpczMub3B0aW9ucy5zZWxlY3RlZENsYXNzICsgJyknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3SW5kaWNpZXMucHVzaCh7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICBpbmRleDogbmV3SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlEcmFnRWxlbWVudHMpLFxuICAgICAgICBjbG9uZXM6IFtdLmNvbmNhdChtdWx0aURyYWdDbG9uZXMpLFxuICAgICAgICBvbGRJbmRpY2llczogb2xkSW5kaWNpZXMsXG4gICAgICAgIG5ld0luZGljaWVzOiBuZXdJbmRpY2llc1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9wdGlvbkxpc3RlbmVyczoge1xuICAgICAgbXVsdGlEcmFnS2V5OiBmdW5jdGlvbiBtdWx0aURyYWdLZXkoa2V5KSB7XG4gICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdjdHJsJykge1xuICAgICAgICAgIGtleSA9ICdDb250cm9sJztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGtleSA9IGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc2VydE11bHRpRHJhZ0VsZW1lbnRzKGNsb25lc0luc2VydGVkLCByb290RWwpIHtcbiAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCwgaSkge1xuICAgIHZhciB0YXJnZXQgPSByb290RWwuY2hpbGRyZW5bbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4ICsgKGNsb25lc0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCB0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290RWwuYXBwZW5kQ2hpbGQobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogSW5zZXJ0IG11bHRpLWRyYWcgY2xvbmVzXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IGVsZW1lbnRzSW5zZXJ0ZWQgIFdoZXRoZXIgdGhlIG11bHRpLWRyYWcgZWxlbWVudHMgYXJlIGluc2VydGVkXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gcm9vdEVsXG4gKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRNdWx0aURyYWdDbG9uZXMoZWxlbWVudHNJbnNlcnRlZCwgcm9vdEVsKSB7XG4gIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSwgaSkge1xuICAgIHZhciB0YXJnZXQgPSByb290RWwuY2hpbGRyZW5bY2xvbmUuc29ydGFibGVJbmRleCArIChlbGVtZW50c0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZSwgdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpIHtcbiAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgIGlmIChtdWx0aURyYWdFbGVtZW50ID09PSBkcmFnRWwkMSkgcmV0dXJuO1xuICAgIG11bHRpRHJhZ0VsZW1lbnQucGFyZW50Tm9kZSAmJiBtdWx0aURyYWdFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobXVsdGlEcmFnRWxlbWVudCk7XG4gIH0pO1xufVxuXG5Tb3J0YWJsZS5tb3VudChuZXcgQXV0b1Njcm9sbFBsdWdpbigpKTtcblNvcnRhYmxlLm1vdW50KFJlbW92ZSwgUmV2ZXJ0KTtcblxuZXhwb3J0IGRlZmF1bHQgU29ydGFibGU7XG5leHBvcnQgeyBNdWx0aURyYWdQbHVnaW4gYXMgTXVsdGlEcmFnLCBTb3J0YWJsZSwgU3dhcFBsdWdpbiBhcyBTd2FwIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sortablejs/modular/sortable.esm.js\n");

/***/ }),

/***/ "./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css":
/*!***********************************************************************************************!*\
  !*** ./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_plugin_image_preview_min_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./filepond-plugin-image-preview.min.css */ \"./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_plugin_image_preview_min_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"], options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_plugin_image_preview_min_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locals || {});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5taW4uY3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0U7QUFDL0UsWUFBNEw7O0FBRTVMOztBQUVBO0FBQ0E7O0FBRUEsYUFBYSw2RkFBRyxDQUFDLDhLQUFPOzs7O0FBSXhCLGlFQUFlLHFMQUFjLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5taW4uY3NzP2EzZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTExLnVzZVsxXSEuLi8uLi9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMl0hLi9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5taW4uY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\n");

/***/ }),

/***/ "./node_modules/filepond/dist/filepond.min.css":
/*!*****************************************************!*\
  !*** ./node_modules/filepond/dist/filepond.min.css ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_min_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./filepond.min.css */ \"./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/filepond/dist/filepond.min.css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_min_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"], options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_filepond_min_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locals || {});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5taW4uY3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0U7QUFDL0UsWUFBdUs7O0FBRXZLOztBQUVBO0FBQ0E7O0FBRUEsYUFBYSw2RkFBRyxDQUFDLHlKQUFPOzs7O0FBSXhCLGlFQUFlLGdLQUFjLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5taW4uY3NzPzhiNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTExLnVzZVsxXSEuLi8uLi9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC0xMS51c2VbMl0hLi9maWxlcG9uZC5taW4uY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/filepond/dist/filepond.min.css\n");

/***/ }),

/***/ "./node_modules/vue3-carousel/dist/carousel.css":
/*!******************************************************!*\
  !*** ./node_modules/vue3-carousel/dist/carousel.css ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_carousel_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./carousel.css */ \"./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue3-carousel/dist/carousel.css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_carousel_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"], options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_carousel_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locals || {});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlMy1jYXJvdXNlbC9kaXN0L2Nhcm91c2VsLmNzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStFO0FBQy9FLFlBQW1LOztBQUVuSzs7QUFFQTtBQUNBOztBQUVBLGFBQWEsNkZBQUcsQ0FBQyxxSkFBTzs7OztBQUl4QixpRUFBZSw0SkFBYyxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZTMtY2Fyb3VzZWwvZGlzdC9jYXJvdXNlbC5jc3M/ZTMyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzFdIS4uLy4uL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTExLnVzZVsyXSEuL2Nhcm91c2VsLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue3-carousel/dist/carousel.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_style_index_0_id_05f52410_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css */ \"./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_style_index_0_id_05f52410_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"], options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_style_index_0_id_05f52410_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locals || {});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzFdIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9zdHlsZVBvc3RMb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzJdIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9pbmRleC5qcz8/cnVsZVNldFswXS51c2VbMF0hLi9yZXNvdXJjZXMvanMvYXBwL3BhZ2VzL1B1cmNoYXNlci1WaWV3LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTA1ZjUyNDEwJnNjb3BlZD10cnVlJmxhbmc9Y3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0c7QUFDbEcsWUFBd1k7O0FBRXhZOztBQUVBO0FBQ0E7O0FBRUEsYUFBYSwwR0FBRyxDQUFDLG1WQUFPOzs7O0FBSXhCLGlFQUFlLDBWQUFjLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL3BhZ2VzL1B1cmNoYXNlci1WaWV3LnZ1ZT82MTNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTExLnVzZVsxXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtMTEudXNlWzJdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDVmNTI0MTAmc2NvcGVkPXRydWUmbGFuZz1jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css\n");

/***/ }),

/***/ "./node_modules/vue-filepond/dist/vue-filepond.js":
/*!********************************************************!*\
  !*** ./node_modules/vue-filepond/dist/vue-filepond.js ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * vue-filepond v7.0.4\n * A handy FilePond adapter component for Vue\n * \n * Copyright (c) 2023 PQINA\n * https://pqina.nl/filepond\n * \n * Licensed under the MIT license.\n */\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\"), __webpack_require__(/*! filepond */ \"./node_modules/filepond/dist/filepond.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _vue, _filepond) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.setOptions = void 0;\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\n  function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // Methods not made available to the component\n  var filteredComponentMethods = [\"setOptions\", \"on\", \"off\", \"onOnce\", \"appendTo\", \"insertAfter\", \"insertBefore\", \"isAttachedTo\", \"replaceElement\", \"restoreElement\", \"destroy\"]; // Test if is supported on this client\n\n  var isSupported = (0, _filepond.supported)(); // Setup initial prop types and update when plugins are added\n\n  var getNativeConstructorFromType = function getNativeConstructorFromType(type) {\n    return {\n      string: String,\n      boolean: Boolean,\n      array: Array,\n      function: Function,\n      int: Number,\n      serverapi: Object,\n      object: Object\n    }[type];\n  }; // Activated props\n\n\n  var props = {}; // Events that need to be mapped to emitters\n\n  var events = []; // all active instances\n\n  var instances = []; // global options\n\n  var globalOptions = {};\n\n  var setOptions = function setOptions(options) {\n    globalOptions = Object.assign(globalOptions, options);\n    instances.forEach(function (instance) {\n      instance.setOptions(globalOptions);\n    });\n  };\n\n  _exports.setOptions = setOptions;\n\n  var _default = function _default() {\n    // register plugins in FilePond\n    _filepond.registerPlugin.apply(void 0, arguments); // build events and props array\n\n\n    events.length = 0;\n\n    for (var prop in _filepond.OptionTypes) {\n      // don't add events to the props array\n      if (/^on/.test(prop)) {\n        events.push(prop);\n        continue;\n      } // get property type ( can be either a String or the type defined within FilePond )\n\n\n      var valid_types = [String, getNativeConstructorFromType(_filepond.OptionTypes[prop])]; // labelFileProcessingError can also be Function\n\n      if (prop == \"labelFileProcessingError\") {\n        valid_types.push(Function);\n      }\n\n      props[prop] = {\n        type: valid_types,\n        // set this default value so we know which props have been explicitely set by user on component\n        default: undefined\n      };\n    } // create\n\n\n    return {\n      name: \"FilePond\",\n      props: props,\n      render: function render() {\n        // clean up undefined attributes\n        var attributes = Object.entries({\n          id: this.id,\n          name: this.name,\n          type: \"file\",\n          class: this.className,\n          required: this.required,\n          multiple: this.allowMultiple,\n          accept: this.acceptedFileTypes,\n          capture: this.captureMethod\n        }).reduce(function (attributes, _ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          if (value !== undefined) attributes[key] = value;\n          return attributes;\n        }, {}); // create base element\n\n        return (0, _vue.h)(\"div\", {\n          class: {\n            \"filepond--wrapper\": true\n          }\n        }, [(0, _vue.h)(\"input\", attributes)]);\n      },\n      created: function created() {\n        var _this = this;\n\n        this.watchers = Object.keys(props).map(function (key) {\n          return _this.$watch(key, function (next) {\n            // if pond is not initialized, don't update\n            if (!_this._pond) return;\n            _this._pond[key] = next;\n          });\n        });\n      },\n      // Will setup FilePond instance when mounted\n      mounted: function mounted() {\n        var _this2 = this;\n\n        // exit here if not supported\n        if (!isSupported) return; // get pond element\n\n        this._element = this.$el.querySelector(\"input\"); // Map FilePond callback methods to Vue $emitters\n\n        var options = events.reduce(function (obj, value) {\n          obj[value] = function () {\n            _this2.$emit(\"input\", _this2._pond ? _this2._pond.getFiles() : []);\n\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            _this2.$emit.apply(_this2, [value.substr(2)].concat(args));\n          };\n\n          return obj;\n        }, {});\n        var passedProps = {};\n        Object.keys(props).forEach(function (key) {\n          if (_this2[key] === undefined) return;\n          passedProps[key] = _this2[key];\n        }); // Create our pond\n\n        this._pond = (0, _filepond.create)(this._element, Object.assign({}, globalOptions, options, passedProps)); // Copy instance method references to component instance\n\n        Object.keys(this._pond).filter(function (key) {\n          return !filteredComponentMethods.includes(key);\n        }).forEach(function (key) {\n          _this2[key] = _this2._pond[key];\n        }); // Add to instances so we can apply global options when used\n\n        instances.push(this._pond);\n      },\n      // Will clean up FilePond instance when unmounted\n      beforeUnmount: function beforeUnmount() {\n        var _this3 = this;\n\n        // reference to detached method\n        var detached = this.$options.detached; // no longer attached, clean up\n\n        if (!this.$el.offsetParent) {\n          detached.call(this);\n          return;\n        } // if we're still attached it's likely a transition is running, we need to\n        // determine the moment when we're no longer attached to the DOM so we can\n        // clean up properly\n\n\n        var mutationHandler = function mutationHandler(mutations, observer) {\n          var removedNodes = (mutations[0] || {}).removedNodes || [];\n          var removedNode = removedNodes[0];\n          if (!removedNode || !removedNode.contains(_this3.$el)) return;\n          observer.disconnect();\n          detached.call(_this3);\n        }; // start observing parent element for changes to the DOM\n\n\n        var observer = new MutationObserver(mutationHandler);\n        observer.observe(document.documentElement, {\n          childList: true,\n          subtree: true\n        });\n      },\n      // called when the component root node has been detached\n      detached: function detached() {\n        this.watchers.forEach(function (unwatch) {\n          return unwatch();\n        }); // exit when no pond defined\n\n        if (!this._pond) return; // bye bye pond\n\n        this._pond.destroy(); // remove from instances\n\n\n        var index = instances.indexOf(this._pond);\n\n        if (index >= 0) {\n          instances.splice(index, 1);\n        } // clear reference\n\n\n        this._pond = null;\n      }\n    };\n  };\n\n  _exports.default = _default;\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZpbGVwb25kL2Rpc3QvdnVlLWZpbGVwb25kLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sSUFBMEM7QUFDaEQsSUFBSSxpQ0FBc0IsQ0FBQyxPQUFTLEVBQUUsNEVBQUssRUFBRSwrRUFBVSxDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDbEUsSUFBSSxLQUFLLFlBUU47QUFDSCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxvQ0FBb0M7O0FBRXBDLGdDQUFnQzs7QUFFaEMsMkNBQTJDLHlHQUF5RyxVQUFVLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQix1Q0FBdUMsY0FBYyxXQUFXLFlBQVksVUFBVSxNQUFNLG1EQUFtRCxVQUFVLHNCQUFzQjs7QUFFaGdCLGtDQUFrQzs7QUFFbEM7QUFDQSxrTEFBa0w7O0FBRWxMLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7OztBQUdMLGtCQUFrQjs7QUFFbEIsbUJBQW1COztBQUVuQixzQkFBc0I7O0FBRXRCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7OztBQUd2RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1IsNkZBQTZGOztBQUU3RjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLElBQUksR0FBRzs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEMseURBQXlEOztBQUV6RDtBQUNBO0FBQ0E7O0FBRUEsZ0ZBQWdGLGFBQWE7QUFDN0Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUc7O0FBRVosMEVBQTBFLHlDQUF5Qzs7QUFFbkg7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsR0FBRzs7QUFFWjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0M7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOzs7QUFHQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7OztBQUdYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRzs7QUFFWixpQ0FBaUM7O0FBRWpDLDhCQUE4Qjs7O0FBRzlCOztBQUVBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZpbGVwb25kL2Rpc3QvdnVlLWZpbGVwb25kLmpzP2U3MzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiB2dWUtZmlsZXBvbmQgdjcuMC40XG4gKiBBIGhhbmR5IEZpbGVQb25kIGFkYXB0ZXIgY29tcG9uZW50IGZvciBWdWVcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDIzIFBRSU5BXG4gKiBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kXG4gKiBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoXCJ2dWVGaWxlUG9uZFwiLCBbXCJleHBvcnRzXCIsIFwidnVlXCIsIFwiZmlsZXBvbmRcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKFwidnVlXCIpLCByZXF1aXJlKFwiZmlsZXBvbmRcIikpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QuZXhwb3J0cywgZ2xvYmFsLlZ1ZSwgZ2xvYmFsLkZpbGVQb25kKTtcbiAgICBnbG9iYWwudnVlRmlsZVBvbmQgPSBtb2QuZXhwb3J0cztcbiAgfVxufSkodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKF9leHBvcnRzLCBfdnVlLCBfZmlsZXBvbmQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9leHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG4gIH0pO1xuICBfZXhwb3J0cy5kZWZhdWx0ID0gX2V4cG9ydHMuc2V0T3B0aW9ucyA9IHZvaWQgMDtcblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpKSB7IHJldHVybjsgfSB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuICAvLyBNZXRob2RzIG5vdCBtYWRlIGF2YWlsYWJsZSB0byB0aGUgY29tcG9uZW50XG4gIHZhciBmaWx0ZXJlZENvbXBvbmVudE1ldGhvZHMgPSBbXCJzZXRPcHRpb25zXCIsIFwib25cIiwgXCJvZmZcIiwgXCJvbk9uY2VcIiwgXCJhcHBlbmRUb1wiLCBcImluc2VydEFmdGVyXCIsIFwiaW5zZXJ0QmVmb3JlXCIsIFwiaXNBdHRhY2hlZFRvXCIsIFwicmVwbGFjZUVsZW1lbnRcIiwgXCJyZXN0b3JlRWxlbWVudFwiLCBcImRlc3Ryb3lcIl07IC8vIFRlc3QgaWYgaXMgc3VwcG9ydGVkIG9uIHRoaXMgY2xpZW50XG5cbiAgdmFyIGlzU3VwcG9ydGVkID0gKDAsIF9maWxlcG9uZC5zdXBwb3J0ZWQpKCk7IC8vIFNldHVwIGluaXRpYWwgcHJvcCB0eXBlcyBhbmQgdXBkYXRlIHdoZW4gcGx1Z2lucyBhcmUgYWRkZWRcblxuICB2YXIgZ2V0TmF0aXZlQ29uc3RydWN0b3JGcm9tVHlwZSA9IGZ1bmN0aW9uIGdldE5hdGl2ZUNvbnN0cnVjdG9yRnJvbVR5cGUodHlwZSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHJpbmc6IFN0cmluZyxcbiAgICAgIGJvb2xlYW46IEJvb2xlYW4sXG4gICAgICBhcnJheTogQXJyYXksXG4gICAgICBmdW5jdGlvbjogRnVuY3Rpb24sXG4gICAgICBpbnQ6IE51bWJlcixcbiAgICAgIHNlcnZlcmFwaTogT2JqZWN0LFxuICAgICAgb2JqZWN0OiBPYmplY3RcbiAgICB9W3R5cGVdO1xuICB9OyAvLyBBY3RpdmF0ZWQgcHJvcHNcblxuXG4gIHZhciBwcm9wcyA9IHt9OyAvLyBFdmVudHMgdGhhdCBuZWVkIHRvIGJlIG1hcHBlZCB0byBlbWl0dGVyc1xuXG4gIHZhciBldmVudHMgPSBbXTsgLy8gYWxsIGFjdGl2ZSBpbnN0YW5jZXNcblxuICB2YXIgaW5zdGFuY2VzID0gW107IC8vIGdsb2JhbCBvcHRpb25zXG5cbiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTtcblxuICB2YXIgc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIGdsb2JhbE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGdsb2JhbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhnbG9iYWxPcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcblxuICBfZXhwb3J0cy5zZXRPcHRpb25zID0gc2V0T3B0aW9ucztcblxuICB2YXIgX2RlZmF1bHQgPSBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAvLyByZWdpc3RlciBwbHVnaW5zIGluIEZpbGVQb25kXG4gICAgX2ZpbGVwb25kLnJlZ2lzdGVyUGx1Z2luLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTsgLy8gYnVpbGQgZXZlbnRzIGFuZCBwcm9wcyBhcnJheVxuXG5cbiAgICBldmVudHMubGVuZ3RoID0gMDtcblxuICAgIGZvciAodmFyIHByb3AgaW4gX2ZpbGVwb25kLk9wdGlvblR5cGVzKSB7XG4gICAgICAvLyBkb24ndCBhZGQgZXZlbnRzIHRvIHRoZSBwcm9wcyBhcnJheVxuICAgICAgaWYgKC9eb24vLnRlc3QocHJvcCkpIHtcbiAgICAgICAgZXZlbnRzLnB1c2gocHJvcCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBnZXQgcHJvcGVydHkgdHlwZSAoIGNhbiBiZSBlaXRoZXIgYSBTdHJpbmcgb3IgdGhlIHR5cGUgZGVmaW5lZCB3aXRoaW4gRmlsZVBvbmQgKVxuXG5cbiAgICAgIHZhciB2YWxpZF90eXBlcyA9IFtTdHJpbmcsIGdldE5hdGl2ZUNvbnN0cnVjdG9yRnJvbVR5cGUoX2ZpbGVwb25kLk9wdGlvblR5cGVzW3Byb3BdKV07IC8vIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvciBjYW4gYWxzbyBiZSBGdW5jdGlvblxuXG4gICAgICBpZiAocHJvcCA9PSBcImxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvclwiKSB7XG4gICAgICAgIHZhbGlkX3R5cGVzLnB1c2goRnVuY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBwcm9wc1twcm9wXSA9IHtcbiAgICAgICAgdHlwZTogdmFsaWRfdHlwZXMsXG4gICAgICAgIC8vIHNldCB0aGlzIGRlZmF1bHQgdmFsdWUgc28gd2Uga25vdyB3aGljaCBwcm9wcyBoYXZlIGJlZW4gZXhwbGljaXRlbHkgc2V0IGJ5IHVzZXIgb24gY29tcG9uZW50XG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgICAgfTtcbiAgICB9IC8vIGNyZWF0ZVxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogXCJGaWxlUG9uZFwiLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIC8vIGNsZWFuIHVwIHVuZGVmaW5lZCBhdHRyaWJ1dGVzXG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmVudHJpZXMoe1xuICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICBjbGFzczogdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRoaXMucmVxdWlyZWQsXG4gICAgICAgICAgbXVsdGlwbGU6IHRoaXMuYWxsb3dNdWx0aXBsZSxcbiAgICAgICAgICBhY2NlcHQ6IHRoaXMuYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICAgICAgY2FwdHVyZTogdGhpcy5jYXB0dXJlTWV0aG9kXG4gICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoYXR0cmlidXRlcywgX3JlZikge1xuICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAgICBrZXkgPSBfcmVmMlswXSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTtcblxuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgICAgfSwge30pOyAvLyBjcmVhdGUgYmFzZSBlbGVtZW50XG5cbiAgICAgICAgcmV0dXJuICgwLCBfdnVlLmgpKFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgXCJmaWxlcG9uZC0td3JhcHBlclwiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LCBbKDAsIF92dWUuaCkoXCJpbnB1dFwiLCBhdHRyaWJ1dGVzKV0pO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy53YXRjaGVycyA9IE9iamVjdC5rZXlzKHByb3BzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy4kd2F0Y2goa2V5LCBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICAgICAgLy8gaWYgcG9uZCBpcyBub3QgaW5pdGlhbGl6ZWQsIGRvbid0IHVwZGF0ZVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcG9uZCkgcmV0dXJuO1xuICAgICAgICAgICAgX3RoaXMuX3BvbmRba2V5XSA9IG5leHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIFdpbGwgc2V0dXAgRmlsZVBvbmQgaW5zdGFuY2Ugd2hlbiBtb3VudGVkXG4gICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAvLyBleGl0IGhlcmUgaWYgbm90IHN1cHBvcnRlZFxuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSByZXR1cm47IC8vIGdldCBwb25kIGVsZW1lbnRcblxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcihcImlucHV0XCIpOyAvLyBNYXAgRmlsZVBvbmQgY2FsbGJhY2sgbWV0aG9kcyB0byBWdWUgJGVtaXR0ZXJzXG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBldmVudHMucmVkdWNlKGZ1bmN0aW9uIChvYmosIHZhbHVlKSB7XG4gICAgICAgICAgb2JqW3ZhbHVlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi4kZW1pdChcImlucHV0XCIsIF90aGlzMi5fcG9uZCA/IF90aGlzMi5fcG9uZC5nZXRGaWxlcygpIDogW10pO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLiRlbWl0LmFwcGx5KF90aGlzMiwgW3ZhbHVlLnN1YnN0cigyKV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSwge30pO1xuICAgICAgICB2YXIgcGFzc2VkUHJvcHMgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGlmIChfdGhpczJba2V5XSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgcGFzc2VkUHJvcHNba2V5XSA9IF90aGlzMltrZXldO1xuICAgICAgICB9KTsgLy8gQ3JlYXRlIG91ciBwb25kXG5cbiAgICAgICAgdGhpcy5fcG9uZCA9ICgwLCBfZmlsZXBvbmQuY3JlYXRlKSh0aGlzLl9lbGVtZW50LCBPYmplY3QuYXNzaWduKHt9LCBnbG9iYWxPcHRpb25zLCBvcHRpb25zLCBwYXNzZWRQcm9wcykpOyAvLyBDb3B5IGluc3RhbmNlIG1ldGhvZCByZWZlcmVuY2VzIHRvIGNvbXBvbmVudCBpbnN0YW5jZVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3BvbmQpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICFmaWx0ZXJlZENvbXBvbmVudE1ldGhvZHMuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX3RoaXMyW2tleV0gPSBfdGhpczIuX3BvbmRba2V5XTtcbiAgICAgICAgfSk7IC8vIEFkZCB0byBpbnN0YW5jZXMgc28gd2UgY2FuIGFwcGx5IGdsb2JhbCBvcHRpb25zIHdoZW4gdXNlZFxuXG4gICAgICAgIGluc3RhbmNlcy5wdXNoKHRoaXMuX3BvbmQpO1xuICAgICAgfSxcbiAgICAgIC8vIFdpbGwgY2xlYW4gdXAgRmlsZVBvbmQgaW5zdGFuY2Ugd2hlbiB1bm1vdW50ZWRcbiAgICAgIGJlZm9yZVVubW91bnQ6IGZ1bmN0aW9uIGJlZm9yZVVubW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIC8vIHJlZmVyZW5jZSB0byBkZXRhY2hlZCBtZXRob2RcbiAgICAgICAgdmFyIGRldGFjaGVkID0gdGhpcy4kb3B0aW9ucy5kZXRhY2hlZDsgLy8gbm8gbG9uZ2VyIGF0dGFjaGVkLCBjbGVhbiB1cFxuXG4gICAgICAgIGlmICghdGhpcy4kZWwub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgZGV0YWNoZWQuY2FsbCh0aGlzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gaWYgd2UncmUgc3RpbGwgYXR0YWNoZWQgaXQncyBsaWtlbHkgYSB0cmFuc2l0aW9uIGlzIHJ1bm5pbmcsIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtb21lbnQgd2hlbiB3ZSdyZSBubyBsb25nZXIgYXR0YWNoZWQgdG8gdGhlIERPTSBzbyB3ZSBjYW5cbiAgICAgICAgLy8gY2xlYW4gdXAgcHJvcGVybHlcblxuXG4gICAgICAgIHZhciBtdXRhdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiBtdXRhdGlvbkhhbmRsZXIobXV0YXRpb25zLCBvYnNlcnZlcikge1xuICAgICAgICAgIHZhciByZW1vdmVkTm9kZXMgPSAobXV0YXRpb25zWzBdIHx8IHt9KS5yZW1vdmVkTm9kZXMgfHwgW107XG4gICAgICAgICAgdmFyIHJlbW92ZWROb2RlID0gcmVtb3ZlZE5vZGVzWzBdO1xuICAgICAgICAgIGlmICghcmVtb3ZlZE5vZGUgfHwgIXJlbW92ZWROb2RlLmNvbnRhaW5zKF90aGlzMy4kZWwpKSByZXR1cm47XG4gICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIGRldGFjaGVkLmNhbGwoX3RoaXMzKTtcbiAgICAgICAgfTsgLy8gc3RhcnQgb2JzZXJ2aW5nIHBhcmVudCBlbGVtZW50IGZvciBjaGFuZ2VzIHRvIHRoZSBET01cblxuXG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uSGFuZGxlcik7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCByb290IG5vZGUgaGFzIGJlZW4gZGV0YWNoZWRcbiAgICAgIGRldGFjaGVkOiBmdW5jdGlvbiBkZXRhY2hlZCgpIHtcbiAgICAgICAgdGhpcy53YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uICh1bndhdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHVud2F0Y2goKTtcbiAgICAgICAgfSk7IC8vIGV4aXQgd2hlbiBubyBwb25kIGRlZmluZWRcblxuICAgICAgICBpZiAoIXRoaXMuX3BvbmQpIHJldHVybjsgLy8gYnllIGJ5ZSBwb25kXG5cbiAgICAgICAgdGhpcy5fcG9uZC5kZXN0cm95KCk7IC8vIHJlbW92ZSBmcm9tIGluc3RhbmNlc1xuXG5cbiAgICAgICAgdmFyIGluZGV4ID0gaW5zdGFuY2VzLmluZGV4T2YodGhpcy5fcG9uZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSAvLyBjbGVhciByZWZlcmVuY2VcblxuXG4gICAgICAgIHRoaXMuX3BvbmQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgX2V4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xufSk7XG5cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-filepond/dist/vue-filepond.js\n");

/***/ }),

/***/ "./resources/js/app/components/CalendarEventModal.vue":
/*!************************************************************!*\
  !*** ./resources/js/app/components/CalendarEventModal.vue ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CalendarEventModal_vue_vue_type_template_id_c0df8c64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CalendarEventModal.vue?vue&type=template&id=c0df8c64 */ \"./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64\");\n/* harmony import */ var _CalendarEventModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CalendarEventModal.vue?vue&type=script&lang=js */ \"./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js\");\n/* harmony import */ var _Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/vue-loader/dist/exportHelper.js */ \"./node_modules/vue-loader/dist/exportHelper.js\");\n\n\n\n\n;\nconst __exports__ = /*#__PURE__*/(0,_Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_CalendarEventModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], [['render',_CalendarEventModal_vue_vue_type_template_id_c0df8c64__WEBPACK_IMPORTED_MODULE_0__.render],['__file',\"resources/js/app/components/CalendarEventModal.vue\"]])\n/* hot reload */\nif (false) {}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__exports__);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStFO0FBQ1Y7QUFDTDs7QUFFaEUsQ0FBc0k7QUFDdEksaUNBQWlDLG9KQUFlLENBQUMsdUZBQU0sYUFBYSx5RkFBTTtBQUMxRTtBQUNBLElBQUksS0FBVSxFQUFFLEVBWWY7OztBQUdELGlFQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwcC9jb21wb25lbnRzL0NhbGVuZGFyRXZlbnRNb2RhbC52dWU/NWViOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9DYWxlbmRhckV2ZW50TW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWMwZGY4YzY0XCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9DYWxlbmRhckV2ZW50TW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IGV4cG9ydENvbXBvbmVudCBmcm9tIFwiL0FwcGxpY2F0aW9ucy9YQU1QUC94YW1wcGZpbGVzL2h0ZG9jcy9TaXRlcy9pbnNlcnZpY2UtZnJlc2gvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9leHBvcnRIZWxwZXIuanNcIlxuY29uc3QgX19leHBvcnRzX18gPSAvKiNfX1BVUkVfXyovZXhwb3J0Q29tcG9uZW50KHNjcmlwdCwgW1sncmVuZGVyJyxyZW5kZXJdLFsnX19maWxlJyxcInJlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9DYWxlbmRhckV2ZW50TW9kYWwudnVlXCJdXSlcbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIF9fZXhwb3J0c19fLl9faG1ySWQgPSBcImMwZGY4YzY0XCJcbiAgY29uc3QgYXBpID0gX19WVUVfSE1SX1JVTlRJTUVfX1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghYXBpLmNyZWF0ZVJlY29yZCgnYzBkZjhjNjQnLCBfX2V4cG9ydHNfXykpIHtcbiAgICBhcGkucmVsb2FkKCdjMGRmOGM2NCcsIF9fZXhwb3J0c19fKVxuICB9XG4gIFxuICBtb2R1bGUuaG90LmFjY2VwdChcIi4vQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jMGRmOGM2NFwiLCAoKSA9PiB7XG4gICAgYXBpLnJlcmVuZGVyKCdjMGRmOGM2NCcsIHJlbmRlcilcbiAgfSlcblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/app/components/CalendarEventModal.vue\n");

/***/ }),

/***/ "./resources/js/app/components/FileActionsModal.vue":
/*!**********************************************************!*\
  !*** ./resources/js/app/components/FileActionsModal.vue ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _FileActionsModal_vue_vue_type_template_id_edfaf26e__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FileActionsModal.vue?vue&type=template&id=edfaf26e */ \"./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e\");\n/* harmony import */ var _FileActionsModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FileActionsModal.vue?vue&type=script&lang=js */ \"./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js\");\n/* harmony import */ var _Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/vue-loader/dist/exportHelper.js */ \"./node_modules/vue-loader/dist/exportHelper.js\");\n\n\n\n\n;\nconst __exports__ = /*#__PURE__*/(0,_Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_FileActionsModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], [['render',_FileActionsModal_vue_vue_type_template_id_edfaf26e__WEBPACK_IMPORTED_MODULE_0__.render],['__file',\"resources/js/app/components/FileActionsModal.vue\"]])\n/* hot reload */\nif (false) {}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__exports__);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvRmlsZUFjdGlvbnNNb2RhbC52dWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2RTtBQUNWO0FBQ0w7O0FBRTlELENBQXNJO0FBQ3RJLGlDQUFpQyxvSkFBZSxDQUFDLHFGQUFNLGFBQWEsdUZBQU07QUFDMUU7QUFDQSxJQUFJLEtBQVUsRUFBRSxFQVlmOzs7QUFHRCxpRUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9GaWxlQWN0aW9uc01vZGFsLnZ1ZT9lZjQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL0ZpbGVBY3Rpb25zTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWVkZmFmMjZlXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vRmlsZUFjdGlvbnNNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vRmlsZUFjdGlvbnNNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIvQXBwbGljYXRpb25zL1hBTVBQL3hhbXBwZmlsZXMvaHRkb2NzL1NpdGVzL2luc2VydmljZS1mcmVzaC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl0sWydfX2ZpbGUnLFwicmVzb3VyY2VzL2pzL2FwcC9jb21wb25lbnRzL0ZpbGVBY3Rpb25zTW9kYWwudnVlXCJdXSlcbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIF9fZXhwb3J0c19fLl9faG1ySWQgPSBcImVkZmFmMjZlXCJcbiAgY29uc3QgYXBpID0gX19WVUVfSE1SX1JVTlRJTUVfX1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghYXBpLmNyZWF0ZVJlY29yZCgnZWRmYWYyNmUnLCBfX2V4cG9ydHNfXykpIHtcbiAgICBhcGkucmVsb2FkKCdlZGZhZjI2ZScsIF9fZXhwb3J0c19fKVxuICB9XG4gIFxuICBtb2R1bGUuaG90LmFjY2VwdChcIi4vRmlsZUFjdGlvbnNNb2RhbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZWRmYWYyNmVcIiwgKCkgPT4ge1xuICAgIGFwaS5yZXJlbmRlcignZWRmYWYyNmUnLCByZW5kZXIpXG4gIH0pXG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/components/FileActionsModal.vue\n");

/***/ }),

/***/ "./resources/js/app/pages/Purchaser-View.vue":
/*!***************************************************!*\
  !*** ./resources/js/app/pages/Purchaser-View.vue ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Purchaser_View_vue_vue_type_template_id_05f52410_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true */ \"./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true\");\n/* harmony import */ var _Purchaser_View_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Purchaser-View.vue?vue&type=script&lang=js */ \"./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js\");\n/* harmony import */ var _Purchaser_View_vue_vue_type_style_index_0_id_05f52410_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css */ \"./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css\");\n/* harmony import */ var _Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/dist/exportHelper.js */ \"./node_modules/vue-loader/dist/exportHelper.js\");\n\n\n\n\n;\n\n\nconst __exports__ = /*#__PURE__*/(0,_Applications_XAMPP_xamppfiles_htdocs_Sites_inservice_fresh_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_Purchaser_View_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], [['render',_Purchaser_View_vue_vue_type_template_id_05f52410_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render],['__scopeId',\"data-v-05f52410\"],['__file',\"resources/js/app/pages/Purchaser-View.vue\"]])\n/* hot reload */\nif (false) {}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__exports__);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3BhZ2VzL1B1cmNoYXNlci1WaWV3LnZ1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RjtBQUN0QjtBQUNMOztBQUU1RCxDQUFxRjs7QUFFaUQ7QUFDdEksaUNBQWlDLG9KQUFlLENBQUMsbUZBQU0sYUFBYSxpR0FBTTtBQUMxRTtBQUNBLElBQUksS0FBVSxFQUFFLEVBWWY7OztBQUdELGlFQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwcC9wYWdlcy9QdXJjaGFzZXItVmlldy52dWU/NDczNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9QdXJjaGFzZXItVmlldy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDVmNTI0MTAmc2NvcGVkPXRydWVcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9QdXJjaGFzZXItVmlldy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9QdXJjaGFzZXItVmlldy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wNWY1MjQxMCZzY29wZWQ9dHJ1ZSZsYW5nPWNzc1wiXG5cbmltcG9ydCBleHBvcnRDb21wb25lbnQgZnJvbSBcIi9BcHBsaWNhdGlvbnMvWEFNUFAveGFtcHBmaWxlcy9odGRvY3MvU2l0ZXMvaW5zZXJ2aWNlLWZyZXNoL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzXCJcbmNvbnN0IF9fZXhwb3J0c19fID0gLyojX19QVVJFX18qL2V4cG9ydENvbXBvbmVudChzY3JpcHQsIFtbJ3JlbmRlcicscmVuZGVyXSxbJ19fc2NvcGVJZCcsXCJkYXRhLXYtMDVmNTI0MTBcIl0sWydfX2ZpbGUnLFwicmVzb3VyY2VzL2pzL2FwcC9wYWdlcy9QdXJjaGFzZXItVmlldy52dWVcIl1dKVxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgX19leHBvcnRzX18uX19obXJJZCA9IFwiMDVmNTI0MTBcIlxuICBjb25zdCBhcGkgPSBfX1ZVRV9ITVJfUlVOVElNRV9fXG4gIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgaWYgKCFhcGkuY3JlYXRlUmVjb3JkKCcwNWY1MjQxMCcsIF9fZXhwb3J0c19fKSkge1xuICAgIGFwaS5yZWxvYWQoJzA1ZjUyNDEwJywgX19leHBvcnRzX18pXG4gIH1cbiAgXG4gIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9QdXJjaGFzZXItVmlldy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDVmNTI0MTAmc2NvcGVkPXRydWVcIiwgKCkgPT4ge1xuICAgIGFwaS5yZXJlbmRlcignMDVmNTI0MTAnLCByZW5kZXIpXG4gIH0pXG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/pages/Purchaser-View.vue\n");

/***/ }),

/***/ "./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js":
/*!************************************************************************************!*\
  !*** ./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_CalendarEventModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_CalendarEventModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./CalendarEventModal.vue?vue&type=script&lang=js */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js\");\n //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2TiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvY29tcG9uZW50cy9DYWxlbmRhckV2ZW50TW9kYWwudnVlPzA4NDQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTUudXNlWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vQ2FsZW5kYXJFdmVudE1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL0NhbGVuZGFyRXZlbnRNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/app/components/CalendarEventModal.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js":
/*!**********************************************************************************!*\
  !*** ./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_FileActionsModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_FileActionsModal_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./FileActionsModal.vue?vue&type=script&lang=js */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js\");\n //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvRmlsZUFjdGlvbnNNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMk4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwL2NvbXBvbmVudHMvRmlsZUFjdGlvbnNNb2RhbC52dWU/MjQzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNS51c2VbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9pbmRleC5qcz8/cnVsZVNldFswXS51c2VbMF0hLi9GaWxlQWN0aW9uc01vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZVswXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzBdLnVzZVswXSEuL0ZpbGVBY3Rpb25zTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app/components/FileActionsModal.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js":
/*!***************************************************************************!*\
  !*** ./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Purchaser-View.vue?vue&type=script&lang=js */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js\");\n //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYXBwL3BhZ2VzL1B1cmNoYXNlci1WaWV3LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5TiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAvcGFnZXMvUHVyY2hhc2VyLVZpZXcudnVlPzM4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTUudXNlWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCI7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTUudXNlWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvaW5kZXguanM/P3J1bGVTZXRbMF0udXNlWzBdIS4vUHVyY2hhc2VyLVZpZXcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app/pages/Purchaser-View.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64":
/*!******************************************************************************************!*\
  !*** ./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64 ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_CalendarEventModal_vue_vue_type_template_id_c0df8c64__WEBPACK_IMPORTED_MODULE_0__.render)
/* harmony export */ });
/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_CalendarEventModal_vue_vue_type_template_id_c0df8c64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./CalendarEventModal.vue?vue&type=template&id=c0df8c64 */ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/CalendarEventModal.vue?vue&type=template&id=c0df8c64");


/***/ }),

/***/ "./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e":
/*!****************************************************************************************!*\
  !*** ./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_FileActionsModal_vue_vue_type_template_id_edfaf26e__WEBPACK_IMPORTED_MODULE_0__.render)
/* harmony export */ });
/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_FileActionsModal_vue_vue_type_template_id_edfaf26e__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./FileActionsModal.vue?vue&type=template&id=edfaf26e */ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/components/FileActionsModal.vue?vue&type=template&id=edfaf26e");


/***/ }),

/***/ "./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true":
/*!*********************************************************************************************!*\
  !*** ./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_template_id_05f52410_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render)
/* harmony export */ });
/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_0_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_template_id_05f52410_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true */ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=template&id=05f52410&scoped=true");


/***/ }),

/***/ "./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css":
/*!***********************************************************************************************************!*\
  !*** ./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_11_use_1_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_11_use_2_node_modules_vue_loader_dist_index_js_ruleSet_0_use_0_Purchaser_View_vue_vue_type_style_index_0_id_05f52410_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css */ "./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./resources/js/app/pages/Purchaser-View.vue?vue&type=style&index=0&id=05f52410&scoped=true&lang=css");


/***/ }),

/***/ "./node_modules/vue3-carousel/dist/carousel.es.js":
/*!********************************************************!*\
  !*** ./node_modules/vue3-carousel/dist/carousel.es.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Carousel\": () => (/* binding */ Carousel),\n/* harmony export */   \"Icon\": () => (/* binding */ Icon),\n/* harmony export */   \"Navigation\": () => (/* binding */ Navigation),\n/* harmony export */   \"Pagination\": () => (/* binding */ Pagination),\n/* harmony export */   \"Slide\": () => (/* binding */ Slide)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\n/**\n * Vue 3 Carousel 0.3.1\n * (c) 2023\n * @license MIT\n */\n\n\nconst defaultConfigs = {\r\n    itemsToShow: 1,\r\n    itemsToScroll: 1,\r\n    modelValue: 0,\r\n    transition: 300,\r\n    autoplay: 0,\r\n    snapAlign: 'center',\r\n    wrapAround: false,\r\n    throttle: 16,\r\n    pauseAutoplayOnHover: false,\r\n    mouseDrag: true,\r\n    touchDrag: true,\r\n    dir: 'ltr',\r\n    breakpoints: undefined,\r\n    i18n: {\r\n        ariaNextSlide: 'Navigate to next slide',\r\n        ariaPreviousSlide: 'Navigate to previous slide',\r\n        ariaNavigateToSlide: 'Navigate to slide {slideNumber}',\r\n        ariaGallery: 'Gallery',\r\n        itemXofY: 'Item {currentSlide} of {slidesCount}',\r\n        iconArrowUp: 'Arrow pointing upwards',\r\n        iconArrowDown: 'Arrow pointing downwards',\r\n        iconArrowRight: 'Arrow pointing to the right',\r\n        iconArrowLeft: 'Arrow pointing to the left',\r\n    },\r\n};\n\nconst carouselProps = {\r\n    // count of items to showed per view\r\n    itemsToShow: {\r\n        default: defaultConfigs.itemsToShow,\r\n        type: Number,\r\n    },\r\n    // count of items to be scrolled\r\n    itemsToScroll: {\r\n        default: defaultConfigs.itemsToScroll,\r\n        type: Number,\r\n    },\r\n    // control infinite scrolling mode\r\n    wrapAround: {\r\n        default: defaultConfigs.wrapAround,\r\n        type: Boolean,\r\n    },\r\n    // control max drag\r\n    throttle: {\r\n        default: defaultConfigs.throttle,\r\n        type: Number,\r\n    },\r\n    // control snap position alignment\r\n    snapAlign: {\r\n        default: defaultConfigs.snapAlign,\r\n        validator(value) {\r\n            // The value must match one of these strings\r\n            return ['start', 'end', 'center', 'center-even', 'center-odd'].includes(value);\r\n        },\r\n    },\r\n    // sliding transition time in ms\r\n    transition: {\r\n        default: defaultConfigs.transition,\r\n        type: Number,\r\n    },\r\n    // an object to store breakpoints\r\n    breakpoints: {\r\n        default: defaultConfigs.breakpoints,\r\n        type: Object,\r\n    },\r\n    // time to auto advance slides in ms\r\n    autoplay: {\r\n        default: defaultConfigs.autoplay,\r\n        type: Number,\r\n    },\r\n    // pause autoplay when mouse hover over the carousel\r\n    pauseAutoplayOnHover: {\r\n        default: defaultConfigs.pauseAutoplayOnHover,\r\n        type: Boolean,\r\n    },\r\n    // slide number number of initial slide\r\n    modelValue: {\r\n        default: undefined,\r\n        type: Number,\r\n    },\r\n    // toggle mouse dragging.\r\n    mouseDrag: {\r\n        default: defaultConfigs.mouseDrag,\r\n        type: Boolean,\r\n    },\r\n    // toggle mouse dragging.\r\n    touchDrag: {\r\n        default: defaultConfigs.touchDrag,\r\n        type: Boolean,\r\n    },\r\n    // control snap position alignment\r\n    dir: {\r\n        default: defaultConfigs.dir,\r\n        validator(value) {\r\n            // The value must match one of these strings\r\n            return ['rtl', 'ltr'].includes(value);\r\n        },\r\n    },\r\n    // aria-labels and additional text labels\r\n    i18n: {\r\n        default: defaultConfigs.i18n,\r\n        type: Object,\r\n    },\r\n    // an object to pass all settings\r\n    settings: {\r\n        default() {\r\n            return {};\r\n        },\r\n        type: Object,\r\n    },\r\n};\n\nfunction getMaxSlideIndex({ config, slidesCount }) {\r\n    const { snapAlign, wrapAround, itemsToShow = 1 } = config;\r\n    if (wrapAround) {\r\n        return Math.max(slidesCount - 1, 0);\r\n    }\r\n    let output;\r\n    switch (snapAlign) {\r\n        case 'start':\r\n            output = slidesCount - itemsToShow;\r\n            break;\r\n        case 'end':\r\n            output = slidesCount - 1;\r\n            break;\r\n        case 'center':\r\n        case 'center-odd':\r\n            output = slidesCount - Math.ceil((itemsToShow - 0.5) / 2);\r\n            break;\r\n        case 'center-even':\r\n            output = slidesCount - Math.ceil(itemsToShow / 2);\r\n            break;\r\n        default:\r\n            output = 0;\r\n            break;\r\n    }\r\n    return Math.max(output, 0);\r\n}\n\nfunction getMinSlideIndex({ config, slidesCount }) {\r\n    const { wrapAround, snapAlign, itemsToShow = 1 } = config;\r\n    let output = 0;\r\n    if (wrapAround || itemsToShow > slidesCount) {\r\n        return output;\r\n    }\r\n    switch (snapAlign) {\r\n        case 'start':\r\n            output = 0;\r\n            break;\r\n        case 'end':\r\n            output = itemsToShow - 1;\r\n            break;\r\n        case 'center':\r\n        case 'center-odd':\r\n            output = Math.floor((itemsToShow - 1) / 2);\r\n            break;\r\n        case 'center-even':\r\n            output = Math.floor((itemsToShow - 2) / 2);\r\n            break;\r\n        default:\r\n            output = 0;\r\n            break;\r\n    }\r\n    return output;\r\n}\n\nfunction getNumberInRange({ val, max, min }) {\r\n    if (max < min) {\r\n        return val;\r\n    }\r\n    return Math.min(Math.max(val, min), max);\r\n}\n\nfunction getSlidesToScroll({ config, currentSlide, slidesCount }) {\r\n    const { snapAlign, wrapAround, itemsToShow = 1 } = config;\r\n    let output = currentSlide;\r\n    switch (snapAlign) {\r\n        case 'center':\r\n        case 'center-odd':\r\n            output -= (itemsToShow - 1) / 2;\r\n            break;\r\n        case 'center-even':\r\n            output -= (itemsToShow - 2) / 2;\r\n            break;\r\n        case 'end':\r\n            output -= itemsToShow - 1;\r\n            break;\r\n    }\r\n    if (wrapAround) {\r\n        return output;\r\n    }\r\n    return getNumberInRange({\r\n        val: output,\r\n        max: slidesCount - itemsToShow,\r\n        min: 0,\r\n    });\r\n}\n\nfunction getSlidesVNodes(vNode) {\r\n    if (!vNode)\r\n        return [];\r\n    return vNode.reduce((acc, node) => {\r\n        var _a;\r\n        if (node.type === vue__WEBPACK_IMPORTED_MODULE_0__.Fragment) {\r\n            return [...acc, ...getSlidesVNodes(node.children)];\r\n        }\r\n        if (((_a = node.type) === null || _a === void 0 ? void 0 : _a.name) === 'CarouselSlide') {\r\n            return [...acc, node];\r\n        }\r\n        return acc;\r\n    }, []);\r\n}\n\nfunction mapNumberToRange({ val, max, min = 0 }) {\r\n    if (val > max) {\r\n        return mapNumberToRange({ val: val - (max + 1), max, min });\r\n    }\r\n    if (val < min) {\r\n        return mapNumberToRange({ val: val + (max + 1), max, min });\r\n    }\r\n    return val;\r\n}\n\n/**\r\n * return a throttle version of the function\r\n * Throttling\r\n *\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction throttle(fn, limit) {\r\n    let inThrottle;\r\n    if (!limit) {\r\n        return fn;\r\n    }\r\n    return function (...args) {\r\n        const self = this;\r\n        if (!inThrottle) {\r\n            fn.apply(self, args);\r\n            inThrottle = true;\r\n            setTimeout(() => (inThrottle = false), limit);\r\n        }\r\n    };\r\n}\n\n/**\r\n * return a debounced version of the function\r\n * @param fn\r\n * @param delay\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction debounce(fn, delay) {\r\n    let timerId;\r\n    return function (...args) {\r\n        if (timerId) {\r\n            clearTimeout(timerId);\r\n        }\r\n        timerId = setTimeout(() => {\r\n            fn(...args);\r\n            timerId = null;\r\n        }, delay);\r\n    };\r\n}\n\nfunction i18nFormatter(string = '', values = {}) {\r\n    return Object.entries(values).reduce((acc, [key, value]) => acc.replace(`{${key}}`, String(value)), string);\r\n}\n\nvar ARIAComponent = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\r\n    name: 'ARIA',\r\n    setup() {\r\n        const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('config', (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs)));\r\n        const currentSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('currentSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0));\r\n        const slidesCount = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('slidesCount', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0));\r\n        return () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {\r\n            class: ['carousel__liveregion', 'carousel__sr-only'],\r\n            'aria-live': 'polite',\r\n            'aria-atomic': 'true',\r\n        }, i18nFormatter(config.i18n['itemXofY'], {\r\n            currentSlide: currentSlide.value + 1,\r\n            slidesCount: slidesCount.value,\r\n        }));\r\n    },\r\n});\n\nvar Carousel = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\r\n    name: 'Carousel',\r\n    props: carouselProps,\r\n    setup(props, { slots, emit, expose }) {\r\n        var _a;\r\n        const root = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);\r\n        const slides = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);\r\n        const slideWidth = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        const slidesCount = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        // current config\r\n        const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs));\r\n        // default carousel configs\r\n        let __defaultConfig = Object.assign({}, defaultConfigs);\r\n        // breakpoints configs\r\n        let breakpoints;\r\n        // slides\r\n        const currentSlideIndex = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)((_a = props.modelValue) !== null && _a !== void 0 ? _a : 0);\r\n        const prevSlideIndex = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        const middleSlideIndex = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        const maxSlideIndex = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        const minSlideIndex = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);\r\n        let autoplayTimer;\r\n        let transitionTimer;\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('config', config);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('slidesCount', slidesCount);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('currentSlide', currentSlideIndex);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('maxSlide', maxSlideIndex);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('minSlide', minSlideIndex);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('slideWidth', slideWidth);\r\n        /**\r\n         * Configs\r\n         */\r\n        function initDefaultConfigs() {\r\n            breakpoints = Object.assign({}, props.breakpoints);\r\n            __defaultConfig = Object.assign(Object.assign(Object.assign({}, __defaultConfig), props), { i18n: Object.assign(Object.assign({}, __defaultConfig.i18n), props.i18n), breakpoints: undefined });\r\n            bindConfigs(__defaultConfig);\r\n        }\r\n        function updateBreakpointsConfigs() {\r\n            if (!breakpoints || !Object.keys(breakpoints).length)\r\n                return;\r\n            const breakpointsArray = Object.keys(breakpoints)\r\n                .map((key) => Number(key))\r\n                .sort((a, b) => +b - +a);\r\n            let newConfig = Object.assign({}, __defaultConfig);\r\n            breakpointsArray.some((breakpoint) => {\r\n                const isMatched = window.matchMedia(`(min-width: ${breakpoint}px)`).matches;\r\n                if (isMatched) {\r\n                    newConfig = Object.assign(Object.assign({}, newConfig), breakpoints[breakpoint]);\r\n                }\r\n                return isMatched;\r\n            });\r\n            bindConfigs(newConfig);\r\n        }\r\n        function bindConfigs(newConfig) {\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            //@ts-ignore\r\n            Object.entries(newConfig).forEach(([key, val]) => (config[key] = val));\r\n        }\r\n        const handleWindowResize = debounce(() => {\r\n            updateBreakpointsConfigs();\r\n            updateSlideWidth();\r\n        }, 16);\r\n        /**\r\n         * Setup functions\r\n         */\r\n        function updateSlideWidth() {\r\n            if (!root.value)\r\n                return;\r\n            const rect = root.value.getBoundingClientRect();\r\n            slideWidth.value = rect.width / config.itemsToShow;\r\n        }\r\n        function updateSlidesData() {\r\n            if (slidesCount.value <= 0)\r\n                return;\r\n            middleSlideIndex.value = Math.ceil((slidesCount.value - 1) / 2);\r\n            maxSlideIndex.value = getMaxSlideIndex({ config, slidesCount: slidesCount.value });\r\n            minSlideIndex.value = getMinSlideIndex({ config, slidesCount: slidesCount.value });\r\n            if (!config.wrapAround) {\r\n                currentSlideIndex.value = getNumberInRange({\r\n                    val: currentSlideIndex.value,\r\n                    max: maxSlideIndex.value,\r\n                    min: minSlideIndex.value,\r\n                });\r\n            }\r\n        }\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => updateSlideWidth());\r\n            // Overcome some edge cases\r\n            setTimeout(() => updateSlideWidth(), 1000);\r\n            updateBreakpointsConfigs();\r\n            initAutoplay();\r\n            window.addEventListener('resize', handleWindowResize, { passive: true });\r\n            emit('init');\r\n        });\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onUnmounted)(() => {\r\n            if (transitionTimer) {\r\n                clearTimeout(transitionTimer);\r\n            }\r\n            if (autoplayTimer) {\r\n                clearInterval(autoplayTimer);\r\n            }\r\n            window.removeEventListener('resize', handleWindowResize, {\r\n                passive: true,\r\n            });\r\n        });\r\n        /**\r\n         * Carousel Event listeners\r\n         */\r\n        let isTouch = false;\r\n        const startPosition = { x: 0, y: 0 };\r\n        const endPosition = { x: 0, y: 0 };\r\n        const dragged = (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)({ x: 0, y: 0 });\r\n        const isHover = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        const isDragging = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        const handleMouseEnter = () => {\r\n            isHover.value = true;\r\n        };\r\n        const handleMouseLeave = () => {\r\n            isHover.value = false;\r\n        };\r\n        function handleDragStart(event) {\r\n            if (['INPUT', 'TEXTAREA', 'SELECT'].includes(event.target.tagName)) {\r\n                return;\r\n            }\r\n            isTouch = event.type === 'touchstart';\r\n            if (!isTouch) {\r\n                event.preventDefault();\r\n            }\r\n            if ((!isTouch && event.button !== 0) || isSliding.value) {\r\n                return;\r\n            }\r\n            startPosition.x = isTouch ? event.touches[0].clientX : event.clientX;\r\n            startPosition.y = isTouch ? event.touches[0].clientY : event.clientY;\r\n            document.addEventListener(isTouch ? 'touchmove' : 'mousemove', handleDragging, true);\r\n            document.addEventListener(isTouch ? 'touchend' : 'mouseup', handleDragEnd, true);\r\n        }\r\n        const handleDragging = throttle((event) => {\r\n            isDragging.value = true;\r\n            endPosition.x = isTouch ? event.touches[0].clientX : event.clientX;\r\n            endPosition.y = isTouch ? event.touches[0].clientY : event.clientY;\r\n            const deltaX = endPosition.x - startPosition.x;\r\n            const deltaY = endPosition.y - startPosition.y;\r\n            dragged.y = deltaY;\r\n            dragged.x = deltaX;\r\n        }, config.throttle);\r\n        function handleDragEnd() {\r\n            const direction = config.dir === 'rtl' ? -1 : 1;\r\n            const tolerance = Math.sign(dragged.x) * 0.4;\r\n            const draggedSlides = Math.round(dragged.x / slideWidth.value + tolerance) * direction;\r\n            // Prevent clicking if there is clicked slides\r\n            if (draggedSlides && !isTouch) {\r\n                const captureClick = (e) => {\r\n                    e.stopPropagation();\r\n                    window.removeEventListener('click', captureClick, true);\r\n                };\r\n                window.addEventListener('click', captureClick, true);\r\n            }\r\n            slideTo(currentSlideIndex.value - draggedSlides);\r\n            dragged.x = 0;\r\n            dragged.y = 0;\r\n            isDragging.value = false;\r\n            document.removeEventListener(isTouch ? 'touchmove' : 'mousemove', handleDragging, true);\r\n            document.removeEventListener(isTouch ? 'touchend' : 'mouseup', handleDragEnd, true);\r\n        }\r\n        /**\r\n         * Autoplay\r\n         */\r\n        function initAutoplay() {\r\n            if (!config.autoplay || config.autoplay <= 0) {\r\n                return;\r\n            }\r\n            autoplayTimer = setInterval(() => {\r\n                if (config.pauseAutoplayOnHover && isHover.value) {\r\n                    return;\r\n                }\r\n                next();\r\n            }, config.autoplay);\r\n        }\r\n        function resetAutoplay() {\r\n            if (autoplayTimer) {\r\n                clearInterval(autoplayTimer);\r\n                autoplayTimer = null;\r\n            }\r\n            initAutoplay();\r\n        }\r\n        /**\r\n         * Navigation function\r\n         */\r\n        const isSliding = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        function slideTo(slideIndex) {\r\n            const currentVal = config.wrapAround\r\n                ? slideIndex\r\n                : getNumberInRange({\r\n                    val: slideIndex,\r\n                    max: maxSlideIndex.value,\r\n                    min: minSlideIndex.value,\r\n                });\r\n            if (currentSlideIndex.value === currentVal || isSliding.value) {\r\n                return;\r\n            }\r\n            emit('slide-start', {\r\n                slidingToIndex: slideIndex,\r\n                currentSlideIndex: currentSlideIndex.value,\r\n                prevSlideIndex: prevSlideIndex.value,\r\n                slidesCount: slidesCount.value,\r\n            });\r\n            isSliding.value = true;\r\n            prevSlideIndex.value = currentSlideIndex.value;\r\n            currentSlideIndex.value = currentVal;\r\n            transitionTimer = setTimeout(() => {\r\n                if (config.wrapAround) {\r\n                    const mappedNumber = mapNumberToRange({\r\n                        val: currentVal,\r\n                        max: maxSlideIndex.value,\r\n                        min: 0,\r\n                    });\r\n                    if (mappedNumber !== currentSlideIndex.value) {\r\n                        currentSlideIndex.value = mappedNumber;\r\n                        emit('loop', {\r\n                            currentSlideIndex: currentSlideIndex.value,\r\n                            slidingToIndex: slideIndex,\r\n                        });\r\n                    }\r\n                }\r\n                emit('update:modelValue', currentSlideIndex.value);\r\n                emit('slide-end', {\r\n                    currentSlideIndex: currentSlideIndex.value,\r\n                    prevSlideIndex: prevSlideIndex.value,\r\n                    slidesCount: slidesCount.value,\r\n                });\r\n                isSliding.value = false;\r\n                resetAutoplay();\r\n            }, config.transition);\r\n        }\r\n        function next() {\r\n            slideTo(currentSlideIndex.value + config.itemsToScroll);\r\n        }\r\n        function prev() {\r\n            slideTo(currentSlideIndex.value - config.itemsToScroll);\r\n        }\r\n        const nav = { slideTo, next, prev };\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('nav', nav);\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('isSliding', isSliding);\r\n        /**\r\n         * Track style\r\n         */\r\n        const slidesToScroll = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => getSlidesToScroll({\r\n            config,\r\n            currentSlide: currentSlideIndex.value,\r\n            slidesCount: slidesCount.value,\r\n        }));\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('slidesToScroll', slidesToScroll);\r\n        const trackStyle = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {\r\n            const direction = config.dir === 'rtl' ? -1 : 1;\r\n            const xScroll = slidesToScroll.value * slideWidth.value * direction;\r\n            return {\r\n                transform: `translateX(${dragged.x - xScroll}px)`,\r\n                transition: `${isSliding.value ? config.transition : 0}ms`,\r\n                margin: config.wrapAround ? `0 -${slidesCount.value * slideWidth.value}px` : '',\r\n                width: `100%`,\r\n            };\r\n        });\r\n        function restartCarousel() {\r\n            initDefaultConfigs();\r\n            updateBreakpointsConfigs();\r\n            updateSlidesData();\r\n            updateSlideWidth();\r\n            resetAutoplay();\r\n        }\r\n        // Update the carousel on props change\r\n        Object.keys(carouselProps).forEach((prop) => {\r\n            if (['modelValue'].includes(prop))\r\n                return;\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(() => props[prop], restartCarousel);\r\n        });\r\n        // Handle changing v-model value\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(() => props['modelValue'], (val) => {\r\n            if (val === currentSlideIndex.value) {\r\n                return;\r\n            }\r\n            slideTo(Number(val));\r\n        });\r\n        // Handel when slides added/removed\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(slidesCount, updateSlidesData);\r\n        // Init carousel\r\n        emit('before-init');\r\n        initDefaultConfigs();\r\n        const data = {\r\n            config,\r\n            slidesCount,\r\n            slideWidth,\r\n            next,\r\n            prev,\r\n            slideTo,\r\n            currentSlide: currentSlideIndex,\r\n            maxSlide: maxSlideIndex,\r\n            minSlide: minSlideIndex,\r\n            middleSlide: middleSlideIndex,\r\n        };\r\n        expose({\r\n            updateBreakpointsConfigs,\r\n            updateSlidesData,\r\n            updateSlideWidth,\r\n            initDefaultConfigs,\r\n            restartCarousel,\r\n            slideTo,\r\n            next,\r\n            prev,\r\n            nav,\r\n            data,\r\n        });\r\n        const slotSlides = slots.default || slots.slides;\r\n        const slotAddons = slots.addons;\r\n        const slotsProps = (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(data);\r\n        return () => {\r\n            const slidesElements = getSlidesVNodes(slotSlides === null || slotSlides === void 0 ? void 0 : slotSlides(slotsProps));\r\n            const addonsElements = (slotAddons === null || slotAddons === void 0 ? void 0 : slotAddons(slotsProps)) || [];\r\n            slidesElements.forEach((el, index) => (el.props.index = index));\r\n            let output = slidesElements;\r\n            if (config.wrapAround) {\r\n                const slidesBefore = slidesElements.map((el, index) => (0,vue__WEBPACK_IMPORTED_MODULE_0__.cloneVNode)(el, {\r\n                    index: -slidesElements.length + index,\r\n                    isClone: true,\r\n                    key: `clone-before-${index}`,\r\n                }));\r\n                const slidesAfter = slidesElements.map((el, index) => (0,vue__WEBPACK_IMPORTED_MODULE_0__.cloneVNode)(el, {\r\n                    index: slidesElements.length + index,\r\n                    isClone: true,\r\n                    key: `clone-after-${index}`,\r\n                }));\r\n                output = [...slidesBefore, ...slidesElements, ...slidesAfter];\r\n            }\r\n            slides.value = slidesElements;\r\n            slidesCount.value = Math.max(slidesElements.length, 1);\r\n            const trackEl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('ol', {\r\n                class: 'carousel__track',\r\n                style: trackStyle.value,\r\n                onMousedownCapture: config.mouseDrag ? handleDragStart : null,\r\n                onTouchstartPassiveCapture: config.touchDrag ? handleDragStart : null,\r\n            }, output);\r\n            const viewPortEl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', { class: 'carousel__viewport' }, trackEl);\r\n            return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('section', {\r\n                ref: root,\r\n                class: {\r\n                    carousel: true,\r\n                    'is-sliding': isSliding.value,\r\n                    'is-dragging': isDragging.value,\r\n                    'is-hover': isHover.value,\r\n                    'carousel--rtl': config.dir === 'rtl',\r\n                },\r\n                dir: config.dir,\r\n                'aria-label': config.i18n['ariaGallery'],\r\n                tabindex: '0',\r\n                onMouseenter: handleMouseEnter,\r\n                onMouseleave: handleMouseLeave,\r\n            }, [viewPortEl, addonsElements, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(ARIAComponent)]);\r\n        };\r\n    },\r\n});\n\nvar IconName;\r\n(function (IconName) {\r\n    IconName[\"arrowUp\"] = \"arrowUp\";\r\n    IconName[\"arrowDown\"] = \"arrowDown\";\r\n    IconName[\"arrowRight\"] = \"arrowRight\";\r\n    IconName[\"arrowLeft\"] = \"arrowLeft\";\r\n})(IconName || (IconName = {}));\r\nconst icons = {\r\n    arrowUp: 'M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z',\r\n    arrowDown: 'M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z',\r\n    arrowRight: 'M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z',\r\n    arrowLeft: 'M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z',\r\n};\n\nfunction isIconName(candidate) {\r\n    return candidate in IconName;\r\n}\r\nconst Icon = (props) => {\r\n    const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('config', (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs)));\r\n    const iconName = String(props.name);\r\n    const iconI18n = `icon${iconName.charAt(0).toUpperCase() + iconName.slice(1)}`;\r\n    if (!iconName || typeof iconName !== 'string' || !isIconName(iconName)) {\r\n        return;\r\n    }\r\n    const path = icons[iconName];\r\n    const pathEl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('path', { d: path });\r\n    const iconTitle = config.i18n[iconI18n] || props.title || iconName;\r\n    const titleEl = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('title', iconTitle);\r\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('svg', {\r\n        class: 'carousel__icon',\r\n        viewBox: '0 0 24 24',\r\n        role: 'img',\r\n        'aria-label': iconTitle,\r\n    }, [titleEl, pathEl]);\r\n};\r\nIcon.props = { name: String, title: String };\n\nconst Navigation = (props, { slots, attrs }) => {\r\n    const { next: slotNext, prev: slotPrev } = slots || {};\r\n    const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('config', (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs)));\r\n    const maxSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('maxSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const minSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('minSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const currentSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('currentSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const nav = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('nav', {});\r\n    const { dir, wrapAround, i18n } = config;\r\n    const isRTL = dir === 'rtl';\r\n    const prevButton = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('button', {\r\n        type: 'button',\r\n        class: [\r\n            'carousel__prev',\r\n            !wrapAround && currentSlide.value <= minSlide.value && 'carousel__prev--disabled',\r\n            attrs === null || attrs === void 0 ? void 0 : attrs.class,\r\n        ],\r\n        'aria-label': i18n['ariaPreviousSlide'],\r\n        onClick: nav.prev,\r\n    }, (slotPrev === null || slotPrev === void 0 ? void 0 : slotPrev()) || (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(Icon, { name: isRTL ? 'arrowRight' : 'arrowLeft' }));\r\n    const nextButton = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('button', {\r\n        type: 'button',\r\n        class: [\r\n            'carousel__next',\r\n            !wrapAround && currentSlide.value >= maxSlide.value && 'carousel__next--disabled',\r\n            attrs === null || attrs === void 0 ? void 0 : attrs.class,\r\n        ],\r\n        'aria-label': i18n['ariaNextSlide'],\r\n        onClick: nav.next,\r\n    }, (slotNext === null || slotNext === void 0 ? void 0 : slotNext()) || (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(Icon, { name: isRTL ? 'arrowLeft' : 'arrowRight' }));\r\n    return [prevButton, nextButton];\r\n};\n\nconst Pagination = () => {\r\n    const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('config', (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs)));\r\n    const maxSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('maxSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const minSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('minSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const currentSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('currentSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1));\r\n    const nav = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('nav', {});\r\n    const isActive = (slide) => mapNumberToRange({\r\n        val: currentSlide.value,\r\n        max: maxSlide.value,\r\n        min: 0,\r\n    }) === slide;\r\n    const children = [];\r\n    for (let slide = minSlide.value; slide < maxSlide.value + 1; slide++) {\r\n        const button = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('button', {\r\n            type: 'button',\r\n            class: {\r\n                'carousel__pagination-button': true,\r\n                'carousel__pagination-button--active': isActive(slide),\r\n            },\r\n            'aria-label': i18nFormatter(config.i18n['ariaNavigateToSlide'], {\r\n                slideNumber: slide + 1,\r\n            }),\r\n            onClick: () => nav.slideTo(slide),\r\n        });\r\n        const item = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('li', { class: 'carousel__pagination-item', key: slide }, button);\r\n        children.push(item);\r\n    }\r\n    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('ol', { class: 'carousel__pagination' }, children);\r\n};\n\nvar Slide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\r\n    name: 'CarouselSlide',\r\n    props: {\r\n        index: {\r\n            type: Number,\r\n            default: 1,\r\n        },\r\n        isClone: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n    },\r\n    setup(props, { slots }) {\r\n        const config = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('config', (0,vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(Object.assign({}, defaultConfigs)));\r\n        const currentSlide = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('currentSlide', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0));\r\n        const slidesToScroll = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('slidesToScroll', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0));\r\n        const isSliding = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('isSliding', (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false));\r\n        const isActive = () => props.index === currentSlide.value;\r\n        const isPrev = () => props.index === currentSlide.value - 1;\r\n        const isNext = () => props.index === currentSlide.value + 1;\r\n        const isVisible = () => {\r\n            const min = Math.floor(slidesToScroll.value);\r\n            const max = Math.ceil(slidesToScroll.value + config.itemsToShow - 1);\r\n            return props.index >= min && props.index <= max;\r\n        };\r\n        return () => {\r\n            var _a;\r\n            return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('li', {\r\n                style: { width: `${100 / config.itemsToShow}%` },\r\n                class: {\r\n                    carousel__slide: true,\r\n                    'carousel__slide--clone': props.isClone,\r\n                    'carousel__slide--visible': isVisible(),\r\n                    'carousel__slide--active': isActive(),\r\n                    'carousel__slide--prev': isPrev(),\r\n                    'carousel__slide--next': isNext(),\r\n                    'carousel__slide--sliding': isSliding.value,\r\n                },\r\n                'aria-hidden': !isVisible(),\r\n            }, (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\r\n        };\r\n    },\r\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlMy1jYXJvdXNlbC9kaXN0L2Nhcm91c2VsLmVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0o7O0FBRWxKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsWUFBWTtBQUM3RDtBQUNBLHlCQUF5QixjQUFjLElBQUksWUFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQSw0QkFBNEIscUJBQXFCO0FBQ2pELFlBQVkseUNBQXlDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QiwyQ0FBTSxXQUFXLDZDQUFRLGlCQUFpQjtBQUM3RCxxQkFBcUIsMkNBQU0sYUFBYSx3Q0FBRztBQUMzQyxxQkFBcUIsMkNBQU0sYUFBYSx3Q0FBRztBQUMzQyx5QkFBeUIsMkNBQU0saUJBQWlCLHdDQUFHO0FBQ25ELGdCQUFnQiwyQ0FBTSxVQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUNBQXFDLDRCQUE0QjtBQUNqRSx1QkFBdUIsc0NBQUM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsc0NBQUMsU0FBUyxnREFBZ0Q7QUFDL0U7QUFDQTtBQUNBLFdBQVcsc0NBQUMsU0FBUywrQkFBK0I7QUFDcEQ7O0FBRUEsWUFBWSxvREFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsbUJBQW1CLE9BQU87QUFDMUIsdUJBQXVCLDJDQUFNLFdBQVcsNkNBQVEsaUJBQWlCO0FBQ2pFLDZCQUE2QiwyQ0FBTSxpQkFBaUIsd0NBQUc7QUFDdkQsK0JBQStCLDJDQUFNLG1CQUFtQix3Q0FBRztBQUMzRCwwQkFBMEIsMkNBQU0sY0FBYyx3Q0FBRztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQ0FBQztBQUNwQix5QkFBeUIsVUFBVSx5QkFBeUIsSUFBSTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLENBQUM7O0FBRXdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZTMtY2Fyb3VzZWwvZGlzdC9jYXJvdXNlbC5lcy5qcz84NDg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVnVlIDMgQ2Fyb3VzZWwgMC4zLjFcbiAqIChjKSAyMDIzXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgRnJhZ21lbnQsIGRlZmluZUNvbXBvbmVudCwgaW5qZWN0LCByZWFjdGl2ZSwgcmVmLCBoLCBwcm92aWRlLCBvbk1vdW50ZWQsIG5leHRUaWNrLCBvblVubW91bnRlZCwgY29tcHV0ZWQsIHdhdGNoLCBjbG9uZVZOb2RlIH0gZnJvbSAndnVlJztcblxuY29uc3QgZGVmYXVsdENvbmZpZ3MgPSB7XHJcbiAgICBpdGVtc1RvU2hvdzogMSxcclxuICAgIGl0ZW1zVG9TY3JvbGw6IDEsXHJcbiAgICBtb2RlbFZhbHVlOiAwLFxyXG4gICAgdHJhbnNpdGlvbjogMzAwLFxyXG4gICAgYXV0b3BsYXk6IDAsXHJcbiAgICBzbmFwQWxpZ246ICdjZW50ZXInLFxyXG4gICAgd3JhcEFyb3VuZDogZmFsc2UsXHJcbiAgICB0aHJvdHRsZTogMTYsXHJcbiAgICBwYXVzZUF1dG9wbGF5T25Ib3ZlcjogZmFsc2UsXHJcbiAgICBtb3VzZURyYWc6IHRydWUsXHJcbiAgICB0b3VjaERyYWc6IHRydWUsXHJcbiAgICBkaXI6ICdsdHInLFxyXG4gICAgYnJlYWtwb2ludHM6IHVuZGVmaW5lZCxcclxuICAgIGkxOG46IHtcclxuICAgICAgICBhcmlhTmV4dFNsaWRlOiAnTmF2aWdhdGUgdG8gbmV4dCBzbGlkZScsXHJcbiAgICAgICAgYXJpYVByZXZpb3VzU2xpZGU6ICdOYXZpZ2F0ZSB0byBwcmV2aW91cyBzbGlkZScsXHJcbiAgICAgICAgYXJpYU5hdmlnYXRlVG9TbGlkZTogJ05hdmlnYXRlIHRvIHNsaWRlIHtzbGlkZU51bWJlcn0nLFxyXG4gICAgICAgIGFyaWFHYWxsZXJ5OiAnR2FsbGVyeScsXHJcbiAgICAgICAgaXRlbVhvZlk6ICdJdGVtIHtjdXJyZW50U2xpZGV9IG9mIHtzbGlkZXNDb3VudH0nLFxyXG4gICAgICAgIGljb25BcnJvd1VwOiAnQXJyb3cgcG9pbnRpbmcgdXB3YXJkcycsXHJcbiAgICAgICAgaWNvbkFycm93RG93bjogJ0Fycm93IHBvaW50aW5nIGRvd253YXJkcycsXHJcbiAgICAgICAgaWNvbkFycm93UmlnaHQ6ICdBcnJvdyBwb2ludGluZyB0byB0aGUgcmlnaHQnLFxyXG4gICAgICAgIGljb25BcnJvd0xlZnQ6ICdBcnJvdyBwb2ludGluZyB0byB0aGUgbGVmdCcsXHJcbiAgICB9LFxyXG59O1xuXG5jb25zdCBjYXJvdXNlbFByb3BzID0ge1xyXG4gICAgLy8gY291bnQgb2YgaXRlbXMgdG8gc2hvd2VkIHBlciB2aWV3XHJcbiAgICBpdGVtc1RvU2hvdzoge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLml0ZW1zVG9TaG93LFxyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgIH0sXHJcbiAgICAvLyBjb3VudCBvZiBpdGVtcyB0byBiZSBzY3JvbGxlZFxyXG4gICAgaXRlbXNUb1Njcm9sbDoge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLml0ZW1zVG9TY3JvbGwsXHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgfSxcclxuICAgIC8vIGNvbnRyb2wgaW5maW5pdGUgc2Nyb2xsaW5nIG1vZGVcclxuICAgIHdyYXBBcm91bmQ6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy53cmFwQXJvdW5kLFxyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICB9LFxyXG4gICAgLy8gY29udHJvbCBtYXggZHJhZ1xyXG4gICAgdGhyb3R0bGU6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy50aHJvdHRsZSxcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICB9LFxyXG4gICAgLy8gY29udHJvbCBzbmFwIHBvc2l0aW9uIGFsaWdubWVudFxyXG4gICAgc25hcEFsaWduOiB7XHJcbiAgICAgICAgZGVmYXVsdDogZGVmYXVsdENvbmZpZ3Muc25hcEFsaWduLFxyXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBUaGUgdmFsdWUgbXVzdCBtYXRjaCBvbmUgb2YgdGhlc2Ugc3RyaW5nc1xyXG4gICAgICAgICAgICByZXR1cm4gWydzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2NlbnRlci1ldmVuJywgJ2NlbnRlci1vZGQnXS5pbmNsdWRlcyh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICAvLyBzbGlkaW5nIHRyYW5zaXRpb24gdGltZSBpbiBtc1xyXG4gICAgdHJhbnNpdGlvbjoge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLnRyYW5zaXRpb24sXHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgfSxcclxuICAgIC8vIGFuIG9iamVjdCB0byBzdG9yZSBicmVha3BvaW50c1xyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy5icmVha3BvaW50cyxcclxuICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICB9LFxyXG4gICAgLy8gdGltZSB0byBhdXRvIGFkdmFuY2Ugc2xpZGVzIGluIG1zXHJcbiAgICBhdXRvcGxheToge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLmF1dG9wbGF5LFxyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgIH0sXHJcbiAgICAvLyBwYXVzZSBhdXRvcGxheSB3aGVuIG1vdXNlIGhvdmVyIG92ZXIgdGhlIGNhcm91c2VsXHJcbiAgICBwYXVzZUF1dG9wbGF5T25Ib3Zlcjoge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLnBhdXNlQXV0b3BsYXlPbkhvdmVyLFxyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICB9LFxyXG4gICAgLy8gc2xpZGUgbnVtYmVyIG51bWJlciBvZiBpbml0aWFsIHNsaWRlXHJcbiAgICBtb2RlbFZhbHVlOiB7XHJcbiAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgIH0sXHJcbiAgICAvLyB0b2dnbGUgbW91c2UgZHJhZ2dpbmcuXHJcbiAgICBtb3VzZURyYWc6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy5tb3VzZURyYWcsXHJcbiAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgIH0sXHJcbiAgICAvLyB0b2dnbGUgbW91c2UgZHJhZ2dpbmcuXHJcbiAgICB0b3VjaERyYWc6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy50b3VjaERyYWcsXHJcbiAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgIH0sXHJcbiAgICAvLyBjb250cm9sIHNuYXAgcG9zaXRpb24gYWxpZ25tZW50XHJcbiAgICBkaXI6IHtcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0Q29uZmlncy5kaXIsXHJcbiAgICAgICAgdmFsaWRhdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSB2YWx1ZSBtdXN0IG1hdGNoIG9uZSBvZiB0aGVzZSBzdHJpbmdzXHJcbiAgICAgICAgICAgIHJldHVybiBbJ3J0bCcsICdsdHInXS5pbmNsdWRlcyh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICAvLyBhcmlhLWxhYmVscyBhbmQgYWRkaXRpb25hbCB0ZXh0IGxhYmVsc1xyXG4gICAgaTE4bjoge1xyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRDb25maWdzLmkxOG4sXHJcbiAgICAgICAgdHlwZTogT2JqZWN0LFxyXG4gICAgfSxcclxuICAgIC8vIGFuIG9iamVjdCB0byBwYXNzIGFsbCBzZXR0aW5nc1xyXG4gICAgc2V0dGluZ3M6IHtcclxuICAgICAgICBkZWZhdWx0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICB9LFxyXG59O1xuXG5mdW5jdGlvbiBnZXRNYXhTbGlkZUluZGV4KHsgY29uZmlnLCBzbGlkZXNDb3VudCB9KSB7XHJcbiAgICBjb25zdCB7IHNuYXBBbGlnbiwgd3JhcEFyb3VuZCwgaXRlbXNUb1Nob3cgPSAxIH0gPSBjb25maWc7XHJcbiAgICBpZiAod3JhcEFyb3VuZCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChzbGlkZXNDb3VudCAtIDEsIDApO1xyXG4gICAgfVxyXG4gICAgbGV0IG91dHB1dDtcclxuICAgIHN3aXRjaCAoc25hcEFsaWduKSB7XHJcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxyXG4gICAgICAgICAgICBvdXRwdXQgPSBzbGlkZXNDb3VudCAtIGl0ZW1zVG9TaG93O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdlbmQnOlxyXG4gICAgICAgICAgICBvdXRwdXQgPSBzbGlkZXNDb3VudCAtIDE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgY2FzZSAnY2VudGVyLW9kZCc6XHJcbiAgICAgICAgICAgIG91dHB1dCA9IHNsaWRlc0NvdW50IC0gTWF0aC5jZWlsKChpdGVtc1RvU2hvdyAtIDAuNSkgLyAyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnY2VudGVyLWV2ZW4nOlxyXG4gICAgICAgICAgICBvdXRwdXQgPSBzbGlkZXNDb3VudCAtIE1hdGguY2VpbChpdGVtc1RvU2hvdyAvIDIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBvdXRwdXQgPSAwO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLm1heChvdXRwdXQsIDApO1xyXG59XG5cbmZ1bmN0aW9uIGdldE1pblNsaWRlSW5kZXgoeyBjb25maWcsIHNsaWRlc0NvdW50IH0pIHtcclxuICAgIGNvbnN0IHsgd3JhcEFyb3VuZCwgc25hcEFsaWduLCBpdGVtc1RvU2hvdyA9IDEgfSA9IGNvbmZpZztcclxuICAgIGxldCBvdXRwdXQgPSAwO1xyXG4gICAgaWYgKHdyYXBBcm91bmQgfHwgaXRlbXNUb1Nob3cgPiBzbGlkZXNDb3VudCkge1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNuYXBBbGlnbikge1xyXG4gICAgICAgIGNhc2UgJ3N0YXJ0JzpcclxuICAgICAgICAgICAgb3V0cHV0ID0gMDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZW5kJzpcclxuICAgICAgICAgICAgb3V0cHV0ID0gaXRlbXNUb1Nob3cgLSAxO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgIGNhc2UgJ2NlbnRlci1vZGQnOlxyXG4gICAgICAgICAgICBvdXRwdXQgPSBNYXRoLmZsb29yKChpdGVtc1RvU2hvdyAtIDEpIC8gMik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NlbnRlci1ldmVuJzpcclxuICAgICAgICAgICAgb3V0cHV0ID0gTWF0aC5mbG9vcigoaXRlbXNUb1Nob3cgLSAyKSAvIDIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBvdXRwdXQgPSAwO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cblxuZnVuY3Rpb24gZ2V0TnVtYmVySW5SYW5nZSh7IHZhbCwgbWF4LCBtaW4gfSkge1xyXG4gICAgaWYgKG1heCA8IG1pbikge1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xyXG59XG5cbmZ1bmN0aW9uIGdldFNsaWRlc1RvU2Nyb2xsKHsgY29uZmlnLCBjdXJyZW50U2xpZGUsIHNsaWRlc0NvdW50IH0pIHtcclxuICAgIGNvbnN0IHsgc25hcEFsaWduLCB3cmFwQXJvdW5kLCBpdGVtc1RvU2hvdyA9IDEgfSA9IGNvbmZpZztcclxuICAgIGxldCBvdXRwdXQgPSBjdXJyZW50U2xpZGU7XHJcbiAgICBzd2l0Y2ggKHNuYXBBbGlnbikge1xyXG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgY2FzZSAnY2VudGVyLW9kZCc6XHJcbiAgICAgICAgICAgIG91dHB1dCAtPSAoaXRlbXNUb1Nob3cgLSAxKSAvIDI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2NlbnRlci1ldmVuJzpcclxuICAgICAgICAgICAgb3V0cHV0IC09IChpdGVtc1RvU2hvdyAtIDIpIC8gMjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZW5kJzpcclxuICAgICAgICAgICAgb3V0cHV0IC09IGl0ZW1zVG9TaG93IC0gMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpZiAod3JhcEFyb3VuZCkge1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ2V0TnVtYmVySW5SYW5nZSh7XHJcbiAgICAgICAgdmFsOiBvdXRwdXQsXHJcbiAgICAgICAgbWF4OiBzbGlkZXNDb3VudCAtIGl0ZW1zVG9TaG93LFxyXG4gICAgICAgIG1pbjogMCxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGdldFNsaWRlc1ZOb2Rlcyh2Tm9kZSkge1xyXG4gICAgaWYgKCF2Tm9kZSlcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICByZXR1cm4gdk5vZGUucmVkdWNlKChhY2MsIG5vZGUpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIC4uLmdldFNsaWRlc1ZOb2Rlcyhub2RlLmNoaWxkcmVuKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoKF9hID0gbm9kZS50eXBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSkgPT09ICdDYXJvdXNlbFNsaWRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgbm9kZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCBbXSk7XHJcbn1cblxuZnVuY3Rpb24gbWFwTnVtYmVyVG9SYW5nZSh7IHZhbCwgbWF4LCBtaW4gPSAwIH0pIHtcclxuICAgIGlmICh2YWwgPiBtYXgpIHtcclxuICAgICAgICByZXR1cm4gbWFwTnVtYmVyVG9SYW5nZSh7IHZhbDogdmFsIC0gKG1heCArIDEpLCBtYXgsIG1pbiB9KTtcclxuICAgIH1cclxuICAgIGlmICh2YWwgPCBtaW4pIHtcclxuICAgICAgICByZXR1cm4gbWFwTnVtYmVyVG9SYW5nZSh7IHZhbDogdmFsICsgKG1heCArIDEpLCBtYXgsIG1pbiB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cblxuLyoqXHJcbiAqIHJldHVybiBhIHRocm90dGxlIHZlcnNpb24gb2YgdGhlIGZ1bmN0aW9uXHJcbiAqIFRocm90dGxpbmdcclxuICpcclxuICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgbGltaXQpIHtcclxuICAgIGxldCBpblRocm90dGxlO1xyXG4gICAgaWYgKCFsaW1pdCkge1xyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmICghaW5UaHJvdHRsZSkge1xyXG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICAgICAgaW5UaHJvdHRsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKGluVGhyb3R0bGUgPSBmYWxzZSksIGxpbWl0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiByZXR1cm4gYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiB0aGUgZnVuY3Rpb25cclxuICogQHBhcmFtIGZuXHJcbiAqIEBwYXJhbSBkZWxheVxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCBkZWxheSkge1xyXG4gICAgbGV0IHRpbWVySWQ7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAodGltZXJJZCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZm4oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIHRpbWVySWQgPSBudWxsO1xyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gaTE4bkZvcm1hdHRlcihzdHJpbmcgPSAnJywgdmFsdWVzID0ge30pIHtcclxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZXMpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IGFjYy5yZXBsYWNlKGB7JHtrZXl9fWAsIFN0cmluZyh2YWx1ZSkpLCBzdHJpbmcpO1xyXG59XG5cbnZhciBBUklBQ29tcG9uZW50ID0gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgIG5hbWU6ICdBUklBJyxcclxuICAgIHNldHVwKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGluamVjdCgnY29uZmlnJywgcmVhY3RpdmUoT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZ3MpKSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gaW5qZWN0KCdjdXJyZW50U2xpZGUnLCByZWYoMCkpO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlc0NvdW50ID0gaW5qZWN0KCdzbGlkZXNDb3VudCcsIHJlZigwKSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IGgoJ2RpdicsIHtcclxuICAgICAgICAgICAgY2xhc3M6IFsnY2Fyb3VzZWxfX2xpdmVyZWdpb24nLCAnY2Fyb3VzZWxfX3NyLW9ubHknXSxcclxuICAgICAgICAgICAgJ2FyaWEtbGl2ZSc6ICdwb2xpdGUnLFxyXG4gICAgICAgICAgICAnYXJpYS1hdG9taWMnOiAndHJ1ZScsXHJcbiAgICAgICAgfSwgaTE4bkZvcm1hdHRlcihjb25maWcuaTE4blsnaXRlbVhvZlknXSwge1xyXG4gICAgICAgICAgICBjdXJyZW50U2xpZGU6IGN1cnJlbnRTbGlkZS52YWx1ZSArIDEsXHJcbiAgICAgICAgICAgIHNsaWRlc0NvdW50OiBzbGlkZXNDb3VudC52YWx1ZSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9LFxyXG59KTtcblxudmFyIENhcm91c2VsID0gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgIG5hbWU6ICdDYXJvdXNlbCcsXHJcbiAgICBwcm9wczogY2Fyb3VzZWxQcm9wcyxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzLCBlbWl0LCBleHBvc2UgfSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCByb290ID0gcmVmKG51bGwpO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlcyA9IHJlZihbXSk7XHJcbiAgICAgICAgY29uc3Qgc2xpZGVXaWR0aCA9IHJlZigwKTtcclxuICAgICAgICBjb25zdCBzbGlkZXNDb3VudCA9IHJlZigwKTtcclxuICAgICAgICAvLyBjdXJyZW50IGNvbmZpZ1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHJlYWN0aXZlKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWdzKSk7XHJcbiAgICAgICAgLy8gZGVmYXVsdCBjYXJvdXNlbCBjb25maWdzXHJcbiAgICAgICAgbGV0IF9fZGVmYXVsdENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWdzKTtcclxuICAgICAgICAvLyBicmVha3BvaW50cyBjb25maWdzXHJcbiAgICAgICAgbGV0IGJyZWFrcG9pbnRzO1xyXG4gICAgICAgIC8vIHNsaWRlc1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZUluZGV4ID0gcmVmKChfYSA9IHByb3BzLm1vZGVsVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApO1xyXG4gICAgICAgIGNvbnN0IHByZXZTbGlkZUluZGV4ID0gcmVmKDApO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZVNsaWRlSW5kZXggPSByZWYoMCk7XHJcbiAgICAgICAgY29uc3QgbWF4U2xpZGVJbmRleCA9IHJlZigwKTtcclxuICAgICAgICBjb25zdCBtaW5TbGlkZUluZGV4ID0gcmVmKDApO1xyXG4gICAgICAgIGxldCBhdXRvcGxheVRpbWVyO1xyXG4gICAgICAgIGxldCB0cmFuc2l0aW9uVGltZXI7XHJcbiAgICAgICAgcHJvdmlkZSgnY29uZmlnJywgY29uZmlnKTtcclxuICAgICAgICBwcm92aWRlKCdzbGlkZXNDb3VudCcsIHNsaWRlc0NvdW50KTtcclxuICAgICAgICBwcm92aWRlKCdjdXJyZW50U2xpZGUnLCBjdXJyZW50U2xpZGVJbmRleCk7XHJcbiAgICAgICAgcHJvdmlkZSgnbWF4U2xpZGUnLCBtYXhTbGlkZUluZGV4KTtcclxuICAgICAgICBwcm92aWRlKCdtaW5TbGlkZScsIG1pblNsaWRlSW5kZXgpO1xyXG4gICAgICAgIHByb3ZpZGUoJ3NsaWRlV2lkdGgnLCBzbGlkZVdpZHRoKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb25maWdzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdERlZmF1bHRDb25maWdzKCkge1xyXG4gICAgICAgICAgICBicmVha3BvaW50cyA9IE9iamVjdC5hc3NpZ24oe30sIHByb3BzLmJyZWFrcG9pbnRzKTtcclxuICAgICAgICAgICAgX19kZWZhdWx0Q29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIF9fZGVmYXVsdENvbmZpZyksIHByb3BzKSwgeyBpMThuOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIF9fZGVmYXVsdENvbmZpZy5pMThuKSwgcHJvcHMuaTE4biksIGJyZWFrcG9pbnRzOiB1bmRlZmluZWQgfSk7XHJcbiAgICAgICAgICAgIGJpbmRDb25maWdzKF9fZGVmYXVsdENvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJyZWFrcG9pbnRzQ29uZmlncygpIHtcclxuICAgICAgICAgICAgaWYgKCFicmVha3BvaW50cyB8fCAhT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgYnJlYWtwb2ludHNBcnJheSA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiBOdW1iZXIoa2V5KSlcclxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiArYiAtICthKTtcclxuICAgICAgICAgICAgbGV0IG5ld0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIF9fZGVmYXVsdENvbmZpZyk7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnRzQXJyYXkuc29tZSgoYnJlYWtwb2ludCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNNYXRjaGVkID0gd2luZG93Lm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7YnJlYWtwb2ludH1weClgKS5tYXRjaGVzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbmV3Q29uZmlnKSwgYnJlYWtwb2ludHNbYnJlYWtwb2ludF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTWF0Y2hlZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJpbmRDb25maWdzKG5ld0NvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRDb25maWdzKG5ld0NvbmZpZykge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhuZXdDb25maWcpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IChjb25maWdba2V5XSA9IHZhbCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYW5kbGVXaW5kb3dSZXNpemUgPSBkZWJvdW5jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUJyZWFrcG9pbnRzQ29uZmlncygpO1xyXG4gICAgICAgICAgICB1cGRhdGVTbGlkZVdpZHRoKCk7XHJcbiAgICAgICAgfSwgMTYpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHVwIGZ1bmN0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlV2lkdGgoKSB7XHJcbiAgICAgICAgICAgIGlmICghcm9vdC52YWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHJvb3QudmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHNsaWRlV2lkdGgudmFsdWUgPSByZWN0LndpZHRoIC8gY29uZmlnLml0ZW1zVG9TaG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVTbGlkZXNEYXRhKCkge1xyXG4gICAgICAgICAgICBpZiAoc2xpZGVzQ291bnQudmFsdWUgPD0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbWlkZGxlU2xpZGVJbmRleC52YWx1ZSA9IE1hdGguY2VpbCgoc2xpZGVzQ291bnQudmFsdWUgLSAxKSAvIDIpO1xyXG4gICAgICAgICAgICBtYXhTbGlkZUluZGV4LnZhbHVlID0gZ2V0TWF4U2xpZGVJbmRleCh7IGNvbmZpZywgc2xpZGVzQ291bnQ6IHNsaWRlc0NvdW50LnZhbHVlIH0pO1xyXG4gICAgICAgICAgICBtaW5TbGlkZUluZGV4LnZhbHVlID0gZ2V0TWluU2xpZGVJbmRleCh7IGNvbmZpZywgc2xpZGVzQ291bnQ6IHNsaWRlc0NvdW50LnZhbHVlIH0pO1xyXG4gICAgICAgICAgICBpZiAoIWNvbmZpZy53cmFwQXJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJbmRleC52YWx1ZSA9IGdldE51bWJlckluUmFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbDogY3VycmVudFNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBtYXhTbGlkZUluZGV4LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbjogbWluU2xpZGVJbmRleC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uTW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHVwZGF0ZVNsaWRlV2lkdGgoKSk7XHJcbiAgICAgICAgICAgIC8vIE92ZXJjb21lIHNvbWUgZWRnZSBjYXNlc1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHVwZGF0ZVNsaWRlV2lkdGgoKSwgMTAwMCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUJyZWFrcG9pbnRzQ29uZmlncygpO1xyXG4gICAgICAgICAgICBpbml0QXV0b3BsYXkoKTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVdpbmRvd1Jlc2l6ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICBlbWl0KCdpbml0Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVyKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvblRpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXV0b3BsYXlUaW1lcikge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvcGxheVRpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplLCB7XHJcbiAgICAgICAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYXJvdXNlbCBFdmVudCBsaXN0ZW5lcnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgaXNUb3VjaCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgIGNvbnN0IGRyYWdnZWQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgICAgICAgY29uc3QgaXNIb3ZlciA9IHJlZihmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgaXNEcmFnZ2luZyA9IHJlZihmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaXNIb3Zlci52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpc0hvdmVyLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEcmFnU3RhcnQoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKFsnSU5QVVQnLCAnVEVYVEFSRUEnLCAnU0VMRUNUJ10uaW5jbHVkZXMoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXNUb3VjaCA9IGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcclxuICAgICAgICAgICAgaWYgKCFpc1RvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoIWlzVG91Y2ggJiYgZXZlbnQuYnV0dG9uICE9PSAwKSB8fCBpc1NsaWRpbmcudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFydFBvc2l0aW9uLnggPSBpc1RvdWNoID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WDtcclxuICAgICAgICAgICAgc3RhcnRQb3NpdGlvbi55ID0gaXNUb3VjaCA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoaXNUb3VjaCA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZScsIGhhbmRsZURyYWdnaW5nLCB0cnVlKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihpc1RvdWNoID8gJ3RvdWNoZW5kJyA6ICdtb3VzZXVwJywgaGFuZGxlRHJhZ0VuZCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhhbmRsZURyYWdnaW5nID0gdGhyb3R0bGUoKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlzRHJhZ2dpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbmRQb3NpdGlvbi54ID0gaXNUb3VjaCA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICAgIGVuZFBvc2l0aW9uLnkgPSBpc1RvdWNoID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WTtcclxuICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZW5kUG9zaXRpb24ueCAtIHN0YXJ0UG9zaXRpb24ueDtcclxuICAgICAgICAgICAgY29uc3QgZGVsdGFZID0gZW5kUG9zaXRpb24ueSAtIHN0YXJ0UG9zaXRpb24ueTtcclxuICAgICAgICAgICAgZHJhZ2dlZC55ID0gZGVsdGFZO1xyXG4gICAgICAgICAgICBkcmFnZ2VkLnggPSBkZWx0YVg7XHJcbiAgICAgICAgfSwgY29uZmlnLnRocm90dGxlKTtcclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEcmFnRW5kKCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjb25maWcuZGlyID09PSAncnRsJyA/IC0xIDogMTtcclxuICAgICAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gTWF0aC5zaWduKGRyYWdnZWQueCkgKiAwLjQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRTbGlkZXMgPSBNYXRoLnJvdW5kKGRyYWdnZWQueCAvIHNsaWRlV2lkdGgudmFsdWUgKyB0b2xlcmFuY2UpICogZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICAvLyBQcmV2ZW50IGNsaWNraW5nIGlmIHRoZXJlIGlzIGNsaWNrZWQgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2VkU2xpZGVzICYmICFpc1RvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlQ2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FwdHVyZUNsaWNrLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXB0dXJlQ2xpY2ssIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNsaWRlVG8oY3VycmVudFNsaWRlSW5kZXgudmFsdWUgLSBkcmFnZ2VkU2xpZGVzKTtcclxuICAgICAgICAgICAgZHJhZ2dlZC54ID0gMDtcclxuICAgICAgICAgICAgZHJhZ2dlZC55ID0gMDtcclxuICAgICAgICAgICAgaXNEcmFnZ2luZy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGlzVG91Y2ggPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLCBoYW5kbGVEcmFnZ2luZywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoaXNUb3VjaCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCcsIGhhbmRsZURyYWdFbmQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBdXRvcGxheVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRBdXRvcGxheSgpIHtcclxuICAgICAgICAgICAgaWYgKCFjb25maWcuYXV0b3BsYXkgfHwgY29uZmlnLmF1dG9wbGF5IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdXRvcGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5wYXVzZUF1dG9wbGF5T25Ib3ZlciAmJiBpc0hvdmVyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9LCBjb25maWcuYXV0b3BsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZXNldEF1dG9wbGF5KCkge1xyXG4gICAgICAgICAgICBpZiAoYXV0b3BsYXlUaW1lcikge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvcGxheVRpbWVyKTtcclxuICAgICAgICAgICAgICAgIGF1dG9wbGF5VGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluaXRBdXRvcGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBOYXZpZ2F0aW9uIGZ1bmN0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgaXNTbGlkaW5nID0gcmVmKGZhbHNlKTtcclxuICAgICAgICBmdW5jdGlvbiBzbGlkZVRvKHNsaWRlSW5kZXgpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbCA9IGNvbmZpZy53cmFwQXJvdW5kXHJcbiAgICAgICAgICAgICAgICA/IHNsaWRlSW5kZXhcclxuICAgICAgICAgICAgICAgIDogZ2V0TnVtYmVySW5SYW5nZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBzbGlkZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heDogbWF4U2xpZGVJbmRleC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtaW46IG1pblNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTbGlkZUluZGV4LnZhbHVlID09PSBjdXJyZW50VmFsIHx8IGlzU2xpZGluZy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVtaXQoJ3NsaWRlLXN0YXJ0Jywge1xyXG4gICAgICAgICAgICAgICAgc2xpZGluZ1RvSW5kZXg6IHNsaWRlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJbmRleDogY3VycmVudFNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBwcmV2U2xpZGVJbmRleDogcHJldlNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNDb3VudDogc2xpZGVzQ291bnQudmFsdWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpc1NsaWRpbmcudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBwcmV2U2xpZGVJbmRleC52YWx1ZSA9IGN1cnJlbnRTbGlkZUluZGV4LnZhbHVlO1xyXG4gICAgICAgICAgICBjdXJyZW50U2xpZGVJbmRleC52YWx1ZSA9IGN1cnJlbnRWYWw7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy53cmFwQXJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkTnVtYmVyID0gbWFwTnVtYmVyVG9SYW5nZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogY3VycmVudFZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBtYXhTbGlkZUluZGV4LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBlZE51bWJlciAhPT0gY3VycmVudFNsaWRlSW5kZXgudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlSW5kZXgudmFsdWUgPSBtYXBwZWROdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXQoJ2xvb3AnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJbmRleDogY3VycmVudFNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkaW5nVG9JbmRleDogc2xpZGVJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBjdXJyZW50U2xpZGVJbmRleC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbWl0KCdzbGlkZS1lbmQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlSW5kZXg6IGN1cnJlbnRTbGlkZUluZGV4LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZTbGlkZUluZGV4OiBwcmV2U2xpZGVJbmRleC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNDb3VudDogc2xpZGVzQ291bnQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlzU2xpZGluZy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRBdXRvcGxheSgpO1xyXG4gICAgICAgICAgICB9LCBjb25maWcudHJhbnNpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHNsaWRlVG8oY3VycmVudFNsaWRlSW5kZXgudmFsdWUgKyBjb25maWcuaXRlbXNUb1Njcm9sbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByZXYoKSB7XHJcbiAgICAgICAgICAgIHNsaWRlVG8oY3VycmVudFNsaWRlSW5kZXgudmFsdWUgLSBjb25maWcuaXRlbXNUb1Njcm9sbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5hdiA9IHsgc2xpZGVUbywgbmV4dCwgcHJldiB9O1xyXG4gICAgICAgIHByb3ZpZGUoJ25hdicsIG5hdik7XHJcbiAgICAgICAgcHJvdmlkZSgnaXNTbGlkaW5nJywgaXNTbGlkaW5nKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmFjayBzdHlsZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IHNsaWRlc1RvU2Nyb2xsID0gY29tcHV0ZWQoKCkgPT4gZ2V0U2xpZGVzVG9TY3JvbGwoe1xyXG4gICAgICAgICAgICBjb25maWcsXHJcbiAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogY3VycmVudFNsaWRlSW5kZXgudmFsdWUsXHJcbiAgICAgICAgICAgIHNsaWRlc0NvdW50OiBzbGlkZXNDb3VudC52YWx1ZSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcHJvdmlkZSgnc2xpZGVzVG9TY3JvbGwnLCBzbGlkZXNUb1Njcm9sbCk7XHJcbiAgICAgICAgY29uc3QgdHJhY2tTdHlsZSA9IGNvbXB1dGVkKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY29uZmlnLmRpciA9PT0gJ3J0bCcgPyAtMSA6IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IHhTY3JvbGwgPSBzbGlkZXNUb1Njcm9sbC52YWx1ZSAqIHNsaWRlV2lkdGgudmFsdWUgKiBkaXJlY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7ZHJhZ2dlZC54IC0geFNjcm9sbH1weClgLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYCR7aXNTbGlkaW5nLnZhbHVlID8gY29uZmlnLnRyYW5zaXRpb24gOiAwfW1zYCxcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogY29uZmlnLndyYXBBcm91bmQgPyBgMCAtJHtzbGlkZXNDb3VudC52YWx1ZSAqIHNsaWRlV2lkdGgudmFsdWV9cHhgIDogJycsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogYDEwMCVgLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3RhcnRDYXJvdXNlbCgpIHtcclxuICAgICAgICAgICAgaW5pdERlZmF1bHRDb25maWdzKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUJyZWFrcG9pbnRzQ29uZmlncygpO1xyXG4gICAgICAgICAgICB1cGRhdGVTbGlkZXNEYXRhKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNsaWRlV2lkdGgoKTtcclxuICAgICAgICAgICAgcmVzZXRBdXRvcGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGNhcm91c2VsIG9uIHByb3BzIGNoYW5nZVxyXG4gICAgICAgIE9iamVjdC5rZXlzKGNhcm91c2VsUHJvcHMpLmZvckVhY2goKHByb3ApID0+IHtcclxuICAgICAgICAgICAgaWYgKFsnbW9kZWxWYWx1ZSddLmluY2x1ZGVzKHByb3ApKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB3YXRjaCgoKSA9PiBwcm9wc1twcm9wXSwgcmVzdGFydENhcm91c2VsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIYW5kbGUgY2hhbmdpbmcgdi1tb2RlbCB2YWx1ZVxyXG4gICAgICAgIHdhdGNoKCgpID0+IHByb3BzWydtb2RlbFZhbHVlJ10sICh2YWwpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gY3VycmVudFNsaWRlSW5kZXgudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzbGlkZVRvKE51bWJlcih2YWwpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIYW5kZWwgd2hlbiBzbGlkZXMgYWRkZWQvcmVtb3ZlZFxyXG4gICAgICAgIHdhdGNoKHNsaWRlc0NvdW50LCB1cGRhdGVTbGlkZXNEYXRhKTtcclxuICAgICAgICAvLyBJbml0IGNhcm91c2VsXHJcbiAgICAgICAgZW1pdCgnYmVmb3JlLWluaXQnKTtcclxuICAgICAgICBpbml0RGVmYXVsdENvbmZpZ3MoKTtcclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICBjb25maWcsXHJcbiAgICAgICAgICAgIHNsaWRlc0NvdW50LFxyXG4gICAgICAgICAgICBzbGlkZVdpZHRoLFxyXG4gICAgICAgICAgICBuZXh0LFxyXG4gICAgICAgICAgICBwcmV2LFxyXG4gICAgICAgICAgICBzbGlkZVRvLFxyXG4gICAgICAgICAgICBjdXJyZW50U2xpZGU6IGN1cnJlbnRTbGlkZUluZGV4LFxyXG4gICAgICAgICAgICBtYXhTbGlkZTogbWF4U2xpZGVJbmRleCxcclxuICAgICAgICAgICAgbWluU2xpZGU6IG1pblNsaWRlSW5kZXgsXHJcbiAgICAgICAgICAgIG1pZGRsZVNsaWRlOiBtaWRkbGVTbGlkZUluZGV4LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZXhwb3NlKHtcclxuICAgICAgICAgICAgdXBkYXRlQnJlYWtwb2ludHNDb25maWdzLFxyXG4gICAgICAgICAgICB1cGRhdGVTbGlkZXNEYXRhLFxyXG4gICAgICAgICAgICB1cGRhdGVTbGlkZVdpZHRoLFxyXG4gICAgICAgICAgICBpbml0RGVmYXVsdENvbmZpZ3MsXHJcbiAgICAgICAgICAgIHJlc3RhcnRDYXJvdXNlbCxcclxuICAgICAgICAgICAgc2xpZGVUbyxcclxuICAgICAgICAgICAgbmV4dCxcclxuICAgICAgICAgICAgcHJldixcclxuICAgICAgICAgICAgbmF2LFxyXG4gICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNsb3RTbGlkZXMgPSBzbG90cy5kZWZhdWx0IHx8IHNsb3RzLnNsaWRlcztcclxuICAgICAgICBjb25zdCBzbG90QWRkb25zID0gc2xvdHMuYWRkb25zO1xyXG4gICAgICAgIGNvbnN0IHNsb3RzUHJvcHMgPSByZWFjdGl2ZShkYXRhKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzbGlkZXNFbGVtZW50cyA9IGdldFNsaWRlc1ZOb2RlcyhzbG90U2xpZGVzID09PSBudWxsIHx8IHNsb3RTbGlkZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsb3RTbGlkZXMoc2xvdHNQcm9wcykpO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRvbnNFbGVtZW50cyA9IChzbG90QWRkb25zID09PSBudWxsIHx8IHNsb3RBZGRvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsb3RBZGRvbnMoc2xvdHNQcm9wcykpIHx8IFtdO1xyXG4gICAgICAgICAgICBzbGlkZXNFbGVtZW50cy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IChlbC5wcm9wcy5pbmRleCA9IGluZGV4KSk7XHJcbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSBzbGlkZXNFbGVtZW50cztcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy53cmFwQXJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZXNCZWZvcmUgPSBzbGlkZXNFbGVtZW50cy5tYXAoKGVsLCBpbmRleCkgPT4gY2xvbmVWTm9kZShlbCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAtc2xpZGVzRWxlbWVudHMubGVuZ3RoICsgaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNDbG9uZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IGBjbG9uZS1iZWZvcmUtJHtpbmRleH1gLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpZGVzQWZ0ZXIgPSBzbGlkZXNFbGVtZW50cy5tYXAoKGVsLCBpbmRleCkgPT4gY2xvbmVWTm9kZShlbCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBzbGlkZXNFbGVtZW50cy5sZW5ndGggKyBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBpc0Nsb25lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleTogYGNsb25lLWFmdGVyLSR7aW5kZXh9YCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IFsuLi5zbGlkZXNCZWZvcmUsIC4uLnNsaWRlc0VsZW1lbnRzLCAuLi5zbGlkZXNBZnRlcl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2xpZGVzLnZhbHVlID0gc2xpZGVzRWxlbWVudHM7XHJcbiAgICAgICAgICAgIHNsaWRlc0NvdW50LnZhbHVlID0gTWF0aC5tYXgoc2xpZGVzRWxlbWVudHMubGVuZ3RoLCAxKTtcclxuICAgICAgICAgICAgY29uc3QgdHJhY2tFbCA9IGgoJ29sJywge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdjYXJvdXNlbF9fdHJhY2snLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHRyYWNrU3R5bGUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlZG93bkNhcHR1cmU6IGNvbmZpZy5tb3VzZURyYWcgPyBoYW5kbGVEcmFnU3RhcnQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb25Ub3VjaHN0YXJ0UGFzc2l2ZUNhcHR1cmU6IGNvbmZpZy50b3VjaERyYWcgPyBoYW5kbGVEcmFnU3RhcnQgOiBudWxsLFxyXG4gICAgICAgICAgICB9LCBvdXRwdXQpO1xyXG4gICAgICAgICAgICBjb25zdCB2aWV3UG9ydEVsID0gaCgnZGl2JywgeyBjbGFzczogJ2Nhcm91c2VsX192aWV3cG9ydCcgfSwgdHJhY2tFbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBoKCdzZWN0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgcmVmOiByb290LFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAnaXMtc2xpZGluZyc6IGlzU2xpZGluZy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAnaXMtZHJhZ2dpbmcnOiBpc0RyYWdnaW5nLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICdpcy1ob3Zlcic6IGlzSG92ZXIudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Nhcm91c2VsLS1ydGwnOiBjb25maWcuZGlyID09PSAncnRsJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkaXI6IGNvbmZpZy5kaXIsXHJcbiAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGNvbmZpZy5pMThuWydhcmlhR2FsbGVyeSddLFxyXG4gICAgICAgICAgICAgICAgdGFiaW5kZXg6ICcwJyxcclxuICAgICAgICAgICAgICAgIG9uTW91c2VlbnRlcjogaGFuZGxlTW91c2VFbnRlcixcclxuICAgICAgICAgICAgICAgIG9uTW91c2VsZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcclxuICAgICAgICAgICAgfSwgW3ZpZXdQb3J0RWwsIGFkZG9uc0VsZW1lbnRzLCBoKEFSSUFDb21wb25lbnQpXSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG52YXIgSWNvbk5hbWU7XHJcbihmdW5jdGlvbiAoSWNvbk5hbWUpIHtcclxuICAgIEljb25OYW1lW1wiYXJyb3dVcFwiXSA9IFwiYXJyb3dVcFwiO1xyXG4gICAgSWNvbk5hbWVbXCJhcnJvd0Rvd25cIl0gPSBcImFycm93RG93blwiO1xyXG4gICAgSWNvbk5hbWVbXCJhcnJvd1JpZ2h0XCJdID0gXCJhcnJvd1JpZ2h0XCI7XHJcbiAgICBJY29uTmFtZVtcImFycm93TGVmdFwiXSA9IFwiYXJyb3dMZWZ0XCI7XHJcbn0pKEljb25OYW1lIHx8IChJY29uTmFtZSA9IHt9KSk7XHJcbmNvbnN0IGljb25zID0ge1xyXG4gICAgYXJyb3dVcDogJ003LjQxIDE1LjQxTDEyIDEwLjgzbDQuNTkgNC41OEwxOCAxNGwtNi02LTYgNnonLFxyXG4gICAgYXJyb3dEb3duOiAnTTcuNDEgOC41OUwxMiAxMy4xN2w0LjU5LTQuNThMMTggMTBsLTYgNi02LTYgMS40MS0xLjQxeicsXHJcbiAgICBhcnJvd1JpZ2h0OiAnTTguNTkgMTYuNTlMMTMuMTcgMTIgOC41OSA3LjQxIDEwIDZsNiA2LTYgNi0xLjQxLTEuNDF6JyxcclxuICAgIGFycm93TGVmdDogJ00xNS40MSAxNi41OUwxMC44MyAxMmw0LjU4LTQuNTlMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDF6JyxcclxufTtcblxuZnVuY3Rpb24gaXNJY29uTmFtZShjYW5kaWRhdGUpIHtcclxuICAgIHJldHVybiBjYW5kaWRhdGUgaW4gSWNvbk5hbWU7XHJcbn1cclxuY29uc3QgSWNvbiA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgY29uZmlnID0gaW5qZWN0KCdjb25maWcnLCByZWFjdGl2ZShPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlncykpKTtcclxuICAgIGNvbnN0IGljb25OYW1lID0gU3RyaW5nKHByb3BzLm5hbWUpO1xyXG4gICAgY29uc3QgaWNvbkkxOG4gPSBgaWNvbiR7aWNvbk5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBpY29uTmFtZS5zbGljZSgxKX1gO1xyXG4gICAgaWYgKCFpY29uTmFtZSB8fCB0eXBlb2YgaWNvbk5hbWUgIT09ICdzdHJpbmcnIHx8ICFpc0ljb25OYW1lKGljb25OYW1lKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhdGggPSBpY29uc1tpY29uTmFtZV07XHJcbiAgICBjb25zdCBwYXRoRWwgPSBoKCdwYXRoJywgeyBkOiBwYXRoIH0pO1xyXG4gICAgY29uc3QgaWNvblRpdGxlID0gY29uZmlnLmkxOG5baWNvbkkxOG5dIHx8IHByb3BzLnRpdGxlIHx8IGljb25OYW1lO1xyXG4gICAgY29uc3QgdGl0bGVFbCA9IGgoJ3RpdGxlJywgaWNvblRpdGxlKTtcclxuICAgIHJldHVybiBoKCdzdmcnLCB7XHJcbiAgICAgICAgY2xhc3M6ICdjYXJvdXNlbF9faWNvbicsXHJcbiAgICAgICAgdmlld0JveDogJzAgMCAyNCAyNCcsXHJcbiAgICAgICAgcm9sZTogJ2ltZycsXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBpY29uVGl0bGUsXHJcbiAgICB9LCBbdGl0bGVFbCwgcGF0aEVsXSk7XHJcbn07XHJcbkljb24ucHJvcHMgPSB7IG5hbWU6IFN0cmluZywgdGl0bGU6IFN0cmluZyB9O1xuXG5jb25zdCBOYXZpZ2F0aW9uID0gKHByb3BzLCB7IHNsb3RzLCBhdHRycyB9KSA9PiB7XHJcbiAgICBjb25zdCB7IG5leHQ6IHNsb3ROZXh0LCBwcmV2OiBzbG90UHJldiB9ID0gc2xvdHMgfHwge307XHJcbiAgICBjb25zdCBjb25maWcgPSBpbmplY3QoJ2NvbmZpZycsIHJlYWN0aXZlKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWdzKSkpO1xyXG4gICAgY29uc3QgbWF4U2xpZGUgPSBpbmplY3QoJ21heFNsaWRlJywgcmVmKDEpKTtcclxuICAgIGNvbnN0IG1pblNsaWRlID0gaW5qZWN0KCdtaW5TbGlkZScsIHJlZigxKSk7XHJcbiAgICBjb25zdCBjdXJyZW50U2xpZGUgPSBpbmplY3QoJ2N1cnJlbnRTbGlkZScsIHJlZigxKSk7XHJcbiAgICBjb25zdCBuYXYgPSBpbmplY3QoJ25hdicsIHt9KTtcclxuICAgIGNvbnN0IHsgZGlyLCB3cmFwQXJvdW5kLCBpMThuIH0gPSBjb25maWc7XHJcbiAgICBjb25zdCBpc1JUTCA9IGRpciA9PT0gJ3J0bCc7XHJcbiAgICBjb25zdCBwcmV2QnV0dG9uID0gaCgnYnV0dG9uJywge1xyXG4gICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgIGNsYXNzOiBbXHJcbiAgICAgICAgICAgICdjYXJvdXNlbF9fcHJldicsXHJcbiAgICAgICAgICAgICF3cmFwQXJvdW5kICYmIGN1cnJlbnRTbGlkZS52YWx1ZSA8PSBtaW5TbGlkZS52YWx1ZSAmJiAnY2Fyb3VzZWxfX3ByZXYtLWRpc2FibGVkJyxcclxuICAgICAgICAgICAgYXR0cnMgPT09IG51bGwgfHwgYXR0cnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGF0dHJzLmNsYXNzLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBpMThuWydhcmlhUHJldmlvdXNTbGlkZSddLFxyXG4gICAgICAgIG9uQ2xpY2s6IG5hdi5wcmV2LFxyXG4gICAgfSwgKHNsb3RQcmV2ID09PSBudWxsIHx8IHNsb3RQcmV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbG90UHJldigpKSB8fCBoKEljb24sIHsgbmFtZTogaXNSVEwgPyAnYXJyb3dSaWdodCcgOiAnYXJyb3dMZWZ0JyB9KSk7XHJcbiAgICBjb25zdCBuZXh0QnV0dG9uID0gaCgnYnV0dG9uJywge1xyXG4gICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgIGNsYXNzOiBbXHJcbiAgICAgICAgICAgICdjYXJvdXNlbF9fbmV4dCcsXHJcbiAgICAgICAgICAgICF3cmFwQXJvdW5kICYmIGN1cnJlbnRTbGlkZS52YWx1ZSA+PSBtYXhTbGlkZS52YWx1ZSAmJiAnY2Fyb3VzZWxfX25leHQtLWRpc2FibGVkJyxcclxuICAgICAgICAgICAgYXR0cnMgPT09IG51bGwgfHwgYXR0cnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGF0dHJzLmNsYXNzLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBpMThuWydhcmlhTmV4dFNsaWRlJ10sXHJcbiAgICAgICAgb25DbGljazogbmF2Lm5leHQsXHJcbiAgICB9LCAoc2xvdE5leHQgPT09IG51bGwgfHwgc2xvdE5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsb3ROZXh0KCkpIHx8IGgoSWNvbiwgeyBuYW1lOiBpc1JUTCA/ICdhcnJvd0xlZnQnIDogJ2Fycm93UmlnaHQnIH0pKTtcclxuICAgIHJldHVybiBbcHJldkJ1dHRvbiwgbmV4dEJ1dHRvbl07XHJcbn07XG5cbmNvbnN0IFBhZ2luYXRpb24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjb25maWcgPSBpbmplY3QoJ2NvbmZpZycsIHJlYWN0aXZlKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWdzKSkpO1xyXG4gICAgY29uc3QgbWF4U2xpZGUgPSBpbmplY3QoJ21heFNsaWRlJywgcmVmKDEpKTtcclxuICAgIGNvbnN0IG1pblNsaWRlID0gaW5qZWN0KCdtaW5TbGlkZScsIHJlZigxKSk7XHJcbiAgICBjb25zdCBjdXJyZW50U2xpZGUgPSBpbmplY3QoJ2N1cnJlbnRTbGlkZScsIHJlZigxKSk7XHJcbiAgICBjb25zdCBuYXYgPSBpbmplY3QoJ25hdicsIHt9KTtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gKHNsaWRlKSA9PiBtYXBOdW1iZXJUb1JhbmdlKHtcclxuICAgICAgICB2YWw6IGN1cnJlbnRTbGlkZS52YWx1ZSxcclxuICAgICAgICBtYXg6IG1heFNsaWRlLnZhbHVlLFxyXG4gICAgICAgIG1pbjogMCxcclxuICAgIH0pID09PSBzbGlkZTtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKGxldCBzbGlkZSA9IG1pblNsaWRlLnZhbHVlOyBzbGlkZSA8IG1heFNsaWRlLnZhbHVlICsgMTsgc2xpZGUrKykge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGgoJ2J1dHRvbicsIHtcclxuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIGNsYXNzOiB7XHJcbiAgICAgICAgICAgICAgICAnY2Fyb3VzZWxfX3BhZ2luYXRpb24tYnV0dG9uJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICdjYXJvdXNlbF9fcGFnaW5hdGlvbi1idXR0b24tLWFjdGl2ZSc6IGlzQWN0aXZlKHNsaWRlKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBpMThuRm9ybWF0dGVyKGNvbmZpZy5pMThuWydhcmlhTmF2aWdhdGVUb1NsaWRlJ10sIHtcclxuICAgICAgICAgICAgICAgIHNsaWRlTnVtYmVyOiBzbGlkZSArIDEsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBuYXYuc2xpZGVUbyhzbGlkZSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IGgoJ2xpJywgeyBjbGFzczogJ2Nhcm91c2VsX19wYWdpbmF0aW9uLWl0ZW0nLCBrZXk6IHNsaWRlIH0sIGJ1dHRvbik7XHJcbiAgICAgICAgY2hpbGRyZW4ucHVzaChpdGVtKTtcclxuICAgIH1cclxuICAgIHJldHVybiBoKCdvbCcsIHsgY2xhc3M6ICdjYXJvdXNlbF9fcGFnaW5hdGlvbicgfSwgY2hpbGRyZW4pO1xyXG59O1xuXG52YXIgU2xpZGUgPSBkZWZpbmVDb21wb25lbnQoe1xyXG4gICAgbmFtZTogJ0Nhcm91c2VsU2xpZGUnLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmRleDoge1xyXG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0Nsb25lOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGluamVjdCgnY29uZmlnJywgcmVhY3RpdmUoT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZ3MpKSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gaW5qZWN0KCdjdXJyZW50U2xpZGUnLCByZWYoMCkpO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlc1RvU2Nyb2xsID0gaW5qZWN0KCdzbGlkZXNUb1Njcm9sbCcsIHJlZigwKSk7XHJcbiAgICAgICAgY29uc3QgaXNTbGlkaW5nID0gaW5qZWN0KCdpc1NsaWRpbmcnLCByZWYoZmFsc2UpKTtcclxuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9ICgpID0+IHByb3BzLmluZGV4ID09PSBjdXJyZW50U2xpZGUudmFsdWU7XHJcbiAgICAgICAgY29uc3QgaXNQcmV2ID0gKCkgPT4gcHJvcHMuaW5kZXggPT09IGN1cnJlbnRTbGlkZS52YWx1ZSAtIDE7XHJcbiAgICAgICAgY29uc3QgaXNOZXh0ID0gKCkgPT4gcHJvcHMuaW5kZXggPT09IGN1cnJlbnRTbGlkZS52YWx1ZSArIDE7XHJcbiAgICAgICAgY29uc3QgaXNWaXNpYmxlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLmZsb29yKHNsaWRlc1RvU2Nyb2xsLnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5jZWlsKHNsaWRlc1RvU2Nyb2xsLnZhbHVlICsgY29uZmlnLml0ZW1zVG9TaG93IC0gMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy5pbmRleCA+PSBtaW4gJiYgcHJvcHMuaW5kZXggPD0gbWF4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICByZXR1cm4gaCgnbGknLCB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTogeyB3aWR0aDogYCR7MTAwIC8gY29uZmlnLml0ZW1zVG9TaG93fSVgIH0sXHJcbiAgICAgICAgICAgICAgICBjbGFzczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsX19zbGlkZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAnY2Fyb3VzZWxfX3NsaWRlLS1jbG9uZSc6IHByb3BzLmlzQ2xvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Nhcm91c2VsX19zbGlkZS0tdmlzaWJsZSc6IGlzVmlzaWJsZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICdjYXJvdXNlbF9fc2xpZGUtLWFjdGl2ZSc6IGlzQWN0aXZlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Nhcm91c2VsX19zbGlkZS0tcHJldic6IGlzUHJldigpLFxyXG4gICAgICAgICAgICAgICAgICAgICdjYXJvdXNlbF9fc2xpZGUtLW5leHQnOiBpc05leHQoKSxcclxuICAgICAgICAgICAgICAgICAgICAnY2Fyb3VzZWxfX3NsaWRlLS1zbGlkaW5nJzogaXNTbGlkaW5nLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICFpc1Zpc2libGUoKSxcclxuICAgICAgICAgICAgfSwgKF9hID0gc2xvdHMuZGVmYXVsdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc2xvdHMpKTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IENhcm91c2VsLCBJY29uLCBOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBTbGlkZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue3-carousel/dist/carousel.es.js\n");

/***/ })

}]);