/*! For license information please see request-edit.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[811],{1711:(e,t,n)=>{n.d(t,{A:()=>cn});var r=n(4692);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=u(/Edge/i),h=u(/firefox/i),f=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),m=u(/iP(ad|od|hone)/i),v=u(/chrome/i)&&u(/android/i),g={capture:!1,passive:!1};function b(e,t,n){e.addEventListener(t,n,!d&&g)}function y(e,t,n){e.removeEventListener(t,n,!d&&g)}function w(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&w(e,t):w(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var E,S=/\s+/g;function N(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(S," ")}}function A(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function O(e,t){var n="";if("string"==typeof e)n=e;else do{var r=A(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function V(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function C(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,l,s,c,u,p;if(e!==window&&e.parentNode&&e!==D()?(a=(o=e.getBoundingClientRect()).top,l=o.left,s=o.bottom,c=o.right,u=o.height,p=o.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!d))do{if(i&&i.getBoundingClientRect&&("none"!==A(i,"transform")||n&&"static"!==A(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(A(i,"border-top-width")),l-=h.left+parseInt(A(i,"border-left-width")),s=a+o.height,c=l+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var f=O(i||e),m=f&&f.a,v=f&&f.d;f&&(s=(a/=v)+(u/=v),c=(l/=m)+(p/=m))}return{top:a,left:l,bottom:s,right:c,width:p,height:u}}}function j(e,t,n){for(var r=$(e,!0),i=C(e)[t];r;){var o=C(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===D())break;r=$(r,!1)}return!1}function T(e,t,n,r){for(var i=0,o=0,a=e.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==Fe.ghost&&(r||a[o]!==Fe.dragged)&&x(a[o],n.draggable,e,!1)){if(i===t)return a[o];i++}o++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===A(n,"display")||t&&!w(n,t));)n=n.previousElementSibling;return n||null}function k(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!w(e,t)||n++;return n}function P(e){var t=0,n=0,r=D();if(e)do{var i=O(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function $(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=A(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(r||t)return n;r=!0}}}while(n=n.parentNode);return D()}function M(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!E){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),E=setTimeout((function(){E=void 0}),t)}}}function q(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=r||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var B="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==A(e,"display")&&e!==Fe.ghost){t.push({target:e,rect:C(e)});var n=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=O(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=C(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=O(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&M(s,l)&&!M(a,l)&&(u.top-l.top)/(u.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,s,c,r.options)),M(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=r.options.animation),r.animate(n,u,l,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){A(e,"transition",""),A(e,"transform","");var i=O(this.el),o=i&&i.a,a=i&&i.d,l=(t.left-n.left)/(o||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,A(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),A(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),A(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){A(e,"transition",""),A(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var L=[],X={initializeByDefault:!0},Y={mount:function(e){for(var t in X)X.hasOwnProperty(t)&&!(t in e)&&(e[t]=X[t]);L.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),L.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";L.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](o({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](o({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in L.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,s(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return L.forEach((function(r){"function"==typeof r.eventProperties&&s(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return L.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function z(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,l=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[B]){var b,y=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||d||p?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=l||n,b.from=s||n,b.item=i||n,b.clone=a,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=h,b.newDraggableIndex=f,b.originalEvent=m,b.pullMode=v?v.lastPutMode:void 0;var _=o(o({},g),Y.getEventProperties(r,t));for(var x in _)b[x]=_[x];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var W=["evt"],H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=c(n,W);Y.pluginEvent.bind(Fe)(e,t,o({dragEl:J,parentEl:K,ghostEl:Z,rootEl:Q,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:re,dragStarted:ve,putSortable:ce,activeSortable:Fe.active,originalEvent:r,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:le,hideGhostForTarget:$e,unhideGhostForTarget:Me,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:r})}},i))};function G(e){z(o({putSortable:ce,cloneEl:ne,targetEl:J,rootEl:Q,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:le},e))}var J,K,Z,Q,ee,te,ne,re,ie,oe,ae,le,se,ce,ue,de,pe,he,fe,me,ve,ge,be,ye,we,_e=!1,xe=!1,Ee=[],Se=!1,Ne=!1,Ae=[],Oe=!1,Ve=[],De="undefined"!=typeof document,Ce=m,je=p||d?"cssFloat":"float",Te=De&&!v&&!m&&"draggable"in document.createElement("div"),Ie=function(){if(De){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ke=function(e,t){var n=A(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=T(e,0,t),o=T(e,1,t),a=i&&A(i),l=o&&A(o),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+C(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=r&&"none"===n[je]||o&&"none"===n[je]&&s+c>r)?"vertical":"horizontal"},Pe=function(e){function t(e,n){return function(r,i,o,a){var l=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var s=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},r=e.group;r&&"object"==a(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},$e=function(){!Ie&&Z&&A(Z,"display","none")},Me=function(){!Ie&&Z&&A(Z,"display","")};De&&document.addEventListener("click",(function(e){if(xe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),xe=!1,!1}),!0);var Re=function(e){if(J){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,Ee.some((function(e){var t=e[B].options.emptyInsertThreshold;if(t&&!I(e)){var n=C(e),r=i>=n.left-t&&i<=n.right+t,l=o>=n.top-t&&o<=n.bottom+t;return r&&l?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[B]._onDragOver(n)}}var i,o,a},qe=function(e){J&&J.parentNode[B]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[B]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ke(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var r in Y.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Pe(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Te,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Ee.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,U())}function Be(e,t,n,r,i,o,a,l){var s,c,u=e[B],h=u.options.onMove;return!window.CustomEvent||d||p?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=i||t,s.relatedRect=o||C(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),h&&(c=h.call(u,s,a)),c}function Ue(e){e.draggable=!1}function Le(){Oe=!1}function Xe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ye(e){return setTimeout(e,0)}function ze(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ge=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(function(e){Ve.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ve.push(r)}}(n),!J&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!f||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=x(l,r.draggable,n,!1))&&l.animated||te===l)){if(ie=k(l),ae=k(l,r.draggable),"function"==typeof c){if(c.call(this,e,l,this))return G({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),H("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=x(s,r.trim(),n,!1))return G({sortable:t,rootEl:r,name:"filter",targetEl:l,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!x(s,r.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,l=o.ownerDocument;if(n&&!J&&n.parentNode===o){var s=C(n);if(Q=o,K=(J=n).parentNode,ee=J.nextSibling,te=n,se=a.group,Fe.dragged=J,ue={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=ue.clientX-s.left,me=ue.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",r=function(){H("delayEnded",i,{evt:e}),Fe.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!h&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,t),G({sortable:i,name:"choose",originalEvent:e}),N(J,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){V(J,e.trim(),Ue)})),b(l,"dragover",Re),b(l,"mousemove",Re),b(l,"touchmove",Re),b(l,"mouseup",i._onDrop),b(l,"touchend",i._onDrop),b(l,"touchcancel",i._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),H("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(p||d))r();else{if(Fe.eventCanceled)return void this._onDrop();b(l,"mouseup",i._disableDelayedDrag),b(l,"touchend",i._disableDelayedDrag),b(l,"touchcancel",i._disableDelayedDrag),b(l,"mousemove",i._delayedDragTouchMoveHandler),b(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&b(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Ue(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(J,"dragend",this),b(Q,"dragstart",this._onDragStart));try{document.selection?Ye((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(_e=!1,Q&&J){H("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",qe);var n=this.options;!e&&N(J,n.dragClass,!1),N(J,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,$e();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(J.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]){if(t[B]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Me()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=Z&&O(Z,!0),a=Z&&o&&o.a,l=Z&&o&&o.d,s=Ce&&we&&P(we),c=(i.clientX-ue.clientX+r.x)/(a||1)+(s?s[0]-Ae[0]:0)/(a||1),u=(i.clientY-ue.clientY+r.y)/(l||1)+(s?s[1]-Ae[1]:0)/(l||1);if(!Fe.active&&!_e){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Z){o?(o.e+=c-(pe||0),o.f+=u-(he||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");A(Z,"webkitTransform",d),A(Z,"mozTransform",d),A(Z,"msTransform",d),A(Z,"transform",d),pe=c,he=u,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:Q,t=C(J,!0,Ce,!0,e),n=this.options;if(Ce){for(we=e;"static"===A(we,"position")&&"none"===A(we,"transform")&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=D()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=D(),Ae=P(we)}N(Z=J.cloneNode(!0),n.ghostClass,!1),N(Z,n.fallbackClass,!0),N(Z,n.dragClass,!0),A(Z,"transition",""),A(Z,"transform",""),A(Z,"box-sizing","border-box"),A(Z,"margin",0),A(Z,"top",t.top),A(Z,"left",t.left),A(Z,"width",t.width),A(Z,"height",t.height),A(Z,"opacity","0.8"),A(Z,"position",Ce?"absolute":"fixed"),A(Z,"zIndex","100000"),A(Z,"pointerEvents","none"),Fe.ghost=Z,e.appendChild(Z),A(Z,"transform-origin",fe/parseInt(Z.style.width)*100+"% "+me/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;H("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(H("setupClone",this),Fe.eventCanceled||((ne=F(J)).draggable=!1,ne.style["will-change"]="",this._hideClone(),N(ne,this.options.chosenClass,!1),Fe.clone=ne),n.cloneId=Ye((function(){H("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(ne,J),n._hideClone(),G({sortable:n,name:"clone"}))})),!t&&N(J,i.dragClass,!0),t?(xe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,J)),b(document,"drop",n),A(J,"transform","translateZ(0)")),_e=!0,n._dragStartId=Ye(n._dragStarted.bind(n,t,e)),b(document,"selectstart",n),ve=!0,f&&A(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,a=this.el,l=e.target,s=this.options,c=s.group,u=Fe.active,d=se===c,p=s.sort,h=ce||u,f=this,m=!1;if(!Oe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=x(l,s.draggable,a,!0),R("dragOver"),Fe.eventCanceled)return m;if(J.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return U(!1);if(xe=!1,u&&!s.disabled&&(d?p||(r=K!==Q):ce===this||(this.lastPutMode=se.checkPull(this,u,J,e))&&c.checkPut(this,u,J,e))){if(i="vertical"===this._getDirection(e,l),t=C(J),R("dragOverValid"),Fe.eventCanceled)return m;if(r)return K=Q,F(),this._hideClone(),R("revert"),Fe.eventCanceled||(ee?Q.insertBefore(J,ee):Q.appendChild(J)),U(!0);var v=I(a,s.draggable);if(!v||function(e,t,n){var r=C(I(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,i,this)&&!v.animated){if(v===J)return U(!1);if(v&&a===e.target&&(l=v),l&&(n=C(l)),!1!==Be(Q,a,J,t,l,n,e,!!l))return F(),a.appendChild(J),K=a,L(),U(!0)}else if(v&&function(e,t,n){var r=C(T(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}(e,i,this)){var g=T(a,0,s,!0);if(g===J)return U(!1);if(n=C(l=g),!1!==Be(Q,a,J,t,l,n,e,!1))return F(),a.insertBefore(J,g),K=a,L(),U(!0)}else if(l.parentNode===a){n=C(l);var b,y,w,_=J.parentNode!==a,E=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return r===a||i===l||r+o/2===a+s/2}(J.animated&&J.toRect||t,l.animated&&l.toRect||n,i),S=i?"top":"left",O=j(l,"top","top")||j(J,"top","top"),V=O?O.scrollTop:void 0;if(ge!==l&&(y=n[S],Se=!1,Ne=!E&&s.invertSwap||_),b=function(e,t,n,r,i,o,a,l){var s=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!a)if(l&&ye<c*i){if(!Se&&(1===be?s>u+c*o/2:s<d-c*o/2)&&(Se=!0),Se)p=!0;else if(1===be?s<u+ye:s>d-ye)return-be}else if(s>u+c*(1-i)/2&&s<d-c*(1-i)/2)return function(e){return k(J)<k(e)?1:-1}(t);if((p=p||a)&&(s<u+c*o/2||s>d-c*o/2))return s>u+c/2?1:-1;return 0}(e,l,n,i,E?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ne,ge===l),0!==b){var D=k(J);do{D-=b,w=K.children[D]}while(w&&("none"===A(w,"display")||w===Z))}if(0===b||w===l)return U(!1);ge=l,be=b;var P=l.nextElementSibling,$=!1,M=Be(Q,a,J,t,l,n,e,$=1===b);if(!1!==M)return 1!==M&&-1!==M||($=1===M),Oe=!0,setTimeout(Le,30),F(),$&&!P?a.appendChild(J):l.parentNode.insertBefore(J,$?P:l),O&&q(O,0,V-O.scrollTop),K=J.parentNode,void 0===y||Ne||(ye=Math.abs(y-C(l)[S])),L(),U(!0)}if(a.contains(J))return U(!1)}return!1}function R(s,c){H(s,f,o({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:h,target:l,completed:U,onMove:function(n,r){return Be(Q,a,J,t,n,C(n),e,r)},changed:L},c))}function F(){R("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function U(t){return R("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(N(J,ce?ce.options.ghostClass:u.options.ghostClass,!1),N(J,s.ghostClass,!0)),ce!==f&&f!==Fe.active?ce=f:f===Fe.active&&ce&&(ce=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll((function(){R("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===J&&!J.animated||l===a&&!l.animated)&&(ge=null),s.dragoverBubble||e.rootEl||l===document||(J.parentNode[B]._isOutsideThisEl(e.target),!t&&Re(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function L(){oe=k(J),le=k(J,s.draggable),G({sortable:f,name:"change",toEl:a,newIndex:oe,newDraggableIndex:le,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Re),y(document,"mousemove",Re),y(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;oe=k(J),le=k(J,n.draggable),H("drop",this,{evt:e}),K=J&&J.parentNode,oe=k(J),le=k(J,n.draggable),Fe.eventCanceled||(_e=!1,Ne=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ze(this.cloneId),ze(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&A(document.body,"user-select",""),A(J,"transform",""),e&&(ve&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(Q===K||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),J&&(this.nativeDraggable&&y(J,"dragend",this),Ue(J),J.style["will-change"]="",ve&&!_e&&N(J,ce?ce.options.ghostClass:this.options.ghostClass,!1),N(J,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),Q!==K?(oe>=0&&(G({rootEl:K,name:"add",toEl:K,fromEl:Q,originalEvent:e}),G({sortable:this,name:"remove",toEl:K,originalEvent:e}),G({rootEl:K,name:"sort",toEl:K,fromEl:Q,originalEvent:e}),G({sortable:this,name:"sort",toEl:K,originalEvent:e})),ce&&ce.save()):oe!==ie&&oe>=0&&(G({sortable:this,name:"update",toEl:K,originalEvent:e}),G({sortable:this,name:"sort",toEl:K,originalEvent:e})),Fe.active&&(null!=oe&&-1!==oe||(oe=ie,le=ae),G({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),Q=J=K=Z=ee=ne=te=re=ue=de=ve=oe=le=ie=ae=ge=be=ce=se=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ve.forEach((function(e){e.checked=!0})),Ve.length=pe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)x(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Xe(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];x(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Y.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Pe(n)},destroy:function(){H("destroy",this);var e=this.el;e[B]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ee.splice(Ee.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(H("hideClone",this),Fe.eventCanceled)return;A(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),re=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(re){if(H("showClone",this),Fe.eventCanceled)return;J.parentNode!=Q||this.options.group.revertClone?ee?Q.insertBefore(ne,ee):Q.appendChild(ne):Q.insertBefore(ne,J),this.options.group.revertClone&&this.animate(J,ne),A(ne,"display",""),re=!1}}else this._hideClone()}},De&&b(document,"touchmove",(function(e){(Fe.active||_e)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:b,off:y,css:A,find:V,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:R,closest:x,toggleClass:N,clone:F,index:k,nextTick:Ye,cancelNextTick:ze,detectDirection:ke,getChild:T},Fe.get=function(e){return e[B]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=o(o({},Fe.utils),e.utils)),Y.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.14.0";var We,He,Ge,Je,Ke,Ze,Qe=[],et=!1;function tt(){Qe.forEach((function(e){clearInterval(e.pid)})),Qe=[]}function nt(){clearInterval(Ze)}var rt=R((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=D(),u=!1;He!==n&&(He=n,tt(),We=t.scroll,i=t.scrollFn,!0===We&&(We=$(n,!0)));var d=0,p=We;do{var h=p,f=C(h),m=f.top,v=f.bottom,g=f.left,b=f.right,y=f.width,w=f.height,_=void 0,x=void 0,E=h.scrollWidth,S=h.scrollHeight,N=A(h),O=h.scrollLeft,V=h.scrollTop;h===c?(_=y<E&&("auto"===N.overflowX||"scroll"===N.overflowX||"visible"===N.overflowX),x=w<S&&("auto"===N.overflowY||"scroll"===N.overflowY||"visible"===N.overflowY)):(_=y<E&&("auto"===N.overflowX||"scroll"===N.overflowX),x=w<S&&("auto"===N.overflowY||"scroll"===N.overflowY));var j=_&&(Math.abs(b-o)<=l&&O+y<E)-(Math.abs(g-o)<=l&&!!O),T=x&&(Math.abs(v-a)<=l&&V+w<S)-(Math.abs(m-a)<=l&&!!V);if(!Qe[d])for(var I=0;I<=d;I++)Qe[I]||(Qe[I]={});Qe[d].vx==j&&Qe[d].vy==T&&Qe[d].el===h||(Qe[d].el=h,Qe[d].vx=j,Qe[d].vy=T,clearInterval(Qe[d].pid),0==j&&0==T||(u=!0,Qe[d].pid=setInterval(function(){r&&0===this.layer&&Fe.active._onTouchMove(Ke);var t=Qe[this.layer].vy?Qe[this.layer].vy*s:0,n=Qe[this.layer].vx?Qe[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(Fe.dragged.parentNode[B],n,t,e,Ke,Qe[this.layer].el)||q(Qe[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=$(p,!1)));et=u}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ot(){}function at(){}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=T(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},s(ot,{pluginName:"revertOnSpill"}),at.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},s(at,{pluginName:"removeOnSpill"});Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(E),E=void 0},nulling:function(){Ke=He=We=et=Ze=Ge=Je=null,Qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(Ke=e,t||this.options.forceAutoScrollFallback||p||d||f){rt(e,this.options,o,t);var a=$(o,!0);!et||Ze&&r===Ge&&i===Je||(Ze&&nt(),Ze=setInterval((function(){var o=$(document.elementFromPoint(r,i),!0);o!==a&&(a=o,tt()),rt(e,n.options,o,t)}),10),Ge=r,Je=i)}else{if(!this.options.bubbleScroll||$(o,!0)===D())return void tt();rt(e,this.options,$(o,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(at,ot);const lt=Fe;function st(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function ct(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}var ut="undefined"!=typeof window?window.console:n.g.console;var dt,pt,ht=/-(\w)/g,ft=(dt=function(e){return e.replace(ht,(function(e,t){return t.toUpperCase()}))},pt=Object.create(null),function(e){return pt[e]||(pt[e]=dt(e))}),mt=["Start","Add","Remove","Update","End"],vt=["Choose","Unchoose","Sort","Filter","Clone"],gt=["Move"],bt=[gt,mt,vt].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),yt={manage:gt,manageAndEmit:mt,emit:vt};var wt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function _t(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e){return e.reduce((function(e,t){var n=At(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}function Dt(e){return Object.entries(e).filter((function(e){var t=At(e,2),n=t[0];t[1];return!_t(n)})).map((function(e){var t=At(e,2),n=t[0],r=t[1];return[ft(n),r]})).filter((function(e){var t,n=At(e,2),r=n[0];n[1];return t=r,!(-1!==bt.indexOf(t))}))}function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function jt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function kt(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ct(t)?t:t+""}var Pt=function(e){return e.el},$t=function(e){return e.__draggable_context},Mt=function(){return e=function e(t){var n=t.nodes,r=n.header,i=n.default,o=n.footer,a=t.root,l=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=i,this.children=[].concat(jt(r),jt(i),jt(o)),this.externalComponent=a.externalComponent,this.rootTransition=a.transition,this.tag=a.tag,this.realList=l},t=[{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}},{key:"render",value:function(e,t){var n=this.tag,r=this.children;return e(n,t,this._isRootComponent?{default:function(){return r}}:r)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,n){var r,i;r=Pt(e),i={element:t[n],index:n},r.__draggable_context=i}))}},{key:"getUnderlyingVm",value:function(e){return $t(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var n=this.defaultNodes,r=n.length,i=t.children,o=i.item(e);if(null===o)return r;var a=$t(o);if(a)return a.index;if(0===r)return 0;var l=Pt(n[0]),s=jt(i).findIndex((function(e){return e===l}));return e<s?0:r}}],t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Rt=n(7456);function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=qt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e){var t=["transition-group","TransitionGroup"].includes(e),n=!function(e){return wt.includes(e)}(e)&&!t;return{transition:t,externalComponent:n,tag:n?(0,Rt.resolveComponent)(e):t?Rt.TransitionGroup:e}}function zt(e){var t=e.$slots,n=e.tag,r=e.realList,i=function(e){var t=e.$slots,n=e.realList,r=e.getKey,i=n||[],o=Lt(["header","footer"].map((function(e){return(n=t[e])?n():[];var n})),2),a=o[0],l=o[1],s=t.item;if(!s)throw new Error("draggable element must have an item slot");var c=i.flatMap((function(e,t){return s({element:e,index:t}).map((function(t){return t.key=r(e),t.props=Bt(Bt({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(c.length!==i.length)throw new Error("Item slot must have only one child");return{header:a,footer:l,default:c}}({$slots:t,realList:r,getKey:e.getKey}),o=Yt(n);return new Mt({nodes:i,root:o,realList:r})}function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||Qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){var n=this;(0,Rt.nextTick)((function(){return n.$emit(e.toLowerCase(),t)}))}function nn(e){var t=this;return function(n,r){if(null!==t.realList)return t["onDrag".concat(e)](n,r)}}function rn(e){var t=this,n=nn.call(this,e);return function(r,i){n.call(t,r,i),tn.call(t,e,r)}}var on=null,an={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ln=["update:modelValue","change"].concat(Zt([].concat(Zt(yt.manageAndEmit),Zt(yt.emit)).map((function(e){return e.toLowerCase()})))),sn=(0,Rt.defineComponent)({name:"draggable",inheritAttrs:!1,props:an,emits:ln,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,n=this.tag,r=this.componentData,i=zt({$slots:e,tag:n,realList:this.realList,getKey:this.getKey});this.componentStructure=i;var o=function(e){var t=e.$attrs,n=e.componentData,r=void 0===n?{}:n;return St(St({},Vt(Object.entries(t).filter((function(e){var t=At(e,2),n=t[0];return t[1],_t(n)})))),r)}({$attrs:t,componentData:r});return i.render(Rt.h,o)}catch(e){return this.error=!0,(0,Rt.h)("pre",{style:{color:"red"}},e.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&ut.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,n=this.$el;this.componentStructure.updated();var r=function(e){var t=e.$attrs,n=e.callBackBuilder,r=Vt(Dt(t));Object.entries(n).forEach((function(e){var t=At(e,2),n=t[0],i=t[1];yt[n].forEach((function(e){r["on".concat(e)]=i(e)}))}));var i="[data-draggable]".concat(r.draggable||"");return St(St({},r),{},{draggable:i})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return rn.call(e,t)},emit:function(t){return tn.bind(e,t)},manage:function(t){return nn.call(e,t)}}}),i=1===n.nodeType?n:n.parentElement;this._sortable=new lt(i,r),this.targetDomElement=i,i.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&Dt(e).forEach((function(e){var n=Kt(e,2),r=n[0],i=n[1];t.option(r,i)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;(0,Rt.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=Zt(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,Zt(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};return t!==n&&i?Gt(Gt({},r.getUnderlyingVm(n)||{}),o):o},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),on=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){st(e.item);var n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(ct(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,n=t.index,r=t.element;this.spliceList(n,1);var i={element:r,oldIndex:n};this.emitChanges({removed:i})}else st(e.clone)},onDragUpdate:function(e){st(e.item),ct(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=Zt(t.to.children).filter((function(e){return"none"!==e.style.display})),r=n.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(r);return-1!==n.indexOf(on)||!t.willInsertAfter?i:i+1},onDragMove:function(e,t){var n=this.move,r=this.realList;if(!n||!r)return!0;var i=this.getRelatedContextFromMoveEvent(e),o=this.computeFutureIndex(i,e),a=Gt(Gt({},this.context),{},{futureIndex:o});return n(Gt(Gt({},e),{},{relatedContext:i,draggedContext:a}),t)},onDragEnd:function(){on=null}}});const cn=sn},4100:(e,t,n)=>{n.d(t,{Ru:()=>g,mw:()=>b});var r=n(7456);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return"function"==typeof e}function s(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function c(e){return l(e.$validator)?o({},e):{$validator:e}}function u(e){return"object"==typeof e?e.$valid:e}function d(e){return e.$validator||e}function p(e,t){if(!s(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!s(t)&&!l(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=c(t);return n.$params=o(o({},n.$params||{}),e),n}function h(e,t){if(!l(e)&&"string"!=typeof(0,r.unref)(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!s(t)&&!l(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=c(t);return n.$message=e,n}const f=e=>{if(e=(0,r.unref)(e),Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"==typeof e){for(let t in e)return!0;return!1}return!!String(e).length},m=e=>(e=(0,r.unref)(e),Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length);function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(e=(0,r.unref)(e),!f(e)||t.every((t=>(t.lastIndex=0,t.test(e)))))}r.unref,v(/^[a-zA-Z]*$/),v(/^[a-zA-Z0-9]*$/),v(/^\d*(\.\d+)?$/);v(/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i);function g(e){return{$validator:(t=e,e=>!f(e)||m(e)<=(0,r.unref)(t)),$message:e=>{let{$params:t}=e;return`The maximum length allowed is ${t.max}`},$params:{max:e,type:"maxLength"}};var t}var b={$validator:function(e){return"string"==typeof e&&(e=e.trim()),f(e)},$message:"Value is required",$params:{type:"required"}};v(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i);v(/(^[0-9]*$)|(^-[0-9]+$)/),v(/^[-]?\d*(\.\d+)?$/)},5801:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var r=n(7456),i={class:"container-fluid"},o={class:"row"},a={class:"col-12"},l={class:"invoice p-3 mb-3"},s={style:{}},c={class:"form-group row"},u={class:"col-sm-9"},d={class:"row invoice-info"},p={class:"col-sm-8 invoice-col"},h={class:"row mb-2",style:{"align-items":"center"}},f={class:"col-8"},m={class:"row mb-2",style:{"align-items":"center"}},v={class:"col-8"},g={class:"row mb-2",style:{"align-items":"center"}},b={class:"col-8"},y={class:"row mb-2",style:{"align-items":"center"}},w={class:"col-8"},_={class:"col-sm-4 invoice-col",style:{"align-items":"flex-end",display:"flex","flex-direction":"column","text-align":"right"}},x={key:0},E=["disabled"],S={class:"row"},N={class:"col-12 table-responsive"},A={class:"table table-striped",style:{background:"#edebe4",color:"#fff"}},O={class:"calculator"},V={class:"row"},D={class:"col-12"},C={class:"table-responsive"},j={class:"table"},T={style:{width:"30%"}},I=["onUpdate:modelValue"],k={style:{margin:"0",padding:"0",width:"17%"}},P={class:"table",style:{margin:"0",padding:"0"}},$={style:{margin:"0",padding:"3px","text-align":"right"}},M={style:{margin:"0",padding:"3px","text-align":"right"}},R={class:"row no-print"},q={class:"col-12"},F=["disabled"],B=["disabled"];var U=n(3899),L=n(1711),X=n(9404),Y=n(4100),z=["nested"],W=["purchaser","uuid","purchaser_id","special"];function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function G(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J(){J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(t,n,r,i){var o=n&&n.prototype instanceof p?n:p,a=Object.create(o.prototype);return s(a,"_invoke",function(t,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=_(l,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var c=u(t,n,r);if("normal"===c.type){if(i=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(i||[])),!0),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function p(){}function h(){}function f(){}var m={};s(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(N([])));g&&g!==n&&r.call(g,o)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,o,a,l){var s=u(e[i],e,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==H(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;s(this,"_invoke",(function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(t,n){var r=n.method,i=t.i[r];if(i===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=u(i,t.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var a=o.arg;return a?a.done?(n[t.r]=a.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function N(t){if(null!=t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(H(t)+" is not iterable")}return h.prototype=f,s(b,"constructor",f),s(f,"constructor",h),h.displayName=s(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},y(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(b),s(b,l,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=N,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){a.type="throw",a.arg=t,n.next=e}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],l=this.prev,s=o[1],c=o[2];if(-1===o[0])return r("end"),!1;if(!s&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=l){if(l<s)return this.method="next",this.arg=e,r(s),!0;if(l<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===e||"continue"===e)&&i[0]<=t&&t<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:N(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function K(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){K(o,r,i,a,l,"next",e)}function l(e){K(o,r,i,a,l,"throw",e)}a(void 0)}))}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne={props:["user","setting","model","additional"],components:{draggable:L.A},setup:function(e){return{v$:(0,X.Ay)()}},created:function(){this.m=this.attributeInit,this.calculator.percenters=this.percenters,this.calculator.inputs=this.initReporteValues,this.keys=["evaluation_price","evaluation_service_price","evaluation_calc"],this.model.purchaser||(this.model.purchaser={name:"",subj_name:"",subj_address:"",identification_num:""})},mounted:function(){this.m.category_attributes.length&&(this.agr=U.A.agr(this.m.category_attributes)),this.v$.model.$touch(),this.v$.m.$touch(),this.tooltipShowDelay=0,this.tooltipHideDelay=2e3},data:function(){return{showModal:!1,selector:"",step:!1,agr:{},m:{},c:[],calculator:{names:["   :","  :"," :","  :"," :"]},keys:[],selectBuilder:[]}},watch:{"m.category_attributes":{handler:function(e,t){e&&e.length&&t&&(this.agr=U.A.agr(e))},deep:!0,immediate:!0},agr:{handler:function(e,t){!U.A._isEmpty(e)&&t&&this.recurcive(this.calculator.inputs,e.calc)},deep:!0,immediate:!0},"calculator.inputs":{handler:function(e,t){var n=this;e&&t&&e.length&&(e.map((function(e){n.m[e.inputName]=e.value})),this.m.category_attributes.map((function(e){n.keys.map((function(t){e.pivot[t]&&(e.pivot[t]=U.A.itemReportValue(e.pivot[t.replace("evaluation_","")],n.initReporteValues))}))})))},deep:!0,immediate:!0}},validations:function(){return{m:{category_attributes:{required:Y.mw}},model:{title:{required:Y.mw},purchaser:{name:{required:Y.mw},subj_name:{required:Y.mw},subj_address:{required:Y.mw},identification_num:{required:Y.mw}}}}},computed:{attributeJoinedTree:function(e){return function(t){return t.category_id?e.additional.categories.find((function(e){return e.id==t.category_id})).category_attributes:[]}},initReporteValues:function(){var e=this;return Array.from({length:this.calculator.names.length},(function(t,n){var r="p"+(n+1);return{title:e.calculator.names[n],inputName:r,value:e.m[r]}}))},percenters:function(){return Array.from({length:this.calculator.names.length},(function(e,t){return{p1:0,p2:0}}))},attributeInit:function(){var e=this;return this.model.category_attributes=this.model.category_attributes.reduce((function(t,n){var r=n,i=e.model.special.find((function(e){return e.category_attribute_id===n.id}));return i&&(r.isSpecial=!0),i&&!n.pivot.is_special&&(n.pivot.price=i.json.price,n.pivot.is_special=!0,n.pivot.service_price=i.json.service_price,n.pivot.calc=e.specNum(n.pivot.qty*(parseFloat(n.pivot.price)+parseFloat(n.pivot.service_price))),r=ee(ee({},i.json),{},{pivot:n.pivot})),(t||[]).push(r),t}),[]),this.model}},methods:{recurcive:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=e[n]){this.calculator.percenters[n].p1=this.specNum(e[n].value*t/100),this.calculator.percenters[n].p2=this.specNum(t+this.calculator.percenters[n].p1);var r=this.calculator.percenters[n].p2;return n+=1,this.recurcive(e,r,n)}return e},specNum:function(e){if(!e)return 0;var t=Math.round(100*(e+Number.EPSILON))/100;return parseFloat(t)},price:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.target.value||(t.pivot[e.target.getAttribute("name")]=0),n||(t.pivot.qty=Number(e.target.value)),t.pivot.calc=this.specNum(t.pivot.qty*(parseFloat(t.pivot.price)+parseFloat(t.pivot.service_price)))},removeRequest:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i?e.id:e.pivot.id,a=this.m.id?this.m.id:!!this.m.id;if(!o)return n();document.querySelector("form#render").getAttribute("action");var l=document.querySelector('meta[name="csrf-token"').getAttribute("content");return this.$http.delete("".concat(t.url.nested.destroy.replace("__id__",o)),{data:{reserve:i,evaluation:a}},{"Content-Type":"application/json","X-CSRF-TOKEN":l}).then(function(){var e=Z(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==t.data.success?n():t.data.errs.map((function(e){return r.$toast.error(e,{position:"top-right",duration:7e3})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&r.$toast.error(e.response.statusText,{position:"top-right",duration:7e3})}))},remove:function(e,t,n){var r=this;return e.preventDefault(),U.A.useSwall2(t).then((function(e){e.isConfirmed&&r.removeRequest(t||null,r.setting,(function(){if(!n){var e=r.m.category_attributes.findIndex((function(e){return e.uuid==t.uuid}));r.m.category_attributes.splice(e,1)}Swal.fire("!","  .","success").then((function(){n&&window.location.replace(r.setting.url.request.index.replace("api/",""))}))}),n)}))},findSpecialAtribute:function(e){var t=this.m.category_attributes.find((function(t){return t.id==e.id})),n=this.m.special.find((function(t){return t.category_attribute_id==e.id}));"new"==e?this.m.category_attributes.push(te({category_id:null,name:"",pivot:[],nested:[],price:0,item:"",uuid:U.A.uuid(),parent_uuid:null,category_type:0,service_price:0},"pivot",{qty:1,price:"",service_price:"",calc:"",evaluation_calc:""})):t?(t.pivot.qty=t.pivot.qty+1,t.pivot.calc=this.specNum(t.pivot.qty*(parseFloat(t.pivot.price)+parseFloat(t.pivot.service_price))),t.pivot.evaluation_calc=U.A.itemReportValue(t.pivot.calc,this.initReporteValues)):n?((n=n.json).pivot={qty:1,price:n.price,evaluation_price:U.A.itemReportValue(n.price,this.initReporteValues),is_special:!0,category_attribute_id:e.id,service_price:n.service_price,evaluation_service_price:U.A.itemReportValue(n.service_price,this.initReporteValues),calc:this.specNum(n.service_price+n.price),evaluation_calc:U.A.itemReportValue(this.specNum(n.service_price+n.price),this.initReporteValues)},this.m.category_attributes.push(n)):this.m.category_attributes.push(ee(ee({},e),{},{pivot:{qty:1,price:e.price,evaluation_price:U.A.itemReportValue(e.price,this.initReporteValues),category_attribute_id:e.id,service_price:e.service_price,evaluation_service_price:U.A.itemReportValue(e.service_price,this.initReporteValues),calc:this.specNum(e.service_price+e.price),evaluation_calc:U.A.itemReportValue(this.specNum(e.service_price+e.price),this.initReporteValues)}}))},try_exit:function(e,t){this.showModal=!1,"purchasers"==t?(this.model.purchaser=e,this.model.special=e.special_attributes):"categories"==t&&this.findSpecialAtribute(e)},setter:function(e){this.selectBuilder=[{selected:"",res:this.additional[e]}],this.selector=e,this.showModal=!0},send:function(e){var t=this;e.preventDefault();var n=document.querySelector("form#render").getAttribute("action"),r=document.querySelector('meta[name="csrf-token"').getAttribute("content"),i=this.model.category_attributes.map((function(e){e.nested;return G(e,z)})).map((function(e,t){return e.pivot.sort=t+1,e}));return this.model.category_attributes=i,this.$http.post(n,this.model,{"Content-Type":"application/json","X-CSRF-TOKEN":r}).then(function(){var e=Z(J().mark((function e(n){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.A.useSwall(n).then((function(e){e.value?window.location.replace(t.setting.url.request.index.replace("api/","")):null==t.model.id&&1==n.data.success&&window.location.replace(window.location.href.replace("new",n.data.result.id)),n.data.success||n.data.errs&&n.data.errs.map((function(e){return t.$toast.error(e,{position:"top-right",duration:7e3})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$toast.error(e.response.statusText,{position:"top-right",duration:7e3})})),!1},gadawera:function(e,t,n){var r=[ee({},this.model)].map((function(e){e.purchaser,e.uuid,e.purchaser_id,e.special;return G(e,W)})).find((function(e,t){return 0==t}));delete r.id,r.special=[],r.parent_uuid=t.uuid,r.purchaser={},r.category_attributes.map((function(e){return delete e.pivot.id,delete e.pivot.attributable_id,e})),sessionStorage.setItem("model",JSON.stringify(r)),window.location.href=this.setting.url.request.edit},try_focus:function(){this.step=!0},try_blur:function(){this.step=!1},exit:function(){return window.location.href=this.setting.url.request.index.replace("api/","")}}};var re=n(5072),ie=n.n(re),oe=n(9578),ae={insert:"head",singleton:!1};ie()(oe.A,ae);oe.A.locals;const le=(0,n(6262).A)(ne,[["render",function(e,t,n,U,L,X){var Y=(0,r.resolveComponent)("request-single-attribute"),z=(0,r.resolveComponent)("draggable"),W=(0,r.resolveComponent)("modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",c,[t[17]||(t[17]=(0,r.createElementVNode)("label",{for:"staticEmail",class:"col-sm-3 col-form-label"},[(0,r.createElementVNode)("b",null," :")],-1)),(0,r.createElementVNode)("div",u,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return U.v$.model.$model.title=e})},null,512),[[r.vModelText,U.v$.model.$model.title]])])])]),t[36]||(t[36]=(0,r.createElementVNode)("hr",null,null,-1)),t[37]||(t[37]=(0,r.createElementVNode)("p",{class:"lead"},"",-1)),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("address",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[1]||(t[1]=function(e){return L.m.purchaser=e})},null,512),[[r.vModelText,L.m.purchaser]]),(0,r.createElementVNode)("div",h,[t[18]||(t[18]=(0,r.createElementVNode)("div",{class:"col-4"},[(0,r.createElementVNode)("b",null,"  :")],-1)),(0,r.createElementVNode)("div",f,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return U.v$.model.purchaser.$model.name=e})},null,512),[[r.vModelText,U.v$.model.purchaser.$model.name]])])]),(0,r.createElementVNode)("div",m,[t[19]||(t[19]=(0,r.createElementVNode)("div",{class:"col-4"},[(0,r.createElementVNode)("b",null,"  :")],-1)),(0,r.createElementVNode)("div",v,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return U.v$.model.purchaser.$model.subj_name=e})},null,512),[[r.vModelText,U.v$.model.purchaser.$model.subj_name]])])]),(0,r.createElementVNode)("div",g,[t[20]||(t[20]=(0,r.createElementVNode)("div",{class:"col-4"},[(0,r.createElementVNode)("b",null,"  :")],-1)),(0,r.createElementVNode)("div",b,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return U.v$.model.purchaser.$model.subj_address=e})},null,512),[[r.vModelText,U.v$.model.purchaser.$model.subj_address]])])]),(0,r.createElementVNode)("div",y,[t[21]||(t[21]=(0,r.createElementVNode)("div",{class:"col-4"},[(0,r.createElementVNode)("b",null,"  :")],-1)),(0,r.createElementVNode)("div",w,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return U.v$.model.purchaser.$model.identification_num=e})},null,512),[[r.vModelText,U.v$.model.purchaser.$model.identification_num]])])])])]),(0,r.createElementVNode)("div",_,[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("b",null,"Invoice "+(0,r.toDisplayString)(n.model.uuid),1),t[22]||(t[22]=(0,r.createElementVNode)("br",null,null,-1))]),n.model.parent?((0,r.openBlock)(),(0,r.createElementBlock)("div",x,[t[23]||(t[23]=(0,r.createElementVNode)("b",null,":",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(n.model.parent.uuid),1)])):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("button",{disabled:L.m.purchaser.id&&n.model.id,type:"button",onClick:t[6]||(t[6]=function(e){return X.setter("purchasers")}),class:"btn btn-sm btn-outline-success"},t[24]||(t[24]=[(0,r.createElementVNode)("i",{class:"fas fa-shield-alt"},null,-1),(0,r.createTextVNode)("  ")]),8,E),t[38]||(t[38]=(0,r.createElementVNode)("hr",null,null,-1)),(0,r.createElementVNode)("div",S,[(0,r.createElementVNode)("div",N,[t[32]||(t[32]=(0,r.createElementVNode)("p",{class:"lead"},"",-1)),(0,r.createElementVNode)("table",A,[t[29]||(t[29]=(0,r.createElementVNode)("thead",null,[(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("th",{rowspan:"2",style:{width:"30%"}},"  "),(0,r.createElementVNode)("th",{rowspan:"2",style:{width:"20%"}},"  "),(0,r.createElementVNode)("th",{rowspan:"2"},""),(0,r.createElementVNode)("th",{rowspan:"2"},""),(0,r.createElementVNode)("th",{colspan:"2",style:{"text-align":"center"}},"  "),(0,r.createElementVNode)("th",{colspan:"2",style:{"text-align":"center"}}," . "),(0,r.createElementVNode)("th",{colspan:"2"},""),(0,r.createElementVNode)("th",{rowspan:"2"},"")]),(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("th",null,""),(0,r.createElementVNode)("th",{style:{"word-wrap":"break-word"}},"  "),(0,r.createElementVNode)("th",null,""),(0,r.createElementVNode)("th",{style:{"word-wrap":"break-word"}},"  "),(0,r.createElementVNode)("th",null,""),(0,r.createElementVNode)("th",{style:{"word-wrap":"break-word"}},"  ")])],-1)),(0,r.createVNode)(z,{modelValue:L.m.category_attributes,"onUpdate:modelValue":t[10]||(t[10]=function(e){return L.m.category_attributes=e}),tag:"tbody","item-key":"id",disabled:L.step},{item:(0,r.withCtx)((function(e){var t=e.element;return[(0,r.createVNode)(Y,{onAction_focus:X.try_focus,onAction_blur:X.try_blur,onAction_price:X.price,onAction_remove:X.remove,keys:L.keys,"join-in-tree":X.attributeJoinedTree(t),item:t,model:L.m},null,8,["onAction_focus","onAction_blur","onAction_price","onAction_remove","keys","join-in-tree","item","model"])]})),default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("tr",O,[t[25]||(t[25]=(0,r.createElementVNode)("th",{colspan:"5"}," :",-1)),(0,r.createElementVNode)("th",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":t[7]||(t[7]=function(e){return L.agr.price=e})},null,512),[[r.vModelText,L.agr.price]])]),t[26]||(t[26]=(0,r.createElementVNode)("td",null,null,-1)),(0,r.createElementVNode)("td",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":t[8]||(t[8]=function(e){return L.agr.service_price=e})},null,512),[[r.vModelText,L.agr.service_price]])]),t[27]||(t[27]=(0,r.createElementVNode)("td",null,null,-1)),(0,r.createElementVNode)("td",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":t[9]||(t[9]=function(e){return L.agr.calc=e})},null,512),[[r.vModelText,L.agr.calc]])]),t[28]||(t[28]=(0,r.createElementVNode)("td",null,null,-1))])]})),_:1},8,["modelValue","disabled"])]),(0,r.createElementVNode)("button",{type:"button",onClick:t[11]||(t[11]=function(e){return X.setter("categories")}),class:"btn btn-sm btn-outline-success mr-1"},t[30]||(t[30]=[(0,r.createElementVNode)("i",{class:"fas fa-shield-alt"},null,-1),(0,r.createTextVNode)("  ")])),(0,r.createElementVNode)("button",{type:"button",onClick:t[12]||(t[12]=function(e){return X.findSpecialAtribute("new")}),class:"btn btn-sm btn-outline-warning"},t[31]||(t[31]=[(0,r.createElementVNode)("i",{class:"fas fa-shield-alt"},null,-1),(0,r.createTextVNode)("  ")]))])]),t[39]||(t[39]=(0,r.createElementVNode)("hr",null,null,-1)),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",D,[t[33]||(t[33]=(0,r.createElementVNode)("p",{class:"lead"},"",-1)),(0,r.createElementVNode)("div",C,[(0,r.createElementVNode)("table",j,[(0,r.createElementVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.calculator.inputs,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:t},[(0,r.createElementVNode)("th",T,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)("th",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"0","onUpdate:modelValue":function(t){return e.value=t}},null,8,I),[[r.vModelText,e.value]])]),(0,r.createElementVNode)("td",k,[(0,r.createElementVNode)("table",P,[(0,r.createElementVNode)("tbody",null,[(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("td",$,(0,r.toDisplayString)(L.calculator.percenters[t].p1),1)]),(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("td",M,(0,r.toDisplayString)(L.calculator.percenters[t].p2),1)])])])])])})),128))])])])])]),t[40]||(t[40]=(0,r.createElementVNode)("hr",null,null,-1)),(0,r.createElementVNode)("div",R,[(0,r.createElementVNode)("div",q,[(0,r.createElementVNode)("a",{rel:"",onClick:t[13]||(t[13]=function(){return X.exit&&X.exit.apply(X,arguments)}),class:"btn btn-warning mr-1"},""),(0,r.createElementVNode)("a",{rel:"",target:"_blank",onClick:t[14]||(t[14]=function(e){return X.remove(e,n.model,!0)}),class:"btn btn-danger"},""),(0,r.createElementVNode)("button",{disabled:U.v$.m.$invalid||U.v$.model.$invalid,onClick:t[15]||(t[15]=function(){return X.send&&X.send.apply(X,arguments)}),type:"button",class:"btn btn-success float-right"},t[34]||(t[34]=[(0,r.createElementVNode)("i",{class:"far fa-credit-card"},null,-1),(0,r.createTextVNode)("  ")]),8,F),(0,r.createElementVNode)("button",{disabled:U.v$.m.$invalid||U.v$.model.$invalid,onClick:t[16]||(t[16]=function(e){return X.gadawera(e,n.model,!0)}),type:"button",class:"btn btn-primary float-right",style:{"margin-right":"5px"}},t[35]||(t[35]=[(0,r.createElementVNode)("i",{class:"far fa-copy"},null,-1),(0,r.createTextVNode)("  ")]),8,B)])])])])]),L.showModal?((0,r.openBlock)(),(0,r.createBlock)(W,{key:0,onExit:X.try_exit,categories:L.selectBuilder,selector:L.selector,setting:n.setting},null,8,["onExit","categories","selector","setting"])):(0,r.createCommentVNode)("",!0)])}]])},9578:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(4991),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".table thead th,table tr>td,table tr>th{vertical-align:middle}.table thead th{background:gray;border:1px solid #fff;padding:3px;text-align:center}.table td{cursor:move}.table td,.table th{padding:3px;vertical-align:middle}.table td input,.table th input{padding:3px}.calculator{color:#000}table.table-striped{border:3px solid gray}table.table-striped tr.calculator{background-color:#fff;border-bottom:1 solid #000;border-top:1 solid #000}table{border-collapse:collapse;width:100%}","",{version:3,sources:["webpack://./resources/js/app/pages/Request-Edit.vue"],names:[],mappings:"AA07BA,wCAHI,qBASJ,CANA,gBAGI,eAAgB,CAChB,qBAAuB,CAFvB,WAAY,CAGZ,iBACJ,CAEA,UACI,WACJ,CAEA,oBAGI,WAAY,CADZ,qBAEJ,CAEA,gCAEI,WACJ,CAEA,YACI,UACJ,CAEA,oBAII,qBACJ,CAEA,kCACI,qBAAsB,CAItB,0BAA0B,CAI1B,uBACJ,CAEA,MACI,wBAAyB,CACzB,UACJ",sourcesContent:['<template>\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-12">\n                \x3c!-- Main content --\x3e\n                <div class="invoice p-3 mb-3">\n                    <div style="">\n                        <div class="form-group row">\n                            <label\n                                for="staticEmail"\n                                class="col-sm-3 col-form-label"\n                                ><b> :</b></label\n                            >\n                            <div class="col-sm-9">\n                                <input\n                                    class="form-control"\n                                    type="text"\n                                    v-model="v$.model.$model.title"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <hr />\n                    <p class="lead"></p>\n                    <div class="row invoice-info">\n                        <div class="col-sm-8 invoice-col">\n                            <address>\n                                <input type="hidden" v-model="m.purchaser" />\n\n                                <div\n                                    class="row mb-2"\n                                    style="align-items: center"\n                                >\n                                    <div class="col-4">\n                                        <b>  :</b>\n                                    </div>\n                                    <div class="col-8">\n                                        <input\n                                            class="form-control"\n                                            type="text"\n                                            v-model="\n                                                v$.model.purchaser.$model.name\n                                            "\n                                        />\n                                    </div>\n                                </div>\n\n                                <div\n                                    class="row mb-2"\n                                    style="align-items: center"\n                                >\n                                    <div class="col-4">\n                                        <b>  :</b>\n                                    </div>\n                                    <div class="col-8">\n                                        <input\n                                            class="form-control"\n                                            type="text"\n                                            v-model="\n                                                v$.model.purchaser.$model\n                                                    .subj_name\n                                            "\n                                        />\n                                    </div>\n                                </div>\n\n                                <div\n                                    class="row mb-2"\n                                    style="align-items: center"\n                                >\n                                    <div class="col-4">\n                                        <b>  :</b>\n                                    </div>\n                                    <div class="col-8">\n                                        <input\n                                            class="form-control"\n                                            type="text"\n                                            v-model="\n                                                v$.model.purchaser.$model\n                                                    .subj_address\n                                            "\n                                        />\n                                    </div>\n                                </div>\n\n                                <div\n                                    class="row mb-2"\n                                    style="align-items: center"\n                                >\n                                    <div class="col-4">\n                                        <b>  :</b>\n                                    </div>\n                                    <div class="col-8">\n                                        <input\n                                            class="form-control"\n                                            type="text"\n                                            v-model="\n                                                v$.model.purchaser.$model\n                                                    .identification_num\n                                            "\n                                        />\n                                    </div>\n                                </div>\n\n                                \x3c!-- Phone: (555) 539-1037<br>\n                   Email: john.doe@example.com --\x3e\n                            </address>\n                        </div>\n                        \x3c!-- /.col --\x3e\n                        <div\n                            class="col-sm-4 invoice-col"\n                            style="\n                                align-items: flex-end;\n                                display: flex;\n                                flex-direction: column;\n                                text-align: right;\n                            "\n                        >\n                            <div>\n                                <b>Invoice {{ model.uuid }}</b\n                                ><br />\n                            </div>\n                            <div v-if="model.parent">\n                                <b>:</b> {{ model.parent.uuid }}\n                            </div>\n                        </div>\n                        \x3c!-- /.col --\x3e\n                    </div>\n                    <button\n                        :disabled="m.purchaser.id && model.id"\n                        type="button"\n                        @click="setter(\'purchasers\')"\n                        class="btn btn-sm btn-outline-success"\n                    >\n                        <i class="fas fa-shield-alt"></i> \n                    </button>\n\n                    \x3c!-- /.row --\x3e\n                    <hr />\n                    \x3c!-- Table row --\x3e\n                    <div class="row">\n                        <div class="col-12 table-responsive">\n                            <p class="lead"></p>\n\n                            <table\n    class="table table-striped"\n    style="background: #edebe4; color: #fff"\n>\n    <thead>\n        <tr>\n            <th rowspan="2" style="width: 30%">\n                \n            </th>\n            <th rowspan="2" style="width: 20%">\n                \n            </th>\n            <th rowspan="2"></th>\n            <th rowspan="2"></th>\n            <th colspan="2" style="text-align: center">\n                \n            </th>\n            <th colspan="2" style="text-align: center">\n                .\n            </th>\n            <th colspan="2"></th>\n            <th rowspan="2"></th>\n        </tr>\n        <tr>\n            <th></th>\n            <th style="word-wrap: break-word">\n                \n            </th>\n            <th></th>\n            <th style="word-wrap: break-word">\n                \n            </th>\n            <th></th>\n            <th style="word-wrap: break-word">\n                \n            </th>\n        </tr>\n    </thead>\n\n    <draggable\n        v-model="m.category_attributes"\n        tag="tbody"\n        item-key="id"\n        :disabled="step"\n    >\n        <template #item="{ element }">\n            <request-single-attribute\n                @action_focus="try_focus"\n                @action_blur="try_blur"\n                @action_price="price"\n                @action_remove="remove"\n                :keys="keys"\n                :join-in-tree="\n                    attributeJoinedTree(element)\n                "\n                :item="element"\n                :model="m"\n            />\n        </template>\n\n        \x3c!-- Move the calculator row here, inside the <tbody> --\x3e\n        <tr class="calculator">\n            <th colspan="5"> :</th>\n            <th>\n                <input\n                    class="form-control"\n                    type="text"\n                    readonly\n                    v-model="agr.price"\n                />\n            </th>\n            <td></td>\n            <td>\n                <input\n                    class="form-control"\n                    type="text"\n                    readonly\n                    v-model="agr.service_price"\n                />\n            </td>\n            <td></td>\n            <td>\n                <input\n                    class="form-control"\n                    type="text"\n                    readonly\n                    v-model="agr.calc"\n                />\n            </td>\n            <td></td>\n        </tr>\n    </draggable>\n</table>\n\n                            <button\n                                type="button"\n                                @click="setter(\'categories\')"\n                                class="btn btn-sm btn-outline-success mr-1"\n                            >\n                                <i class="fas fa-shield-alt"></i> \n                            </button>\n                            <button\n                                type="button"\n                                @click="findSpecialAtribute(\'new\')"\n                                class="btn btn-sm btn-outline-warning"\n                            >\n                                <i class="fas fa-shield-alt"></i> \n                            </button>\n                        </div>\n                        \x3c!-- /.col --\x3e\n                    </div>\n                    \x3c!-- /.row --\x3e\n                    <hr />\n                    <div class="row">\n                        <div class="col-12">\n                            <p class="lead"></p>\n\n                            <div class="table-responsive">\n                                <table class="table">\n  <tbody> \x3c!-- Added tbody to wrap <tr> elements --\x3e\n    <tr v-for="(input, index) in calculator.inputs" :key="index">\n      <th style="width: 30%">\n        {{ input.title }}\n      </th>\n      <th>\n        <input\n          type="number"\n          min="0"\n          v-model="input.value"\n        />\n      </th>\n      <td style="margin: 0; padding: 0; width: 17%">\n        <table class="table" style="margin: 0; padding: 0">\n          <tbody> \x3c!-- Added tbody to wrap nested <tr> elements --\x3e\n            <tr>\n              <td\n                style="margin: 0; padding: 3px; text-align: right"\n              >\n                {{\n                  calculator.percenters[index].p1\n                }}\n              </td>\n            </tr>\n            <tr>\n              <td\n                style="margin: 0; padding: 3px; text-align: right"\n              >\n                {{\n                  calculator.percenters[index].p2\n                }}\n              </td>\n            </tr>\n          </tbody> \x3c!-- Closing tbody for nested table --\x3e\n        </table>\n      </td>\n    </tr>\n  </tbody> \x3c!-- Closing tbody for the main table --\x3e\n</table>\n\n                            </div>\n                        </div>\n                        \x3c!-- /.col --\x3e\n                    </div>\n                    \x3c!-- /.row --\x3e\n                    <hr />\n\n                    \x3c!-- this row will not appear when printing --\x3e\n                    <div class="row no-print">\n                        <div class="col-12">\n                            <a rel="" @click="exit" class="btn btn-warning mr-1"\n                                ></a\n                            >\n                            <a\n                                rel=""\n                                target="_blank"\n                                @click="(e) => remove(e, model, true)"\n                                class="btn btn-danger"\n                                ></a\n                            >\n\n                            <button\n                                :disabled="v$.m.$invalid || v$.model.$invalid"\n                                @click="send"\n                                type="button"\n                                class="btn btn-success float-right"\n                            >\n                                <i class="far fa-credit-card"></i> \n                            </button>\n                            <button\n                                :disabled="v$.m.$invalid || v$.model.$invalid"\n                                @click="(e) => gadawera(e, model, true)"\n                                type="button"\n                                class="btn btn-primary float-right"\n                                style="margin-right: 5px"\n                            >\n                                <i class="far fa-copy"></i> \n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \x3c!-- /.invoice --\x3e\n            </div>\n            \x3c!-- /.col --\x3e\n        </div>\n        \x3c!-- /.row --\x3e\n\n        <modal\n            v-if="showModal"\n            @exit="try_exit"\n            :categories="selectBuilder"\n            :selector="selector"\n            :setting="setting"\n        ></modal>\n    </div>\n</template>\n\n<script>\nimport Util from "Util";\nimport draggable from "../vendors/vuedraggable/src/vuedraggable";\nimport useVuelidate from "@vuelidate/core";\nimport { required, maxLength } from "@vuelidate/validators";\nexport default {\n    props: ["user", "setting", "model", "additional"],\n    components: {\n        draggable,\n    },\n    setup(props) {\n        return { v$: useVuelidate() };\n    },\n    created() {\n        this.m = this.attributeInit;\n\n        // console.log(\'test\', this.recurcive(this.test, 3))\n        // console.log(\'p1: 0, p2: 0\', this.calculate)\n        // this.c = this.calculate\n        // console.log(\'this.c\', this.c)\n\n        // let initReporteValue = Util.initReporteValues(this.names, this.m);\n\n        // console.log(\'test\', initReporteValue)\n        // console.log(\'test2\', Util.itemReportValue(30, this.m, initReporteValue))\n\n        this.calculator.percenters = this.percenters;\n        this.calculator.inputs = this.initReporteValues;\n\n        this.keys = [\n            "evaluation_price",\n            "evaluation_service_price",\n            "evaluation_calc",\n        ];\n\n        if (!this.model.purchaser)\n            this.model.purchaser = {\n                name: "",\n                subj_name: "",\n                subj_address: "",\n                identification_num: "",\n            };\n    },\n    mounted() {\n        if (this.m.category_attributes.length) {\n            // Util._isEmpty(this.agr)\n            this.agr = Util.agr(this.m.category_attributes);\n        }\n\n        this.v$.model.$touch();\n        this.v$.m.$touch();\n\n        this.tooltipShowDelay = 0;\n        this.tooltipHideDelay = 2000;\n    },\n    data() {\n        return {\n            showModal: false,\n            selector: "",\n            step: false,\n\n            agr: {},\n            m: {},\n            c: [],\n\n            calculator: {\n                names: [\n                    "   :",\n                    "  :",\n                    " :",\n                    "  :",\n                    " :",\n                ],\n            },\n            keys: [],\n\n            selectBuilder: [],\n        };\n    },\n    watch: {\n        "m.category_attributes": {\n            handler(newValue, prevValue) {\n                if (newValue && newValue.length && prevValue) {\n                    this.agr = Util.agr(newValue);\n                }\n            },\n            deep: true,\n            immediate: true,\n        },\n        agr: {\n            handler(newValue, prevValue) {\n                if (!Util._isEmpty(newValue) && prevValue) {\n                    this.recurcive(this.calculator.inputs, newValue.calc);\n                }\n            },\n            deep: true,\n            immediate: true,\n        },\n        "calculator.inputs": {\n            handler(newValue, prevValue) {\n                if (newValue && prevValue && newValue.length) {\n                    newValue.map((i) => {\n                        this.m[i.inputName] = i.value;\n                    });\n\n                    this.m.category_attributes.map((attribute) => {\n                        this.keys.map((key) => {\n                            if (attribute.pivot[key]) {\n                                attribute.pivot[key] = Util.itemReportValue(\n                                    attribute.pivot[\n                                        key.replace("evaluation_", "")\n                                    ],\n                                    this.initReporteValues\n                                );\n                            }\n                        });\n                    });\n                }\n            },\n            deep: true,\n            immediate: true,\n        },\n    },\n    validations() {\n        let validateRule = {\n            m: {\n                category_attributes: { required },\n            },\n            model: {\n                title: { required },\n                purchaser: {\n                    name: { required },\n                    subj_name: { required },\n                    subj_address: { required },\n                    identification_num: { required },\n                },\n            },\n        };\n        return validateRule;\n    },\n    computed: {\n        attributeJoinedTree: (app) => (item) => {\n            return item.category_id\n                ? app.additional.categories.find(\n                      (i) => i.id == item.category_id\n                  ).category_attributes\n                : [];\n        },\n\n        initReporteValues() {\n            return Array.from(\n                { length: this.calculator.names.length },\n                (_, i) => {\n                    let title = this.calculator.names[i];\n                    let inputName = "p" + (i + 1);\n                    let value = this.m[inputName];\n\n                    return { title, inputName, value };\n                }\n            );\n        },\n\n        percenters() {\n            return Array.from(\n                { length: this.calculator.names.length },\n                (_, i) => {\n                    return { p1: 0, p2: 0 };\n                }\n            );\n        },\n\n        attributeInit() {\n            this.model.category_attributes =\n                this.model.category_attributes.reduce((acumu, res) => {\n                    let init = res;\n                    let hasSpecial = this.model.special.find(\n                        (s) => s.category_attribute_id === res.id\n                    );\n                    if (hasSpecial) {\n                        init.isSpecial = true;\n                    }\n                    if (hasSpecial && !res.pivot.is_special) {\n                        res.pivot.price = hasSpecial.json.price;\n                        res.pivot.is_special = true;\n                        res.pivot.service_price = hasSpecial.json.service_price;\n                        res.pivot.calc = this.specNum(\n                            res.pivot.qty *\n                                (parseFloat(res.pivot.price) +\n                                    parseFloat(res.pivot.service_price))\n                        );\n                        init = { ...hasSpecial.json, pivot: res.pivot };\n                    }\n                    (acumu || []).push(init);\n                    return acumu;\n                }, []);\n            return this.model;\n        },\n    },\n    methods: {\n        recurcive(arr, price, index = 0) {\n            if (arr[index] != undefined) {\n                this.calculator.percenters[index].p1 = this.specNum(\n                    (arr[index].value * price) / 100\n                );\n                this.calculator.percenters[index].p2 = this.specNum(\n                    price + this.calculator.percenters[index].p1\n                );\n\n                let nextPrice = this.calculator.percenters[index].p2;\n\n                index = index + 1;\n                return this.recurcive(arr, nextPrice, index);\n            } else {\n                return arr;\n            }\n        },\n\n        specNum(num) {\n            if (!num) return 0.0;\n            let number = Math.round((num + Number.EPSILON) * 100) / 100;\n            // return parseFloat(new Intl.NumberFormat(\'en-Us\', {\n            //   minimumFractionDigits: 2,\n            //   maximumFractionDigits: 2\n            // }).format(num));\n            return parseFloat(number);\n        },\n\n        price(event, price, alter = false) {\n            if (!event.target.value) {\n                price.pivot[event.target.getAttribute("name")] = 0;\n            }\n            if (!alter) price.pivot.qty = Number(event.target.value);\n            price.pivot.calc = this.specNum(\n                price.pivot.qty *\n                    (parseFloat(price.pivot.price) +\n                        parseFloat(price.pivot.service_price))\n            );\n        },\n\n        removeRequest(model, setting, callback, isReserve = null) {\n            let isNew = isReserve ? model.id : model.pivot.id;\n            let evaluation = this.m.id ? this.m.id : !!this.m.id;\n\n            if (!isNew) {\n                return callback();\n            }\n\n            let action = document\n                .querySelector("form#render")\n                .getAttribute("action");\n            let token = document\n                .querySelector(\'meta[name="csrf-token"\')\n                .getAttribute("content");\n\n            return this.$http\n                .delete(\n                    `${setting.url.nested.destroy.replace("__id__", isNew)}`,\n                    { data: { reserve: isReserve, evaluation } },\n                    {\n                        "Content-Type": "application/json",\n                        "X-CSRF-TOKEN": token,\n                    }\n                )\n                .then(async (response) => {\n                    if (response.data.success == true) {\n                        callback();\n                    } else {\n                        response.data.errs.map((item) =>\n                            this.$toast.error(item, {\n                                position: "top-right",\n                                duration: 7000,\n                            })\n                        );\n                    }\n                })\n                .catch((e) => {\n                    if (e.response)\n                        this.$toast.error(e.response.statusText, {\n                            position: "top-right",\n                            duration: 7000,\n                        });\n                });\n        },\n\n        remove(e, model, isReserve) {\n            e.preventDefault();\n            return Util.useSwall2(model).then((result) => {\n                if (result.isConfirmed) {\n                    this.removeRequest(\n                        model || null,\n                        this.setting,\n                        () => {\n                            if (!isReserve) {\n                                let index =\n                                    this.m.category_attributes.findIndex(\n                                        (i) => i.uuid == model.uuid\n                                    );\n                                this.m.category_attributes.splice(index, 1);\n                            }\n\n                            Swal.fire(\n                                "!",\n                                "  .",\n                                "success"\n                            ).then(() => {\n                                if (isReserve) {\n                                    window.location.replace(\n                                        this.setting.url.request.index.replace(\n                                            "api/",\n                                            ""\n                                        )\n                                    );\n                                }\n                            });\n                        },\n                        isReserve\n                    );\n                }\n            });\n        },\n\n        findSpecialAtribute(res) {\n            let existInModel = this.m.category_attributes.find(\n                (i) => i.id == res.id\n            );\n            let existInSpeciail = this.m.special.find(\n                (i) => i.category_attribute_id == res.id\n            );\n\n            if (res == "new") {\n                // this.m.category_attributes.push({\n                //   category_id: null,\n                //   name: \'\',\n                //   pivot:[],\n                //   nested:[],\n                //   price:0,\n                //   service_price:0,\n                //   pivot: {\n                //     single: true,\n                //     qty: 1,\n                //     price: \'\',\n                //     service_price: \'\',\n                //     calc:  \'\',\n                //     evaluation_calc:  \'\'\n                //   }\n                // })\n\n                this.m.category_attributes.push({\n                    category_id: null,\n                    name: "",\n                    pivot: [],\n                    nested: [],\n                    price: 0,\n                    item: "",\n                    uuid: Util.uuid(),\n                    parent_uuid: null,\n                    category_type: 0,\n                    service_price: 0,\n                    pivot: {\n                        qty: 1,\n                        price: "",\n                        service_price: "",\n                        calc: "",\n                        evaluation_calc: "",\n                    },\n                });\n            } else if (existInModel) {\n                existInModel.pivot.qty = existInModel.pivot.qty + 1;\n                // existInModel.pivot.price = existInModel.price * existInModel.pivot.qty;\n                existInModel.pivot.calc = this.specNum(\n                    existInModel.pivot.qty *\n                        (parseFloat(existInModel.pivot.price) +\n                            parseFloat(existInModel.pivot.service_price))\n                );\n                existInModel.pivot.evaluation_calc = Util.itemReportValue(\n                    existInModel.pivot.calc,\n                    this.initReporteValues\n                );\n            } else if (existInSpeciail) {\n                existInSpeciail = existInSpeciail.json;\n                existInSpeciail.pivot = {\n                    qty: 1,\n                    price: existInSpeciail.price,\n                    evaluation_price: Util.itemReportValue(\n                        existInSpeciail.price,\n                        this.initReporteValues\n                    ),\n                    is_special: true,\n                    category_attribute_id: res.id,\n                    service_price: existInSpeciail.service_price,\n                    evaluation_service_price: Util.itemReportValue(\n                        existInSpeciail.service_price,\n                        this.initReporteValues\n                    ),\n                    calc: this.specNum(\n                        existInSpeciail.service_price + existInSpeciail.price\n                    ),\n                    evaluation_calc: Util.itemReportValue(\n                        this.specNum(\n                            existInSpeciail.service_price +\n                                existInSpeciail.price\n                        ),\n                        this.initReporteValues\n                    ),\n                };\n                this.m.category_attributes.push(existInSpeciail);\n            } else {\n                this.m.category_attributes.push({\n                    ...res,\n                    pivot: {\n                        qty: 1,\n                        price: res.price,\n                        evaluation_price: Util.itemReportValue(\n                            res.price,\n                            this.initReporteValues\n                        ),\n                        category_attribute_id: res.id,\n                        service_price: res.service_price,\n                        evaluation_service_price: Util.itemReportValue(\n                            res.service_price,\n                            this.initReporteValues\n                        ),\n                        calc: this.specNum(res.service_price + res.price),\n                        evaluation_calc: Util.itemReportValue(\n                            this.specNum(res.service_price + res.price),\n                            this.initReporteValues\n                        ),\n                    },\n                });\n            }\n        },\n\n        try_exit(res, selector) {\n            this.showModal = false;\n\n            if (selector == "purchasers") {\n                this.model.purchaser = res;\n                this.model.special = res.special_attributes;\n            } else if (selector == "categories") {\n                this.findSpecialAtribute(res);\n            }\n        },\n\n        setter(name) {\n            this.selectBuilder = [{ selected: "", res: this.additional[name] }];\n            this.selector = name;\n            this.showModal = true;\n        },\n\n        send(e) {\n            e.preventDefault();\n\n            let action = document\n                .querySelector("form#render")\n                .getAttribute("action");\n            let token = document\n                .querySelector(\'meta[name="csrf-token"\')\n                .getAttribute("content");\n\n            let filter = this.model.category_attributes\n                .map(({ nested, ...rest }) => rest)\n                .map((item, index) => {\n                    item.pivot.sort = index + 1;\n                    return item;\n                });\n            this.model.category_attributes = filter;\n\n            this.$http\n                .post(action, this.model, {\n                    "Content-Type": "application/json",\n                    "X-CSRF-TOKEN": token,\n                })\n                .then(async (response) => {\n                    Util.useSwall(response).then((result) => {\n                        if (result.value) {\n                            window.location.replace(\n                                this.setting.url.request.index.replace(\n                                    "api/",\n                                    ""\n                                )\n                            );\n                        } else if (\n                            this.model.id == null &&\n                            response.data.success == true\n                        ) {\n                            window.location.replace(\n                                window.location.href.replace(\n                                    "new",\n                                    response.data.result.id\n                                )\n                            );\n                        }\n\n                        if (!response.data.success) {\n                            if (response.data.errs)\n                                response.data.errs.map((item) =>\n                                    this.$toast.error(item, {\n                                        position: "top-right",\n                                        duration: 7000,\n                                    })\n                                );\n                        }\n                    });\n                })\n                .catch((e) => {\n                    this.$toast.error(e.response.statusText, {\n                        position: "top-right",\n                        duration: 7000,\n                    });\n                });\n\n            return false;\n        },\n\n        // send(e) {\n\n        //   e.preventDefault();\n\n        //   let action = document.querySelector(\'form#render\').getAttribute(\'action\')\n        //   let token = document.querySelector(\'meta[name="csrf-token"\').getAttribute(\'content\')\n\n        //   this.model.category_attributes.map((item, index) => { item.pivot.sort = index + 1; return item });\n        //   this.$http.post(action, this.model, {\n        //     "Content-Type": "application/json",\n        //     \'X-CSRF-TOKEN\': token\n        //   })\n        //   .then(async response => {\n\n        //     Util.useSwall(response).then((result) => {\n\n        //       if (result.value) {\n        //         window.location.replace(this.setting.url.request.index.replace(\'api/\', \'\'))\n        //       } else if (this.model.id == null && response.data.success == true) {\n        //         window.location.replace(window.location.href.replace(\'new\', response.data.result.id));\n        //       }\n\n        //       if (!response.data.success) {\n        //         if (response.data.errs) response.data.errs.map(item => this.$toast.error(item, { position: \'top-right\', duration: 7000 }))\n        //       }\n\n        //     })\n\n        //   })\n        //   .catch((e) => {\n        //     this.$toast.error(e.response.statusText, { position: \'top-right\', duration: 7000 })\n        //   });\n\n        //   return false\n        // },\n\n        gadawera(e, model, isReserve) {\n            let session = [{ ...this.model }]\n                .map(\n                    ({ purchaser, uuid, purchaser_id, special, ...rest }) =>\n                        rest\n                )\n                .find((_, index) => index == 0);\n\n            delete session.id;\n            session.special = [];\n            session.parent_uuid = model.uuid;\n            session.purchaser = {};\n            session.category_attributes.map((i) => {\n                delete i.pivot.id;\n                delete i.pivot.attributable_id;\n                return i;\n            });\n\n            sessionStorage.setItem("model", JSON.stringify(session));\n            window.location.href = this.setting.url.request.edit;\n        },\n\n        try_focus() {\n            this.step = true;\n        },\n\n        try_blur() {\n            this.step = false;\n        },\n\n        exit() {\n            return (window.location.href =\n                this.setting.url.request.index.replace("api/", ""));\n        },\n    },\n};\n<\/script>\n\n<style>\ntable tr > td,\ntable tr > th {\n    vertical-align: middle;\n}\n\n.table thead th {\n    vertical-align: middle;\n    padding: 3px;\n    background: gray;\n    border: 1px solid white;\n    text-align: center;\n}\n\n.table td {\n    cursor: move;\n}\n\n.table td,\n.table th {\n    vertical-align: middle;\n    padding: 3px;\n}\n\n.table td input,\n.table th input {\n    padding: 3px;\n}\n\n.calculator {\n    color: black;\n}\n\ntable.table-striped {\n    /*border-top-color: #000; \n   border-top-width: 1; \n   border-top-style: solid;*/\n    border: 3px solid gray;\n}\n\ntable.table-striped tr.calculator {\n    background-color: #fff;\n\n    border-bottom-color: #000;\n    border-bottom-width: 1;\n    border-bottom-style: solid;\n\n    border-top-color: #000;\n    border-top-width: 1;\n    border-top-style: solid;\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n</style>\n\n\x3c!-- this.model.category_attributes.map(res => \n ({pivot: res.pivot, ...this.model.special.find(s => s.category_attribute_id === res.id).json } || res)\n); --\x3e\n'],sourceRoot:""}]);const l=a}}]);
//# sourceMappingURL=request-edit.js.map